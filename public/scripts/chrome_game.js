var dg=Object.defineProperty;var fg=(i,t,s)=>t in i?dg(i,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[t]=s;var Lt=(i,t,s)=>(fg(i,typeof t!="symbol"?t+"":t,s),s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const E of document.querySelectorAll('link[rel="modulepreload"]'))x(E);new MutationObserver(E=>{for(const A of E)if(A.type==="childList")for(const l of A.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&x(l)}).observe(document,{childList:!0,subtree:!0});function s(E){const A={};return E.integrity&&(A.integrity=E.integrity),E.referrerPolicy&&(A.referrerPolicy=E.referrerPolicy),E.crossOrigin==="use-credentials"?A.credentials="include":E.crossOrigin==="anonymous"?A.credentials="omit":A.credentials="same-origin",A}function x(E){if(E.ep)return;E.ep=!0;const A=s(E);fetch(E.href,A)}})();var vg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wf(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var kf={exports:{}};(function(i,t){(function(x,E){i.exports=E()})(vg,()=>(()=>{var s={6659:l=>{var T=Object.prototype.hasOwnProperty,e="~";function u(){}Object.create&&(u.prototype=Object.create(null),new u().__proto__||(e=!1));function m(n,r,f){this.fn=n,this.context=r,this.once=f||!1}function d(n,r,f,a,v){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new m(f,a||n,v),c=e?e+r:r;return n._events[c]?n._events[c].fn?n._events[c]=[n._events[c],p]:n._events[c].push(p):(n._events[c]=p,n._eventsCount++),n}function o(n,r){--n._eventsCount===0?n._events=new u:delete n._events[r]}function h(){this._events=new u,this._eventsCount=0}h.prototype.eventNames=function(){var r=[],f,a;if(this._eventsCount===0)return r;for(a in f=this._events)T.call(f,a)&&r.push(e?a.slice(1):a);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(f)):r},h.prototype.listeners=function(r){var f=e?e+r:r,a=this._events[f];if(!a)return[];if(a.fn)return[a.fn];for(var v=0,p=a.length,c=new Array(p);v<p;v++)c[v]=a[v].fn;return c},h.prototype.listenerCount=function(r){var f=e?e+r:r,a=this._events[f];return a?a.fn?1:a.length:0},h.prototype.emit=function(r,f,a,v,p,c){var g=e?e+r:r;if(!this._events[g])return!1;var y=this._events[g],S=arguments.length,P,C;if(y.fn){switch(y.once&&this.removeListener(r,y.fn,void 0,!0),S){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,f),!0;case 3:return y.fn.call(y.context,f,a),!0;case 4:return y.fn.call(y.context,f,a,v),!0;case 5:return y.fn.call(y.context,f,a,v,p),!0;case 6:return y.fn.call(y.context,f,a,v,p,c),!0}for(C=1,P=new Array(S-1);C<S;C++)P[C-1]=arguments[C];y.fn.apply(y.context,P)}else{var M=y.length,R;for(C=0;C<M;C++)switch(y[C].once&&this.removeListener(r,y[C].fn,void 0,!0),S){case 1:y[C].fn.call(y[C].context);break;case 2:y[C].fn.call(y[C].context,f);break;case 3:y[C].fn.call(y[C].context,f,a);break;case 4:y[C].fn.call(y[C].context,f,a,v);break;default:if(!P)for(R=1,P=new Array(S-1);R<S;R++)P[R-1]=arguments[R];y[C].fn.apply(y[C].context,P)}}return!0},h.prototype.on=function(r,f,a){return d(this,r,f,a,!1)},h.prototype.once=function(r,f,a){return d(this,r,f,a,!0)},h.prototype.removeListener=function(r,f,a,v){var p=e?e+r:r;if(!this._events[p])return this;if(!f)return o(this,p),this;var c=this._events[p];if(c.fn)c.fn===f&&(!v||c.once)&&(!a||c.context===a)&&o(this,p);else{for(var g=0,y=[],S=c.length;g<S;g++)(c[g].fn!==f||v&&!c[g].once||a&&c[g].context!==a)&&y.push(c[g]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},h.prototype.removeAllListeners=function(r){var f;return r?(f=e?e+r:r,this._events[f]&&o(this,f)):(this._events=new u,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=e,h.EventEmitter=h,l.exports=h},62270:(l,T,e)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82590),m=function(d,o,h,n){for(var r=d[0],f=1;f<d.length;f++){var a=d[f];u(a,r,o,h,n),r=a}return d};l.exports=m},61148:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(6124),m=function(d,o,h,n,r){return u(d,"angle",o,h,n,r)};l.exports=m},22015:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){for(var d=0;d<e.length;d++){var o=e[d];u.call(m,o)}return e};l.exports=T},31060:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){m===void 0&&(m=0);for(var d=m;d<e.length;d++){var o=e[d],h=!0;for(var n in u)o[n]!==u[n]&&(h=!1);if(h)return o}return null};l.exports=T},52367:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){m===void 0&&(m=0);for(var d=m;d<e.length;d++){var o=e[d],h=!0;for(var n in u)o[n]!==u[n]&&(h=!1);if(h)return o}return null};l.exports=T},12673:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(40327),m=e(84093),d=e(72632),o=e(72283),h=e(71030),n=new h({sys:{queueDepthSort:o,events:{once:o}}},0,0,1,1).setOrigin(0,0),r=function(f,a){a===void 0&&(a={});var v=a.hasOwnProperty("width"),p=a.hasOwnProperty("height"),c=d(a,"width",-1),g=d(a,"height",-1),y=d(a,"cellWidth",1),S=d(a,"cellHeight",y),P=d(a,"position",m.TOP_LEFT),C=d(a,"x",0),M=d(a,"y",0),R=0,w=0,O=c*y,F=g*S;n.setPosition(C,M),n.setSize(y,S);for(var L=0;L<f.length;L++)if(u(f[L],n,P),v&&c===-1)n.x+=y;else if(p&&g===-1)n.y+=S;else if(p&&!v){if(w+=S,n.y+=S,w===F&&(w=0,R+=y,n.y=M,n.x+=y,R===O))break}else if(R+=y,n.x+=y,R===O&&(R=0,w+=S,n.x=C,n.y+=S,w===F))break;return f};l.exports=r},691:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(6124),m=function(d,o,h,n,r){return u(d,"alpha",o,h,n,r)};l.exports=m},3877:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(6124),m=function(d,o,h,n,r){return u(d,"x",o,h,n,r)};l.exports=m},71020:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(6124),m=function(d,o,h,n,r,f,a){return h==null&&(h=o),u(d,"x",o,n,f,a),u(d,"y",h,r,f,a)};l.exports=m},28970:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(6124),m=function(d,o,h,n,r){return u(d,"y",o,h,n,r)};l.exports=m},82249:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d){m===void 0&&(m=0),d===void 0&&(d=6.28);for(var o=m,h=(d-m)/e.length,n=u.x,r=u.y,f=u.radius,a=0;a<e.length;a++)e[a].x=n+f*Math.cos(o),e[a].y=r+f*Math.sin(o),o+=h;return e};l.exports=T},30285:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d){m===void 0&&(m=0),d===void 0&&(d=6.28);for(var o=m,h=(d-m)/e.length,n=u.width/2,r=u.height/2,f=0;f<e.length;f++)e[f].x=u.x+n*Math.cos(o),e[f].y=u.y+r*Math.sin(o),o+=h;return e};l.exports=T},61557:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(8570),m=function(d,o){for(var h=u(o,d.length),n=0;n<d.length;n++){var r=d[n],f=h[n];r.x=f.x,r.y=f.y}return d};l.exports=m},63549:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(40053),m=e(77640),d=e(38487),o=function(h,n,r){r===void 0&&(r=0);var f=u(n,!1,h.length);r>0?m(f,r):r<0&&d(f,Math.abs(r));for(var a=0;a<h.length;a++)h[a].x=f[a].x,h[a].y=f[a].y;return h};l.exports=o},51629:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(58813),m=function(d,o,h){var n=u({x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2},h),r=u({x1:o.x2,y1:o.y2,x2:o.x3,y2:o.y3},h),f=u({x1:o.x3,y1:o.y3,x2:o.x1,y2:o.y1},h);n.pop(),r.pop(),f.pop(),n=n.concat(r,f);for(var a=n.length/d.length,v=0,p=0;p<d.length;p++){var c=d[p],g=n[Math.floor(v)];c.x=g.x,c.y=g.y,v+=a}return d};l.exports=m},1045:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){for(var d=0;d<e.length;d++){var o=e[d];o.anims&&o.anims.play(u,m)}return e};l.exports=T},6124:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d,o,h){d===void 0&&(d=0),o===void 0&&(o=0),h===void 0&&(h=1);var n,r=0,f=e.length;if(h===1)for(n=o;n<f;n++)e[n][u]+=m+r*d,r++;else for(n=o;n>=0;n--)e[n][u]+=m+r*d,r++;return e};l.exports=T},23646:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d,o,h){d===void 0&&(d=0),o===void 0&&(o=0),h===void 0&&(h=1);var n,r=0,f=e.length;if(h===1)for(n=o;n<f;n++)e[n][u]=m+r*d,r++;else for(n=o;n>=0;n--)e[n][u]=m+r*d,r++;return e};l.exports=T},4392:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(30977),m=function(d,o){for(var h=0;h<d.length;h++)u(o,d[h]);return d};l.exports=m},94985:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72006),m=function(d,o){for(var h=0;h<d.length;h++)u(o,d[h]);return d};l.exports=m},63305:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(74077),m=function(d,o){for(var h=0;h<d.length;h++)u(o,d[h]);return d};l.exports=m},90739:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(30001),m=function(d,o){for(var h=0;h<d.length;h++)u(o,d[h]);return d};l.exports=m},91417:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(99761),m=function(d,o){for(var h=0;h<d.length;h++)u(o,d[h]);return d};l.exports=m},26182:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(6124),m=function(d,o,h,n,r){return u(d,"rotation",o,h,n,r)};l.exports=m},87299:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72395),m=e(53996),d=function(o,h,n){for(var r=h.x,f=h.y,a=0;a<o.length;a++){var v=o[a];u(v,r,f,n,Math.max(1,m(v.x,v.y,r,f)))}return o};l.exports=d},92194:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72395),m=function(d,o,h,n){var r=o.x,f=o.y;if(n===0)return d;for(var a=0;a<d.length;a++)u(d[a],r,f,h,n);return d};l.exports=m},30363:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(6124),m=function(d,o,h,n,r){return u(d,"scaleX",o,h,n,r)};l.exports=m},51449:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(6124),m=function(d,o,h,n,r,f,a){return h==null&&(h=o),u(d,"scaleX",o,n,f,a),u(d,"scaleY",h,r,f,a)};l.exports=m},64895:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(6124),m=function(d,o,h,n,r){return u(d,"scaleY",o,h,n,r)};l.exports=m},30329:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23646),m=function(d,o,h,n,r){return u(d,"alpha",o,h,n,r)};l.exports=m},43954:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23646),m=function(d,o,h,n){return u(d,"blendMode",o,0,h,n)};l.exports=m},70688:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23646),m=function(d,o,h,n,r){return u(d,"depth",o,h,n,r)};l.exports=m},8314:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){for(var d=0;d<e.length;d++)e[d].setInteractive(u,m);return e};l.exports=T},12894:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23646),m=function(d,o,h,n,r,f,a){return h==null&&(h=o),u(d,"originX",o,n,f,a),u(d,"originY",h,r,f,a),d.forEach(function(v){v.updateDisplayOrigin()}),d};l.exports=m},38767:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23646),m=function(d,o,h,n,r){return u(d,"rotation",o,h,n,r)};l.exports=m},18584:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23646),m=function(d,o,h,n,r,f,a){return h==null&&(h=o),u(d,"scaleX",o,n,f,a),u(d,"scaleY",h,r,f,a)};l.exports=m},17381:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23646),m=function(d,o,h,n,r){return u(d,"scaleX",o,h,n,r)};l.exports=m},74370:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23646),m=function(d,o,h,n,r){return u(d,"scaleY",o,h,n,r)};l.exports=m},27773:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23646),m=function(d,o,h,n,r,f,a){return h==null&&(h=o),u(d,"scrollFactorX",o,n,f,a),u(d,"scrollFactorY",h,r,f,a)};l.exports=m},75257:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23646),m=function(d,o,h,n,r){return u(d,"scrollFactorX",o,h,n,r)};l.exports=m},54512:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23646),m=function(d,o,h,n,r){return u(d,"scrollFactorY",o,h,n,r)};l.exports=m},69423:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d,o){for(var h=0;h<e.length;h++)e[h].setTint(u,m,d,o);return e};l.exports=T},58291:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23646),m=function(d,o,h,n){return u(d,"visible",o,0,h,n)};l.exports=m},94833:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23646),m=function(d,o,h,n,r){return u(d,"x",o,h,n,r)};l.exports=m},14284:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23646),m=function(d,o,h,n,r,f,a){return h==null&&(h=o),u(d,"x",o,n,f,a),u(d,"y",h,r,f,a)};l.exports=m},96574:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23646),m=function(d,o,h,n,r){return u(d,"y",o,h,n,r)};l.exports=m},74086:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(93736),m=function(d,o,h,n,r){n===void 0&&(n=0),r===void 0&&(r=new u);var f,a,v=d.length;if(v===1)f=d[0].x,a=d[0].y,d[0].x=o,d[0].y=h;else{var p=1,c=0;n===0&&(c=v-1,p=v-2),f=d[c].x,a=d[c].y,d[c].x=o,d[c].y=h;for(var g=0;g<v;g++)if(!(p>=v||p===-1)){var y=d[p],S=y.x,P=y.y;y.x=f,y.y=a,f=S,a=P,n===0?p--:p++}}return r.x=f,r.y=a,r};l.exports=m},86347:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(18592),m=function(d){return u(d)};l.exports=m},1558:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(5514),m=function(d,o,h,n,r){r===void 0&&(r=!1);var f=Math.abs(n-h)/d.length,a;if(r)for(a=0;a<d.length;a++)d[a][o]+=u(a*f,h,n);else for(a=0;a<d.length;a++)d[a][o]=u(a*f,h,n);return d};l.exports=m},9938:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87736),m=function(d,o,h,n,r){r===void 0&&(r=!1);var f=Math.abs(n-h)/d.length,a;if(r)for(a=0;a<d.length;a++)d[a][o]+=u(a*f,h,n);else for(a=0;a<d.length;a++)d[a][o]=u(a*f,h,n);return d};l.exports=m},71060:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d,o){if(o===void 0&&(o=!1),e.length===0)return e;if(e.length===1)return o?e[0][u]+=(d+m)/2:e[0][u]=(d+m)/2,e;var h=Math.abs(d-m)/(e.length-1),n;if(o)for(n=0;n<e.length;n++)e[n][u]+=n*h+m;else for(n=0;n<e.length;n++)e[n][u]=n*h+m;return e};l.exports=T},11207:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){for(var u=0;u<e.length;u++)e[u].visible=!e[u].visible;return e};l.exports=T},24404:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(1071),m=function(d,o,h){h===void 0&&(h=0);for(var n=0;n<d.length;n++){var r=d[n];r.x=u(r.x,o.left-h,o.right+h),r.y=u(r.y,o.top-h,o.bottom+h)}return d};l.exports=m},83979:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={AlignTo:e(62270),Angle:e(61148),Call:e(22015),GetFirst:e(31060),GetLast:e(52367),GridAlign:e(12673),IncAlpha:e(691),IncX:e(3877),IncXY:e(71020),IncY:e(28970),PlaceOnCircle:e(82249),PlaceOnEllipse:e(30285),PlaceOnLine:e(61557),PlaceOnRectangle:e(63549),PlaceOnTriangle:e(51629),PlayAnimation:e(1045),PropertyValueInc:e(6124),PropertyValueSet:e(23646),RandomCircle:e(4392),RandomEllipse:e(94985),RandomLine:e(63305),RandomRectangle:e(90739),RandomTriangle:e(91417),Rotate:e(26182),RotateAround:e(87299),RotateAroundDistance:e(92194),ScaleX:e(30363),ScaleXY:e(51449),ScaleY:e(64895),SetAlpha:e(30329),SetBlendMode:e(43954),SetDepth:e(70688),SetHitArea:e(8314),SetOrigin:e(12894),SetRotation:e(38767),SetScale:e(18584),SetScaleX:e(17381),SetScaleY:e(74370),SetScrollFactor:e(27773),SetScrollFactorX:e(75257),SetScrollFactorY:e(54512),SetTint:e(69423),SetVisible:e(58291),SetX:e(94833),SetXY:e(14284),SetY:e(96574),ShiftPosition:e(74086),Shuffle:e(86347),SmootherStep:e(9938),SmoothStep:e(1558),Spread:e(71060),ToggleVisible:e(11207),WrapInRectangle:e(24404)}},85463:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82897),m=e(56694),d=e(16938),o=e(2406),h=e(71519),n=e(10850),r=e(28834),f=new m({initialize:function(v,p,c){this.manager=v,this.key=p,this.type="frame",this.frames=this.getFrames(v.textureManager,n(c,"frames",[]),n(c,"defaultTextureKey",null),n(c,"sortFrames",!0)),this.frameRate=n(c,"frameRate",null),this.duration=n(c,"duration",null),this.msPerFrame,this.skipMissedFrames=n(c,"skipMissedFrames",!0),this.delay=n(c,"delay",0),this.repeat=n(c,"repeat",0),this.repeatDelay=n(c,"repeatDelay",0),this.yoyo=n(c,"yoyo",!1),this.showBeforeDelay=n(c,"showBeforeDelay",!1),this.showOnStart=n(c,"showOnStart",!1),this.hideOnComplete=n(c,"hideOnComplete",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(d.PAUSE_ALL,this.pause,this),this.manager.on(d.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(a,v,p,c){p===null&&c===null?(a.frameRate=24,a.duration=24/v*1e3):p&&c===null?(a.duration=p,a.frameRate=v/(p/1e3)):(a.frameRate=c,a.duration=v/c*1e3),a.msPerFrame=1e3/a.frameRate},addFrame:function(a){return this.addFrameAt(this.frames.length,a)},addFrameAt:function(a,v){var p=this.getFrames(this.manager.textureManager,v);if(p.length>0){if(a===0)this.frames=p.concat(this.frames);else if(a===this.frames.length)this.frames=this.frames.concat(p);else{var c=this.frames.slice(0,a),g=this.frames.slice(a);this.frames=c.concat(p,g)}this.updateFrameSequence()}return this},checkFrame:function(a){return a>=0&&a<this.frames.length},getFirstTick:function(a){a.accumulator=0,a.nextTick=a.msPerFrame+a.currentFrame.duration},getFrameAt:function(a){return this.frames[a]},getFrames:function(a,v,p,c){c===void 0&&(c=!0);var g=[],y,S,P=1,C,M;if(typeof v=="string"){if(M=v,!a.exists(M))return console.warn('Texture "%s" not found',M),g;var R=a.get(M),w=R.getFrameNames();c&&r(w),v=[],w.forEach(function(I){v.push({key:M,frame:I})})}if(!Array.isArray(v)||v.length===0)return g;for(C=0;C<v.length;C++){var O=v[C],F=n(O,"key",p);if(F){var L=n(O,"frame",0),b=a.getFrame(F,L);if(!b){console.warn('Texture "%s" not found',F);continue}S=new h(F,L,P,b),S.duration=n(O,"duration",0),S.isFirst=!y,y&&(y.nextFrame=S,S.prevFrame=y),g.push(S),y=S,P++}}if(g.length>0){S.isLast=!0,S.nextFrame=g[0],g[0].prevFrame=S;var B=1/(g.length-1);for(C=0;C<g.length;C++)g[C].progress=C*B}return g},getNextTick:function(a){a.accumulator-=a.nextTick,a.nextTick=a.msPerFrame+a.currentFrame.duration},getFrameByProgress:function(a){return a=u(a,0,1),o(a,this.frames,"progress")},nextFrame:function(a){var v=a.currentFrame;v.isLast?a.yoyo?this.handleYoyoFrame(a,!1):a.repeatCounter>0?a.inReverse&&a.forward?a.forward=!1:this.repeatAnimation(a):a.complete():this.updateAndGetNextTick(a,v.nextFrame)},handleYoyoFrame:function(a,v){if(v||(v=!1),a.inReverse===!v&&a.repeatCounter>0){(a.repeatDelay===0||a.pendingRepeat)&&(a.forward=v),this.repeatAnimation(a);return}if(a.inReverse!==v&&a.repeatCounter===0){a.complete();return}a.forward=v;var p=v?a.currentFrame.nextFrame:a.currentFrame.prevFrame;this.updateAndGetNextTick(a,p)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(a){var v=a.currentFrame;v.isFirst?a.yoyo?this.handleYoyoFrame(a,!0):a.repeatCounter>0?a.inReverse&&!a.forward?this.repeatAnimation(a):(a.forward=!0,this.repeatAnimation(a)):a.complete():this.updateAndGetNextTick(a,v.prevFrame)},updateAndGetNextTick:function(a,v){a.setCurrentFrame(v),this.getNextTick(a)},removeFrame:function(a){var v=this.frames.indexOf(a);return v!==-1&&this.removeFrameAt(v),this},removeFrameAt:function(a){return this.frames.splice(a,1),this.updateFrameSequence(),this},repeatAnimation:function(a){if(a._pendingStop===2){if(a._pendingStopValue===0)return a.stop();a._pendingStopValue--}a.repeatDelay>0&&!a.pendingRepeat?(a.pendingRepeat=!0,a.accumulator-=a.nextTick,a.nextTick+=a.repeatDelay):(a.repeatCounter--,a.forward?a.setCurrentFrame(a.currentFrame.nextFrame):a.setCurrentFrame(a.currentFrame.prevFrame),a.isPlaying&&(this.getNextTick(a),a.handleRepeat()))},toJSON:function(){var a={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(v){a.frames.push(v.toJSON())}),a},updateFrameSequence:function(){for(var a=this.frames.length,v=1/(a-1),p,c=0;c<a;c++)p=this.frames[c],p.index=c+1,p.isFirst=!1,p.isLast=!1,p.progress=c*v,c===0?(p.isFirst=!0,a===1?(p.isLast=!0,p.nextFrame=p,p.prevFrame=p):(p.isLast=!1,p.prevFrame=this.frames[a-1],p.nextFrame=this.frames[c+1])):c===a-1&&a>1?(p.isLast=!0,p.prevFrame=this.frames[a-2],p.nextFrame=this.frames[0]):a>1&&(p.prevFrame=this.frames[c-1],p.nextFrame=this.frames[c+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(d.PAUSE_ALL,this.pause,this),this.manager.off(d.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var a=0;a<this.frames.length;a++)this.frames[a].destroy();this.frames=[],this.manager=null}});l.exports=f},71519:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=new u({initialize:function(o,h,n,r,f){f===void 0&&(f=!1),this.textureKey=o,this.textureFrame=h,this.index=n,this.frame=r,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=f},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});l.exports=m},90249:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(85463),m=e(56694),d=e(33885),o=e(6659),h=e(16938),n=e(97081),r=e(72632),f=e(10850),a=e(83392),v=e(13401),p=e(76400),c=new m({Extends:o,initialize:function(y){o.call(this),this.game=y,this.textureManager=null,this.globalTimeScale=1,this.anims=new d,this.mixes=new d,this.paused=!1,this.name="AnimationManager",y.events.once(n.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(n.DESTROY,this.destroy,this)},addMix:function(g,y,S){var P=this.anims,C=this.mixes,M=typeof g=="string"?g:g.key,R=typeof y=="string"?y:y.key;if(P.has(M)&&P.has(R)){var w=C.get(M);w||(w={}),w[R]=S,C.set(M,w)}return this},removeMix:function(g,y){var S=this.mixes,P=typeof g=="string"?g:g.key,C=S.get(P);if(C)if(y){var M=typeof y=="string"?y:y.key;C.hasOwnProperty(M)&&delete C[M]}else y||S.delete(P);return this},getMix:function(g,y){var S=this.mixes,P=typeof g=="string"?g:g.key,C=typeof y=="string"?y:y.key,M=S.get(P);return M&&M.hasOwnProperty(C)?M[C]:0},add:function(g,y){return this.anims.has(g)?(console.warn("Animation key exists: "+g),this):(y.key=g,this.anims.set(g,y),this.emit(h.ADD_ANIMATION,g,y),this)},exists:function(g){return this.anims.has(g)},createFromAseprite:function(g,y,S){var P=[],C=this.game.cache.json.get(g);if(!C)return console.warn("No Aseprite data found for: "+g),P;var M=this,R=f(C,"meta",null),w=f(C,"frames",null);if(R&&w){var O=f(R,"frameTags",[]);O.forEach(function(F){var L=[],b=r(F,"name",null),B=r(F,"from",0),I=r(F,"to",0),z=r(F,"direction","forward");if(b&&(!y||y&&y.indexOf(b)>-1)){for(var Y=0,W=B;W<=I;W++){var H=W.toString(),N=w[H];if(N){var X=r(N,"duration",a.MAX_SAFE_INTEGER);L.push({key:g,frame:H,duration:X}),Y+=X}}var D=Y/L.length;L.forEach(function(U){U.duration-=D}),z==="reverse"&&(L=L.reverse());var G={key:b,frames:L,duration:Y,yoyo:z==="pingpong"},V;S?S.anims&&(V=S.anims.create(G)):V=M.create(G),V&&P.push(V)}})}return P},create:function(g){var y=g.key,S=!1;return y&&(S=this.get(y),S?console.warn("AnimationManager key already exists: "+y):(S=new u(this,y,g),this.anims.set(y,S),this.emit(h.ADD_ANIMATION,y,S))),S},fromJSON:function(g,y){y===void 0&&(y=!1),y&&this.anims.clear(),typeof g=="string"&&(g=JSON.parse(g));var S=[];if(g.hasOwnProperty("anims")&&Array.isArray(g.anims)){for(var P=0;P<g.anims.length;P++)S.push(this.create(g.anims[P]));g.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=g.globalTimeScale)}else g.hasOwnProperty("key")&&g.type==="frame"&&S.push(this.create(g));return S},generateFrameNames:function(g,y){var S=f(y,"prefix",""),P=f(y,"start",0),C=f(y,"end",0),M=f(y,"suffix",""),R=f(y,"zeroPad",0),w=f(y,"outputArray",[]),O=f(y,"frames",!1);if(!this.textureManager.exists(g))return console.warn('Texture "%s" not found',g),w;var F=this.textureManager.get(g);if(!F)return w;var L;if(y)for(O||(O=v(P,C)),L=0;L<O.length;L++){var b=S+p(O[L],R,"0",1)+M;F.has(b)?w.push({key:g,frame:b}):console.warn('Frame "%s" not found in texture "%s"',b,g)}else for(O=F.getFrameNames(),L=0;L<O.length;L++)w.push({key:g,frame:O[L]});return w},generateFrameNumbers:function(g,y){var S=f(y,"start",0),P=f(y,"end",-1),C=f(y,"first",!1),M=f(y,"outputArray",[]),R=f(y,"frames",!1);if(!this.textureManager.exists(g))return console.warn('Texture "%s" not found',g),M;var w=this.textureManager.get(g);if(!w)return M;C&&w.has(C)&&M.push({key:g,frame:C}),R||(P===-1&&(P=w.frameTotal-2),R=v(S,P));for(var O=0;O<R.length;O++){var F=R[O];w.has(F)?M.push({key:g,frame:F}):console.warn('Frame "%s" not found in texture "%s"',F,g)}return M},get:function(g){return this.anims.get(g)},getAnimsFromTexture:function(g){for(var y=this.textureManager.get(g),S=y.key,P=this.anims.getArray(),C=[],M=0;M<P.length;M++)for(var R=P[M],w=R.frames,O=0;O<w.length;O++)if(w[O].textureKey===S){C.push(R.key);break}return C},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(h.PAUSE_ALL)),this},play:function(g,y){Array.isArray(y)||(y=[y]);for(var S=0;S<y.length;S++)y[S].anims.play(g);return this},staggerPlay:function(g,y,S,P){S===void 0&&(S=0),P===void 0&&(P=!0),Array.isArray(y)||(y=[y]);var C=y.length;P||C--;for(var M=0;M<y.length;M++){var R=S<0?Math.abs(S)*(C-M):S*M;y[M].anims.playAfterDelay(g,R)}return this},remove:function(g){var y=this.get(g);return y&&(this.emit(h.REMOVE_ANIMATION,g,y),this.anims.delete(g),this.removeMix(g)),y},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(h.RESUME_ALL)),this},toJSON:function(g){var y={anims:[],globalTimeScale:this.globalTimeScale};return g!==void 0&&g!==""?y.anims.push(this.anims.get(g).toJSON()):this.anims.each(function(S,P){y.anims.push(P.toJSON())}),y},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});l.exports=c},16569:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(33885),d=e(72632),o=e(16938),h=e(85463),n=new u({initialize:function(f){this.parent=f,this.animationManager=f.scene.sys.anims,this.animationManager.on(o.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(r){var f=this.parent;if(r===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,f;Array.isArray(r)||(r=[r]);for(var a=0;a<r.length;a++){var v=r[a];this.nextAnim?this.nextAnimsQueue.push(v):this.nextAnim=v}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(r){this.isPlaying&&this.stop();var f=this.animationManager,a=typeof r=="string"?r:d(r,"key",null),v=this.exists(a)?this.get(a):f.get(a);if(!v)console.warn("Missing animation: "+a);else{this.currentAnim=v;var p=v.getTotalFrames(),c=d(r,"frameRate",v.frameRate),g=d(r,"duration",v.duration);v.calculateDuration(this,p,g,c),this.delay=d(r,"delay",v.delay),this.repeat=d(r,"repeat",v.repeat),this.repeatDelay=d(r,"repeatDelay",v.repeatDelay),this.yoyo=d(r,"yoyo",v.yoyo),this.showBeforeDelay=d(r,"showBeforeDelay",v.showBeforeDelay),this.showOnStart=d(r,"showOnStart",v.showOnStart),this.hideOnComplete=d(r,"hideOnComplete",v.hideOnComplete),this.skipMissedFrames=d(r,"skipMissedFrames",v.skipMissedFrames),this.timeScale=d(r,"timeScale",this.timeScale);var y=d(r,"startFrame",0);y>v.getTotalFrames()&&(y=0);var S=v.frames[y];y===0&&!this.forward&&(S=v.getLastFrame()),this.currentFrame=S}return this.parent},pause:function(r){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),r!==void 0&&this.setCurrentFrame(r),this.parent},resume:function(r){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),r!==void 0&&this.setCurrentFrame(r),this.parent},playAfterDelay:function(r,f){if(!this.isPlaying)this.delayCounter=f,this.play(r,!0);else{var a=this.nextAnim,v=this.nextAnimsQueue;a&&v.unshift(a),this.nextAnim=r,this._pendingStop=1,this._pendingStopValue=f}return this.parent},playAfterRepeat:function(r,f){if(f===void 0&&(f=1),!this.isPlaying)this.play(r);else{var a=this.nextAnim,v=this.nextAnimsQueue;a&&v.unshift(a),this.repeatCounter!==-1&&f>this.repeatCounter&&(f=this.repeatCounter),this.nextAnim=r,this._pendingStop=2,this._pendingStopValue=f}return this.parent},play:function(r,f){f===void 0&&(f=!1);var a=this.currentAnim,v=this.parent,p=typeof r=="string"?r:r.key;if(f&&this.isPlaying&&a.key===p)return v;if(a&&this.isPlaying){var c=this.animationManager.getMix(a.key,r);if(c>0)return this.playAfterDelay(r,c)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(r)},playReverse:function(r,f){f===void 0&&(f=!1);var a=typeof r=="string"?r:r.key;return f&&this.isPlaying&&this.currentAnim.key===a?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(r))},startAnimation:function(r){this.load(r);var f=this.currentAnim,a=this.parent;return f&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,f.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),a},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(o.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(o.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(o.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(o.ANIMATION_COMPLETE,o.ANIMATION_COMPLETE_KEY)},emitEvents:function(r,f){var a=this.currentAnim;if(a){var v=this.currentFrame,p=this.parent,c=v.textureFrame;p.emit(r,a,v,p,c),f&&p.emit(f+a.key,a,v,p,c)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var r=this.currentFrame;if(!r)return 0;var f=r.progress;return this.inReverse&&(f*=-1),f},setProgress:function(r){return this.forward||(r=1-r),this.setCurrentFrame(this.currentAnim.getFrameByProgress(r)),this.parent},setRepeat:function(r){return this.repeatCounter=r===-1?Number.MAX_VALUE:r,this.parent},globalRemove:function(r,f){f===void 0&&(f=this.currentAnim),this.isPlaying&&f.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(r,f){r===void 0&&(r=!1),f===void 0&&(f=!1);var a=this.currentAnim,v=this.parent;return a?(f&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),a.getFirstTick(this),this.emitEvents(o.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!r,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(a.frames[0]),this.parent):v},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var r=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(r)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var r=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(r)}return this.parent},stopAfterDelay:function(r){return this._pendingStop=1,this._pendingStopValue=r,this.parent},stopAfterRepeat:function(r){return r===void 0&&(r=1),this.repeatCounter!==-1&&r>this.repeatCounter&&(r=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=r,this.parent},stopOnFrame:function(r){return this._pendingStop=3,this._pendingStopValue=r,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(r,f){var a=this.currentAnim;if(!(!this.isPlaying||!a||a.paused)){if(this.accumulator+=f*this.timeScale,this._pendingStop===1&&(this._pendingStopValue-=f,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?a.nextFrame(this):a.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var v=0;do this.forward?a.nextFrame(this):a.previousFrame(this),v++;while(this.isPlaying&&this.accumulator>this.nextTick&&v<60)}}},setCurrentFrame:function(r){var f=this.parent;return this.currentFrame=r,f.texture=r.frame.texture,f.frame=r.frame,f.isCropped&&f.frame.updateCropUVs(f._crop,f.flipX,f.flipY),r.setAlpha&&(f.alpha=r.alpha),f.setSizeToFrame(),f._originComponent&&(r.frame.customPivot?f.setOrigin(r.frame.pivotX,r.frame.pivotY):f.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(o.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===r&&this.stop()),f},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(r){return this.anims?this.anims.get(r):null},exists:function(r){return this.anims?this.anims.has(r):!1},create:function(r){var f=r.key,a=!1;return f&&(a=this.get(f),a?console.warn("Animation key already exists: "+f):(a=new h(this,f,r),this.anims||(this.anims=new m),this.anims.set(f,a))),a},createFromAseprite:function(r,f){return this.animationManager.createFromAseprite(r,f,this.parent)},generateFrameNames:function(r,f){return this.animationManager.generateFrameNames(r,f)},generateFrameNumbers:function(r,f){return this.animationManager.generateFrameNumbers(r,f)},remove:function(r){var f=this.get(r);return f&&(this.currentAnim===f&&this.stop(),this.anims.delete(r)),f},destroy:function(){this.animationManager.off(o.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});l.exports=n},44509:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="add"},84563:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="animationcomplete"},61586:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="animationcomplete-"},72175:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="animationrepeat"},568:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="animationrestart"},37690:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="animationstart"},58525:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="animationstop"},5243:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="animationupdate"},10598:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pauseall"},4860:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="remove"},31865:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="resumeall"},16938:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ADD_ANIMATION:e(44509),ANIMATION_COMPLETE:e(84563),ANIMATION_COMPLETE_KEY:e(61586),ANIMATION_REPEAT:e(72175),ANIMATION_RESTART:e(568),ANIMATION_START:e(37690),ANIMATION_STOP:e(58525),ANIMATION_UPDATE:e(5243),PAUSE_ALL:e(10598),REMOVE_ANIMATION:e(4860),RESUME_ALL:e(31865)}},13517:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Animation:e(85463),AnimationFrame:e(71519),AnimationManager:e(90249),AnimationState:e(16569),Events:e(16938)}},23740:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(33885),d=e(6659),o=e(69773),h=new u({initialize:function(){this.entries=new m,this.events=new d},add:function(n,r){return this.entries.set(n,r),this.events.emit(o.ADD,this,n,r),this},has:function(n){return this.entries.has(n)},exists:function(n){return this.entries.has(n)},get:function(n){return this.entries.get(n)},remove:function(n){var r=this.get(n);return r&&(this.entries.delete(n),this.events.emit(o.REMOVE,this,n,r.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});l.exports=h},43474:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23740),m=e(56694),d=e(97081),o=new m({initialize:function(n){this.game=n,this.binary=new u,this.bitmapFont=new u,this.json=new u,this.physics=new u,this.shader=new u,this.audio=new u,this.video=new u,this.text=new u,this.html=new u,this.obj=new u,this.tilemap=new u,this.xml=new u,this.custom={},this.game.events.once(d.DESTROY,this.destroy,this)},addCustom:function(h){return this.custom.hasOwnProperty(h)||(this.custom[h]=new u),this.custom[h]},destroy:function(){for(var h=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],n=0;n<h.length;n++)this[h[n]].destroy(),this[h[n]]=null;for(var r in this.custom)this.custom[r].destroy();this.custom=null,this.game=null}});l.exports=o},94762:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="add"},75968:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="remove"},69773:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ADD:e(94762),REMOVE:e(75968)}},45820:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={BaseCache:e(23740),CacheManager:e(43474),Events:e(69773)}},51052:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(64937),d=e(75606),o=e(6659),h=e(89787),n=e(74118),r=e(69360),f=e(93222),a=e(93736),v=new u({Extends:o,Mixins:[m.AlphaSingle,m.Visible],initialize:function(c,g,y,S){c===void 0&&(c=0),g===void 0&&(g=0),y===void 0&&(y=0),S===void 0&&(S=0),o.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new n,this.dirty=!0,this._x=c,this._y=g,this._width=y,this._height=S,this._bounds=new n,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new r,this.transparent=!0,this.backgroundColor=f("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new a(y/2,S/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0},addToRenderList:function(p){this.renderList.push(p)},setOrigin:function(p,c){return p===void 0&&(p=.5),c===void 0&&(c=p),this.originX=p,this.originY=c,this},getScroll:function(p,c,g){g===void 0&&(g=new a);var y=this.width*.5,S=this.height*.5;return g.x=p-y,g.y=c-S,this.useBounds&&(g.x=this.clampX(g.x),g.y=this.clampY(g.y)),g},centerOnX:function(p){var c=this.width*.5;return this.midPoint.x=p,this.scrollX=p-c,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(p){var c=this.height*.5;return this.midPoint.y=p,this.scrollY=p-c,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(p,c){return this.centerOnX(p),this.centerOnY(c),this},centerToBounds:function(){if(this.useBounds){var p=this._bounds,c=this.width*.5,g=this.height*.5;this.midPoint.set(p.centerX,p.centerY),this.scrollX=p.centerX-c,this.scrollY=p.centerY-g}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(p){if(this.disableCull)return p;var c=this.matrix.matrix,g=c[0],y=c[1],S=c[2],P=c[3],C=g*P-y*S;if(!C)return p;var M=c[4],R=c[5],w=this.scrollX,O=this.scrollY,F=this.width,L=this.height,b=this.y,B=b+L,I=this.x,z=I+F,Y=this.culledObjects,W=p.length;C=1/C,Y.length=0;for(var H=0;H<W;++H){var N=p[H];if(!N.hasOwnProperty("width")||N.parentContainer){Y.push(N);continue}var X=N.width,D=N.height,G=N.x-w*N.scrollFactorX-X*N.originX,V=N.y-O*N.scrollFactorY-D*N.originY,U=G*g+V*S+M,k=G*y+V*P+R,$=(G+X)*g+(V+D)*S+M,K=(G+X)*y+(V+D)*P+R;$>I&&U<z&&K>b&&k<B&&Y.push(N)}return Y},getWorldPoint:function(p,c,g){g===void 0&&(g=new a);var y=this.matrix.matrix,S=y[0],P=y[1],C=y[2],M=y[3],R=y[4],w=y[5],O=S*M-P*C;if(!O)return g.x=p,g.y=c,g;O=1/O;var F=M*O,L=-P*O,b=-C*O,B=S*O,I=(C*w-M*R)*O,z=(P*R-S*w)*O,Y=Math.cos(this.rotation),W=Math.sin(this.rotation),H=this.zoomX,N=this.zoomY,X=this.scrollX,D=this.scrollY,G=p+(X*Y-D*W)*H,V=c+(X*W+D*Y)*N;return g.x=G*F+V*b+I,g.y=G*L+V*B+z,g},ignore:function(p){var c=this.id;Array.isArray(p)||(p=[p]);for(var g=0;g<p.length;g++){var y=p[g];Array.isArray(y)?this.ignore(y):y.isParent?this.ignore(y.getChildren()):y.cameraFilter|=c}return this},preRender:function(){this.renderList.length=0;var p=this.width,c=this.height,g=p*.5,y=c*.5,S=this.zoomX,P=this.zoomY,C=this.matrix,M=p*this.originX,R=c*this.originY,w=this.scrollX,O=this.scrollY;this.useBounds&&(w=this.clampX(w),O=this.clampY(O)),this.roundPixels&&(M=Math.round(M),R=Math.round(R)),this.scrollX=w,this.scrollY=O;var F=w+g,L=O+y;this.midPoint.set(F,L);var b=p/S,B=c/P;this.worldView.setTo(F-b/2,L-B/2,b,B),C.applyITRS(this.x+M,this.y+R,this.rotation,S,P),C.translate(-M,-R)},clampX:function(p){var c=this._bounds,g=this.displayWidth,y=c.x+(g-this.width)/2,S=Math.max(y,y+c.width-g);return p<y?p=y:p>S&&(p=S),p},clampY:function(p){var c=this._bounds,g=this.displayHeight,y=c.y+(g-this.height)/2,S=Math.max(y,y+c.height-g);return p<y?p=y:p>S&&(p=S),p},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(p){return p===void 0&&(p=0),this.rotation=d(p),this},setBackgroundColor:function(p){return p===void 0&&(p="rgba(0,0,0,0)"),this.backgroundColor=f(p),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(p,c,g,y,S){return S===void 0&&(S=!1),this._bounds.setTo(p,c,g,y),this.dirty=!0,this.useBounds=!0,S?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(p){p===void 0&&(p=new n);var c=this._bounds;return p.setTo(c.x,c.y,c.width,c.height),p},setName:function(p){return p===void 0&&(p=""),this.name=p,this},setPosition:function(p,c){return c===void 0&&(c=p),this.x=p,this.y=c,this},setRotation:function(p){return p===void 0&&(p=0),this.rotation=p,this},setRoundPixels:function(p){return this.roundPixels=p,this},setScene:function(p,c){c===void 0&&(c=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=p,this.isSceneCamera=c;var g=p.sys;return this.sceneManager=g.game.scene,this.scaleManager=g.scale,this.cameraManager=g.cameras,this.updateSystem(),this},setScroll:function(p,c){return c===void 0&&(c=p),this.scrollX=p,this.scrollY=c,this},setSize:function(p,c){return c===void 0&&(c=p),this.width=p,this.height=c,this},setViewport:function(p,c,g,y){return this.x=p,this.y=c,this.width=g,this.height=y,this},setZoom:function(p,c){return p===void 0&&(p=1),c===void 0&&(c=p),p===0&&(p=.001),c===0&&(c=.001),this.zoomX=p,this.zoomY=c,this},setMask:function(p,c){return c===void 0&&(c=!0),this.mask=p,this._maskCamera=c?this.cameraManager.default:this,this},clearMask:function(p){return p===void 0&&(p=!1),p&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var p={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(p.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),p},update:function(){},setIsSceneCamera:function(p){return this.isSceneCamera=p,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var p=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,c=this.sceneManager;p&&!this._customViewport?c.customViewports++:!p&&this._customViewport&&c.customViewports--,this.dirty=!0,this._customViewport=p}},destroy:function(){this.emit(h.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(p){this._x=p,this.updateSystem()}},y:{get:function(){return this._y},set:function(p){this._y=p,this.updateSystem()}},width:{get:function(){return this._width},set:function(p){this._width=p,this.updateSystem()}},height:{get:function(){return this._height},set:function(p){this._height=p,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(p){p!==this._scrollX&&(this._scrollX=p,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(p){p!==this._scrollY&&(this._scrollY=p,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(p){this._zoomX=p,this._zoomY=p,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(p){this._zoomX=p,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(p){this._zoomY=p,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(p){this._rotation=p,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});l.exports=v},47751:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(51052),m=e(79993),d=e(82897),o=e(56694),h=e(64937),n=e(53030),r=e(89787),f=e(42798),a=e(74118),v=e(93736),p=new o({Extends:u,Mixins:[h.PostPipeline],initialize:function(g,y,S,P){u.call(this,g,y,S,P),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new n.Fade(this),this.flashEffect=new n.Flash(this),this.shakeEffect=new n.Shake(this),this.panEffect=new n.Pan(this),this.rotateToEffect=new n.RotateTo(this),this.zoomEffect=new n.Zoom(this),this.lerp=new v(1,1),this.followOffset=new v,this.deadzone=null,this._follow=null},setDeadzone:function(c,g){if(c===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=c,this.deadzone.height=g):this.deadzone=new a(0,0,c,g),this._follow){var y=this.width/2,S=this.height/2,P=this._follow.x-this.followOffset.x,C=this._follow.y-this.followOffset.y;this.midPoint.set(P,C),this.scrollX=P-y,this.scrollY=C-S}m(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(c,g,y,S,P,C){return this.fadeEffect.start(!1,c,g,y,S,!0,P,C)},fadeOut:function(c,g,y,S,P,C){return this.fadeEffect.start(!0,c,g,y,S,!0,P,C)},fadeFrom:function(c,g,y,S,P,C,M){return this.fadeEffect.start(!1,c,g,y,S,P,C,M)},fade:function(c,g,y,S,P,C,M){return this.fadeEffect.start(!0,c,g,y,S,P,C,M)},flash:function(c,g,y,S,P,C,M){return this.flashEffect.start(c,g,y,S,P,C,M)},shake:function(c,g,y,S,P){return this.shakeEffect.start(c,g,y,S,P)},pan:function(c,g,y,S,P,C,M){return this.panEffect.start(c,g,y,S,P,C,M)},rotateTo:function(c,g,y,S,P,C,M){return this.rotateToEffect.start(c,g,y,S,P,C,M)},zoomTo:function(c,g,y,S,P,C){return this.zoomEffect.start(c,g,y,S,P,C)},preRender:function(){this.renderList.length=0;var c=this.width,g=this.height,y=c*.5,S=g*.5,P=this.zoom,C=this.matrix,M=c*this.originX,R=g*this.originY,w=this._follow,O=this.deadzone,F=this.scrollX,L=this.scrollY;O&&m(O,this.midPoint.x,this.midPoint.y);var b=!1;if(this.roundPixels&&(M=Math.floor(M),R=Math.floor(R)),w&&!this.panEffect.isRunning){var B=this.lerp,I=w.x-this.followOffset.x,z=w.y-this.followOffset.y;this.roundPixels&&(I=Math.floor(I),z=Math.floor(z)),O?(I<O.x?F=f(F,F-(O.x-I),B.x):I>O.right&&(F=f(F,F+(I-O.right),B.x)),z<O.y?L=f(L,L-(O.y-z),B.y):z>O.bottom&&(L=f(L,L+(z-O.bottom),B.y))):(F=f(F,I-M,B.x),L=f(L,z-R,B.y)),b=!0}this.useBounds&&(F=this.clampX(F),L=this.clampY(L)),this.roundPixels&&(F=Math.floor(F),L=Math.floor(L)),this.scrollX=F,this.scrollY=L;var Y=F+y,W=L+S;this.midPoint.set(Y,W);var H=c/P,N=g/P,X=Y-H/2,D=W-N/2;this.roundPixels&&(X=Math.floor(X),D=Math.floor(D)),this.worldView.setTo(X,D,H,N),C.applyITRS(Math.floor(this.x+M),Math.floor(this.y+R),this.rotation,P,P),C.translate(-M,-R),this.shakeEffect.preRender(),b&&this.emit(r.FOLLOW_UPDATE,this,w)},setLerp:function(c,g){return c===void 0&&(c=1),g===void 0&&(g=c),this.lerp.set(c,g),this},setFollowOffset:function(c,g){return c===void 0&&(c=0),g===void 0&&(g=0),this.followOffset.set(c,g),this},startFollow:function(c,g,y,S,P,C){g===void 0&&(g=!1),y===void 0&&(y=1),S===void 0&&(S=y),P===void 0&&(P=0),C===void 0&&(C=P),this._follow=c,this.roundPixels=g,y=d(y,0,1),S=d(S,0,1),this.lerp.set(y,S),this.followOffset.set(P,C);var M=this.width/2,R=this.height/2,w=c.x-P,O=c.y-C;return this.midPoint.set(w,O),this.scrollX=w-M,this.scrollY=O-R,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(c,g){this.visible&&(this.rotateToEffect.update(c,g),this.panEffect.update(c,g),this.zoomEffect.update(c,g),this.shakeEffect.update(c,g),this.flashEffect.update(c,g),this.fadeEffect.update(c,g))},destroy:function(){this.resetFX(),u.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});l.exports=p},62382:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(47751),m=e(56694),d=e(72632),o=e(91963),h=e(94287),n=e(40444),r=e(7599),f=new m({initialize:function(v){this.scene=v,this.systems=v.sys,this.roundPixels=v.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,v.sys.events.once(r.BOOT,this.boot,this),v.sys.events.on(r.START,this.start,this)},boot:function(){var a=this.systems;a.settings.cameras?this.fromJSON(a.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new u(0,0,a.scale.width,a.scale.height).setScene(this.scene),a.game.scale.on(n.RESIZE,this.onResize,this),this.systems.events.once(r.DESTROY,this.destroy,this)},start:function(){if(!this.main){var a=this.systems;a.settings.cameras?this.fromJSON(a.settings.cameras):this.add(),this.main=this.cameras[0]}var v=this.systems.events;v.on(r.UPDATE,this.update,this),v.once(r.SHUTDOWN,this.shutdown,this)},add:function(a,v,p,c,g,y){a===void 0&&(a=0),v===void 0&&(v=0),p===void 0&&(p=this.scene.sys.scale.width),c===void 0&&(c=this.scene.sys.scale.height),g===void 0&&(g=!1),y===void 0&&(y="");var S=new u(a,v,p,c);return S.setName(y),S.setScene(this.scene),S.setRoundPixels(this.roundPixels),S.id=this.getNextID(),this.cameras.push(S),g&&(this.main=S),S},addExisting:function(a,v){v===void 0&&(v=!1);var p=this.cameras.indexOf(a);return p===-1?(a.id=this.getNextID(),a.setRoundPixels(this.roundPixels),this.cameras.push(a),v&&(this.main=a),a):null},getNextID:function(){for(var a=this.cameras,v=1,p=0;p<32;p++){for(var c=!1,g=0;g<a.length;g++){var y=a[g];if(y&&y.id===v){c=!0;continue}}if(c)v=v<<1;else return v}return 0},getTotal:function(a){a===void 0&&(a=!1);for(var v=0,p=this.cameras,c=0;c<p.length;c++){var g=p[c];(!a||a&&g.visible)&&v++}return v},fromJSON:function(a){Array.isArray(a)||(a=[a]);for(var v=this.scene.sys.scale.width,p=this.scene.sys.scale.height,c=0;c<a.length;c++){var g=a[c],y=d(g,"x",0),S=d(g,"y",0),P=d(g,"width",v),C=d(g,"height",p),M=this.add(y,S,P,C);M.name=d(g,"name",""),M.zoom=d(g,"zoom",1),M.rotation=d(g,"rotation",0),M.scrollX=d(g,"scrollX",0),M.scrollY=d(g,"scrollY",0),M.roundPixels=d(g,"roundPixels",!1),M.visible=d(g,"visible",!0);var R=d(g,"backgroundColor",!1);R&&M.setBackgroundColor(R);var w=d(g,"bounds",null);if(w){var O=d(w,"x",0),F=d(w,"y",0),L=d(w,"width",v),b=d(w,"height",p);M.setBounds(O,F,L,b)}}return this},getCamera:function(a){for(var v=this.cameras,p=0;p<v.length;p++)if(v[p].name===a)return v[p];return null},getCamerasBelowPointer:function(a){for(var v=this.cameras,p=a.x,c=a.y,g=[],y=0;y<v.length;y++){var S=v[y];S.visible&&S.inputEnabled&&h(S,p,c)&&g.unshift(S)}return g},remove:function(a,v){v===void 0&&(v=!0),Array.isArray(a)||(a=[a]);for(var p=0,c=this.cameras,g=0;g<a.length;g++){var y=c.indexOf(a[g]);y!==-1&&(v?c[y].destroy():c[y].renderList=[],c.splice(y,1),p++)}return!this.main&&c[0]&&(this.main=c[0]),p},render:function(a,v){for(var p=this.scene,c=this.cameras,g=0;g<c.length;g++){var y=c[g];if(y.visible&&y.alpha>0){y.preRender();var S=this.getVisibleChildren(v.getChildren(),y);a.render(p,S,y)}}},getVisibleChildren:function(a,v){return a.filter(function(p){return p.willRender(v)})},resetAll:function(){for(var a=0;a<this.cameras.length;a++)this.cameras[a].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(a,v){for(var p=0;p<this.cameras.length;p++)this.cameras[p].update(a,v)},onResize:function(a,v,p,c,g){for(var y=0;y<this.cameras.length;y++){var S=this.cameras[y];S._x===0&&S._y===0&&S._width===c&&S._height===g&&S.setSize(v.width,v.height)}},resize:function(a,v){for(var p=0;p<this.cameras.length;p++)this.cameras[p].setSize(a,v)},shutdown:function(){this.main=void 0;for(var a=0;a<this.cameras.length;a++)this.cameras[a].destroy();this.cameras=[];var v=this.systems.events;v.off(r.UPDATE,this.update,this),v.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(r.START,this.start,this),this.systems.events.off(r.DESTROY,this.destroy,this),this.systems.game.scale.off(n.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});o.register("CameraManager",f,"cameras"),l.exports=f},92522:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82897),m=e(56694),d=e(89787),o=new m({initialize:function(n){this.camera=n,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(h,n,r,f,a,v,p,c){if(h===void 0&&(h=!0),n===void 0&&(n=1e3),r===void 0&&(r=0),f===void 0&&(f=0),a===void 0&&(a=0),v===void 0&&(v=!1),p===void 0&&(p=null),c===void 0&&(c=this.camera.scene),!v&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=n,this.direction=h,this.progress=0,this.red=r,this.green=f,this.blue=a,this.alpha=h?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=p,this._onUpdateScope=c;var g=h?d.FADE_OUT_START:d.FADE_IN_START;return this.camera.emit(g,this.camera,this,n,r,f,a),this.camera},update:function(h,n){this.isRunning&&(this._elapsed+=n,this.progress=u(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(h){if(!this.isRunning&&!this.isComplete)return!1;var n=this.camera;return h.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",h.fillRect(n.x,n.y,n.width,n.height),!0},postRenderWebGL:function(h,n){if(!this.isRunning&&!this.isComplete)return!1;var r=this.camera,f=this.red/255,a=this.green/255,v=this.blue/255;return h.drawFillRect(r.x,r.y,r.width,r.height,n(v,a,f,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var h=this.direction?d.FADE_OUT_COMPLETE:d.FADE_IN_COMPLETE;this.camera.emit(h,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});l.exports=o},22151:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82897),m=e(56694),d=e(89787),o=new m({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(h,n,r,f,a,v,p){return h===void 0&&(h=250),n===void 0&&(n=255),r===void 0&&(r=255),f===void 0&&(f=255),a===void 0&&(a=!1),v===void 0&&(v=null),p===void 0&&(p=this.camera.scene),!a&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=h,this.progress=0,this.red=n,this.green=r,this.blue=f,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=v,this._onUpdateScope=p,this.camera.emit(d.FLASH_START,this.camera,this,h,n,r,f),this.camera)},update:function(h,n){this.isRunning&&(this._elapsed+=n,this.progress=u(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(h){if(!this.isRunning)return!1;var n=this.camera;return h.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",h.fillRect(n.x,n.y,n.width,n.height),!0},postRenderWebGL:function(h,n){if(!this.isRunning)return!1;var r=this.camera,f=this.red/255,a=this.green/255,v=this.blue/255;return h.drawFillRect(r.x,r.y,r.width,r.height,n(v,a,f,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(d.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});l.exports=o},37551:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82897),m=e(56694),d=e(35060),o=e(89787),h=e(93736),n=new m({initialize:function(f){this.camera=f,this.isRunning=!1,this.duration=0,this.source=new h,this.current=new h,this.destination=new h,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(r,f,a,v,p,c,g){a===void 0&&(a=1e3),v===void 0&&(v=d.Linear),p===void 0&&(p=!1),c===void 0&&(c=null),g===void 0&&(g=this.camera.scene);var y=this.camera;return!p&&this.isRunning||(this.isRunning=!0,this.duration=a,this.progress=0,this.source.set(y.scrollX,y.scrollY),this.destination.set(r,f),y.getScroll(r,f,this.current),typeof v=="string"&&d.hasOwnProperty(v)?this.ease=d[v]:typeof v=="function"&&(this.ease=v),this._elapsed=0,this._onUpdate=c,this._onUpdateScope=g,this.camera.emit(o.PAN_START,this.camera,this,a,r,f)),y},update:function(r,f){if(this.isRunning){this._elapsed+=f;var a=u(this._elapsed/this.duration,0,1);this.progress=a;var v=this.camera;if(this._elapsed<this.duration){var p=this.ease(a);v.getScroll(this.destination.x,this.destination.y,this.current);var c=this.source.x+(this.current.x-this.source.x)*p,g=this.source.y+(this.current.y-this.source.y)*p;v.setScroll(c,g),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,v,a,c,g)}else v.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,v,a,v.scrollX,v.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});l.exports=n},1771:(l,T,e)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var u=e(82897),m=e(56694),d=e(89787),o=e(35060),h=new m({initialize:function(r){this.camera=r,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(n,r,f,a,v,p,c){f===void 0&&(f=1e3),a===void 0&&(a=o.Linear),v===void 0&&(v=!1),p===void 0&&(p=null),c===void 0&&(c=this.camera.scene),r===void 0&&(r=!1),this.shortestPath=r;var g=n;n<0?(g=-1*n,this.clockwise=!1):this.clockwise=!0;var y=360*Math.PI/180;g=g-Math.floor(g/y)*y;var S=this.camera;if(!v&&this.isRunning)return S;if(this.isRunning=!0,this.duration=f,this.progress=0,this.source=S.rotation,this.destination=g,typeof a=="string"&&o.hasOwnProperty(a)?this.ease=o[a]:typeof a=="function"&&(this.ease=a),this._elapsed=0,this._onUpdate=p,this._onUpdateScope=c,this.shortestPath){var P=0,C=0;this.destination>this.source?P=Math.abs(this.destination-this.source):P=Math.abs(this.destination+y)-this.source,this.source>this.destination?C=Math.abs(this.source-this.destination):C=Math.abs(this.source+y)-this.destination,P<C?this.clockwise=!0:P>C&&(this.clockwise=!1)}return this.camera.emit(d.ROTATE_START,this.camera,this,f,g),S},update:function(n,r){if(this.isRunning){this._elapsed+=r;var f=u(this._elapsed/this.duration,0,1);this.progress=f;var a=this.camera;if(this._elapsed<this.duration){var v=this.ease(f);this.current=a.rotation;var p=0,c=360*Math.PI/180,g=this.destination,y=this.current;this.clockwise===!1&&(g=this.current,y=this.destination),g>=y?p=Math.abs(g-y):p=Math.abs(g+c)-y;var S=0;this.clockwise?S=a.rotation+p*v:S=a.rotation-p*v,a.rotation=S,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,a,f,S)}else a.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,a,f,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(d.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});l.exports=h},3241:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82897),m=e(56694),d=e(89787),o=e(93736),h=new m({initialize:function(r){this.camera=r,this.isRunning=!1,this.duration=0,this.intensity=new o,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(n,r,f,a,v){return n===void 0&&(n=100),r===void 0&&(r=.05),f===void 0&&(f=!1),a===void 0&&(a=null),v===void 0&&(v=this.camera.scene),!f&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=n,this.progress=0,typeof r=="number"?this.intensity.set(r):this.intensity.set(r.x,r.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=a,this._onUpdateScope=v,this.camera.emit(d.SHAKE_START,this.camera,this,n,r),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(n,r){if(this.isRunning)if(this._elapsed+=r,this.progress=u(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var f=this.intensity,a=this.camera.width,v=this.camera.height,p=this.camera.zoom;this._offsetX=(Math.random()*f.x*a*2-f.x*a)*p,this._offsetY=(Math.random()*f.y*v*2-f.y*v)*p,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(d.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});l.exports=h},13383:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82897),m=e(56694),d=e(35060),o=e(89787),h=new m({initialize:function(r){this.camera=r,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(n,r,f,a,v,p){r===void 0&&(r=1e3),f===void 0&&(f=d.Linear),a===void 0&&(a=!1),v===void 0&&(v=null),p===void 0&&(p=this.camera.scene);var c=this.camera;return!a&&this.isRunning||(this.isRunning=!0,this.duration=r,this.progress=0,this.source=c.zoom,this.destination=n,typeof f=="string"&&d.hasOwnProperty(f)?this.ease=d[f]:typeof f=="function"&&(this.ease=f),this._elapsed=0,this._onUpdate=v,this._onUpdateScope=p,this.camera.emit(o.ZOOM_START,this.camera,this,r,n)),c},update:function(n,r){this.isRunning&&(this._elapsed+=r,this.progress=u(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});l.exports=h},53030:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Fade:e(92522),Flash:e(22151),Pan:e(37551),Shake:e(3241),RotateTo:e(1771),Zoom:e(13383)}},39577:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="cameradestroy"},85373:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerafadeincomplete"},92057:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerafadeinstart"},1903:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerafadeoutcomplete"},96131:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerafadeoutstart"},85409:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="cameraflashcomplete"},25500:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="cameraflashstart"},44071:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="followupdate"},19818:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerapancomplete"},80002:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerapanstart"},87966:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="postrender"},74217:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="prerender"},34805:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerarotatecomplete"},30408:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerarotatestart"},49856:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerashakecomplete"},69189:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerashakestart"},67657:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerazoomcomplete"},14229:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerazoomstart"},89787:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={DESTROY:e(39577),FADE_IN_COMPLETE:e(85373),FADE_IN_START:e(92057),FADE_OUT_COMPLETE:e(1903),FADE_OUT_START:e(96131),FLASH_COMPLETE:e(85409),FLASH_START:e(25500),FOLLOW_UPDATE:e(44071),PAN_COMPLETE:e(19818),PAN_START:e(80002),POST_RENDER:e(87966),PRE_RENDER:e(74217),ROTATE_COMPLETE:e(34805),ROTATE_START:e(30408),SHAKE_COMPLETE:e(49856),SHAKE_START:e(69189),ZOOM_COMPLETE:e(67657),ZOOM_START:e(14229)}},32356:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Camera:e(47751),BaseCamera:e(51052),CameraManager:e(62382),Effects:e(53030),Events:e(89787)}},84219:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(10850),d=new u({initialize:function(h){this.camera=m(h,"camera",null),this.left=m(h,"left",null),this.right=m(h,"right",null),this.up=m(h,"up",null),this.down=m(h,"down",null),this.zoomIn=m(h,"zoomIn",null),this.zoomOut=m(h,"zoomOut",null),this.zoomSpeed=m(h,"zoomSpeed",.01),this.minZoom=m(h,"minZoom",.001),this.maxZoom=m(h,"maxZoom",1e3),this.speedX=0,this.speedY=0;var n=m(h,"speed",null);typeof n=="number"?(this.speedX=n,this.speedY=n):(this.speedX=m(h,"speed.x",0),this.speedY=m(h,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(o){return this.camera=o,this},update:function(o){if(this.active){o===void 0&&(o=1);var h=this.camera;this.up&&this.up.isDown?h.scrollY-=this.speedY*o|0:this.down&&this.down.isDown&&(h.scrollY+=this.speedY*o|0),this.left&&this.left.isDown?h.scrollX-=this.speedX*o|0:this.right&&this.right.isDown&&(h.scrollX+=this.speedX*o|0),this.zoomIn&&this.zoomIn.isDown?(h.zoom-=this.zoomSpeed,h.zoom<this.minZoom&&(h.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(h.zoom+=this.zoomSpeed,h.zoom>this.maxZoom&&(h.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});l.exports=d},69370:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(10850),d=new u({initialize:function(h){this.camera=m(h,"camera",null),this.left=m(h,"left",null),this.right=m(h,"right",null),this.up=m(h,"up",null),this.down=m(h,"down",null),this.zoomIn=m(h,"zoomIn",null),this.zoomOut=m(h,"zoomOut",null),this.zoomSpeed=m(h,"zoomSpeed",.01),this.minZoom=m(h,"minZoom",.001),this.maxZoom=m(h,"maxZoom",1e3),this.accelX=0,this.accelY=0;var n=m(h,"acceleration",null);typeof n=="number"?(this.accelX=n,this.accelY=n):(this.accelX=m(h,"acceleration.x",0),this.accelY=m(h,"acceleration.y",0)),this.dragX=0,this.dragY=0;var r=m(h,"drag",null);typeof r=="number"?(this.dragX=r,this.dragY=r):(this.dragX=m(h,"drag.x",0),this.dragY=m(h,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var f=m(h,"maxSpeed",null);typeof f=="number"?(this.maxSpeedX=f,this.maxSpeedY=f):(this.maxSpeedX=m(h,"maxSpeed.x",0),this.maxSpeedY=m(h,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(o){return this.camera=o,this},update:function(o){if(this.active){o===void 0&&(o=1);var h=this.camera;this._speedX>0?(this._speedX-=this.dragX*o,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*o,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*o,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*o,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(h.scrollX-=this._speedX*o|0),this._speedY!==0&&(h.scrollY-=this._speedY*o|0),this._zoom!==0&&(h.zoom+=this._zoom,h.zoom<this.minZoom?h.zoom=this.minZoom:h.zoom>this.maxZoom&&(h.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});l.exports=d},6524:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={FixedKeyControl:e(84219),SmoothedKeyControl:e(69370)}},44143:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Controls:e(6524),Scene2D:e(32356)}},86459:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={VERSION:"3.60.0",BlendModes:e(95723),ScaleModes:e(27394),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};l.exports=u},14033:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(86459),d=e(18360),o=e(77290),h=e(72632),n=e(10850),r=e(42911),f=e(72283),a=e(5923),v=e(65641),p=e(93222),c=new u({initialize:function(y){y===void 0&&(y={});var S=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],P="#ffffff",C=n(y,"scale",null);this.width=n(C,"width",1024,y),this.height=n(C,"height",768,y),this.zoom=n(C,"zoom",1,y),this.parent=n(C,"parent",void 0,y),this.scaleMode=n(C,C?"mode":"scaleMode",0,y),this.expandParent=n(C,"expandParent",!0,y),this.autoRound=n(C,"autoRound",!1,y),this.autoCenter=n(C,"autoCenter",0,y),this.resizeInterval=n(C,"resizeInterval",500,y),this.fullscreenTarget=n(C,"fullscreenTarget",null,y),this.minWidth=n(C,"minWidth",0,y),this.maxWidth=n(C,"maxWidth",0,y),this.minHeight=n(C,"minHeight",0,y),this.maxHeight=n(C,"maxHeight",0,y),this.renderType=n(y,"type",m.AUTO),this.canvas=n(y,"canvas",null),this.context=n(y,"context",null),this.canvasStyle=n(y,"canvasStyle",null),this.customEnvironment=n(y,"customEnvironment",!1),this.sceneConfig=n(y,"scene",null),this.seed=n(y,"seed",[(Date.now()*Math.random()).toString()]),a.RND=new a.RandomDataGenerator(this.seed),this.gameTitle=n(y,"title",""),this.gameURL=n(y,"url","https://phaser.io"),this.gameVersion=n(y,"version",""),this.autoFocus=n(y,"autoFocus",!0),this.stableSort=n(y,"stableSort",-1),this.stableSort===-1&&(this.stableSort=o.browser.es2019?1:0),o.features.stableSort=this.stableSort,this.domCreateContainer=n(y,"dom.createContainer",!1),this.domPointerEvents=n(y,"dom.pointerEvents","none"),this.inputKeyboard=n(y,"input.keyboard",!0),this.inputKeyboardEventTarget=n(y,"input.keyboard.target",window),this.inputKeyboardCapture=n(y,"input.keyboard.capture",[]),this.inputMouse=n(y,"input.mouse",!0),this.inputMouseEventTarget=n(y,"input.mouse.target",null),this.inputMousePreventDefaultDown=n(y,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=n(y,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=n(y,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=n(y,"input.mouse.preventDefaultWheel",!0),this.inputTouch=n(y,"input.touch",o.input.touch),this.inputTouchEventTarget=n(y,"input.touch.target",null),this.inputTouchCapture=n(y,"input.touch.capture",!0),this.inputActivePointers=n(y,"input.activePointers",1),this.inputSmoothFactor=n(y,"input.smoothFactor",0),this.inputWindowEvents=n(y,"input.windowEvents",!0),this.inputGamepad=n(y,"input.gamepad",!1),this.inputGamepadEventTarget=n(y,"input.gamepad.target",window),this.disableContextMenu=n(y,"disableContextMenu",!1),this.audio=n(y,"audio",{}),this.hideBanner=n(y,"banner",null)===!1,this.hidePhaser=n(y,"banner.hidePhaser",!1),this.bannerTextColor=n(y,"banner.text",P),this.bannerBackgroundColor=n(y,"banner.background",S),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=n(y,"fps",null);var M=n(y,"render",null);this.pipeline=n(M,"pipeline",null,y),this.autoMobilePipeline=n(M,"autoMobilePipeline",!0,y),this.defaultPipeline=n(M,"defaultPipeline",v.MULTI_PIPELINE,y),this.antialias=n(M,"antialias",!0,y),this.antialiasGL=n(M,"antialiasGL",!0,y),this.mipmapFilter=n(M,"mipmapFilter","",y),this.desynchronized=n(M,"desynchronized",!1,y),this.roundPixels=n(M,"roundPixels",!1,y),this.pixelArt=n(M,"pixelArt",this.zoom!==1,y),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=n(M,"transparent",!1,y),this.clearBeforeRender=n(M,"clearBeforeRender",!0,y),this.preserveDrawingBuffer=n(M,"preserveDrawingBuffer",!1,y),this.premultipliedAlpha=n(M,"premultipliedAlpha",!0,y),this.failIfMajorPerformanceCaveat=n(M,"failIfMajorPerformanceCaveat",!1,y),this.powerPreference=n(M,"powerPreference","default",y),this.batchSize=n(M,"batchSize",4096,y),this.maxTextures=n(M,"maxTextures",-1,y),this.maxLights=n(M,"maxLights",10,y);var R=n(y,"backgroundColor",0);this.backgroundColor=p(R),this.transparent&&(this.backgroundColor=p(0),this.backgroundColor.alpha=0),this.preBoot=n(y,"callbacks.preBoot",f),this.postBoot=n(y,"callbacks.postBoot",f),this.physics=n(y,"physics",{}),this.defaultPhysicsSystem=n(this.physics,"default",!1),this.loaderBaseURL=n(y,"loader.baseURL",""),this.loaderPath=n(y,"loader.path",""),this.loaderMaxParallelDownloads=n(y,"loader.maxParallelDownloads",o.os.android?6:32),this.loaderCrossOrigin=n(y,"loader.crossOrigin",void 0),this.loaderResponseType=n(y,"loader.responseType",""),this.loaderAsync=n(y,"loader.async",!0),this.loaderUser=n(y,"loader.user",""),this.loaderPassword=n(y,"loader.password",""),this.loaderTimeout=n(y,"loader.timeout",0),this.loaderWithCredentials=n(y,"loader.withCredentials",!1),this.loaderImageLoadType=n(y,"loader.imageLoadType","XHR"),this.loaderLocalScheme=n(y,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=n(y,"fx.glow.quality",.1),this.glowFXDistance=n(y,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var w=n(y,"plugins",null),O=d.DefaultScene;w&&(Array.isArray(w)?this.defaultPlugins=w:r(w)&&(this.installGlobalPlugins=h(w,"global",[]),this.installScenePlugins=h(w,"scene",[]),Array.isArray(w.default)?O=w.default:Array.isArray(w.defaultMerge)&&(O=O.concat(w.defaultMerge)))),this.defaultPlugins=O;var F="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=n(y,"images.default",F+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=n(y,"images.missing",F+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=n(y,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=m.WEBGL:window.FORCE_CANVAS&&(this.renderType=m.CANVAS))}});l.exports=c},50150:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(70616),m=e(61068),d=e(86459),o=e(90185),h=function(n){var r=n.config;if((r.customEnvironment||r.canvas)&&r.renderType===d.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!r.customEnvironment&&!r.canvas&&r.renderType!==d.HEADLESS)if(r.renderType===d.AUTO&&(r.renderType=o.webGL?d.WEBGL:d.CANVAS),r.renderType===d.WEBGL){if(!o.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(r.renderType===d.CANVAS){if(!o.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+r.renderType);r.antialias||m.disableSmoothing();var f=n.scale.baseSize,a=f.width,v=f.height;if(r.canvas?(n.canvas=r.canvas,n.canvas.width=a,n.canvas.height=v):n.canvas=m.create(n,a,v,r.renderType),r.canvasStyle&&(n.canvas.style=r.canvasStyle),r.antialias||u.setCrisp(n.canvas),r.renderType!==d.HEADLESS){var p,c;p=e(91135),c=e(11857),r.renderType===d.WEBGL?n.renderer=new c(n):(n.renderer=new p(n),n.context=n.renderer.gameContext)}};l.exports=h},77291:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(86459),m=function(d){var o=d.config;if(!o.hideBanner){var h="WebGL";o.renderType===u.CANVAS?h="Canvas":o.renderType===u.HEADLESS&&(h="Headless");var n=o.audio,r=d.device.audio,f;if(r.webAudio&&!n.disableWebAudio?f="Web Audio":n.noAudio||!r.webAudio&&!r.audioData?f="No Audio":f="HTML5 Audio",d.device.browser.ie)window.console&&console.log("Phaser v"+u.VERSION+" / https://phaser.io");else{var a="",v=[a];if(Array.isArray(o.bannerBackgroundColor)){var p;o.bannerBackgroundColor.forEach(function(g){a=a.concat("%c "),v.push("background: "+g),p=g}),v[v.length-1]="color: "+o.bannerTextColor+"; background: "+p}else a=a.concat("%c "),v.push("color: "+o.bannerTextColor+"; background: "+o.bannerBackgroundColor);v.push("background: transparent"),o.gameTitle&&(a=a.concat(o.gameTitle),o.gameVersion&&(a=a.concat(" v"+o.gameVersion)),o.hidePhaser||(a=a.concat(" / ")));var c="";o.hidePhaser||(a=a.concat("Phaser v"+u.VERSION+c+" ("+h+" | "+f+")")),a=a.concat(" %c "+o.gameURL),v[0]=a,console.log.apply(console,v)}}};l.exports=m},15213:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(99584),m=e(90249),d=e(43474),o=e(61068),h=e(56694),n=e(14033),r=e(85178),f=e(50150),a=e(81078),v=e(77291),p=e(77290),c=e(21546),g=e(6659),y=e(97081),S=e(69898),P=e(91963),C=e(49274),M=e(756),R=e(13553),w=e(38203),O=e(6237),F=e(26617),L=e(26493),b=e(84191),B=new h({initialize:function(z){this.config=new n(z),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new g,this.anims=new m(this),this.textures=new O(this),this.cache=new d(this),this.registry=new a(this,new g),this.input=new S(this,this.config),this.scene=new R(this,this.config.sceneConfig),this.device=p,this.scale=new M(this,this.config),this.sound=null,this.sound=b.create(this),this.loop=new F(this,this.config.fps),this.plugins=new C(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,c(this.boot.bind(this))},boot:function(){if(!P.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),f(this),r(this),v(this),u(this.canvas,this.config.parent),this.textures.once(w.READY,this.texturesReady,this),this.events.emit(y.BOOT)},texturesReady:function(){this.events.emit(y.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),L(this);var I=this.events;I.on(y.HIDDEN,this.onHidden,this),I.on(y.VISIBLE,this.onVisible,this),I.on(y.BLUR,this.onBlur,this),I.on(y.FOCUS,this.onFocus,this)},step:function(I,z){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var Y=this.events;Y.emit(y.PRE_STEP,I,z),Y.emit(y.STEP,I,z),this.scene.update(I,z),Y.emit(y.POST_STEP,I,z);var W=this.renderer;W.preRender(),Y.emit(y.PRE_RENDER,W,I,z),this.scene.render(W),W.postRender(),Y.emit(y.POST_RENDER,W,I,z)}},headlessStep:function(I,z){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var Y=this.events;Y.emit(y.PRE_STEP,I,z),Y.emit(y.STEP,I,z),this.scene.update(I,z),Y.emit(y.POST_STEP,I,z),this.scene.isProcessing=!1,Y.emit(y.PRE_RENDER,null,I,z),Y.emit(y.POST_RENDER,null,I,z)}},onHidden:function(){this.loop.pause(),this.events.emit(y.PAUSE)},pause:function(){var I=this.isPaused;this.isPaused=!0,I||this.events.emit(y.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(y.RESUME)},resume:function(){var I=this.isPaused;this.isPaused=!1,I&&this.events.emit(y.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(I,z){z===void 0&&(z=!1),this.pendingDestroy=!0,this.removeCanvas=I,this.noReturn=z},runDestroy:function(){this.scene.destroy(),this.events.emit(y.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(o.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});l.exports=B},26617:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(10850),d=e(72283),o=e(27385),h=new u({initialize:function(r,f){this.game=r,this.raf=new o,this.started=!1,this.running=!1,this.minFps=m(f,"min",5),this.targetFps=m(f,"target",60),this.fpsLimit=m(f,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=d,this.forceSetTimeOut=m(f,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=m(f,"deltaHistory",10),this.panicMax=m(f,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=m(f,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var n=window.performance.now();this.time=n,this.lastTime=n,this.nextFpsUpdate=n+1e3,this.framesThisSecond=0;for(var r=0;r<this.deltaSmoothingMax;r++)this.deltaHistory[r]=Math.min(this._target,this.deltaHistory[r]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(n){if(this.started)return this;this.started=!0,this.running=!0;for(var r=0;r<this.deltaSmoothingMax;r++)this.deltaHistory[r]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=n;var f=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(f,this.forceSetTimeOut,this._target)},smoothDelta:function(n){var r=this.deltaIndex,f=this.deltaHistory,a=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,n=Math.min(n,this._target)),n>this._min&&(n=f[r],n=Math.min(n,this._min)),f[r]=n,this.deltaIndex++,this.deltaIndex>=a&&(this.deltaIndex=0);for(var v=0,p=0;p<a;p++)v+=f[p];return v/=a,v},updateFPS:function(n){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=n+1e3,this.framesThisSecond=0},stepLimitFPS:function(n){this.now=n;var r=Math.max(0,n-this.lastTime);this.rawDelta=r,this.time+=this.rawDelta,this.smoothStep&&(r=this.smoothDelta(r)),this.delta+=r,n>=this.nextFpsUpdate&&this.updateFPS(n),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(n,this.delta),this.delta=0),this.lastTime=n,this.frame++},step:function(n){this.now=n;var r=Math.max(0,n-this.lastTime);this.rawDelta=r,this.time+=this.rawDelta,this.smoothStep&&(r=this.smoothDelta(r)),this.delta=r,n>=this.nextFpsUpdate&&this.updateFPS(n),this.framesThisSecond++,this.callback(n,r),this.lastTime=n,this.frame++},tick:function(){var n=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(n):this.step(n)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(n){n===void 0&&(n=!1);var r=window.performance.now();if(!this.running){n&&(this.startTime+=-this.lastTime+(this.lastTime+r));var f=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(f,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=r+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});l.exports=h},26493:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(97081),m=function(d){var o,h=d.events;if(document.hidden!==void 0)o="visibilitychange";else{var n=["webkit","moz","ms"];n.forEach(function(f){document[f+"Hidden"]!==void 0&&(document.hidden=function(){return document[f+"Hidden"]},o=f+"visibilitychange")})}var r=function(f){document.hidden||f.type==="pause"?h.emit(u.HIDDEN):h.emit(u.VISIBLE)};o&&document.addEventListener(o,r,!1),window.onblur=function(){h.emit(u.BLUR)},window.onfocus=function(){h.emit(u.FOCUS)},window.focus&&d.config.autoFocus&&window.focus()};l.exports=m},41651:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="blur"},5520:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="boot"},51673:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="contextlost"},25055:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="destroy"},23767:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="focus"},57564:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="hidden"},38327:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pause"},43807:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="postrender"},73652:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="poststep"},780:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="prerender"},13781:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="prestep"},38247:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="ready"},29129:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="resume"},34994:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="step"},98704:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="visible"},97081:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={BLUR:e(41651),BOOT:e(5520),CONTEXT_LOST:e(51673),DESTROY:e(25055),FOCUS:e(23767),HIDDEN:e(57564),PAUSE:e(38327),POST_RENDER:e(43807),POST_STEP:e(73652),PRE_RENDER:e(780),PRE_STEP:e(13781),READY:e(38247),RESUME:e(29129),STEP:e(34994),VISIBLE:e(98704)}},80293:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Config:e(14033),CreateRenderer:e(50150),DebugHeader:e(77291),Events:e(97081),TimeStep:e(26617),VisibilityHandler:e(26493)}},52780:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(81543),m=e(61068),d=e(10850),o=function(h){var n=d(h,"data",[]),r=d(h,"canvas",null),f=d(h,"palette",u),a=d(h,"pixelWidth",1),v=d(h,"pixelHeight",a),p=d(h,"resizeCanvas",!0),c=d(h,"clearCanvas",!0),g=d(h,"preRender",null),y=d(h,"postRender",null),S=Math.floor(Math.abs(n[0].length*a)),P=Math.floor(Math.abs(n.length*v));r||(r=m.create2D(this,S,P),p=!1,c=!1),p&&(r.width=S,r.height=P);var C=r.getContext("2d",{willReadFrequently:!0});c&&C.clearRect(0,0,S,P),g&&g(r,C);for(var M=0;M<n.length;M++)for(var R=n[M],w=0;w<R.length;w++){var O=R[w];O!=="."&&O!==" "&&(C.fillStyle=f[O],C.fillRect(w*a,M*v,a,v))}return y&&y(r,C),r};l.exports=o},84106:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={GenerateTexture:e(52780),Palettes:e(25235)}},81543:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},75846:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},83206:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},13194:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},50686:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},25235:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ARNE16:e(81543),C64:e(75846),CGA:e(83206),JMP:e(13194),MSX:e(50686)}},63120:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(34631),d=e(38517),o=e(93736),h=new u({Extends:d,initialize:function(r,f,a,v){d.call(this,"CubicBezierCurve"),Array.isArray(r)&&(v=new o(r[6],r[7]),a=new o(r[4],r[5]),f=new o(r[2],r[3]),r=new o(r[0],r[1])),this.p0=r,this.p1=f,this.p2=a,this.p3=v},getStartPoint:function(n){return n===void 0&&(n=new o),n.copy(this.p0)},getResolution:function(n){return n},getPoint:function(n,r){r===void 0&&(r=new o);var f=this.p0,a=this.p1,v=this.p2,p=this.p3;return r.set(m(n,f.x,a.x,v.x,p.x),m(n,f.y,a.y,v.y,p.y))},draw:function(n,r){r===void 0&&(r=32);var f=this.getPoints(r);n.beginPath(),n.moveTo(this.p0.x,this.p0.y);for(var a=1;a<f.length;a++)n.lineTo(f[a].x,f[a].y);return n.strokePath(),n},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});h.fromJSON=function(n){var r=n.points,f=new o(r[0],r[1]),a=new o(r[2],r[3]),v=new o(r[4],r[5]),p=new o(r[6],r[7]);return new h(f,a,v,p)},l.exports=h},38517:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(80222),d=e(74118),o=e(93736),h=new u({initialize:function(r){this.type=r,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new o,this._tmpVec2B=new o},draw:function(n,r){return r===void 0&&(r=32),n.strokePoints(this.getPoints(r))},getBounds:function(n,r){n||(n=new d),r===void 0&&(r=16);var f=this.getLength();r>f&&(r=f/2);var a=Math.max(1,Math.round(f/r));return m(this.getSpacedPoints(a),n)},getDistancePoints:function(n){var r=this.getLength(),f=Math.max(1,r/n);return this.getSpacedPoints(f)},getEndPoint:function(n){return n===void 0&&(n=new o),this.getPointAt(1,n)},getLength:function(){var n=this.getLengths();return n[n.length-1]},getLengths:function(n){if(n===void 0&&(n=this.arcLengthDivisions),this.cacheArcLengths.length===n+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var r=[],f,a=this.getPoint(0,this._tmpVec2A),v=0;r.push(0);for(var p=1;p<=n;p++)f=this.getPoint(p/n,this._tmpVec2B),v+=f.distance(a),r.push(v),a.copy(f);return this.cacheArcLengths=r,r},getPointAt:function(n,r){var f=this.getUtoTmapping(n);return this.getPoint(f,r)},getPoints:function(n,r,f){f===void 0&&(f=[]),n||(r?n=this.getLength()/r:n=this.defaultDivisions);for(var a=0;a<=n;a++)f.push(this.getPoint(a/n));return f},getRandomPoint:function(n){return n===void 0&&(n=new o),this.getPoint(Math.random(),n)},getSpacedPoints:function(n,r,f){f===void 0&&(f=[]),n||(r?n=this.getLength()/r:n=this.defaultDivisions);for(var a=0;a<=n;a++){var v=this.getUtoTmapping(a/n,null,n);f.push(this.getPoint(v))}return f},getStartPoint:function(n){return n===void 0&&(n=new o),this.getPointAt(0,n)},getTangent:function(n,r){r===void 0&&(r=new o);var f=1e-4,a=n-f,v=n+f;return a<0&&(a=0),v>1&&(v=1),this.getPoint(a,this._tmpVec2A),this.getPoint(v,r),r.subtract(this._tmpVec2A).normalize()},getTangentAt:function(n,r){var f=this.getUtoTmapping(n);return this.getTangent(f,r)},getTFromDistance:function(n,r){return n<=0?0:this.getUtoTmapping(0,n,r)},getUtoTmapping:function(n,r,f){var a=this.getLengths(f),v=0,p=a.length,c;r?c=Math.min(r,a[p-1]):c=n*a[p-1];for(var g=0,y=p-1,S;g<=y;)if(v=Math.floor(g+(y-g)/2),S=a[v]-c,S<0)g=v+1;else if(S>0)y=v-1;else{y=v;break}if(v=y,a[v]===c)return v/(p-1);var P=a[v],C=a[v+1],M=C-P,R=(c-P)/M;return(v+R)/(p-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});l.exports=h},48835:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(38517),d=e(75606),o=e(10850),h=e(23701),n=e(93736),r=new u({Extends:m,initialize:function(a,v,p,c,g,y,S,P){if(typeof a=="object"){var C=a;a=o(C,"x",0),v=o(C,"y",0),p=o(C,"xRadius",0),c=o(C,"yRadius",p),g=o(C,"startAngle",0),y=o(C,"endAngle",360),S=o(C,"clockwise",!1),P=o(C,"rotation",0)}else c===void 0&&(c=p),g===void 0&&(g=0),y===void 0&&(y=360),S===void 0&&(S=!1),P===void 0&&(P=0);m.call(this,"EllipseCurve"),this.p0=new n(a,v),this._xRadius=p,this._yRadius=c,this._startAngle=d(g),this._endAngle=d(y),this._clockwise=S,this._rotation=d(P)},getStartPoint:function(f){return f===void 0&&(f=new n),this.getPoint(0,f)},getResolution:function(f){return f*2},getPoint:function(f,a){a===void 0&&(a=new n);for(var v=Math.PI*2,p=this._endAngle-this._startAngle,c=Math.abs(p)<Number.EPSILON;p<0;)p+=v;for(;p>v;)p-=v;p<Number.EPSILON&&(c?p=0:p=v),this._clockwise&&!c&&(p===v?p=-v:p=p-v);var g=this._startAngle+f*p,y=this.p0.x+this._xRadius*Math.cos(g),S=this.p0.y+this._yRadius*Math.sin(g);if(this._rotation!==0){var P=Math.cos(this._rotation),C=Math.sin(this._rotation),M=y-this.p0.x,R=S-this.p0.y;y=M*P-R*C+this.p0.x,S=M*C+R*P+this.p0.y}return a.set(y,S)},setXRadius:function(f){return this.xRadius=f,this},setYRadius:function(f){return this.yRadius=f,this},setWidth:function(f){return this.xRadius=f/2,this},setHeight:function(f){return this.yRadius=f/2,this},setStartAngle:function(f){return this.startAngle=f,this},setEndAngle:function(f){return this.endAngle=f,this},setClockwise:function(f){return this.clockwise=f,this},setRotation:function(f){return this.rotation=f,this},x:{get:function(){return this.p0.x},set:function(f){this.p0.x=f}},y:{get:function(){return this.p0.y},set:function(f){this.p0.y=f}},xRadius:{get:function(){return this._xRadius},set:function(f){this._xRadius=f}},yRadius:{get:function(){return this._yRadius},set:function(f){this._yRadius=f}},startAngle:{get:function(){return h(this._startAngle)},set:function(f){this._startAngle=d(f)}},endAngle:{get:function(){return h(this._endAngle)},set:function(f){this._endAngle=d(f)}},clockwise:{get:function(){return this._clockwise},set:function(f){this._clockwise=f}},angle:{get:function(){return h(this._rotation)},set:function(f){this._rotation=d(f)}},rotation:{get:function(){return this._rotation},set:function(f){this._rotation=f}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:h(this._startAngle),endAngle:h(this._endAngle),clockwise:this._clockwise,rotation:h(this._rotation)}}});r.fromJSON=function(f){return new r(f)},l.exports=r},58084:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(38517),d=e(80222),o=e(74118),h=e(93736),n=new u({Extends:m,initialize:function(f,a){m.call(this,"LineCurve"),Array.isArray(f)&&(a=new h(f[2],f[3]),f=new h(f[0],f[1])),this.p0=f,this.p1=a,this.arcLengthDivisions=1},getBounds:function(r){return r===void 0&&(r=new o),d([this.p0,this.p1],r)},getStartPoint:function(r){return r===void 0&&(r=new h),r.copy(this.p0)},getResolution:function(r){return r===void 0&&(r=1),r},getPoint:function(r,f){return f===void 0&&(f=new h),r===1?f.copy(this.p1):(f.copy(this.p1).subtract(this.p0).scale(r).add(this.p0),f)},getPointAt:function(r,f){return this.getPoint(r,f)},getTangent:function(r,f){return f===void 0&&(f=new h),f.copy(this.p1).subtract(this.p0).normalize(),f},getUtoTmapping:function(r,f,a){var v;if(f){var p=this.getLengths(a),c=p[p.length-1],g=Math.min(f,c);v=g/c}else v=r;return v},draw:function(r){return r.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),r},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});n.fromJSON=function(r){var f=r.points,a=new h(f[0],f[1]),v=new h(f[2],f[3]);return new n(a,v)},l.exports=n},64761:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(38517),d=e(16252),o=e(93736),h=new u({Extends:m,initialize:function(r,f,a){m.call(this,"QuadraticBezierCurve"),Array.isArray(r)&&(a=new o(r[4],r[5]),f=new o(r[2],r[3]),r=new o(r[0],r[1])),this.p0=r,this.p1=f,this.p2=a},getStartPoint:function(n){return n===void 0&&(n=new o),n.copy(this.p0)},getResolution:function(n){return n},getPoint:function(n,r){r===void 0&&(r=new o);var f=this.p0,a=this.p1,v=this.p2;return r.set(d(n,f.x,a.x,v.x),d(n,f.y,a.y,v.y))},draw:function(n,r){r===void 0&&(r=32);var f=this.getPoints(r);n.beginPath(),n.moveTo(this.p0.x,this.p0.y);for(var a=1;a<f.length;a++)n.lineTo(f[a].x,f[a].y);return n.strokePath(),n},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});h.fromJSON=function(n){var r=n.points,f=new o(r[0],r[1]),a=new o(r[2],r[3]),v=new o(r[4],r[5]);return new h(f,a,v)},l.exports=h},11956:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(14976),m=e(56694),d=e(38517),o=e(93736),h=new m({Extends:d,initialize:function(r){r===void 0&&(r=[]),d.call(this,"SplineCurve"),this.points=[],this.addPoints(r)},addPoints:function(n){for(var r=0;r<n.length;r++){var f=new o;typeof n[r]=="number"?(f.x=n[r],f.y=n[r+1],r++):Array.isArray(n[r])?(f.x=n[r][0],f.y=n[r][1]):(f.x=n[r].x,f.y=n[r].y),this.points.push(f)}return this},addPoint:function(n,r){var f=new o(n,r);return this.points.push(f),f},getStartPoint:function(n){return n===void 0&&(n=new o),n.copy(this.points[0])},getResolution:function(n){return n*this.points.length},getPoint:function(n,r){r===void 0&&(r=new o);var f=this.points,a=(f.length-1)*n,v=Math.floor(a),p=a-v,c=f[v===0?v:v-1],g=f[v],y=f[v>f.length-2?f.length-1:v+1],S=f[v>f.length-3?f.length-1:v+2];return r.set(u(p,c.x,g.x,y.x,S.x),u(p,c.y,g.y,y.y,S.y))},toJSON:function(){for(var n=[],r=0;r<this.points.length;r++)n.push(this.points[r].x),n.push(this.points[r].y);return{type:this.type,points:n}}});h.fromJSON=function(n){return new h(n.points)},l.exports=h},73962:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Path:e(12822),MoveTo:e(53639),CubicBezier:e(63120),Curve:e(38517),Ellipse:e(48835),Line:e(58084),QuadraticBezier:e(64761),Spline:e(11956)}},53639:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(93736),d=new u({initialize:function(h,n){this.active=!1,this.p0=new m(h,n)},getPoint:function(o,h){return h===void 0&&(h=new m),h.copy(this.p0)},getPointAt:function(o,h){return this.getPoint(o,h)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});l.exports=d},12822:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(63120),d=e(48835),o=e(61286),h=e(58084),n=e(53639),r=e(64761),f=e(74118),a=e(11956),v=e(93736),p=e(83392),c=new u({initialize:function(y,S){y===void 0&&(y=0),S===void 0&&(S=0),this.name="",this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new v,this._tmpVec2A=new v,this._tmpVec2B=new v,typeof y=="object"?this.fromJSON(y):this.startPoint.set(y,S)},add:function(g){return this.curves.push(g),this},circleTo:function(g,y,S){return y===void 0&&(y=!1),this.ellipseTo(g,g,0,360,y,S)},closePath:function(){var g=this.curves[0].getPoint(0),y=this.curves[this.curves.length-1].getPoint(1);return g.equals(y)||this.curves.push(new h(y,g)),this},cubicBezierTo:function(g,y,S,P,C,M){var R=this.getEndPoint(),w,O,F;return g instanceof v?(w=g,O=y,F=S):(w=new v(S,P),O=new v(C,M),F=new v(g,y)),this.add(new m(R,w,O,F))},quadraticBezierTo:function(g,y,S,P){var C=this.getEndPoint(),M,R;return g instanceof v?(M=g,R=y):(M=new v(S,P),R=new v(g,y)),this.add(new r(C,M,R))},draw:function(g,y){for(var S=0;S<this.curves.length;S++){var P=this.curves[S];P.active&&P.draw(g,y)}return g},ellipseTo:function(g,y,S,P,C,M){var R=new d(0,0,g,y,S,P,C,M),w=this.getEndPoint(this._tmpVec2A),O=R.getStartPoint(this._tmpVec2B);return w.subtract(O),R.x=w.x,R.y=w.y,this.add(R)},fromJSON:function(g){this.curves=[],this.cacheLengths=[],this.startPoint.set(g.x,g.y),this.autoClose=g.autoClose;for(var y=0;y<g.curves.length;y++){var S=g.curves[y];switch(S.type){case"LineCurve":this.add(h.fromJSON(S));break;case"EllipseCurve":this.add(d.fromJSON(S));break;case"SplineCurve":this.add(a.fromJSON(S));break;case"CubicBezierCurve":this.add(m.fromJSON(S));break;case"QuadraticBezierCurve":this.add(r.fromJSON(S));break}}return this},getBounds:function(g,y){g===void 0&&(g=new f),y===void 0&&(y=16),g.x=Number.MAX_VALUE,g.y=Number.MAX_VALUE;for(var S=new f,P=p.MIN_SAFE_INTEGER,C=p.MIN_SAFE_INTEGER,M=0;M<this.curves.length;M++){var R=this.curves[M];R.active&&(R.getBounds(S,y),g.x=Math.min(g.x,S.x),g.y=Math.min(g.y,S.y),P=Math.max(P,S.right),C=Math.max(C,S.bottom))}return g.right=P,g.bottom=C,g},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var g=[],y=0,S=0;S<this.curves.length;S++)y+=this.curves[S].getLength(),g.push(y);return this.cacheLengths=g,g},getCurveAt:function(g){for(var y=g*this.getLength(),S=this.getCurveLengths(),P=0;P<S.length;){if(S[P]>=y)return this.curves[P];P++}return null},getEndPoint:function(g){return g===void 0&&(g=new v),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,g):g.copy(this.startPoint),g},getLength:function(){var g=this.getCurveLengths();return g[g.length-1]},getPoint:function(g,y){y===void 0&&(y=new v);for(var S=g*this.getLength(),P=this.getCurveLengths(),C=0;C<P.length;){if(P[C]>=S){var M=P[C]-S,R=this.curves[C],w=R.getLength(),O=w===0?0:1-M/w;return R.getPointAt(O,y)}C++}return null},getPoints:function(g){g===void 0&&(g=12);for(var y=[],S,P=0;P<this.curves.length;P++){var C=this.curves[P];if(C.active)for(var M=C.getResolution(g),R=C.getPoints(M),w=0;w<R.length;w++){var O=R[w];S&&S.equals(O)||(y.push(O),S=O)}}return this.autoClose&&y.length>1&&!y[y.length-1].equals(y[0])&&y.push(y[0]),y},getRandomPoint:function(g){return g===void 0&&(g=new v),this.getPoint(Math.random(),g)},getSpacedPoints:function(g){g===void 0&&(g=40);for(var y=[],S=0;S<=g;S++)y.push(this.getPoint(S/g));return this.autoClose&&y.push(y[0]),y},getStartPoint:function(g){return g===void 0&&(g=new v),g.copy(this.startPoint)},getTangent:function(g,y){y===void 0&&(y=new v);for(var S=g*this.getLength(),P=this.getCurveLengths(),C=0;C<P.length;){if(P[C]>=S){var M=P[C]-S,R=this.curves[C],w=R.getLength(),O=w===0?0:1-M/w;return R.getTangentAt(O,y)}C++}return null},lineTo:function(g,y){g instanceof v?this._tmpVec2B.copy(g):this._tmpVec2B.set(g,y);var S=this.getEndPoint(this._tmpVec2A);return this.add(new h([S.x,S.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(g){return g.unshift(this.getEndPoint()),this.add(new a(g))},moveTo:function(g,y){return g instanceof v?this.add(new n(g.x,g.y)):this.add(new n(g,y))},toJSON:function(){for(var g=[],y=0;y<this.curves.length;y++)g.push(this.curves[y].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:g}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});o.register("path",function(g,y){return new c(g,y)}),l.exports=c},81078:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(35026),d=new u({initialize:function(h,n){this.parent=h,this.events=n,n||(this.events=h.events?h.events:h),this.list={},this.values={},this._frozen=!1,!h.hasOwnProperty("sys")&&this.events&&this.events.once(m.DESTROY,this.destroy,this)},get:function(o){var h=this.list;if(Array.isArray(o)){for(var n=[],r=0;r<o.length;r++)n.push(h[o[r]]);return n}else return h[o]},getAll:function(){var o={};for(var h in this.list)this.list.hasOwnProperty(h)&&(o[h]=this.list[h]);return o},query:function(o){var h={};for(var n in this.list)this.list.hasOwnProperty(n)&&n.match(o)&&(h[n]=this.list[n]);return h},set:function(o,h){if(this._frozen)return this;if(typeof o=="string")return this.setValue(o,h);for(var n in o)this.setValue(n,o[n]);return this},inc:function(o,h){if(this._frozen)return this;h===void 0&&(h=1);var n=this.get(o);return n===void 0&&(n=0),this.set(o,n+h),this},toggle:function(o){return this._frozen?this:(this.set(o,!this.get(o)),this)},setValue:function(o,h){if(this._frozen)return this;if(this.has(o))this.values[o]=h;else{var n=this,r=this.list,f=this.events,a=this.parent;Object.defineProperty(this.values,o,{enumerable:!0,configurable:!0,get:function(){return r[o]},set:function(v){if(!n._frozen){var p=r[o];r[o]=v,f.emit(m.CHANGE_DATA,a,o,v,p),f.emit(m.CHANGE_DATA_KEY+o,a,v,p)}}}),r[o]=h,f.emit(m.SET_DATA,a,o,h)}return this},each:function(o,h){for(var n=[this.parent,null,void 0],r=1;r<arguments.length;r++)n.push(arguments[r]);for(var f in this.list)n[1]=f,n[2]=this.list[f],o.apply(h,n);return this},merge:function(o,h){h===void 0&&(h=!0);for(var n in o)o.hasOwnProperty(n)&&(h||!h&&!this.has(n))&&this.setValue(n,o[n]);return this},remove:function(o){if(this._frozen)return this;if(Array.isArray(o))for(var h=0;h<o.length;h++)this.removeValue(o[h]);else return this.removeValue(o);return this},removeValue:function(o){if(this.has(o)){var h=this.list[o];delete this.list[o],delete this.values[o],this.events.emit(m.REMOVE_DATA,this.parent,o,h)}return this},pop:function(o){var h=void 0;return!this._frozen&&this.has(o)&&(h=this.list[o],delete this.list[o],delete this.values[o],this.events.emit(m.REMOVE_DATA,this.parent,o,h)),h},has:function(o){return this.list.hasOwnProperty(o)},setFreeze:function(o){return this._frozen=o,this},reset:function(){for(var o in this.list)delete this.list[o],delete this.values[o];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(m.CHANGE_DATA),this.events.off(m.SET_DATA),this.events.off(m.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(o){this._frozen=!!o}},count:{get:function(){var o=0;for(var h in this.list)this.list[h]!==void 0&&o++;return o}}});l.exports=d},76508:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(81078),d=e(91963),o=e(7599),h=new u({Extends:m,initialize:function(r){m.call(this,r,r.sys.events),this.scene=r,this.systems=r.sys,r.sys.events.once(o.BOOT,this.boot,this),r.sys.events.on(o.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(o.DESTROY,this.destroy,this)},start:function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){m.prototype.destroy.call(this),this.events.off(o.START,this.start,this),this.scene=null,this.systems=null}});d.register("DataManagerPlugin",h,"data"),l.exports=h},73569:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="changedata"},15590:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="changedata-"},37669:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="destroy"},87090:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="removedata"},90142:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="setdata"},35026:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={CHANGE_DATA:e(73569),CHANGE_DATA_KEY:e(15590),DESTROY:e(37669),REMOVE_DATA:e(87090),SET_DATA:e(90142)}},1999:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={DataManager:e(81078),DataManagerPlugin:e(76508),Events:e(35026)}},10720:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(1350),m={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function d(){if(typeof importScripts=="function")return m;m.audioData=!!window.Audio,m.webAudio=!!(window.AudioContext||window.webkitAudioContext);var o=document.createElement("audio"),h=!!o.canPlayType;try{if(h){var n=function(a,v){var p=o.canPlayType("audio/"+a).replace(/^no$/,"");return v?!!(p||o.canPlayType("audio/"+v).replace(/^no$/,"")):!!p};if(m.ogg=n('ogg; codecs="vorbis"'),m.opus=n('ogg; codecs="opus"',"opus"),m.mp3=n("mpeg"),m.wav=n("wav"),m.m4a=n("x-m4a"),m.aac=n("aac"),m.flac=n("flac","x-flac"),m.webm=n('webm; codecs="vorbis"'),o.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(u.edge)m.dolby=!0;else if(u.safari&&u.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var r=parseInt(RegExp.$1,10),f=parseInt(RegExp.$2,10);(r===10&&f>=11||r>10)&&(m.dolby=!0)}}}}catch{}return m}l.exports=d()},1350:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(36580),m={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function d(){var o=navigator.userAgent;return/Edg\/\d+/.test(o)?(m.edge=!0,m.es2019=!0):/OPR/.test(o)?(m.opera=!0,m.es2019=!0):/Chrome\/(\d+)/.test(o)&&!u.windowsPhone?(m.chrome=!0,m.chromeVersion=parseInt(RegExp.$1,10),m.es2019=m.chromeVersion>69):/Firefox\D+(\d+)/.test(o)?(m.firefox=!0,m.firefoxVersion=parseInt(RegExp.$1,10),m.es2019=m.firefoxVersion>10):/AppleWebKit/.test(o)&&u.iOS?m.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(o)?(m.ie=!0,m.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+) Safari/.test(o)&&!u.windowsPhone?(m.safari=!0,m.safariVersion=parseInt(RegExp.$1,10),m.es2019=m.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(o)&&(m.ie=!0,m.trident=!0,m.tridentVersion=parseInt(RegExp.$1,10),m.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(o)&&(m.silk=!0),m}l.exports=d()},98581:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61068),m={supportInverseAlpha:!1,supportNewBlendModes:!1};function d(){var n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",r="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",f=new Image;return f.onload=function(){var a=new Image;a.onload=function(){var v=u.create2D(a,6),p=v.getContext("2d",{willReadFrequently:!0});if(p.globalCompositeOperation="multiply",p.drawImage(f,0,0),p.drawImage(a,2,0),!p.getImageData(2,0,1,1))return!1;var c=p.getImageData(2,0,1,1).data;u.remove(a),m.supportNewBlendModes=c[0]===255&&c[1]===0&&c[2]===0},a.src=n+"/wCKxvRF"+r},f.src=n+"AP804Oa6"+r,!1}function o(){var n=u.create2D(this,2),r=n.getContext("2d",{willReadFrequently:!0});r.fillStyle="rgba(10, 20, 30, 0.5)",r.fillRect(0,0,1,1);var f=r.getImageData(0,0,1,1);if(f===null)return!1;r.putImageData(f,1,0);var a=r.getImageData(1,0,1,1),v=a.data[0]===f.data[0]&&a.data[1]===f.data[1]&&a.data[2]===f.data[2]&&a.data[3]===f.data[3];return u.remove(this),v}function h(){return typeof importScripts!="function"&&document!==void 0&&(m.supportNewBlendModes=d(),m.supportInverseAlpha=o()),m}l.exports=h()},90185:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(36580),m=e(1350),d=e(61068),o={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function h(){var r=new ArrayBuffer(4),f=new Uint8Array(r),a=new Uint32Array(r);return f[0]=161,f[1]=178,f[2]=195,f[3]=212,a[0]===3569595041?!0:a[0]===2712847316?!1:null}function n(){if(typeof importScripts=="function")return o;o.canvas=!!window.CanvasRenderingContext2D;try{o.localStorage=!!localStorage.getItem}catch{o.localStorage=!1}o.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,o.fileSystem=!!window.requestFileSystem;var r=!1,f=function(){if(window.WebGLRenderingContext)try{var a=d.createWebGL(this),v=a.getContext("webgl")||a.getContext("experimental-webgl"),p=d.create2D(this),c=p.getContext("2d",{willReadFrequently:!0}),g=c.createImageData(1,1);return r=g.data instanceof Uint8ClampedArray,d.remove(a),d.remove(p),!!v}catch{return!1}return!1};return o.webGL=f(),o.worker=!!window.Worker,o.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,o.getUserMedia=o.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,m.firefox&&m.firefoxVersion<21&&(o.getUserMedia=!1),!u.iOS&&(m.ie||m.firefox||m.chrome)&&(o.canvasBitBltShift=!0),(m.safari||m.mobileSafari)&&(o.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(o.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(o.littleEndian=h()),o.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&o.littleEndian!==null&&r,o}l.exports=n()},33553:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={available:!1,cancel:"",keyboard:!1,request:""};function e(){if(typeof importScripts=="function")return T;var u,m="Fullscreen",d="FullScreen",o=["request"+m,"request"+d,"webkitRequest"+m,"webkitRequest"+d,"msRequest"+m,"msRequest"+d,"mozRequest"+d,"mozRequest"+m];for(u=0;u<o.length;u++)if(document.documentElement[o[u]]){T.available=!0,T.request=o[u];break}var h=["cancel"+d,"exit"+m,"webkitCancel"+d,"webkitExit"+m,"msCancel"+d,"msExit"+m,"mozCancel"+d,"mozExit"+m];if(T.available){for(u=0;u<h.length;u++)if(document[h[u]]){T.cancel=h[u];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(T.keyboard=!0),Object.defineProperty(T,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),T}l.exports=e()},95872:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(1350),m={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function d(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(m.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(m.mspointer=!0),navigator.getGamepads&&(m.gamepads=!0),"onwheel"in window||u.ie&&"WheelEvent"in window?m.wheelEvent="wheel":"onmousewheel"in window?m.wheelEvent="mousewheel":u.firefox&&"MouseScrollEvent"in window&&(m.wheelEvent="DOMMouseScroll")),m}l.exports=d()},36580:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function e(){if(typeof importScripts=="function")return T;var u=navigator.userAgent;/Windows/.test(u)?T.windows=!0:/Mac OS/.test(u)&&!/like Mac OS/.test(u)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(T.iOS=!0,T.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),T.iOSVersion=parseInt(RegExp.$1,10)):T.macOS=!0:/Android/.test(u)?T.android=!0:/Linux/.test(u)?T.linux=!0:/iP[ao]d|iPhone/i.test(u)?(T.iOS=!0,navigator.appVersion.match(/OS (\d+)/),T.iOSVersion=parseInt(RegExp.$1,10),T.iPhone=u.toLowerCase().indexOf("iphone")!==-1,T.iPad=u.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(u)||/\bKF[A-Z][A-Z]+/.test(u)||/Silk.*Mobile Safari/.test(u)?T.kindle=!0:/CrOS/.test(u)&&(T.chromeOS=!0),(/Windows Phone/i.test(u)||/IEMobile/i.test(u))&&(T.android=!1,T.iOS=!1,T.macOS=!1,T.windows=!0,T.windowsPhone=!0);var m=/Silk/.test(u);return(T.windows||T.macOS||T.linux&&!m||T.chromeOS)&&(T.desktop=!0),(T.windowsPhone||/Windows NT/i.test(u)&&/Touch/i.test(u))&&(T.desktop=!1),navigator.standalone&&(T.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(T.cordova=!0),window.ejecta!==void 0&&(T.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(T.node=!0),T.node&&typeof process.versions=="object"&&(T.nodeWebkit=!!process.versions["node-webkit"],T.electron=!!process.versions.electron),/Crosswalk/.test(u)&&(T.crosswalk=!0),T.pixelRatio=window.devicePixelRatio||1,T}l.exports=e()},53861:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72632),m={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function d(){if(typeof importScripts=="function")return m;var o=document.createElement("video"),h=!!o.canPlayType,n=/^no$/;try{h&&(o.canPlayType('video/ogg; codecs="theora"').replace(n,"")&&(m.ogg=!0),o.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(n,"")&&(m.h264=!0,m.mp4=!0),o.canPlayType("video/x-m4v").replace(n,"")&&(m.m4v=!0),o.canPlayType('video/webm; codecs="vp8, vorbis"').replace(n,"")&&(m.webm=!0),o.canPlayType('video/webm; codecs="vp9"').replace(n,"")&&(m.vp9=!0),o.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(n,"")&&(m.hls=!0))}catch{}return o.parentNode&&o.parentNode.removeChild(o),m.getVideoURL=function(r){Array.isArray(r)||(r=[r]);for(var f=0;f<r.length;f++){var a=u(r[f],"url",r[f]);if(a.indexOf("blob:")===0)return{url:a,type:""};var v;if(a.indexOf("data:")===0?v=a.split(",")[0].match(/\/(.*?);/):v=a.match(/\.([a-zA-Z0-9]+)($|\?)/),v=u(r[f],"type",v?v[1]:"").toLowerCase(),m[v])return{url:a,type:v}}return null},m}l.exports=d()},77290:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={os:e(36580),browser:e(1350),features:e(90185),input:e(95872),audio:e(10720),video:e(53861),fullscreen:e(33553),canvasFeatures:e(98581)}},65246:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=new Float32Array(20),d=new u({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(o){return this._matrix.set(o),this._dirty=!0,this},reset:function(){var o=this._matrix;return o.fill(0),o[0]=1,o[6]=1,o[12]=1,o[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var o=this._data;return this._dirty&&(o.set(this._matrix),o[4]/=255,o[9]/=255,o[14]/=255,o[19]/=255,this._dirty=!1),o},brightness:function(o,h){o===void 0&&(o=0),h===void 0&&(h=!1);var n=o;return this.multiply([n,0,0,0,0,0,n,0,0,0,0,0,n,0,0,0,0,0,1,0],h)},saturate:function(o,h){o===void 0&&(o=0),h===void 0&&(h=!1);var n=o*2/3+1,r=(n-1)*-.5;return this.multiply([n,r,r,0,0,r,n,r,0,0,r,r,n,0,0,0,0,0,1,0],h)},desaturate:function(o){return o===void 0&&(o=!1),this.saturate(-1,o)},hue:function(o,h){o===void 0&&(o=0),h===void 0&&(h=!1),o=o/180*Math.PI;var n=Math.cos(o),r=Math.sin(o),f=.213,a=.715,v=.072;return this.multiply([f+n*(1-f)+r*-f,a+n*-a+r*-a,v+n*-v+r*(1-v),0,0,f+n*-f+r*.143,a+n*(1-a)+r*.14,v+n*-v+r*-.283,0,0,f+n*-f+r*-(1-f),a+n*-a+r*a,v+n*(1-v)+r*v,0,0,0,0,0,1,0],h)},grayscale:function(o,h){return o===void 0&&(o=1),h===void 0&&(h=!1),this.saturate(-o,h)},blackWhite:function(o){return o===void 0&&(o=!1),this.multiply(d.BLACK_WHITE,o)},contrast:function(o,h){o===void 0&&(o=0),h===void 0&&(h=!1);var n=o+1,r=-.5*(n-1);return this.multiply([n,0,0,0,r,0,n,0,0,r,0,0,n,0,r,0,0,0,1,0],h)},negative:function(o){return o===void 0&&(o=!1),this.multiply(d.NEGATIVE,o)},desaturateLuminance:function(o){return o===void 0&&(o=!1),this.multiply(d.DESATURATE_LUMINANCE,o)},sepia:function(o){return o===void 0&&(o=!1),this.multiply(d.SEPIA,o)},night:function(o,h){return o===void 0&&(o=.1),h===void 0&&(h=!1),this.multiply([o*-2,-o,0,0,0,-o,0,o,0,0,0,o,o*2,0,0,0,0,0,1,0],h)},lsd:function(o){return o===void 0&&(o=!1),this.multiply(d.LSD,o)},brown:function(o){return o===void 0&&(o=!1),this.multiply(d.BROWN,o)},vintagePinhole:function(o){return o===void 0&&(o=!1),this.multiply(d.VINTAGE,o)},kodachrome:function(o){return o===void 0&&(o=!1),this.multiply(d.KODACHROME,o)},technicolor:function(o){return o===void 0&&(o=!1),this.multiply(d.TECHNICOLOR,o)},polaroid:function(o){return o===void 0&&(o=!1),this.multiply(d.POLAROID,o)},shiftToBGR:function(o){return o===void 0&&(o=!1),this.multiply(d.SHIFT_BGR,o)},multiply:function(o,h){h===void 0&&(h=!1),h||this.reset();var n=this._matrix,r=m;return r.set(n),n.set([r[0]*o[0]+r[1]*o[5]+r[2]*o[10]+r[3]*o[15],r[0]*o[1]+r[1]*o[6]+r[2]*o[11]+r[3]*o[16],r[0]*o[2]+r[1]*o[7]+r[2]*o[12]+r[3]*o[17],r[0]*o[3]+r[1]*o[8]+r[2]*o[13]+r[3]*o[18],r[0]*o[4]+r[1]*o[9]+r[2]*o[14]+r[3]*o[19]+r[4],r[5]*o[0]+r[6]*o[5]+r[7]*o[10]+r[8]*o[15],r[5]*o[1]+r[6]*o[6]+r[7]*o[11]+r[8]*o[16],r[5]*o[2]+r[6]*o[7]+r[7]*o[12]+r[8]*o[17],r[5]*o[3]+r[6]*o[8]+r[7]*o[13]+r[8]*o[18],r[5]*o[4]+r[6]*o[9]+r[7]*o[14]+r[8]*o[19]+r[9],r[10]*o[0]+r[11]*o[5]+r[12]*o[10]+r[13]*o[15],r[10]*o[1]+r[11]*o[6]+r[12]*o[11]+r[13]*o[16],r[10]*o[2]+r[11]*o[7]+r[12]*o[12]+r[13]*o[17],r[10]*o[3]+r[11]*o[8]+r[12]*o[13]+r[13]*o[18],r[10]*o[4]+r[11]*o[9]+r[12]*o[14]+r[13]*o[19]+r[14],r[15]*o[0]+r[16]*o[5]+r[17]*o[10]+r[18]*o[15],r[15]*o[1]+r[16]*o[6]+r[17]*o[11]+r[18]*o[16],r[15]*o[2]+r[16]*o[7]+r[17]*o[12]+r[18]*o[17],r[15]*o[3]+r[16]*o[8]+r[17]*o[13]+r[18]*o[18],r[15]*o[4]+r[16]*o[9]+r[17]*o[14]+r[18]*o[19]+r[19]]),this._dirty=!0,this}});d.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],d.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],d.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],d.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],d.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],d.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],d.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],d.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],d.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],d.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],d.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],l.exports=d},39298:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(72283),d=new u({initialize:function(h,n,r){this._rgb=[0,0,0],this.onChangeCallback=m,this.dirty=!1,this.set(h,n,r)},set:function(o,h,n){return o===void 0&&(o=0),h===void 0&&(h=0),n===void 0&&(n=0),this._rgb=[o,h,n],this.onChange(),this},equals:function(o,h,n){var r=this._rgb;return r[0]===o&&r[1]===h&&r[2]===n},onChange:function(){this.dirty=!0;var o=this._rgb;this.onChangeCallback.call(this,o[0],o[1],o[2])},r:{get:function(){return this._rgb[0]},set:function(o){this._rgb[0]=o,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(o){this._rgb[1]=o,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(o){this._rgb[2]=o,this.onChange()}},destroy:function(){this.onChangeCallback=null}});l.exports=d},84093:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};l.exports=T},32058:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(97328),m=e(59994),d=e(73174),o=e(28417),h=function(n,r,f,a){return f===void 0&&(f=0),a===void 0&&(a=0),o(n,m(r)+f),d(n,u(r)+a),n};l.exports=h},85535:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(97328),m=e(40163),d=e(73174),o=e(74465),h=function(n,r,f,a){return f===void 0&&(f=0),a===void 0&&(a=0),o(n,m(r)-f),d(n,u(r)+a),n};l.exports=h},9605:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(97328),m=e(70271),d=e(73174),o=e(19298),h=function(n,r,f,a){return f===void 0&&(f=0),a===void 0&&(a=0),o(n,m(r)+f),d(n,u(r)+a),n};l.exports=h},22529:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(21843),m=e(59994),d=e(29568),o=function(h,n,r,f){return r===void 0&&(r=0),f===void 0&&(f=0),u(h,m(n)+r,d(n)+f),h};l.exports=o},5739:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29568),m=e(40163),d=e(81711),o=e(74465),h=function(n,r,f,a){return f===void 0&&(f=0),a===void 0&&(a=0),o(n,m(r)-f),d(n,u(r)+a),n};l.exports=h},40327:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(84093),m=[];m[u.BOTTOM_CENTER]=e(32058),m[u.BOTTOM_LEFT]=e(85535),m[u.BOTTOM_RIGHT]=e(9605),m[u.CENTER]=e(22529),m[u.LEFT_CENTER]=e(5739),m[u.RIGHT_CENTER]=e(27683),m[u.TOP_CENTER]=e(96439),m[u.TOP_LEFT]=e(81447),m[u.TOP_RIGHT]=e(47888),m[u.LEFT_BOTTOM]=m[u.BOTTOM_LEFT],m[u.LEFT_TOP]=m[u.TOP_LEFT],m[u.RIGHT_BOTTOM]=m[u.BOTTOM_RIGHT],m[u.RIGHT_TOP]=m[u.TOP_RIGHT];var d=function(o,h,n,r,f){return m[n](o,h,r,f)};l.exports=d},27683:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29568),m=e(70271),d=e(81711),o=e(19298),h=function(n,r,f,a){return f===void 0&&(f=0),a===void 0&&(a=0),o(n,m(r)+f),d(n,u(r)+a),n};l.exports=h},96439:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(59994),m=e(47196),d=e(28417),o=e(84349),h=function(n,r,f,a){return f===void 0&&(f=0),a===void 0&&(a=0),d(n,u(r)+f),o(n,m(r)-a),n};l.exports=h},81447:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(40163),m=e(47196),d=e(74465),o=e(84349),h=function(n,r,f,a){return f===void 0&&(f=0),a===void 0&&(a=0),d(n,u(r)-f),o(n,m(r)-a),n};l.exports=h},47888:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(70271),m=e(47196),d=e(19298),o=e(84349),h=function(n,r,f,a){return f===void 0&&(f=0),a===void 0&&(a=0),d(n,u(r)+f),o(n,m(r)-a),n};l.exports=h},46997:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={BottomCenter:e(32058),BottomLeft:e(85535),BottomRight:e(9605),Center:e(22529),LeftCenter:e(5739),QuickSet:e(40327),RightCenter:e(27683),TopCenter:e(96439),TopLeft:e(81447),TopRight:e(47888)}},93545:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(84093),m=e(98611),d={In:e(46997),To:e(86639)};d=m(!1,d,u),l.exports=d},27118:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(97328),m=e(59994),d=e(28417),o=e(84349),h=function(n,r,f,a){return f===void 0&&(f=0),a===void 0&&(a=0),d(n,m(r)+f),o(n,u(r)+a),n};l.exports=h},84469:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(97328),m=e(40163),d=e(74465),o=e(84349),h=function(n,r,f,a){return f===void 0&&(f=0),a===void 0&&(a=0),d(n,m(r)-f),o(n,u(r)+a),n};l.exports=h},51577:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(97328),m=e(70271),d=e(19298),o=e(84349),h=function(n,r,f,a){return f===void 0&&(f=0),a===void 0&&(a=0),d(n,m(r)+f),o(n,u(r)+a),n};l.exports=h},90271:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(97328),m=e(40163),d=e(73174),o=e(19298),h=function(n,r,f,a){return f===void 0&&(f=0),a===void 0&&(a=0),o(n,m(r)-f),d(n,u(r)+a),n};l.exports=h},30466:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29568),m=e(40163),d=e(81711),o=e(19298),h=function(n,r,f,a){return f===void 0&&(f=0),a===void 0&&(a=0),o(n,m(r)-f),d(n,u(r)+a),n};l.exports=h},50087:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(40163),m=e(47196),d=e(19298),o=e(84349),h=function(n,r,f,a){return f===void 0&&(f=0),a===void 0&&(a=0),d(n,u(r)-f),o(n,m(r)-a),n};l.exports=h},82590:(l,T,e)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(84093),m=[];m[u.BOTTOM_CENTER]=e(27118),m[u.BOTTOM_LEFT]=e(84469),m[u.BOTTOM_RIGHT]=e(51577),m[u.LEFT_BOTTOM]=e(90271),m[u.LEFT_CENTER]=e(30466),m[u.LEFT_TOP]=e(50087),m[u.RIGHT_BOTTOM]=e(13555),m[u.RIGHT_CENTER]=e(99049),m[u.RIGHT_TOP]=e(67788),m[u.TOP_CENTER]=e(78170),m[u.TOP_LEFT]=e(54145),m[u.TOP_RIGHT]=e(75548);var d=function(o,h,n,r,f){return m[n](o,h,r,f)};l.exports=d},13555:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(97328),m=e(70271),d=e(73174),o=e(74465),h=function(n,r,f,a){return f===void 0&&(f=0),a===void 0&&(a=0),o(n,m(r)+f),d(n,u(r)+a),n};l.exports=h},99049:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29568),m=e(70271),d=e(81711),o=e(74465),h=function(n,r,f,a){return f===void 0&&(f=0),a===void 0&&(a=0),o(n,m(r)+f),d(n,u(r)+a),n};l.exports=h},67788:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(70271),m=e(47196),d=e(74465),o=e(84349),h=function(n,r,f,a){return f===void 0&&(f=0),a===void 0&&(a=0),d(n,u(r)+f),o(n,m(r)-a),n};l.exports=h},78170:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(59994),m=e(47196),d=e(73174),o=e(28417),h=function(n,r,f,a){return f===void 0&&(f=0),a===void 0&&(a=0),o(n,u(r)+f),d(n,m(r)-a),n};l.exports=h},54145:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(40163),m=e(47196),d=e(73174),o=e(74465),h=function(n,r,f,a){return f===void 0&&(f=0),a===void 0&&(a=0),o(n,u(r)-f),d(n,m(r)-a),n};l.exports=h},75548:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(70271),m=e(47196),d=e(73174),o=e(19298),h=function(n,r,f,a){return f===void 0&&(f=0),a===void 0&&(a=0),o(n,u(r)+f),d(n,m(r)-a),n};l.exports=h},86639:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={BottomCenter:e(27118),BottomLeft:e(84469),BottomRight:e(51577),LeftBottom:e(90271),LeftCenter:e(30466),LeftTop:e(50087),QuickSet:e(82590),RightBottom:e(13555),RightCenter:e(99049),RightTop:e(67788),TopCenter:e(78170),TopLeft:e(54145),TopRight:e(75548)}},21843:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(28417),m=e(81711),d=function(o,h,n){return u(o,h),m(o,n)};l.exports=d},97328:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.y+e.height-e.height*e.originY};l.exports=T},7126:(l,T,e)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(97328),m=e(40163),d=e(70271),o=e(47196),h=e(74118),n=function(r,f){f===void 0&&(f=new h);var a=m(r),v=o(r);return f.x=a,f.y=v,f.width=d(r)-a,f.height=u(r)-v,f};l.exports=n},59994:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.x-e.width*e.originX+e.width*.5};l.exports=T},29568:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.y-e.height*e.originY+e.height*.5};l.exports=T},40163:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.x-e.width*e.originX};l.exports=T},52088:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.width*e.originX};l.exports=T},23379:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.height*e.originY};l.exports=T},70271:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.x+e.width-e.width*e.originX};l.exports=T},47196:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.y-e.height*e.originY};l.exports=T},73174:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e.y=u-e.height+e.height*e.originY,e};l.exports=T},28417:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){var m=e.width*e.originX;return e.x=u+m-e.width*.5,e};l.exports=T},81711:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){var m=e.height*e.originY;return e.y=u+m-e.height*.5,e};l.exports=T},74465:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e.x=u+e.width*e.originX,e};l.exports=T},19298:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e.x=u-e.width+e.width*e.originX,e};l.exports=T},84349:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e.y=u+e.height*e.originY,e};l.exports=T},15252:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={CenterOn:e(21843),GetBottom:e(97328),GetBounds:e(7126),GetCenterX:e(59994),GetCenterY:e(29568),GetLeft:e(40163),GetOffsetX:e(52088),GetOffsetY:e(23379),GetRight:e(70271),GetTop:e(47196),SetBottom:e(73174),SetCenterX:e(28417),SetCenterY:e(81711),SetLeft:e(74465),SetRight:e(19298),SetTop:e(84349)}},70616:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setCrisp:function(e){var u=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return u.forEach(function(m){e.style["image-rendering"]=m}),e.style.msInterpolationMode="nearest-neighbor",e},setBicubic:function(e){return e.style["image-rendering"]="auto",e.style.msInterpolationMode="bicubic",e}};l.exports=T},61068:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(86459),m=e(8213),d=[],o=!1,h=function(){var n=function(S,P,C,M,R){P===void 0&&(P=1),C===void 0&&(C=1),M===void 0&&(M=u.CANVAS),R===void 0&&(R=!1);var w,O=a(M);return O===null?(O={parent:S,canvas:document.createElement("canvas"),type:M},M===u.CANVAS&&d.push(O),w=O.canvas):(O.parent=S,w=O.canvas),R&&(O.parent=w),w.width=P,w.height=C,o&&M===u.CANVAS&&m.disable(w.getContext("2d",{willReadFrequently:!1})),w},r=function(S,P,C){return n(S,P,C,u.CANVAS)},f=function(S,P,C){return n(S,P,C,u.WEBGL)},a=function(S){if(S===void 0&&(S=u.CANVAS),S===u.WEBGL)return null;for(var P=0;P<d.length;P++){var C=d[P];if(!C.parent&&C.type===S)return C}return null},v=function(S){var P=S instanceof HTMLCanvasElement;d.forEach(function(C){(P&&C.canvas===S||!P&&C.parent===S)&&(C.parent=null,C.canvas.width=1,C.canvas.height=1)})},p=function(){var S=0;return d.forEach(function(P){P.parent&&S++}),S},c=function(){return d.length-p()},g=function(){o=!0},y=function(){o=!1};return{create2D:r,create:n,createWebGL:f,disableSmoothing:g,enableSmoothing:y,first:a,free:c,pool:d,remove:v,total:p}};l.exports=h()},8213:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T="",e=function(){var u=function(h){for(var n=["i","webkitI","msI","mozI","oI"],r=0;r<n.length;r++){var f=n[r]+"mageSmoothingEnabled";if(f in h)return f}return null},m=function(h){return T===""&&(T=u(h)),T&&(h[T]=!0),h},d=function(h){return T===""&&(T=u(h)),T&&(h[T]=!1),h},o=function(h){return T!==null?h[T]:null};return{disable:d,enable:m,getPrefix:u,isEnabled:o}};l.exports=e()},59271:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return u===void 0&&(u="none"),e.style.msTouchAction=u,e.style["ms-touch-action"]=u,e.style["touch-action"]=u,e};l.exports=T},36505:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){u===void 0&&(u="none");var m=["-webkit-","-khtml-","-moz-","-ms-",""];return m.forEach(function(d){e.style[d+"user-select"]=u}),e.style["-webkit-touch-callout"]=u,e.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",e};l.exports=T},23514:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={CanvasInterpolation:e(70616),CanvasPool:e(61068),Smoothing:e(8213),TouchAction:e(59271),UserSelect:e(36505)}},27119:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(22946),d=e(5657),o=e(24650),h=e(68033),n=new u({initialize:function(f,a,v,p){f===void 0&&(f=0),a===void 0&&(a=0),v===void 0&&(v=0),p===void 0&&(p=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(f,a,v,p)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(r,f,a,v,p){return v===void 0&&(v=255),p===void 0&&(p=!0),this._locked=!0,this.red=r,this.green=f,this.blue=a,this.alpha=v,this._locked=!1,this.update(p)},setGLTo:function(r,f,a,v){return v===void 0&&(v=1),this._locked=!0,this.redGL=r,this.greenGL=f,this.blueGL=a,this.alphaGL=v,this._locked=!1,this.update(!0)},setFromRGB:function(r){return this._locked=!0,this.red=r.r,this.green=r.g,this.blue=r.b,r.hasOwnProperty("a")&&(this.alpha=r.a),this._locked=!1,this.update(!0)},setFromHSV:function(r,f,a){return o(r,f,a,this)},update:function(r){if(r===void 0&&(r=!1),this._locked)return this;var f=this.r,a=this.g,v=this.b,p=this.a;return this._color=m(f,a,v),this._color32=d(f,a,v,p),this._rgba="rgba("+f+","+a+","+v+","+p/255+")",r&&h(f,a,v,this),this},updateHSV:function(){var r=this.r,f=this.g,a=this.b;return h(r,f,a,this),this},clone:function(){return new n(this.r,this.g,this.b,this.a)},gray:function(r){return this.setTo(r,r,r)},random:function(r,f){r===void 0&&(r=0),f===void 0&&(f=255);var a=Math.floor(r+Math.random()*(f-r)),v=Math.floor(r+Math.random()*(f-r)),p=Math.floor(r+Math.random()*(f-r));return this.setTo(a,v,p)},randomGray:function(r,f){r===void 0&&(r=0),f===void 0&&(f=255);var a=Math.floor(r+Math.random()*(f-r));return this.setTo(a,a,a)},saturate:function(r){return this.s+=r/100,this},desaturate:function(r){return this.s-=r/100,this},lighten:function(r){return this.v+=r/100,this},darken:function(r){return this.v-=r/100,this},brighten:function(r){var f=this.r,a=this.g,v=this.b;return f=Math.max(0,Math.min(255,f-Math.round(255*-(r/100)))),a=Math.max(0,Math.min(255,a-Math.round(255*-(r/100)))),v=Math.max(0,Math.min(255,v-Math.round(255*-(r/100)))),this.setTo(f,a,v)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(r){this.gl[0]=Math.min(Math.abs(r),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(r){this.gl[1]=Math.min(Math.abs(r),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(r){this.gl[2]=Math.min(Math.abs(r),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(r){this.gl[3]=Math.min(Math.abs(r),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(r){r=Math.floor(Math.abs(r)),this.r=Math.min(r,255),this.gl[0]=r/255,this.update(!0)}},green:{get:function(){return this.g},set:function(r){r=Math.floor(Math.abs(r)),this.g=Math.min(r,255),this.gl[1]=r/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(r){r=Math.floor(Math.abs(r)),this.b=Math.min(r,255),this.gl[2]=r/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(r){r=Math.floor(Math.abs(r)),this.a=Math.min(r,255),this.gl[3]=r/255,this.update()}},h:{get:function(){return this._h},set:function(r){this._h=r,o(r,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(r){this._s=r,o(this._h,r,this._v,this)}},v:{get:function(){return this._v},set:function(r){this._v=r,o(this._h,this._s,r,this)}}});l.exports=n},30245:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(22946),m=function(d){d===void 0&&(d=1024);var o=[],h=255,n,r=255,f=0,a=0;for(n=0;n<=h;n++)o.push({r,g:n,b:a,color:u(r,n,a)});for(f=255,n=h;n>=0;n--)o.push({r:n,g:f,b:a,color:u(n,f,a)});for(r=0,n=0;n<=h;n++,f--)o.push({r,g:f,b:n,color:u(r,f,n)});for(f=0,a=255,n=0;n<=h;n++,a--,r++)o.push({r,g:f,b:a,color:u(r,f,a)});if(d===1024)return o;var v=[],p=0,c=1024/d;for(n=0;n<d;n++)v.push(o[Math.floor(p)]),p+=c;return v};l.exports=m},86672:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){var u={r:e>>16&255,g:e>>8&255,b:e&255,a:255};return e>16777215&&(u.a=e>>>24),u};l.exports=T},25409:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){var u=e.toString(16);return u.length===1?"0"+u:u};l.exports=T},22946:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){return e<<16|u<<8|m};l.exports=T},5657:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d){return d<<24|e<<16|u<<8|m};l.exports=T},74777:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(27119),m=e(59998),d=function(o,h,n){var r=n,f=n,a=n;if(h!==0){var v=n<.5?n*(1+h):n+h-n*h,p=2*n-v;r=m(p,v,o+1/3),f=m(p,v,o),a=m(p,v,o-1/3)}var c=new u;return c.setGLTo(r,f,a,1)};l.exports=d},89263:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(24650),m=function(d,o){d===void 0&&(d=1),o===void 0&&(o=1);for(var h=[],n=0;n<=359;n++)h.push(u(n/359,d,o));return h};l.exports=m},24650:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(22946);function m(o,h,n,r){var f=(o+h*6)%6,a=Math.min(f,4-f,1);return Math.round(255*(r-r*n*Math.max(0,a)))}var d=function(o,h,n,r){h===void 0&&(h=1),n===void 0&&(n=1);var f=m(5,o,h,n),a=m(3,o,h,n),v=m(1,o,h,n);return r?r.setTo?r.setTo(f,a,v,r.alpha,!0):(r.r=f,r.g=a,r.b=v,r.color=u(f,a,v),r):{r:f,g:a,b:v,color:u(f,a,v)}};l.exports=d},91487:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(27119),m=function(d){var o=new u;d=d.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(a,v,p,c){return v+v+p+p+c+c});var h=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(d);if(h){var n=parseInt(h[1],16),r=parseInt(h[2],16),f=parseInt(h[3],16);o.setTo(n,r,f)}return o};l.exports=m},59998:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){return m<0&&(m+=1),m>1&&(m-=1),m<.16666666666666666?e+(u-e)*6*m:m<.5?u:m<.6666666666666666?e+(u-e)*(.6666666666666666-m)*6:e};l.exports=T},74853:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(27119),m=e(15978),d=function(o){var h=m(o);return new u(h.r,h.g,h.b,h.a)};l.exports=d},15978:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e>16777215?{a:e>>>24,r:e>>16&255,g:e>>8&255,b:e&255}:{a:255,r:e>>16&255,g:e>>8&255,b:e&255}};l.exports=T},53756:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(42798),m=function(h,n,r,f,a,v,p,c){p===void 0&&(p=100),c===void 0&&(c=0);var g=c/p;return{r:u(h,f,g),g:u(n,a,g),b:u(r,v,g)}},d=function(h,n,r,f){return r===void 0&&(r=100),f===void 0&&(f=0),m(h.r,h.g,h.b,n.r,n.g,n.b,r,f)},o=function(h,n,r,f,a,v){return a===void 0&&(a=100),v===void 0&&(v=0),m(h.r,h.g,h.b,n,r,f,a,v)};l.exports={RGBWithRGB:m,ColorWithRGB:o,ColorWithColor:d}},73904:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(27119),m=function(d){return new u(d.r,d.g,d.b,d.a)};l.exports=m},26841:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(27119),m=function(d){var o=new u,h=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(d.toLowerCase());if(h){var n=parseInt(h[1],10),r=parseInt(h[2],10),f=parseInt(h[3],10),a=h[4]!==void 0?parseFloat(h[4]):1;o.setTo(n,r,f,a*255)}return o};l.exports=m},68033:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d){d===void 0&&(d={h:0,s:0,v:0}),e/=255,u/=255,m/=255;var o=Math.min(e,u,m),h=Math.max(e,u,m),n=h-o,r=0,f=h===0?0:n/h,a=h;return h!==o&&(h===e?r=(u-m)/n+(u<m?6:0):h===u?r=(m-e)/n+2:h===m&&(r=(e-u)/n+4),r/=6),d.hasOwnProperty("_h")?(d._h=r,d._s=f,d._v=a):(d.h=r,d.s=f,d.v=a),d};l.exports=T},4880:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25409),m=function(d,o,h,n,r){return n===void 0&&(n=255),r===void 0&&(r="#"),r==="#"?"#"+((1<<24)+(d<<16)+(o<<8)+h).toString(16).slice(1,7):"0x"+u(n)+u(d)+u(o)+u(h)};l.exports=m},37243:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(17489),m=e(27119),d=function(o,h){return o===void 0&&(o=0),h===void 0&&(h=255),new m(u(o,h),u(o,h),u(o,h))};l.exports=d},93222:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91487),m=e(74853),d=e(73904),o=e(26841),h=function(n){var r=typeof n;switch(r){case"string":return n.substr(0,3).toLowerCase()==="rgb"?o(n):u(n);case"number":return m(n);case"object":return d(n)}};l.exports=h},95509:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(27119);u.ColorSpectrum=e(30245),u.ColorToRGBA=e(86672),u.ComponentToHex=e(25409),u.GetColor=e(22946),u.GetColor32=e(5657),u.HexStringToColor=e(91487),u.HSLToColor=e(74777),u.HSVColorWheel=e(89263),u.HSVToRGB=e(24650),u.HueToComponent=e(59998),u.IntegerToColor=e(74853),u.IntegerToRGB=e(15978),u.Interpolate=e(53756),u.ObjectToColor=e(73904),u.RandomRGB=e(37243),u.RGBStringToColor=e(26841),u.RGBToHSV=e(68033),u.RGBToString=e(4880),u.ValueToColor=e(93222),l.exports=u},24816:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Align:e(93545),BaseShader:e(31053),Bounds:e(15252),Canvas:e(23514),Color:e(95509),ColorMatrix:e(65246),Masks:e(93310),RGB:e(39298)}},76756:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(61286),d=new u({initialize:function(h,n,r,f,a,v){n||(n=h.sys.make.image({x:r,y:f,key:a,frame:v,add:!1})),this.bitmapMask=n,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(o){this.bitmapMask=o},preRenderWebGL:function(o,h,n){o.pipelines.BITMAPMASK_PIPELINE.beginMask(this,h,n)},postRenderWebGL:function(o,h,n){o.pipelines.BITMAPMASK_PIPELINE.endMask(this,h,n)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});m.register("bitmapMask",function(o,h,n,r,f){return new d(this.scene,o,h,n,r,f)}),l.exports=d},63037:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=new u({initialize:function(o,h){this.geometryMask=h,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(d){return this.geometryMask=d,this},setInvertAlpha:function(d){return d===void 0&&(d=!0),this.invertAlpha=d,this},preRenderWebGL:function(d,o,h){var n=d.gl;d.flush(),d.maskStack.length===0&&(n.enable(n.STENCIL_TEST),n.clear(n.STENCIL_BUFFER_BIT),d.maskCount=0),d.currentCameraMask.mask!==this&&(d.currentMask.mask=this),d.maskStack.push({mask:this,camera:h}),this.applyStencil(d,h,!0),d.maskCount++},applyStencil:function(d,o,h){var n=d.gl,r=this.geometryMask,f=d.maskCount,a=255;n.colorMask(!1,!1,!1,!1),h?(n.stencilFunc(n.EQUAL,f,a),n.stencilOp(n.KEEP,n.KEEP,n.INCR),f++):(n.stencilFunc(n.EQUAL,f+1,a),n.stencilOp(n.KEEP,n.KEEP,n.DECR)),this.level=f,r.renderWebGL(d,r,o),d.flush(),n.colorMask(!0,!0,!0,!0),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),this.invertAlpha?n.stencilFunc(n.NOTEQUAL,f,a):n.stencilFunc(n.EQUAL,f,a)},postRenderWebGL:function(d){var o=d.gl;d.maskStack.pop(),d.maskCount--,d.flush();var h=d.currentMask;if(d.maskStack.length===0)h.mask=null,o.disable(o.STENCIL_TEST);else{var n=d.maskStack[d.maskStack.length-1];n.mask.applyStencil(d,n.camera,!1),d.currentCameraMask.mask!==n.mask?(h.mask=n.mask,h.camera=n.camera):h.mask=null}},preRenderCanvas:function(d,o,h){var n=this.geometryMask;d.currentContext.save(),n.renderCanvas(d,n,h,null,null,!0),d.currentContext.clip()},postRenderCanvas:function(d){d.currentContext.restore()},destroy:function(){this.geometryMask=null}});l.exports=m},93310:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={BitmapMask:e(76756),GeometryMask:e(63037)}},31053:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=new u({initialize:function(o,h,n,r){(!h||h==="")&&(h=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!n||n==="")&&(n=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),r===void 0&&(r=null),this.key=o,this.fragmentSrc=h,this.vertexSrc=n,this.uniforms=r}});l.exports=m},99584:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){var m;if(u)typeof u=="string"?m=document.getElementById(u):typeof u=="object"&&u.nodeType===1&&(m=u);else if(e.parentElement||u===null)return e;return m||(m=document.body),m.appendChild(e),e};l.exports=T},85178:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(99584),m=function(d){var o=d.config;if(!(!o.parent||!o.domCreateContainer)){var h=document.createElement("div");h.style.cssText=["display: block;","width: "+d.scale.width+"px;","height: "+d.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+o.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),d.domContainer=h,u(h,o.parent)}};l.exports=m},21546:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(36580),m=function(d){if(document.readyState==="complete"||document.readyState==="interactive"){d();return}var o=function(){document.removeEventListener("deviceready",o,!0),document.removeEventListener("DOMContentLoaded",o,!0),window.removeEventListener("load",o,!0),d()};document.body?u.cordova?document.addEventListener("deviceready",o,!1):(document.addEventListener("DOMContentLoaded",o,!0),window.addEventListener("load",o,!0)):window.setTimeout(o,20)};l.exports=m},74181:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){if(!e)return window.innerHeight;var u=Math.abs(window.orientation),m={w:0,h:0},d=document.createElement("div");return d.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(d),m.w=u===90?d.offsetHeight:window.innerWidth,m.h=u===90?window.innerWidth:d.offsetHeight,document.documentElement.removeChild(d),d=null,Math.abs(window.orientation)!==90?m.h:m.w};l.exports=T},9229:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(55301),m=function(d,o){var h=window.screen,n=h?h.orientation||h.mozOrientation||h.msOrientation:!1;if(n&&typeof n.type=="string")return n.type;if(typeof n=="string")return n;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?u.ORIENTATION.PORTRAIT:u.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return u.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return u.ORIENTATION.LANDSCAPE}else return o>d?u.ORIENTATION.PORTRAIT:u.ORIENTATION.LANDSCAPE};l.exports=m},2893:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){var u;return e!==""&&(typeof e=="string"?u=document.getElementById(e):e&&e.nodeType===1&&(u=e)),u||(u=document.body),u};l.exports=T},89200:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){var u="";try{if(window.DOMParser){var m=new DOMParser;u=m.parseFromString(e,"text/xml")}else u=new ActiveXObject("Microsoft.XMLDOM"),u.loadXML(e)}catch{u=null}return!u||!u.documentElement||u.getElementsByTagName("parsererror").length?null:u};l.exports=T},55638:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){e.parentNode&&e.parentNode.removeChild(e)};l.exports=T},27385:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(72283),d=new u({initialize:function(){this.isRunning=!1,this.callback=m,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var h=this;this.step=function n(r){h.callback(r),h.isRunning&&(h.timeOutID=window.requestAnimationFrame(n))},this.stepTimeout=function n(){h.isRunning&&(h.timeOutID=window.setTimeout(n,h.delay)),h.callback(window.performance.now())}},start:function(o,h,n){this.isRunning||(this.callback=o,this.isSetTimeOut=h,this.delay=n,this.isRunning=!0,this.timeOutID=h?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=m}});l.exports=d},3590:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={AddToDOM:e(99584),DOMContentLoaded:e(21546),GetInnerHeight:e(74181),GetScreenOrientation:e(9229),GetTarget:e(2893),ParseXML:e(89200),RemoveFromDOM:e(55638),RequestAnimationFrame:e(27385)};l.exports=u},78491:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(6659),d=e(91963),o=new u({Extends:m,initialize:function(){m.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});d.register("EventEmitter",o,"events"),l.exports=o},95146:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={EventEmitter:e(78491)}},20170:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(47551),d=e(47406),o=new u({Extends:m,initialize:function(n,r){r===void 0&&(r=1),m.call(this,d.BARREL,n),this.amount=r}});l.exports=o},51182:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(47551),d=e(47406),o=new u({Extends:m,initialize:function(n,r,f,a,v,p,c){f===void 0&&(f=1),a===void 0&&(a=1),v===void 0&&(v=1),p===void 0&&(p=1),c===void 0&&(c=4),m.call(this,d.BLOOM,n),this.steps=c,this.offsetX=f,this.offsetY=a,this.blurStrength=v,this.strength=p,this.glcolor=[1,1,1],r!=null&&(this.color=r)},color:{get:function(){var h=this.glcolor;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var n=this.glcolor;n[0]=(h>>16&255)/255,n[1]=(h>>8&255)/255,n[2]=(h&255)/255}}});l.exports=o},51498:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(47551),d=e(47406),o=new u({Extends:m,initialize:function(n,r,f,a,v,p,c){f===void 0&&(f=2),a===void 0&&(a=2),v===void 0&&(v=1),c===void 0&&(c=4),m.call(this,d.BLUR,n),this.quality=0,this.x=f,this.y=a,this.steps=c,this.strength=v,this.glcolor=[1,1,1],p!=null&&(this.color=p)},color:{get:function(){var h=this.glcolor;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var n=this.glcolor;n[0]=(h>>16&255)/255,n[1]=(h>>8&255)/255,n[2]=(h&255)/255}}});l.exports=o},12042:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(47551),d=e(47406),o=new u({Extends:m,initialize:function(n,r,f,a,v,p,c,g){r===void 0&&(r=.5),f===void 0&&(f=1),a===void 0&&(a=.2),v===void 0&&(v=!1),p===void 0&&(p=1),c===void 0&&(c=1),g===void 0&&(g=1),m.call(this,d.BOKEH,n),this.radius=r,this.amount=f,this.contrast=a,this.isTiltShift=v,this.strength=g,this.blurX=p,this.blurY=c}});l.exports=o},69900:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(47551),d=e(47406),o=new u({Extends:m,initialize:function(n,r,f,a,v,p){r===void 0&&(r=8),v===void 0&&(v=1),p===void 0&&(p=.005),m.call(this,d.CIRCLE,n),this.scale=v,this.feather=p,this.thickness=r,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],f!=null&&(this.color=f),a!=null&&(this.backgroundColor=a)},color:{get:function(){var h=this.glcolor;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var n=this.glcolor;n[0]=(h>>16&255)/255,n[1]=(h>>8&255)/255,n[2]=(h&255)/255}},backgroundColor:{get:function(){var h=this.glcolor2;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var n=this.glcolor2;n[0]=(h>>16&255)/255,n[1]=(h>>8&255)/255,n[2]=(h&255)/255}}});l.exports=o},48991:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(65246),d=e(47406),o=new u({Extends:m,initialize:function(n){m.call(this),this.type=d.COLOR_MATRIX,this.gameObject=n,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});l.exports=o},47551:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=new u({initialize:function(o,h){this.type=o,this.gameObject=h,this.active=!0},setActive:function(d){return this.active=d,this},destroy:function(){this.gameObject=null,this.active=!1}});l.exports=m},47909:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(47551),d=e(47406),o=new u({Extends:m,initialize:function(n,r,f,a){r===void 0&&(r="__WHITE"),f===void 0&&(f=.005),a===void 0&&(a=.005),m.call(this,d.DISPLACEMENT,n),this.x=f,this.y=a,this.glTexture,this.setTexture(r)},setTexture:function(h){var n=this.gameObject.scene.sys.textures.getFrame(h);return n&&(this.glTexture=n.glTexture),this}});l.exports=o},18919:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(47551),d=e(47406),o=new u({Extends:m,initialize:function(n,r,f,a,v){f===void 0&&(f=4),a===void 0&&(a=0),v===void 0&&(v=!1),m.call(this,d.GLOW,n),this.outerStrength=f,this.innerStrength=a,this.knockout=v,this.glcolor=[1,1,1,1],r!==void 0&&(this.color=r)},color:{get:function(){var h=this.glcolor;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var n=this.glcolor;n[0]=(h>>16&255)/255,n[1]=(h>>8&255)/255,n[2]=(h&255)/255}}});l.exports=o},62494:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(47551),d=e(47406),o=new u({Extends:m,initialize:function(n,r,f,a,v,p,c,g,y){a===void 0&&(a=.2),v===void 0&&(v=0),p===void 0&&(p=0),c===void 0&&(c=0),g===void 0&&(g=1),y===void 0&&(y=0),m.call(this,d.GRADIENT,n),this.alpha=a,this.size=y,this.fromX=v,this.fromY=p,this.toX=c,this.toY=g,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],r!=null&&(this.color1=r),f!=null&&(this.color2=f)},color1:{get:function(){var h=this.glcolor1;return(h[0]<<16)+(h[1]<<8)+(h[2]|0)},set:function(h){var n=this.glcolor1;n[0]=h>>16&255,n[1]=h>>8&255,n[2]=h&255}},color2:{get:function(){var h=this.glcolor2;return(h[0]<<16)+(h[1]<<8)+(h[2]|0)},set:function(h){var n=this.glcolor2;n[0]=h>>16&255,n[1]=h>>8&255,n[2]=h&255}}});l.exports=o},68897:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(47551),d=e(47406),o=new u({Extends:m,initialize:function(n,r){r===void 0&&(r=1),m.call(this,d.PIXELATE,n),this.amount=r}});l.exports=o},58575:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(47551),d=e(47406),o=new u({Extends:m,initialize:function(n,r,f,a,v,p,c,g){r===void 0&&(r=0),f===void 0&&(f=0),a===void 0&&(a=.1),v===void 0&&(v=1),c===void 0&&(c=6),g===void 0&&(g=1),m.call(this,d.SHADOW,n),this.x=r,this.y=f,this.decay=a,this.power=v,this.glcolor=[0,0,0,1],this.samples=c,this.intensity=g,p!==void 0&&(this.color=p)},color:{get:function(){var h=this.glcolor;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var n=this.glcolor;n[0]=(h>>16&255)/255,n[1]=(h>>8&255)/255,n[2]=(h&255)/255}}});l.exports=o},33755:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(47551),d=e(47406),o=new u({Extends:m,initialize:function(n,r,f,a,v){r===void 0&&(r=.5),f===void 0&&(f=.5),a===void 0&&(a=3),v===void 0&&(v=!1),m.call(this,d.SHINE,n),this.speed=r,this.lineWidth=f,this.gradient=a,this.reveal=v}});l.exports=o},24949:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(47551),d=e(47406),o=new u({Extends:m,initialize:function(n,r,f,a,v){r===void 0&&(r=.5),f===void 0&&(f=.5),a===void 0&&(a=.5),v===void 0&&(v=.5),m.call(this,d.VIGNETTE,n),this.x=r,this.y=f,this.radius=a,this.strength=v}});l.exports=o},66241:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(47551),d=e(47406),o=new u({Extends:m,initialize:function(n,r,f,a,v){r===void 0&&(r=.1),f===void 0&&(f=0),a===void 0&&(a=0),v===void 0&&(v=!1),m.call(this,d.WIPE,n),this.progress=0,this.wipeWidth=r,this.direction=f,this.axis=a,this.reveal=v}});l.exports=o},47406:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};l.exports=T},96910:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(98611),m=e(47406),d={Barrel:e(20170),Controller:e(47551),Bloom:e(51182),Blur:e(51498),Bokeh:e(12042),Circle:e(69900),ColorMatrix:e(48991),Displacement:e(47909),Glow:e(18919),Gradient:e(62494),Pixelate:e(68897),Shadow:e(58575),Shine:e(33755),Vignette:e(24949),Wipe:e(66241)};d=u(!1,d,m),l.exports=d},88933:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(95723),m=e(20494),d=function(o,h,n){h.x=m(n,"x",0),h.y=m(n,"y",0),h.depth=m(n,"depth",0),h.flipX=m(n,"flipX",!1),h.flipY=m(n,"flipY",!1);var r=m(n,"scale",null);typeof r=="number"?h.setScale(r):r!==null&&(h.scaleX=m(r,"x",1),h.scaleY=m(r,"y",1));var f=m(n,"scrollFactor",null);typeof f=="number"?h.setScrollFactor(f):f!==null&&(h.scrollFactorX=m(f,"x",1),h.scrollFactorY=m(f,"y",1)),h.rotation=m(n,"rotation",0);var a=m(n,"angle",null);a!==null&&(h.angle=a),h.alpha=m(n,"alpha",1);var v=m(n,"origin",null);if(typeof v=="number")h.setOrigin(v);else if(v!==null){var p=m(v,"x",.5),c=m(v,"y",.5);h.setOrigin(p,c)}h.blendMode=m(n,"blendMode",u.NORMAL),h.visible=m(n,"visible",!0);var g=m(n,"add",!0);return g&&o.sys.displayList.add(h),h.preUpdate&&o.sys.updateList.add(h),h};l.exports=d},32291:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(20494),m=function(d,o){var h=u(o,"anims",null);if(h===null)return d;if(typeof h=="string")d.anims.play(h);else if(typeof h=="object"){var n=d.anims,r=u(h,"key",void 0);if(r){var f=u(h,"startFrame",void 0),a=u(h,"delay",0),v=u(h,"repeat",0),p=u(h,"repeatDelay",0),c=u(h,"yoyo",!1),g=u(h,"play",!1),y=u(h,"delayedPlay",0),S={key:r,delay:a,repeat:v,repeatDelay:p,yoyo:c,startFrame:f};g?n.play(S):y>0?n.playAfterDelay(S,y):n.load(S)}}return d};l.exports=m},91713:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(71207),d=e(91963),o=e(56631),h=e(7599),n=e(17922),r=new u({Extends:m,initialize:function(a){m.call(this,a),this.sortChildrenFlag=!1,this.scene=a,this.systems=a.sys,this.events=a.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(h.BOOT,this.boot,this),this.events.on(h.START,this.start,this)},boot:function(){this.events.once(h.DESTROY,this.destroy,this)},addChildCallback:function(f){f.displayList&&f.displayList!==this&&f.removeFromDisplayList(),f.parentContainer&&f.parentContainer.remove(f),f.displayList||(this.queueDepthSort(),f.displayList=this,f.emit(o.ADDED_TO_SCENE,f,this.scene),this.events.emit(h.ADDED_TO_SCENE,f,this.scene))},removeChildCallback:function(f){this.queueDepthSort(),f.displayList=null,f.emit(o.REMOVED_FROM_SCENE,f,this.scene),this.events.emit(h.REMOVED_FROM_SCENE,f,this.scene)},start:function(){this.events.once(h.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(n(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(f,a){return f._depth-a._depth},getChildren:function(){return this.list},shutdown:function(){for(var f=this.list;f.length;)f[0].destroy(!0);this.events.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(h.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});d.register("DisplayList",r,"displayList"),l.exports=r},89980:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(48129),d=e(81078),o=e(6659),h=e(56631),n=e(7599),r=new u({Extends:o,initialize:function(a,v){o.call(this),this.scene=a,this.displayList=null,this.type=v,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(h.ADDED_TO_SCENE,this.addedToScene,this),this.on(h.REMOVED_FROM_SCENE,this.removedFromScene,this),a.sys.queueDepthSort()},setActive:function(f){return this.active=f,this},setName:function(f){return this.name=f,this},setState:function(f){return this.state=f,this},setDataEnabled:function(){return this.data||(this.data=new d(this)),this},setData:function(f,a){return this.data||(this.data=new d(this)),this.data.set(f,a),this},incData:function(f,a){return this.data||(this.data=new d(this)),this.data.inc(f,a),this},toggleData:function(f){return this.data||(this.data=new d(this)),this.data.toggle(f),this},getData:function(f){return this.data||(this.data=new d(this)),this.data.get(f)},setInteractive:function(f,a,v){return this.scene.sys.input.enable(this,f,a,v),this},disableInteractive:function(){return this.scene.sys.input.disable(this),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return m(this)},willRender:function(f){var a=this.displayList&&this.displayList.active?this.displayList.willRender(f):!0;return!(!a||r.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&f.id)},getIndexList:function(){for(var f=this,a=this.parentContainer,v=[];a&&(v.unshift(a.getIndex(f)),f=a,a.parentContainer);)a=a.parentContainer;return this.displayList?v.unshift(this.displayList.getIndex(f)):v.unshift(this.scene.sys.displayList.getIndex(f)),v},addToDisplayList:function(f){return f===void 0&&(f=this.scene.sys.displayList),this.displayList&&this.displayList!==f&&this.removeFromDisplayList(),f.exists(this)||(this.displayList=f,f.add(this,!0),f.queueDepthSort(),this.emit(h.ADDED_TO_SCENE,this,this.scene),f.events.emit(n.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var f=this.displayList||this.scene.sys.displayList;return f&&f.exists(this)&&(f.remove(this,!0),f.queueDepthSort(),this.displayList=null,this.emit(h.REMOVED_FROM_SCENE,this,this.scene),f.events.emit(n.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(f){!this.scene||this.ignoreDestroy||(f===void 0&&(f=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(h.DESTROY,this,f),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});r.RENDER_MASK=15,l.exports=r},99325:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(91963),d=e(7599),o=new u({initialize:function(n){this.scene=n,this.systems=n.sys,this.events=n.sys.events,this.displayList,this.updateList,this.events.once(d.BOOT,this.boot,this),this.events.on(d.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(d.DESTROY,this.destroy,this)},start:function(){this.events.once(d.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(d.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(d.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});o.register=function(h,n){o.prototype.hasOwnProperty(h)||(o.prototype[h]=n)},o.remove=function(h){o.prototype.hasOwnProperty(h)&&delete o.prototype[h]},m.register("GameObjectCreator",o,"make"),l.exports=o},61286:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(91963),d=e(7599),o=new u({initialize:function(n){this.scene=n,this.systems=n.sys,this.events=n.sys.events,this.displayList,this.updateList,this.events.once(d.BOOT,this.boot,this),this.events.on(d.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(d.DESTROY,this.destroy,this)},start:function(){this.events.once(d.SHUTDOWN,this.shutdown,this)},existing:function(h){return(h.renderCanvas||h.renderWebGL)&&this.displayList.add(h),h.preUpdate&&this.updateList.add(h),h},shutdown:function(){this.events.off(d.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(d.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});o.register=function(h,n){o.prototype.hasOwnProperty(h)||(o.prototype[h]=n)},o.remove=function(h){o.prototype.hasOwnProperty(h)&&delete o.prototype[h]},m.register("GameObjectFactory",o,"add"),l.exports=o},73329:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(69360),m=new u,d=new u,o=new u,h={camera:m,sprite:d,calc:o},n=function(r,f,a){var v=m,p=d,c=o;return p.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),v.copyFrom(f.matrix),a?(v.multiplyWithOffset(a,-f.scrollX*r.scrollFactorX,-f.scrollY*r.scrollFactorY),p.e=r.x,p.f=r.y):(p.e-=f.scrollX*r.scrollFactorX,p.f-=f.scrollY*r.scrollFactorY),v.multiply(p,c),h};l.exports=n},92034:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(74623),d=e(91963),o=e(7599),h=new u({Extends:m,initialize:function(r){m.call(this),this.checkQueue=!0,this.scene=r,this.systems=r.sys,r.sys.events.once(o.BOOT,this.boot,this),r.sys.events.on(o.START,this.start,this)},boot:function(){this.systems.events.once(o.DESTROY,this.destroy,this)},start:function(){var n=this.systems.events;n.on(o.PRE_UPDATE,this.update,this),n.on(o.UPDATE,this.sceneUpdate,this),n.once(o.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(n,r){for(var f=this._active,a=f.length,v=0;v<a;v++){var p=f[v];p.active&&p.preUpdate.call(p,n,r)}},shutdown:function(){for(var n=this._active.length;n--;)this._active[n].destroy(!0);for(n=this._pending.length;n--;)this._pending[n].destroy(!0);for(n=this._destroy.length;n--;)this._destroy[n].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var r=this.systems.events;r.off(o.PRE_UPDATE,this.update,this),r.off(o.UPDATE,this.sceneUpdate,this),r.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(o.START,this.start,this),this.scene=null,this.systems=null}});d.register("UpdateList",h,"updateList"),l.exports=h},8810:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d,o,h,n,r,f,a,v,p,c,g,y){var S=m.x-u.displayOriginX+o,P=m.y-u.displayOriginY+h,C=S+m.w,M=P+m.h,R=n.getXRound(S,P,r),w=n.getYRound(S,P,r),O=n.getXRound(S,M,r),F=n.getYRound(S,M,r),L=n.getXRound(C,M,r),b=n.getYRound(C,M,r),B=n.getXRound(C,P,r),I=n.getYRound(C,P,r);e.batchQuad(u,R,w,O,F,L,b,B,I,d.u0,d.v0,d.u1,d.v1,f,a,v,p,c,g,y)};l.exports=T},82173:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d){if(m===void 0&&(m=!1),d===void 0)return d={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},d;var o=e.text,h=o.length,n=e.maxWidth,r=e.wordWrapCharCode,f=Number.MAX_VALUE,a=Number.MAX_VALUE,v=0,p=0,c=e.fontData.chars,g=e.fontData.lineHeight,y=e.letterSpacing,S=e.lineSpacing,P=0,C=0,M=0,R=null,w=e._align,O=0,F=0,L=e.fontSize/e.fontData.size,b=L*e.scaleX,B=L*e.scaleY,I=null,z=0,Y=[],W=Number.MAX_VALUE,H=0,N=0,X=0,D,G=[],V=[],U=null;if(n>0){for(D=0;D<h;D++){if(M=o.charCodeAt(D),M===10){U!==null&&(G.push({word:U.word,i:U.i,x:U.x*b,y:U.y*B,w:U.w*b,h:U.h*B,cr:!0}),U=null),P=0,C+=g+S,I=null;continue}if(R=c[M],!!R){if(I!==null)var k=R.kerning[z];M===r?U!==null&&(G.push({word:U.word,i:U.i,x:U.x*b,y:U.y*B,w:U.w*b,h:U.h*B,cr:!1}),U=null):(U===null&&(U={word:"",i:D,x:P,y:C,w:0,h:g,cr:!1}),U.word=U.word.concat(o[D]),U.w+=R.xOffset+R.xAdvance+(k!==void 0?k:0)),P+=R.xAdvance+y,I=R,z=M}}U!==null&&G.push({word:U.word,i:U.i,x:U.x*b,y:U.y*B,w:U.w*b,h:U.h*B,cr:!1}),P=0,C=0,I=null,z=0;var $,K=0,J=[];for(D=0;D<G.length;D++){var Q=G[D],q=Q.x,_=Q.x+Q.w;if($){var et=q-($.x+$.w);K=q-(et+$.w),$=null}var tt=q-K,rt=_-K;tt>n||rt>n?(J.push(Q.i-1),Q.cr?(J.push(Q.i+Q.word.length),K=0,$=null):$=Q):Q.cr&&(J.push(Q.i+Q.word.length),K=0,$=null)}var lt=function(Z,j,nt){return Z.substr(0,j)+nt+Z.substr(j+1)};for(D=J.length-1;D>=0;D--)o=lt(o,J[D],`
`);d.wrappedText=o,h=o.length,G=[],U=null}var dt=0;for(D=0;D<h;D++){if(M=o.charCodeAt(D),M===10){U!==null&&(G.push({word:U.word,i:U.i,x:U.x*b,y:U.y*B,w:U.w*b,h:U.h*B}),U=null),P=0,C+=g+S,I=null,Y[N]=X,X>H&&(H=X),X<W&&(W=X),N++,X=0;continue}if(R=c[M],!!R){if(O=P,F=C,I!==null){var ut=R.kerning[z];O+=ut!==void 0?ut:0}f>O&&(f=O),a>F&&(a=F);var st=O+R.xAdvance,ot=F+g;v<st&&(v=st),p<ot&&(p=ot);var ht=R.xOffset+R.xAdvance+(ut!==void 0?ut:0);M===r?U!==null&&(G.push({word:U.word,i:U.i,x:U.x*b,y:U.y*B,w:U.w*b,h:U.h*B}),U=null):(U===null&&(U={word:"",i:dt,x:P,y:C,w:0,h:g}),U.word=U.word.concat(o[D]),U.w+=ht),V.push({i:dt,idx:D,char:o[D],code:M,x:(R.xOffset+O)*L,y:(R.yOffset+C)*L,w:R.width*L,h:R.height*L,t:C*L,r:st*L,b:g*L,line:N,glyph:R}),P+=R.xAdvance+y+(ut!==void 0?ut:0),I=R,z=M,X=st*L,dt++}}if(U!==null&&G.push({word:U.word,i:U.i,x:U.x*b,y:U.y*B,w:U.w*b,h:U.h*B}),Y[N]=X,X>H&&(H=X),X<W&&(W=X),w>0)for(var xt=0;xt<V.length;xt++){var mt=V[xt];if(w===1){var Gt=(H-Y[mt.line])/2;mt.x+=Gt,mt.r+=Gt}else if(w===2){var wt=H-Y[mt.line];mt.x+=wt,mt.r+=wt}}var Pt=d.local,gt=d.global,Ot=d.lines;return Pt.x=f*L,Pt.y=a*L,Pt.width=v*L,Pt.height=p*L,gt.x=e.x-e._displayOriginX+f*b,gt.y=e.y-e._displayOriginY+a*B,gt.width=v*b,gt.height=p*B,Ot.shortest=W,Ot.longest=H,Ot.lengths=Y,u&&(Pt.x=Math.ceil(Pt.x),Pt.y=Math.ceil(Pt.y),Pt.width=Math.ceil(Pt.width),Pt.height=Math.ceil(Pt.height),gt.x=Math.ceil(gt.x),gt.y=Math.ceil(gt.y),gt.width=Math.ceil(gt.width),gt.height=Math.ceil(gt.height),Ot.shortest=Math.ceil(W),Ot.longest=Math.ceil(H)),m&&(e._displayOriginX=e.originX*Pt.width,e._displayOriginY=e.originY*Pt.height,gt.x=e.x-e._displayOriginX*e.scaleX,gt.y=e.y-e._displayOriginY*e.scaleY,u&&(gt.x=Math.ceil(gt.x),gt.y=Math.ceil(gt.y))),d.words=G,d.characters=V,d.lines.height=g,d.scale=L,d.scaleX=e.scaleX,d.scaleY=e.scaleY,d};l.exports=T},68298:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(31476),m=function(d,o,h,n,r,f,a){var v=d.sys.textures.get(h),p=v.get(n),c=d.sys.cache.xml.get(r);if(p&&c){var g=u(c,p,f,a,v);return d.sys.cache.bitmapFont.add(o,{data:g,texture:h,frame:n,fromAtlas:!0}),!0}else return!1};l.exports=m},39860:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(10850),m=function(d,o){var h=o.width,n=o.height,r=Math.floor(h/2),f=Math.floor(n/2),a=u(o,"chars","");if(a!==""){var v=u(o,"image",""),p=d.sys.textures.getFrame(v),c=p.cutX,g=p.cutY,y=p.source.width,S=p.source.height,P=u(o,"offset.x",0),C=u(o,"offset.y",0),M=u(o,"spacing.x",0),R=u(o,"spacing.y",0),w=u(o,"lineSpacing",0),O=u(o,"charsPerRow",null);O===null&&(O=y/h,O>a.length&&(O=a.length));for(var F=P,L=C,b={retroFont:!0,font:v,size:h,lineHeight:n+w,chars:{}},B=0,I=0;I<a.length;I++){var z=a.charCodeAt(I),Y=(c+F)/y,W=(g+L)/S,H=(c+F+h)/y,N=(g+L+n)/S;b.chars[z]={x:F,y:L,width:h,height:n,centerX:r,centerY:f,xOffset:0,yOffset:0,xAdvance:h,data:{},kerning:{},u0:Y,v0:W,u1:H,v1:N},B++,B===O?(B=0,F=P,L+=n+R):F+=h+M}var X={data:b,frame:null,texture:v};return X}};l.exports=m},31476:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(u,m){return parseInt(u.getAttribute(m),10)}var e=function(u,m,d,o,h){d===void 0&&(d=0),o===void 0&&(o=0);var n=m.cutX,r=m.cutY,f=m.source.width,a=m.source.height,v=m.sourceIndex,p={},c=u.getElementsByTagName("info")[0],g=u.getElementsByTagName("common")[0];p.font=c.getAttribute("face"),p.size=T(c,"size"),p.lineHeight=T(g,"lineHeight")+o,p.chars={};var y=u.getElementsByTagName("char"),S=m!==void 0&&m.trimmed;if(S)var P=m.height,C=m.width;for(var M=0;M<y.length;M++){var R=y[M],w=T(R,"id"),O=String.fromCharCode(w),F=T(R,"x"),L=T(R,"y"),b=T(R,"width"),B=T(R,"height");S&&(F<C&&(C=F),L<P&&(P=L)),S&&P!==0&&C!==0&&(F-=m.x,L-=m.y);var I=(n+F)/f,z=(r+L)/a,Y=(n+F+b)/f,W=(r+L+B)/a;if(p.chars[w]={x:F,y:L,width:b,height:B,centerX:Math.floor(b/2),centerY:Math.floor(B/2),xOffset:T(R,"xoffset"),yOffset:T(R,"yoffset"),xAdvance:T(R,"xadvance")+d,data:{},kerning:{},u0:I,v0:z,u1:Y,v1:W},h&&b!==0&&B!==0){var H=h.add(O,v,F,L,b,B);H&&H.setUVs(b,B,I,z,Y,W)}}var N=u.getElementsByTagName("kerning");for(M=0;M<N.length;M++){var X=N[M],D=T(X,"first"),G=T(X,"second"),V=T(X,"amount");p.chars[G].kerning[D]=V}return p};l.exports=e},55873:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66863),m=e(98611),d={Parse:e(39860)};d=m(!1,d,u),l.exports=d},66863:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};l.exports=T},13468:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(44616),m=e(56694),d=e(88899),o=new m({Extends:u,Mixins:[d],initialize:function(n,r,f,a,v,p,c){u.call(this,n,r,f,a,v,p,c),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(h,n){return this.cropWidth=h,this.cropHeight=n,this},setDisplayCallback:function(h){return this.displayCallback=h,this},setScrollX:function(h){return this.scrollX=h,this},setScrollY:function(h){return this.scrollY=h,this}});l.exports=o},93438:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(49584),m=function(d,o,h,n){var r=o._text,f=r.length,a=d.currentContext;if(!(f===0||!u(d,a,o,h,n))){h.addToRenderList(o);var v=o.fromAtlas?o.frame:o.texture.frames.__BASE,p=o.displayCallback,c=o.callbackData,g=o.fontData.chars,y=o.fontData.lineHeight,S=o._letterSpacing,P=0,C=0,M=0,R=null,w=0,O=0,F=0,L=0,b=0,B=0,I=null,z=0,Y=o.frame.source.image,W=v.cutX,H=v.cutY,N=0,X=0,D=o._fontSize/o.fontData.size,G=o._align,V=0,U=0;o.getTextBounds(!1);var k=o._bounds.lines;G===1?U=(k.longest-k.lengths[0])/2:G===2&&(U=k.longest-k.lengths[0]),a.translate(-o.displayOriginX,-o.displayOriginY);var $=h.roundPixels;o.cropWidth>0&&o.cropHeight>0&&(a.beginPath(),a.rect(0,0,o.cropWidth,o.cropHeight),a.clip());for(var K=0;K<f;K++){if(X=D,N=0,M=r.charCodeAt(K),M===10){V++,G===1?U=(k.longest-k.lengths[V])/2:G===2&&(U=k.longest-k.lengths[V]),P=0,C+=y,I=null;continue}if(R=g[M],!!R){if(w=W+R.x,O=H+R.y,F=R.width,L=R.height,b=R.xOffset+P-o.scrollX,B=R.yOffset+C-o.scrollY,I!==null){var J=R.kerning[z];b+=J!==void 0?J:0}if(p){c.index=K,c.charCode=M,c.x=b,c.y=B,c.scale=X,c.rotation=N,c.data=R.data;var Q=p(c);b=Q.x,B=Q.y,X=Q.scale,N=Q.rotation}b*=X,B*=X,b+=U,P+=R.xAdvance+S+(J!==void 0?J:0),I=R,z=M,!(F===0||L===0||M===32)&&($&&(b=Math.round(b),B=Math.round(B)),a.save(),a.translate(b,B),a.rotate(N),a.scale(X,X),a.drawImage(Y,w,O,F,L,0,0,F,L),a.restore())}}a.restore()}};l.exports=m},67513:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(13468),m=e(88933),d=e(99325),o=e(20494);d.register("dynamicBitmapText",function(h,n){h===void 0&&(h={});var r=o(h,"font",""),f=o(h,"text",""),a=o(h,"size",!1),v=new u(this.scene,0,0,r,f,a);return n!==void 0&&(h.add=n),m(this.scene,v,h),v})},94145:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(13468),m=e(61286);m.register("dynamicBitmapText",function(d,o,h,n,r){return this.displayList.add(new u(this.scene,d,o,h,n,r))})},88899:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),m=u,d=u;m=e(16873),d=e(93438),l.exports={renderWebGL:m,renderCanvas:d}},16873:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(73329),m=e(69360),d=e(75512),o=new m,h=function(n,r,f,a){var v=r.text,p=v.length;if(p!==0){f.addToRenderList(r);var c=n.pipelines.set(r.pipeline,r),g=u(r,f,a);n.pipelines.preBatch(r);var y=g.sprite,S=g.calc,P=o,C=r.cropWidth>0||r.cropHeight>0;C&&(c.flush(),n.pushScissor(S.tx,S.ty,r.cropWidth*S.scaleX,r.cropHeight*S.scaleY));var M=r.frame,R=M.glTexture,w=r.tintFill,O=d.getTintAppendFloatAlpha(r.tintTopLeft,f.alpha*r._alphaTL),F=d.getTintAppendFloatAlpha(r.tintTopRight,f.alpha*r._alphaTR),L=d.getTintAppendFloatAlpha(r.tintBottomLeft,f.alpha*r._alphaBL),b=d.getTintAppendFloatAlpha(r.tintBottomRight,f.alpha*r._alphaBR),B=c.setGameObject(r),I=0,z=0,Y=0,W=0,H=r.letterSpacing,N,X=0,D=0,G,V=r.scrollX,U=r.scrollY,k=r.fontData,$=k.chars,K=k.lineHeight,J=r.fontSize/k.size,Q=0,q=r._align,_=0,et=0,tt=r.getTextBounds(!1);r.maxWidth>0&&(v=tt.wrappedText,p=v.length);var rt=r._bounds.lines;q===1?et=(rt.longest-rt.lengths[0])/2:q===2&&(et=rt.longest-rt.lengths[0]);for(var lt=f.roundPixels,dt=r.displayCallback,ut=r.callbackData,st=0;st<p;st++){if(Y=v.charCodeAt(st),Y===10){_++,q===1?et=(rt.longest-rt.lengths[_])/2:q===2&&(et=rt.longest-rt.lengths[_]),I=0,z+=K,G=null;continue}if(N=$[Y],!!N){X=N.width,D=N.height;var ot=N.xOffset+I-V,ht=N.yOffset+z-U;if(G!==null){var xt=N.kerning[W];ot+=xt!==void 0?xt:0}if(I+=N.xAdvance+H,G=N,W=Y,!(X===0||D===0||Y===32)){if(J=r.fontSize/r.fontData.size,Q=0,dt){ut.color=0,ut.tint.topLeft=O,ut.tint.topRight=F,ut.tint.bottomLeft=L,ut.tint.bottomRight=b,ut.index=st,ut.charCode=Y,ut.x=ot,ut.y=ht,ut.scale=J,ut.rotation=Q,ut.data=N.data;var mt=dt(ut);ot=mt.x,ht=mt.y,J=mt.scale,Q=mt.rotation,mt.color?(O=mt.color,F=mt.color,L=mt.color,b=mt.color):(O=mt.tint.topLeft,F=mt.tint.topRight,L=mt.tint.bottomLeft,b=mt.tint.bottomRight),O=d.getTintAppendFloatAlpha(O,f.alpha*r._alphaTL),F=d.getTintAppendFloatAlpha(F,f.alpha*r._alphaTR),L=d.getTintAppendFloatAlpha(L,f.alpha*r._alphaBL),b=d.getTintAppendFloatAlpha(b,f.alpha*r._alphaBR)}ot*=J,ht*=J,ot-=r.displayOriginX,ht-=r.displayOriginY,ot+=et,P.applyITRS(ot,ht,Q,J,J),S.multiply(P,y);var Gt=N.u0,wt=N.v0,Pt=N.u1,gt=N.v1,Ot=X,Z=D,j=y.e,nt=y.f,it=Z*y.c+y.e,at=Z*y.d+y.f,ft=Ot*y.a+Z*y.c+y.e,ct=Ot*y.b+Z*y.d+y.f,Tt=Ot*y.a+y.e,St=Ot*y.b+y.f;lt&&(j=Math.round(j),nt=Math.round(nt),it=Math.round(it),at=Math.round(at),ft=Math.round(ft),ct=Math.round(ct),Tt=Math.round(Tt),St=Math.round(St)),c.batchQuad(r,j,nt,it,at,ft,ct,Tt,St,Gt,wt,Pt,gt,O,F,L,b,w,R,B)}}}C&&(c.flush(),n.popScissor()),n.pipelines.postBatch(r)}};l.exports=h},44616:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(82897),d=e(64937),o=e(89980),h=e(82173),n=e(68298),r=e(31476),f=e(74118),a=e(84557),v=new u({Extends:o,Mixins:[d.Alpha,d.BlendMode,d.Depth,d.GetBounds,d.Mask,d.Origin,d.Pipeline,d.PostPipeline,d.ScrollFactor,d.Texture,d.Tint,d.Transform,d.Visible,a],initialize:function(c,g,y,S,P,C,M){P===void 0&&(P=""),M===void 0&&(M=0),o.call(this,c,"BitmapText"),this.font=S;var R=this.scene.sys.cache.bitmapFont.get(S);R||console.warn("Invalid BitmapText key: "+S),this.fontData=R.data,this._text="",this._fontSize=C||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=M,this._bounds=h(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=R.fromAtlas,this.setTexture(R.texture,R.frame),this.setPosition(g,y),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(P)},setLeftAlign:function(){return this._align=v.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=v.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=v.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(p){return this._fontSize=p,this._dirty=!0,this},setLetterSpacing:function(p){return p===void 0&&(p=0),this._letterSpacing=p,this._dirty=!0,this},setLineSpacing:function(p){return p===void 0&&(p=0),this.lineSpacing=p,this},setText:function(p){return!p&&p!==0&&(p=""),Array.isArray(p)&&(p=p.join(`
`)),p!==this.text&&(this._text=p.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(p,c,g,y){return p===void 0&&(p=0),c===void 0&&(c=0),g===void 0&&(g=0),y===void 0&&(y=.5),this.dropShadowX=p,this.dropShadowY=c,this.dropShadowColor=g,this.dropShadowAlpha=y,this},setCharacterTint:function(p,c,g,y,S,P,C){p===void 0&&(p=0),c===void 0&&(c=1),g===void 0&&(g=!1),y===void 0&&(y=-1),S===void 0&&(S=y,P=y,C=y);var M=this.text.length;c===-1&&(c=M),p<0&&(p=M+p),p=m(p,0,M-1);for(var R=m(p+c,p,M),w=this.charColors,O=p;O<R;O++){var F=w[O];if(y===-1)w[O]=null;else{var L=g?1:0;F?(F.tintEffect=L,F.tintTL=y,F.tintTR=S,F.tintBL=P,F.tintBR=C):w[O]={tintEffect:L,tintTL:y,tintTR:S,tintBL:P,tintBR:C}}}return this},setWordTint:function(p,c,g,y,S,P,C){c===void 0&&(c=1);for(var M=this.getTextBounds(),R=M.words,w=typeof p=="number",O=0,F=0;F<R.length;F++){var L=R[F];if((w&&F===p||!w&&L.word===p)&&(this.setCharacterTint(L.i,L.word.length,g,y,S,P,C),O++,O===c))return this}return this},getTextBounds:function(p){var c=this._bounds;return(this._dirty||p||this.scaleX!==c.scaleX||this.scaleY!==c.scaleY)&&(h(this,p,!0,c),this._dirty=!1),c},getCharacterAt:function(p,c,g){for(var y=this.getLocalPoint(p,c,null,g),S=this.getTextBounds(),P=S.characters,C=new f,M=0;M<P.length;M++){var R=P[M];if(C.setTo(R.x,R.t,R.r-R.x,R.b),C.contains(y.x,y.y))return R}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(p,c,g){if(c===void 0&&(c=this._fontSize),g===void 0&&(g=this._align),p!==this.font){var y=this.scene.sys.cache.bitmapFont.get(p);y&&(this.font=p,this.fontData=y.data,this._fontSize=c,this._align=g,this.fromAtlas=y.fromAtlas===!0,this.setTexture(y.texture,y.frame),h(this,!1,!0,this._bounds))}return this},setMaxWidth:function(p,c){return this._maxWidth=p,this._dirty=!0,c!==void 0&&(this.wordWrapCharCode=c),this},align:{set:function(p){this._align=p,this._dirty=!0},get:function(){return this._align}},text:{set:function(p){this.setText(p)},get:function(){return this._text}},fontSize:{set:function(p){this._fontSize=p,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(p){this._letterSpacing=p,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(p){this._lineSpacing=p,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(p){this._maxWidth=p,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var p=d.ToJSON(this),c={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return p.data=c,p},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});v.ALIGN_LEFT=0,v.ALIGN_CENTER=1,v.ALIGN_RIGHT=2,v.ParseFromAtlas=n,v.ParseXMLBitmapFont=r,l.exports=v},97545:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(49584),m=function(d,o,h,n){var r=o._text,f=r.length,a=d.currentContext;if(!(f===0||!u(d,a,o,h,n))){h.addToRenderList(o);var v=o.fromAtlas?o.frame:o.texture.frames.__BASE,p=o.fontData.chars,c=o.fontData.lineHeight,g=o._letterSpacing,y=o._lineSpacing,S=0,P=0,C=0,M=null,R=0,w=0,O=0,F=0,L=0,b=0,B=null,I=0,z=v.source.image,Y=v.cutX,W=v.cutY,H=o._fontSize/o.fontData.size,N=o._align,X=0,D=0,G=o.getTextBounds(!1);o.maxWidth>0&&(r=G.wrappedText,f=r.length);var V=o._bounds.lines;N===1?D=(V.longest-V.lengths[0])/2:N===2&&(D=V.longest-V.lengths[0]),a.translate(-o.displayOriginX,-o.displayOriginY);for(var U=h.roundPixels,k=0;k<f;k++){if(C=r.charCodeAt(k),C===10){X++,N===1?D=(V.longest-V.lengths[X])/2:N===2&&(D=V.longest-V.lengths[X]),S=0,P+=c+y,B=null;continue}if(M=p[C],!!M){if(R=Y+M.x,w=W+M.y,O=M.width,F=M.height,L=M.xOffset+S,b=M.yOffset+P,B!==null){var $=M.kerning[I];L+=$!==void 0?$:0}L*=H,b*=H,L+=D,S+=M.xAdvance+g+($!==void 0?$:0),B=M,I=C,!(O===0||F===0||C===32)&&(U&&(L=Math.round(L),b=Math.round(b)),a.save(),a.translate(L,b),a.scale(H,H),a.drawImage(z,R,w,O,F,0,0,O,F),a.restore())}}a.restore()}};l.exports=m},95499:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(44616),m=e(88933),d=e(99325),o=e(20494),h=e(10850);d.register("bitmapText",function(n,r){n===void 0&&(n={});var f=h(n,"font",""),a=o(n,"text",""),v=o(n,"size",!1),p=h(n,"align",0),c=new u(this.scene,0,0,f,a,v,p);return r!==void 0&&(n.add=r),m(this.scene,c,n),c})},21797:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(44616),m=e(61286);m.register("bitmapText",function(d,o,h,n,r,f){return this.displayList.add(new u(this.scene,d,o,h,n,r,f))})},84557:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),m=u,d=u;m=e(26372),d=e(97545),l.exports={renderWebGL:m,renderCanvas:d}},26372:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(8810),m=e(73329),d=e(75512),o=function(h,n,r,f){var a=n._text,v=a.length;if(v!==0){r.addToRenderList(n);var p=h.pipelines.set(n.pipeline,n),c=m(n,r,f).calc;h.pipelines.preBatch(n);var g=r.roundPixels,y=r.alpha,S=n.charColors,P=n.tintFill,C=d.getTintAppendFloatAlpha,M=C(n.tintTopLeft,y*n._alphaTL),R=C(n.tintTopRight,y*n._alphaTR),w=C(n.tintBottomLeft,y*n._alphaBL),O=C(n.tintBottomRight,y*n._alphaBR),F=n.frame.glTexture,L=p.setGameObject(n),b=n.getTextBounds(!1),B,I,z,Y=b.characters,W=n.dropShadowX,H=n.dropShadowY,N=W!==0||H!==0;if(N){var X=n.dropShadowColor,D=n.dropShadowAlpha,G=C(X,y*D*n._alphaTL),V=C(X,y*D*n._alphaTR),U=C(X,y*D*n._alphaBL),k=C(X,y*D*n._alphaBR);for(B=0;B<Y.length;B++)I=Y[B],z=I.glyph,!(I.code===32||z.width===0||z.height===0)&&u(p,n,I,z,W,H,c,g,G,V,U,k,1,F,L)}for(B=0;B<Y.length;B++)if(I=Y[B],z=I.glyph,!(I.code===32||z.width===0||z.height===0))if(S[I.i]){var $=S[I.i],K=$.tintEffect,J=C($.tintTL,y*n._alphaTL),Q=C($.tintTR,y*n._alphaTR),q=C($.tintBL,y*n._alphaBL),_=C($.tintBR,y*n._alphaBR);u(p,n,I,z,0,0,c,g,J,Q,q,_,K,F,L)}else u(p,n,I,z,0,0,c,g,M,R,w,O,P,F,L);h.pipelines.postBatch(n)}};l.exports=o},52816:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(92246),m=e(41664),d=e(56694),o=e(64937),h=e(82047),n=e(89980),r=e(71207),f=new d({Extends:n,Mixins:[o.Alpha,o.BlendMode,o.Depth,o.Mask,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Size,o.Texture,o.Transform,o.Visible,u],initialize:function(v,p,c,g,y){n.call(this,v,"Blitter"),this.setTexture(g,y),this.setPosition(p,c),this.initPipeline(),this.initPostPipeline(),this.children=new r,this.renderList=[],this.dirty=!1},create:function(a,v,p,c,g){c===void 0&&(c=!0),g===void 0&&(g=this.children.length),p===void 0?p=this.frame:p instanceof h||(p=this.texture.get(p));var y=new m(this,a,v,p,c);return this.children.addAt(y,g,!1),this.dirty=!0,y},createFromCallback:function(a,v,p,c){for(var g=this.createMultiple(v,p,c),y=0;y<g.length;y++){var S=g[y];a.call(this,S,y)}return g},createMultiple:function(a,v,p){v===void 0&&(v=this.frame.name),p===void 0&&(p=!0),Array.isArray(v)||(v=[v]);var c=[],g=this;return v.forEach(function(y){for(var S=0;S<a;S++)c.push(g.create(0,0,y,p))}),c},childCanRender:function(a){return a.visible&&a.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});l.exports=f},33177:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d){var o=u.getRenderList();if(o.length!==0){var h=e.currentContext,n=m.alpha*u.alpha;if(n!==0){m.addToRenderList(u),h.globalCompositeOperation=e.blendModes[u.blendMode],h.imageSmoothingEnabled=!u.frame.source.scaleMode;var r=u.x-m.scrollX*u.scrollFactorX,f=u.y-m.scrollY*u.scrollFactorY;h.save(),d&&d.copyToContext(h);for(var a=m.roundPixels,v=0;v<o.length;v++){var p=o[v],c=p.flipX||p.flipY,g=p.frame,y=g.canvasData,S=g.x,P=g.y,C=1,M=1,R=p.alpha*n;R!==0&&(h.globalAlpha=R,c?(p.flipX&&(C=-1,S-=y.width),p.flipY&&(M=-1,P-=y.height),y.width>0&&y.height>0&&(h.save(),h.translate(p.x+r,p.y+f),h.scale(C,M),h.drawImage(g.source.image,y.x,y.y,y.width,y.height,S,P,y.width,y.height),h.restore())):(a&&(S=Math.round(S),P=Math.round(P)),y.width>0&&y.height>0&&h.drawImage(g.source.image,y.x,y.y,y.width,y.height,S+p.x+r,P+p.y+f,y.width,y.height)))}h.restore()}}};l.exports=T},68452:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(52816),m=e(88933),d=e(99325),o=e(20494);d.register("blitter",function(h,n){h===void 0&&(h={});var r=o(h,"key",null),f=o(h,"frame",null),a=new u(this.scene,0,0,r,f);return n!==void 0&&(h.add=n),m(this.scene,a,h),a})},38906:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(52816),m=e(61286);m.register("blitter",function(d,o,h,n){return this.displayList.add(new u(this.scene,d,o,h,n))})},92246:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),m=u,d=u;m=e(89165),d=e(33177),l.exports={renderWebGL:m,renderCanvas:d}},89165:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(69360),m=e(75512),d=new u,o=function(h,n,r,f){var a=n.getRenderList(),v=r.alpha*n.alpha;if(!(a.length===0||v===0)){r.addToRenderList(n);var p=h.pipelines.set(this.pipeline,n),c=r.scrollX*n.scrollFactorX,g=r.scrollY*n.scrollFactorY,y=d.copyFrom(r.matrix);f&&(y.multiplyWithOffset(f,-c,-g),c=0,g=0);var S=n.x-c,P=n.y-g,C=-1,M=!1,R=r.roundPixels;h.pipelines.preBatch(n);for(var w=0;w<a.length;w++){var O=a[w],F=O.frame,L=O.alpha*v;if(L!==0){var b=F.width,B=F.height,I=S+O.x+F.x,z=P+O.y+F.y;O.flipX&&(b*=-1,I+=F.width),O.flipY&&(B*=-1,z+=F.height);var Y=y.setQuad(I,z,I+b,z+B,R),W=m.getTintAppendFloatAlpha(O.tint,L);if(F.sourceIndex!==C){var H=p.setGameObject(n,F);C=F.sourceIndex}p.batchQuad(n,Y[0],Y[1],Y[2],Y[3],Y[4],Y[5],Y[6],Y[7],F.u0,F.v0,F.u1,F.v1,W,W,W,W,M,F.glTexture,H)&&(C=-1)}}h.pipelines.postBatch(n)}};l.exports=o},41664:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(82047),d=new u({initialize:function(h,n,r,f,a){this.parent=h,this.x=n,this.y=r,this.frame=f,this.data={},this.tint=16777215,this._visible=a,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(o){return o===void 0?this.frame=this.parent.frame:o instanceof m&&o.texture===this.parent.texture?this.frame=o:this.frame=this.parent.texture.get(o),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(o,h,n){return this.x=o,this.y=h,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,n&&this.setFrame(n),this},setPosition:function(o,h){return this.x=o,this.y=h,this},setFlipX:function(o){return this.flipX=o,this},setFlipY:function(o){return this.flipY=o,this},setFlip:function(o,h){return this.flipX=o,this.flipY=h,this},setVisible:function(o){return this.visible=o,this},setAlpha:function(o){return this.alpha=o,this},setTint:function(o){return this.tint=o,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(o){this.parent.dirty|=this._visible!==o,this._visible=o}},alpha:{get:function(){return this._alpha},set:function(o){this.parent.dirty|=this._alpha>0!=o>0,this._alpha=o}}});l.exports=d},97123:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82897),m=2,d={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(o,h,n,r){return o===void 0&&(o=1),h===void 0?this.alpha=o:(this._alphaTL=u(o,0,1),this._alphaTR=u(h,0,1),this._alphaBL=u(n,0,1),this._alphaBR=u(r,0,1)),this},alpha:{get:function(){return this._alpha},set:function(o){var h=u(o,0,1);this._alpha=h,this._alphaTL=h,this._alphaTR=h,this._alphaBL=h,this._alphaBR=h,h===0?this.renderFlags&=~m:this.renderFlags|=m}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(o){var h=u(o,0,1);this._alphaTL=h,h!==0&&(this.renderFlags|=m)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(o){var h=u(o,0,1);this._alphaTR=h,h!==0&&(this.renderFlags|=m)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(o){var h=u(o,0,1);this._alphaBL=h,h!==0&&(this.renderFlags|=m)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(o){var h=u(o,0,1);this._alphaBR=h,h!==0&&(this.renderFlags|=m)}}};l.exports=d},15720:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82897),m=2,d={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(o){return o===void 0&&(o=1),this.alpha=o,this},alpha:{get:function(){return this._alpha},set:function(o){var h=u(o,0,1);this._alpha=h,h===0?this.renderFlags&=~m:this.renderFlags|=m}}};l.exports=d},69732:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(95723),m={_blendMode:u.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(d){typeof d=="string"&&(d=u[d]),d|=0,d>=-1&&(this._blendMode=d)}},setBlendMode:function(d){return this.blendMode=d,this}};l.exports=m},28284:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}},setSize:function(e,u){return this.width=e,this.height=u,this},setDisplaySize:function(e,u){return this.displayWidth=e,this.displayHeight=u,this}};l.exports=T},85293:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={texture:null,frame:null,isCropped:!1,setCrop:function(e,u,m,d){if(e===void 0)this.isCropped=!1;else if(this.frame){if(typeof e=="number")this.frame.setCropUVs(this._crop,e,u,m,d,this.flipX,this.flipY);else{var o=e;this.frame.setCropUVs(this._crop,o.x,o.y,o.width,o.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};l.exports=T},14975:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={_depth:0,depth:{get:function(){return this._depth},set:function(e){this.displayList&&this.displayList.queueDepthSort(),this._depth=e}},setDepth:function(e){return e===void 0&&(e=0),this.depth=e,this}};l.exports=T},88677:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(96910),d=e(72677),o=new u({initialize:function(n,r){this.gameObject=n,this.isPost=r,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(h){return h===void 0&&(h=0),this.padding=h,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(h){if(!this.isPost){var n=this.gameObject.scene.sys.renderer;n&&n.pipelines?(this.gameObject.pipeline=n.pipelines.FX_PIPELINE,h!==void 0&&(this.padding=h),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var h=this.list,n=0;n<h.length;n++)h[n].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(h){var n;if(this.isPost){var r=this.gameObject.getPostPipeline(String(h.type));for(Array.isArray(r)||(r=[r]),n=0;n<r.length;n++){var f=r[n];if(f.controller===h){this.gameObject.removePostPipeline(f),h.destroy();break}}}else{var a=this.list;for(n=0;n<a.length;n++)a[n]===h&&(d(a,n),h.destroy())}return this.gameObject},disable:function(h){return h===void 0&&(h=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,h&&this.clear(),this.gameObject},add:function(h,n){if(this.isPost){var r=String(h.type);this.gameObject.setPostPipeline(r,n);var f=this.gameObject.getPostPipeline(r);if(f)return Array.isArray(f)&&(f=f.pop()),f.controller=h,h}else return this.enabled||this.enable(),this.list.push(h),h},addGlow:function(h,n,r,f,a,v){return this.add(new m.Glow(this.gameObject,h,n,r,f),{quality:a,distance:v})},addShadow:function(h,n,r,f,a,v,p){return this.add(new m.Shadow(this.gameObject,h,n,r,f,a,v,p))},addPixelate:function(h){return this.add(new m.Pixelate(this.gameObject,h))},addVignette:function(h,n,r,f){return this.add(new m.Vignette(this.gameObject,h,n,r,f))},addShine:function(h,n,r,f){return this.add(new m.Shine(this.gameObject,h,n,r,f))},addBlur:function(h,n,r,f,a,v){return this.add(new m.Blur(this.gameObject,h,n,r,f,a,v))},addGradient:function(h,n,r,f,a,v,p,c){return this.add(new m.Gradient(this.gameObject,h,n,r,f,a,v,p,c))},addBloom:function(h,n,r,f,a,v){return this.add(new m.Bloom(this.gameObject,h,n,r,f,a,v))},addColorMatrix:function(){return this.add(new m.ColorMatrix(this.gameObject))},addCircle:function(h,n,r,f,a){return this.add(new m.Circle(this.gameObject,h,n,r,f,a))},addBarrel:function(h){return this.add(new m.Barrel(this.gameObject,h))},addDisplacement:function(h,n,r){return this.add(new m.Displacement(this.gameObject,h,n,r))},addWipe:function(h,n,r){return this.add(new m.Wipe(this.gameObject,h,n,r))},addReveal:function(h,n,r){return this.add(new m.Wipe(this.gameObject,h,n,r,!0))},addBokeh:function(h,n,r){return this.add(new m.Bokeh(this.gameObject,h,n,r))},addTiltShift:function(h,n,r,f,a,v){return this.add(new m.Bokeh(this.gameObject,h,n,r,!0,f,a,v))},destroy:function(){this.clear(),this.gameObject=null}});l.exports=o},92972:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(e){return this.flipX=e,this},setFlipY:function(e){return this.flipY=e,this},setFlip:function(e,u){return this.flipX=e,this.flipY=u,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};l.exports=T},80693:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(74118),m=e(2386),d=e(93736),o={prepareBoundsOutput:function(h,n){if(n===void 0&&(n=!1),this.rotation!==0&&m(h,this.x,this.y,this.rotation),n&&this.parentContainer){var r=this.parentContainer.getBoundsTransformMatrix();r.transformPoint(h.x,h.y,h)}return h},getCenter:function(h,n){return h===void 0&&(h=new d),h.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,h.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(h,n)},getTopLeft:function(h,n){return h||(h=new d),h.x=this.x-this.displayWidth*this.originX,h.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(h,n)},getTopCenter:function(h,n){return h||(h=new d),h.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,h.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(h,n)},getTopRight:function(h,n){return h||(h=new d),h.x=this.x-this.displayWidth*this.originX+this.displayWidth,h.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(h,n)},getLeftCenter:function(h,n){return h||(h=new d),h.x=this.x-this.displayWidth*this.originX,h.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(h,n)},getRightCenter:function(h,n){return h||(h=new d),h.x=this.x-this.displayWidth*this.originX+this.displayWidth,h.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(h,n)},getBottomLeft:function(h,n){return h||(h=new d),h.x=this.x-this.displayWidth*this.originX,h.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(h,n)},getBottomCenter:function(h,n){return h||(h=new d),h.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,h.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(h,n)},getBottomRight:function(h,n){return h||(h=new d),h.x=this.x-this.displayWidth*this.originX+this.displayWidth,h.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(h,n)},getBounds:function(h){h===void 0&&(h=new u);var n,r,f,a,v,p,c,g;if(this.parentContainer){var y=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(h),y.transformPoint(h.x,h.y,h),n=h.x,r=h.y,this.getTopRight(h),y.transformPoint(h.x,h.y,h),f=h.x,a=h.y,this.getBottomLeft(h),y.transformPoint(h.x,h.y,h),v=h.x,p=h.y,this.getBottomRight(h),y.transformPoint(h.x,h.y,h),c=h.x,g=h.y}else this.getTopLeft(h),n=h.x,r=h.y,this.getTopRight(h),f=h.x,a=h.y,this.getBottomLeft(h),v=h.x,p=h.y,this.getBottomRight(h),c=h.x,g=h.y;return h.x=Math.min(n,f,v,c),h.y=Math.min(r,a,p,g),h.width=Math.max(n,f,v,c)-h.x,h.height=Math.max(r,a,p,g)-h.y,h}};l.exports=o},39171:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(76756),m=e(63037),d={mask:null,setMask:function(o){return this.mask=o,this},clearMask:function(o){return o===void 0&&(o=!1),o&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(o,h,n,r,f){return o===void 0&&(this.texture||this.shader||this.geom)&&(o=this),new u(this.scene,o,h,n,r,f)},createGeometryMask:function(o){return o===void 0&&(this.type==="Graphics"||this.geom)&&(o=this),new m(this.scene,o)}};l.exports=d},28072:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(e){this._displayOriginX=e,this.originX=e/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(e){this._displayOriginY=e,this.originY=e/this.height}},setOrigin:function(e,u){return e===void 0&&(e=.5),u===void 0&&(u=e),this.originX=e,this.originY=u,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(e,u){return e===void 0&&(e=0),u===void 0&&(u=e),this.displayOriginX=e,this.displayOriginY=u,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};l.exports=T},54211:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(75606),m=e(63130),d=e(10850),o=e(55303),h=e(93736),n={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:o.PLAYING_FORWARD,setPath:function(r,f){f===void 0&&(f=this.pathConfig);var a=this.pathTween;return a&&a.isPlaying()&&a.stop(),this.path=r,f&&this.startFollow(f),this},setRotateToPath:function(r,f){return f===void 0&&(f=0),this.rotateToPath=r,this.pathRotationOffset=f,this},isFollowing:function(){var r=this.pathTween;return r&&r.isPlaying()},startFollow:function(r,f){r===void 0&&(r={}),f===void 0&&(f=0);var a=this.pathTween;a&&a.isPlaying()&&a.stop(),typeof r=="number"&&(r={duration:r}),r.from=d(r,"from",0),r.to=d(r,"to",1);var v=m(r,"positionOnPath",!1);this.rotateToPath=m(r,"rotateToPath",!1),this.pathRotationOffset=d(r,"rotationOffset",0);var p=d(r,"startAt",f);if(p&&(r.onStart=function(g){var y=g.data[0];y.progress=p,y.elapsed=y.duration*p;var S=y.ease(y.progress);y.current=y.start+(y.end-y.start)*S,y.setTargetValue()}),this.pathOffset||(this.pathOffset=new h(this.x,this.y)),this.pathVector||(this.pathVector=new h),this.pathDelta||(this.pathDelta=new h),this.pathDelta.reset(),r.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(r),this.path.getStartPoint(this.pathOffset),v&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=o.PLAYING_FORWARD,this.rotateToPath){var c=this.path.getPoint(.1);this.rotation=Math.atan2(c.y-this.y,c.x-this.x)+u(this.pathRotationOffset)}return this.pathConfig=r,this},pauseFollow:function(){var r=this.pathTween;return r&&r.isPlaying()&&r.pause(),this},resumeFollow:function(){var r=this.pathTween;return r&&r.isPaused()&&r.resume(),this},stopFollow:function(){var r=this.pathTween;return r&&r.isPlaying()&&r.stop(),this},pathUpdate:function(){var r=this.pathTween;if(r){var f=r.data[0],a=this.pathDelta,v=this.pathVector;if(a.copy(v).negate(),f.state===o.COMPLETE){this.path.getPoint(f.end,v),a.add(v),v.add(this.pathOffset),this.setPosition(v.x,v.y);return}else if(f.state!==o.PLAYING_FORWARD&&f.state!==o.PLAYING_BACKWARD)return;this.path.getPoint(r.getValue(),v),a.add(v),v.add(this.pathOffset);var p=this.x,c=this.y;this.setPosition(v.x,v.y);var g=this.x-p,y=this.y-c;if(g===0&&y===0)return;if(f.state!==this._prevDirection){this._prevDirection=f.state;return}this.rotateToPath&&(this.rotation=Math.atan2(y,g)+u(this.pathRotationOffset))}}};l.exports=n},58210:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(28699),m={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(d){this.pipelineData={};var o=this.scene.sys.renderer;if(!o)return!1;var h=o.pipelines;if(h){d===void 0&&(d=h.default);var n=h.get(d);if(n)return this.defaultPipeline=n,this.pipeline=n,!0}return!1},setPipeline:function(d,o,h){var n=this.scene.sys.renderer;if(!n)return this;var r=n.pipelines;if(r){var f=r.get(d);f&&(this.pipeline=f),o&&(this.pipelineData=h?u(o):o)}return this},setPipelineData:function(d,o){var h=this.pipelineData;return o===void 0?delete h[d]:h[d]=o,this},resetPipeline:function(d){return d===void 0&&(d=!1),this.pipeline=this.defaultPipeline,d&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline.name}};l.exports=m},44086:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(28699),m=e(88677),d=e(72677),o={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(h){this.postPipelines=[],this.postPipelineData={},this.postFX=new m(this,!0),h&&(this.preFX=new m(this,!1))},setPostPipeline:function(h,n,r){var f=this.scene.sys.renderer;if(!f)return this;var a=f.pipelines;if(a){Array.isArray(h)||(h=[h]);for(var v=0;v<h.length;v++){var p=a.getPostPipeline(h[v],this,n);p&&this.postPipelines.push(p)}n&&(this.postPipelineData=r?u(n):n)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(h,n){var r=this.postPipelineData;return n===void 0?delete r[h]:r[h]=n,this},getPostPipeline:function(h){for(var n=typeof h=="string",r=this.postPipelines,f=[],a=0;a<r.length;a++){var v=r[a];(n&&v.name===h||!n&&v instanceof h)&&f.push(v)}return f.length===1?f[0]:f},resetPostPipeline:function(h){h===void 0&&(h=!1);for(var n=this.postPipelines,r=0;r<n.length;r++)n[r].destroy();this.postPipelines=[],this.hasPostPipeline=!1,h&&(this.postPipelineData={})},removePostPipeline:function(h){for(var n=typeof h=="string",r=this.postPipelines,f=r.length-1;f>=0;f--){var a=r[f];(n&&a.name===h||!n&&a===h)&&(a.destroy(),d(r,f))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};l.exports=o},45900:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(e,u){return u===void 0&&(u=e),this.scrollFactorX=e,this.scrollFactorY=u,this}};l.exports=T},31654:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(e){this.scaleX=e/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(e){this.scaleY=e/this.frame.realHeight}},setSizeToFrame:function(e){e||(e=this.frame),this.width=e.realWidth,this.height=e.realHeight;var u=this.input;return u&&!u.customHitArea&&(u.hitArea.width=this.width,u.hitArea.height=this.height),this},setSize:function(e,u){return this.width=e,this.height=u,this},setDisplaySize:function(e,u){return this.displayWidth=e,this.displayHeight=u,this}};l.exports=T},82081:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82047),m=8,d={texture:null,frame:null,isCropped:!1,setTexture:function(o,h){return this.texture=this.scene.sys.textures.get(o),this.setFrame(h)},setFrame:function(o,h,n){return h===void 0&&(h=!0),n===void 0&&(n=!0),o instanceof u?(this.texture=this.scene.sys.textures.get(o.texture.key),this.frame=o):this.frame=this.texture.get(o),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~m:this.renderFlags|=m,this._sizeComponent&&h&&this.setSizeToFrame(),this._originComponent&&n&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};l.exports=d},21850:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82047),m=8,d={texture:null,frame:null,isCropped:!1,setCrop:function(o,h,n,r){if(o===void 0)this.isCropped=!1;else if(this.frame){if(typeof o=="number")this.frame.setCropUVs(this._crop,o,h,n,r,this.flipX,this.flipY);else{var f=o;this.frame.setCropUVs(this._crop,f.x,f.y,f.width,f.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(o,h){return this.texture=this.scene.sys.textures.get(o),this.setFrame(h)},setFrame:function(o,h,n){return h===void 0&&(h=!0),n===void 0&&(n=!0),o instanceof u?(this.texture=this.scene.sys.textures.get(o.texture.key),this.frame=o):this.frame=this.texture.get(o),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~m:this.renderFlags|=m,this._sizeComponent&&h&&this.setSizeToFrame(),this._originComponent&&n&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};l.exports=d},58072:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(e,u,m,d){return e===void 0&&(e=16777215),u===void 0&&(u=e,m=e,d=e),this.tintTopLeft=e,this.tintTopRight=u,this.tintBottomLeft=m,this.tintBottomRight=d,this.tintFill=!1,this},setTintFill:function(e,u,m,d){return this.setTint(e,u,m,d),this.tintFill=!0,this},tint:{set:function(e){this.setTint(e,e,e,e)}},isTinted:{get:function(){var e=16777215;return this.tintFill||this.tintTopLeft!==e||this.tintTopRight!==e||this.tintBottomLeft!==e||this.tintBottomRight!==e}}};l.exports=T},48129:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){var u={name:e.name,type:e.type,x:e.x,y:e.y,depth:e.depth,scale:{x:e.scaleX,y:e.scaleY},origin:{x:e.originX,y:e.originY},flipX:e.flipX,flipY:e.flipY,rotation:e.rotation,alpha:e.alpha,visible:e.visible,blendMode:e.blendMode,textureKey:"",frameKey:"",data:{}};return e.texture&&(u.textureKey=e.texture.key,u.frameKey=e.frame.name),u};l.exports=T},56584:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83392),m=e(69360),d=e(64462),o=e(35786),h=e(62138),n=e(93736),r=4,f={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(a){this._scaleX=a,this._scaleY=a,a===0?this.renderFlags&=~r:this.renderFlags|=r}},scaleX:{get:function(){return this._scaleX},set:function(a){this._scaleX=a,a===0?this.renderFlags&=~r:this._scaleY!==0&&(this.renderFlags|=r)}},scaleY:{get:function(){return this._scaleY},set:function(a){this._scaleY=a,a===0?this.renderFlags&=~r:this._scaleX!==0&&(this.renderFlags|=r)}},angle:{get:function(){return h(this._rotation*u.RAD_TO_DEG)},set:function(a){this.rotation=h(a)*u.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(a){this._rotation=o(a)}},setPosition:function(a,v,p,c){return a===void 0&&(a=0),v===void 0&&(v=a),p===void 0&&(p=0),c===void 0&&(c=0),this.x=a,this.y=v,this.z=p,this.w=c,this},copyPosition:function(a){return a.x!==void 0&&(this.x=a.x),a.y!==void 0&&(this.y=a.y),a.z!==void 0&&(this.z=a.z),a.w!==void 0&&(this.w=a.w),this},setRandomPosition:function(a,v,p,c){return a===void 0&&(a=0),v===void 0&&(v=0),p===void 0&&(p=this.scene.sys.scale.width),c===void 0&&(c=this.scene.sys.scale.height),this.x=a+Math.random()*p,this.y=v+Math.random()*c,this},setRotation:function(a){return a===void 0&&(a=0),this.rotation=a,this},setAngle:function(a){return a===void 0&&(a=0),this.angle=a,this},setScale:function(a,v){return a===void 0&&(a=1),v===void 0&&(v=a),this.scaleX=a,this.scaleY=v,this},setX:function(a){return a===void 0&&(a=0),this.x=a,this},setY:function(a){return a===void 0&&(a=0),this.y=a,this},setZ:function(a){return a===void 0&&(a=0),this.z=a,this},setW:function(a){return a===void 0&&(a=0),this.w=a,this},getLocalTransformMatrix:function(a){return a===void 0&&(a=new m),a.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(a,v){a===void 0&&(a=new m);var p=this.parentContainer;if(!p)return this.getLocalTransformMatrix(a);for(v||(v=new m),a.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);p;)v.applyITRS(p.x,p.y,p._rotation,p._scaleX,p._scaleY),v.multiply(a,a),p=p.parentContainer;return a},getLocalPoint:function(a,v,p,c){p||(p=new n),c||(c=this.scene.sys.cameras.main);var g=c.scrollX,y=c.scrollY,S=a+g*this.scrollFactorX-g,P=v+y*this.scrollFactorY-y;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(S,P,p):d(S,P,this.x,this.y,this.rotation,this.scaleX,this.scaleY,p),this._originComponent&&(p.x+=this._displayOriginX,p.y+=this._displayOriginY),p},getParentRotation:function(){for(var a=0,v=this.parentContainer;v;)a+=v.rotation,v=v.parentContainer;return a}};l.exports=f},69360:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(83392),d=e(93736),o=new u({initialize:function(n,r,f,a,v,p){n===void 0&&(n=1),r===void 0&&(r=0),f===void 0&&(f=0),a===void 0&&(a=1),v===void 0&&(v=0),p===void 0&&(p=0),this.matrix=new Float32Array([n,r,f,a,v,p,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(h){this.matrix[0]=h}},b:{get:function(){return this.matrix[1]},set:function(h){this.matrix[1]=h}},c:{get:function(){return this.matrix[2]},set:function(h){this.matrix[2]=h}},d:{get:function(){return this.matrix[3]},set:function(h){this.matrix[3]=h}},e:{get:function(){return this.matrix[4]},set:function(h){this.matrix[4]=h}},f:{get:function(){return this.matrix[5]},set:function(h){this.matrix[5]=h}},tx:{get:function(){return this.matrix[4]},set:function(h){this.matrix[4]=h}},ty:{get:function(){return this.matrix[5]},set:function(h){this.matrix[5]=h}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var h=this.matrix,n=h[0],r=h[1],f=h[2],a=h[3];return n||r?r>0?Math.acos(n/this.scaleX):-Math.acos(n/this.scaleX):f||a?m.TAU-(a>0?Math.acos(-f/this.scaleY):-Math.acos(f/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var h=this.matrix;return h[0]=1,h[1]=0,h[2]=0,h[3]=1,h[4]=0,h[5]=0,this},translate:function(h,n){var r=this.matrix;return r[4]=r[0]*h+r[2]*n+r[4],r[5]=r[1]*h+r[3]*n+r[5],this},scale:function(h,n){var r=this.matrix;return r[0]*=h,r[1]*=h,r[2]*=n,r[3]*=n,this},rotate:function(h){var n=Math.sin(h),r=Math.cos(h),f=this.matrix,a=f[0],v=f[1],p=f[2],c=f[3];return f[0]=a*r+p*n,f[1]=v*r+c*n,f[2]=a*-n+p*r,f[3]=v*-n+c*r,this},multiply:function(h,n){var r=this.matrix,f=h.matrix,a=r[0],v=r[1],p=r[2],c=r[3],g=r[4],y=r[5],S=f[0],P=f[1],C=f[2],M=f[3],R=f[4],w=f[5],O=n===void 0?r:n.matrix;return O[0]=S*a+P*p,O[1]=S*v+P*c,O[2]=C*a+M*p,O[3]=C*v+M*c,O[4]=R*a+w*p+g,O[5]=R*v+w*c+y,O},multiplyWithOffset:function(h,n,r){var f=this.matrix,a=h.matrix,v=f[0],p=f[1],c=f[2],g=f[3],y=f[4],S=f[5],P=n*v+r*c+y,C=n*p+r*g+S,M=a[0],R=a[1],w=a[2],O=a[3],F=a[4],L=a[5];return f[0]=M*v+R*c,f[1]=M*p+R*g,f[2]=w*v+O*c,f[3]=w*p+O*g,f[4]=F*v+L*c+P,f[5]=F*p+L*g+C,this},transform:function(h,n,r,f,a,v){var p=this.matrix,c=p[0],g=p[1],y=p[2],S=p[3],P=p[4],C=p[5];return p[0]=h*c+n*y,p[1]=h*g+n*S,p[2]=r*c+f*y,p[3]=r*g+f*S,p[4]=a*c+v*y+P,p[5]=a*g+v*S+C,this},transformPoint:function(h,n,r){r===void 0&&(r={x:0,y:0});var f=this.matrix,a=f[0],v=f[1],p=f[2],c=f[3],g=f[4],y=f[5];return r.x=h*a+n*p+g,r.y=h*v+n*c+y,r},invert:function(){var h=this.matrix,n=h[0],r=h[1],f=h[2],a=h[3],v=h[4],p=h[5],c=n*a-r*f;return h[0]=a/c,h[1]=-r/c,h[2]=-f/c,h[3]=n/c,h[4]=(f*p-a*v)/c,h[5]=-(n*p-r*v)/c,this},copyFrom:function(h){var n=this.matrix;return n[0]=h.a,n[1]=h.b,n[2]=h.c,n[3]=h.d,n[4]=h.e,n[5]=h.f,this},copyFromArray:function(h){var n=this.matrix;return n[0]=h[0],n[1]=h[1],n[2]=h[2],n[3]=h[3],n[4]=h[4],n[5]=h[5],this},copyToContext:function(h){var n=this.matrix;return h.transform(n[0],n[1],n[2],n[3],n[4],n[5]),h},setToContext:function(h){var n=this.matrix;return h.setTransform(n[0],n[1],n[2],n[3],n[4],n[5]),h},copyToArray:function(h){var n=this.matrix;return h===void 0?h=[n[0],n[1],n[2],n[3],n[4],n[5]]:(h[0]=n[0],h[1]=n[1],h[2]=n[2],h[3]=n[3],h[4]=n[4],h[5]=n[5]),h},setTransform:function(h,n,r,f,a,v){var p=this.matrix;return p[0]=h,p[1]=n,p[2]=r,p[3]=f,p[4]=a,p[5]=v,this},decomposeMatrix:function(){var h=this.decomposedMatrix,n=this.matrix,r=n[0],f=n[1],a=n[2],v=n[3],p=r*v-f*a;if(h.translateX=n[4],h.translateY=n[5],r||f){var c=Math.sqrt(r*r+f*f);h.rotation=f>0?Math.acos(r/c):-Math.acos(r/c),h.scaleX=c,h.scaleY=p/c}else if(a||v){var g=Math.sqrt(a*a+v*v);h.rotation=Math.PI*.5-(v>0?Math.acos(-a/g):-Math.acos(a/g)),h.scaleX=p/g,h.scaleY=g}else h.rotation=0,h.scaleX=0,h.scaleY=0;return h},applyITRS:function(h,n,r,f,a){var v=this.matrix,p=Math.sin(r),c=Math.cos(r);return v[4]=h,v[5]=n,v[0]=c*f,v[1]=p*f,v[2]=-p*a,v[3]=c*a,this},applyInverse:function(h,n,r){r===void 0&&(r=new d);var f=this.matrix,a=f[0],v=f[1],p=f[2],c=f[3],g=f[4],y=f[5],S=1/(a*c+p*-v);return r.x=c*S*h+-p*S*n+(y*p-g*c)*S,r.y=a*S*n+-v*S*h+(-y*a+g*v)*S,r},setQuad:function(h,n,r,f,a,v){v===void 0&&(v=this.quad);var p=this.matrix,c=p[0],g=p[1],y=p[2],S=p[3],P=p[4],C=p[5];return v[0]=h*c+n*y+P,v[1]=h*g+n*S+C,v[2]=h*c+f*y+P,v[3]=h*g+f*S+C,v[4]=r*c+f*y+P,v[5]=r*g+f*S+C,v[6]=r*c+n*y+P,v[7]=r*g+n*S+C,a&&v.forEach(function(M,R){v[R]=Math.round(M)}),v},getX:function(h,n){return h*this.a+n*this.c+this.e},getY:function(h,n){return h*this.b+n*this.d+this.f},getXRound:function(h,n,r){var f=this.getX(h,n);return r&&(f=Math.round(f)),f},getYRound:function(h,n,r){var f=this.getY(h,n);return r&&(f=Math.round(f)),f},getCSSMatrix:function(){var h=this.matrix;return"matrix("+h[0]+","+h[1]+","+h[2]+","+h[3]+","+h[4]+","+h[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});l.exports=o},59694:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=1,e={_visible:!0,visible:{get:function(){return this._visible},set:function(u){u?(this._visible=!0,this.renderFlags|=T):(this._visible=!1,this.renderFlags&=~T)}},setVisible:function(u){return this.visible=u,this}};l.exports=e},64937:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Alpha:e(97123),AlphaSingle:e(15720),BlendMode:e(69732),ComputedSize:e(28284),Crop:e(85293),Depth:e(14975),Flip:e(92972),FX:e(88677),GetBounds:e(80693),Mask:e(39171),Origin:e(28072),PathFollower:e(54211),Pipeline:e(58210),PostPipeline:e(44086),ScrollFactor:e(45900),Size:e(31654),Texture:e(82081),TextureCrop:e(21850),Tint:e(58072),ToJSON:e(48129),Transform:e(56584),TransformMatrix:e(69360),Visible:e(59694)}},70339:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(59959),m=e(95723),d=e(56694),o=e(64937),h=e(56631),n=e(89980),r=e(74118),f=e(98524),a=e(58795),v=e(93736),p=new d({Extends:n,Mixins:[o.AlphaSingle,o.BlendMode,o.ComputedSize,o.Depth,o.Mask,o.PostPipeline,o.Transform,o.Visible,f],initialize:function(g,y,S,P){n.call(this,g,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new o.TransformMatrix,this.tempTransformMatrix=new o.TransformMatrix,this._sortKey="",this._sysEvents=g.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(y,S),this.setBlendMode(m.SKIP_CHECK),P&&this.add(P)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(c){return c===void 0&&(c=!0),this.exclusive=c,this},getBounds:function(c){if(c===void 0&&(c=new r),c.setTo(this.x,this.y,0,0),this.parentContainer){var g=this.parentContainer.getBoundsTransformMatrix(),y=g.transformPoint(this.x,this.y);c.setTo(y.x,y.y,0,0)}if(this.list.length>0){var S=this.list,P=new r,C=!1;c.setEmpty();for(var M=0;M<S.length;M++){var R=S[M];R.getBounds&&(R.getBounds(P),C?a(P,c,c):(c.setTo(P.x,P.y,P.width,P.height),C=!0))}}return c},addHandler:function(c){c.once(h.DESTROY,this.remove,this),this.exclusive&&(c.parentContainer&&c.parentContainer.remove(c),c.parentContainer=this,c.removeFromDisplayList(),c.addedToScene())},removeHandler:function(c){c.off(h.DESTROY,this.remove,this),this.exclusive&&(c.parentContainer=null,c.removedFromScene(),c.addToDisplayList())},pointToContainer:function(c,g){g===void 0&&(g=new v),this.parentContainer?this.parentContainer.pointToContainer(c,g):(g.x=c.x,g.y=c.y);var y=this.tempTransformMatrix;return y.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),y.invert(),y.transformPoint(c.x,c.y,g),g},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(c){return u.Add(this.list,c,this.maxSize,this.addHandler,this),this},addAt:function(c,g){return u.AddAt(this.list,c,g,this.maxSize,this.addHandler,this),this},getAt:function(c){return this.list[c]},getIndex:function(c){return this.list.indexOf(c)},sort:function(c,g){return c?(g===void 0&&(g=function(y,S){return y[c]-S[c]}),u.StableSort(this.list,g),this):this},getByName:function(c){return u.GetFirst(this.list,"name",c)},getRandom:function(c,g){return u.GetRandom(this.list,c,g)},getFirst:function(c,g,y,S){return u.GetFirst(this.list,c,g,y,S)},getAll:function(c,g,y,S){return u.GetAll(this.list,c,g,y,S)},count:function(c,g,y,S){return u.CountAllMatching(this.list,c,g,y,S)},swap:function(c,g){return u.Swap(this.list,c,g),this},moveTo:function(c,g){return u.MoveTo(this.list,c,g),this},moveAbove:function(c,g){return u.MoveAbove(this.list,c,g),this},moveBelow:function(c,g){return u.MoveBelow(this.list,c,g),this},remove:function(c,g){var y=u.Remove(this.list,c,this.removeHandler,this);if(g&&y){Array.isArray(y)||(y=[y]);for(var S=0;S<y.length;S++)y[S].destroy()}return this},removeAt:function(c,g){var y=u.RemoveAt(this.list,c,this.removeHandler,this);return g&&y&&y.destroy(),this},removeBetween:function(c,g,y){var S=u.RemoveBetween(this.list,c,g,this.removeHandler,this);if(y)for(var P=0;P<S.length;P++)S[P].destroy();return this},removeAll:function(c){var g=this.list;if(c){for(var y=0;y<g.length;y++)g[y]&&g[y].scene&&(g[y].off(h.DESTROY,this.remove,this),g[y].destroy());this.list=[]}else u.RemoveBetween(g,0,g.length,this.removeHandler,this);return this},bringToTop:function(c){return u.BringToTop(this.list,c),this},sendToBack:function(c){return u.SendToBack(this.list,c),this},moveUp:function(c){return u.MoveUp(this.list,c),this},moveDown:function(c){return u.MoveDown(this.list,c),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return u.Shuffle(this.list),this},replace:function(c,g,y){var S=u.Replace(this.list,c,g);return S&&(this.addHandler(g),this.removeHandler(c),y&&c.destroy()),this},exists:function(c){return this.list.indexOf(c)>-1},setAll:function(c,g,y,S){return u.SetAll(this.list,c,g,y,S),this},each:function(c,g){var y=[null],S,P=this.list.slice(),C=P.length;for(S=2;S<arguments.length;S++)y.push(arguments[S]);for(S=0;S<C;S++)y[0]=P[S],c.apply(g,y);return this},iterate:function(c,g){var y=[null],S;for(S=2;S<arguments.length;S++)y.push(arguments[S]);for(S=0;S<this.list.length;S++)y[0]=this.list[S],c.apply(g,y);return this},setScrollFactor:function(c,g,y){return g===void 0&&(g=c),y===void 0&&(y=!1),this.scrollFactorX=c,this.scrollFactorY=g,y&&(u.SetAll(this.list,"scrollFactorX",c),u.SetAll(this.list,"scrollFactorY",g)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]}});l.exports=p},13916:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d){m.addToRenderList(u);var o=u.list;if(o.length!==0){var h=u.localTransform;d?(h.loadIdentity(),h.multiply(d),h.translate(u.x,u.y),h.rotate(u.rotation),h.scale(u.scaleX,u.scaleY)):h.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY);var n=u.blendMode!==-1;n||e.setBlendMode(0);var r=u._alpha,f=u.scrollFactorX,a=u.scrollFactorY;u.mask&&u.mask.preRenderCanvas(e,null,m);for(var v=0;v<o.length;v++){var p=o[v];if(p.willRender(m)){var c=p.alpha,g=p.scrollFactorX,y=p.scrollFactorY;!n&&p.blendMode!==e.currentBlendMode&&e.setBlendMode(p.blendMode),p.setScrollFactor(g*f,y*a),p.setAlpha(c*r),p.renderCanvas(e,p,m,h),p.setAlpha(c),p.setScrollFactor(g,y)}}u.mask&&u.mask.postRenderCanvas(e)}};l.exports=T},44516:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(88933),m=e(70339),d=e(99325),o=e(20494);d.register("container",function(h,n){h===void 0&&(h={});var r=o(h,"x",0),f=o(h,"y",0),a=o(h,"children",null),v=new m(this.scene,r,f,a);return n!==void 0&&(h.add=n),u(this.scene,v,h),v})},23400:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(70339),m=e(61286);m.register("container",function(d,o,h){return this.displayList.add(new u(this.scene,d,o,h))})},98524:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),m=u,d=u;m=e(36934),d=e(13916),l.exports={renderWebGL:m,renderCanvas:d}},36934:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d){m.addToRenderList(u);var o=u.list,h=o.length;if(h!==0){var n=u.localTransform;d?(n.loadIdentity(),n.multiply(d),n.translate(u.x,u.y),n.rotate(u.rotation),n.scale(u.scaleX,u.scaleY)):n.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY),e.pipelines.preBatch(u);var r=u.blendMode!==-1;r||e.setBlendMode(0);for(var f=u.alpha,a=u.scrollFactorX,v=u.scrollFactorY,p=0;p<h;p++){var c=o[p];if(c.willRender(m)){var g,y,S,P;if(c.alphaTopLeft!==void 0)g=c.alphaTopLeft,y=c.alphaTopRight,S=c.alphaBottomLeft,P=c.alphaBottomRight;else{var C=c.alpha;g=C,y=C,S=C,P=C}var M=c.scrollFactorX,R=c.scrollFactorY;!r&&c.blendMode!==e.currentBlendMode&&e.setBlendMode(c.blendMode);var w=c.mask;w&&w.preRenderWebGL(e,c,m);var O=c.type;O!==e.currentType&&(e.newType=!0,e.currentType=O),e.nextTypeMatch=p<h-1?o[p+1].type===e.currentType:!1,c.setScrollFactor(M*a,R*v),c.setAlpha(g*f,y*f,S*f,P*f),c.renderWebGL(e,c,m,n,u),c.setAlpha(g,y,S,P),c.setScrollFactor(M,R),w&&w.postRenderWebGL(e,m),e.newType=!1}}e.pipelines.postBatch(u)}};l.exports=T},2452:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},38943:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(64937),d=e(11603),o=e(89980),h=e(42911),n=e(55638),r=e(7599),f=e(51729),a=new u({Extends:o,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.Origin,m.ScrollFactor,m.Transform,m.Visible,d],initialize:function(p,c,g,y,S,P){o.call(this,p,"DOMElement"),this.parent=p.sys.game.domContainer,this.cache=p.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new f,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(c,g),typeof y=="string"?y[0]==="#"?this.setElement(y.substr(1),S,P):this.createElement(y,S,P):y&&this.setElement(y,S,P),p.sys.events.on(r.SLEEP,this.handleSceneEvent,this),p.sys.events.on(r.WAKE,this.handleSceneEvent,this),p.sys.events.on(r.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(v){var p=this.node,c=p.style;p&&(c.display=v.settings.visible?"block":"none")},setSkew:function(v,p){return v===void 0&&(v=0),p===void 0&&(p=v),this.skewX=v,this.skewY=p,this},setPerspective:function(v){return this.parent.style.perspective=v+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(v){this.parent.style.perspective=v+"px"}},addListener:function(v){if(this.node){v=v.split(" ");for(var p=0;p<v.length;p++)this.node.addEventListener(v[p],this.handler,!1)}return this},removeListener:function(v){if(this.node){v=v.split(" ");for(var p=0;p<v.length;p++)this.node.removeEventListener(v[p],this.handler)}return this},dispatchNativeEvent:function(v){this.emit(v.type,v)},createElement:function(v,p,c){return this.setElement(document.createElement(v),p,c)},setElement:function(v,p,c){this.removeElement();var g;if(typeof v=="string"?(v[0]==="#"&&(v=v.substr(1)),g=document.getElementById(v)):typeof v=="object"&&v.nodeType===1&&(g=v),!g)return this;if(this.node=g,p&&h(p))for(var y in p)g.style[y]=p[y];else typeof p=="string"&&(g.style=p);return g.style.zIndex="0",g.style.display="inline",g.style.position="absolute",g.phaser=this,this.parent&&this.parent.appendChild(g),c&&(g.innerText=c),this.updateSize()},createFromCache:function(v,p){var c=this.cache.get(v);return c&&this.createFromHTML(c,p),this},createFromHTML:function(v,p){p===void 0&&(p="div"),this.removeElement();var c=document.createElement(p);return this.node=c,c.style.zIndex="0",c.style.display="inline",c.style.position="absolute",c.phaser=this,this.parent&&this.parent.appendChild(c),c.innerHTML=v,this.updateSize()},removeElement:function(){return this.node&&(n(this.node),this.node=null),this},updateSize:function(){var v=this.node,p=v.getBoundingClientRect();return this.width=v.clientWidth,this.height=v.clientHeight,this.displayWidth=p.width||0,this.displayHeight=p.height||0,this},getChildByProperty:function(v,p){if(this.node){for(var c=this.node.querySelectorAll("*"),g=0;g<c.length;g++)if(c[g][v]===p)return c[g]}return null},getChildByID:function(v){return this.getChildByProperty("id",v)},getChildByName:function(v){return this.getChildByProperty("name",v)},setClassName:function(v){return this.node&&(this.node.className=v,this.updateSize()),this},setText:function(v){return this.node&&(this.node.innerText=v,this.updateSize()),this},setHTML:function(v){return this.node&&(this.node.innerHTML=v,this.updateSize()),this},preRender:function(){var v=this.parentContainer,p=this.node;p&&v&&!v.willRender()&&(p.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(r.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(r.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(r.PRE_RENDER,this.preRender,this)}});l.exports=a},66070:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2452),m=e(89980),d=e(69360),o=new d,h=new d,n=new d,r=function(f,a,v,p){if(a.node){var c=a.node.style,g=a.scene.sys.settings;if(!c||!g.visible||m.RENDER_MASK!==a.renderFlags||a.cameraFilter!==0&&a.cameraFilter&v.id||a.parentContainer&&!a.parentContainer.willRender()){c.display="none";return}var y=a.parentContainer,S=v.alpha*a.alpha;y&&(S*=y.alpha);var P=o,C=h,M=n,R=0,w=0,O="0%",F="0%";p?(R=a.width*a.scaleX*a.originX,w=a.height*a.scaleY*a.originY,C.applyITRS(a.x-R,a.y-w,a.rotation,a.scaleX,a.scaleY),P.copyFrom(v.matrix),P.multiplyWithOffset(p,-v.scrollX*a.scrollFactorX,-v.scrollY*a.scrollFactorY),C.e=a.x-R,C.f=a.y-w,P.multiply(C,M)):(R=a.width*a.originX,w=a.height*a.originY,C.applyITRS(a.x-R,a.y-w,a.rotation,a.scaleX,a.scaleY),P.copyFrom(v.matrix),O=100*a.originX+"%",F=100*a.originY+"%",C.e-=v.scrollX*a.scrollFactorX,C.f-=v.scrollY*a.scrollFactorY,P.multiply(C,M)),a.transformOnly||(c.display="block",c.opacity=S,c.zIndex=a._depth,c.pointerEvents=a.pointerEvents,c.mixBlendMode=u[a._blendMode]),c.transform=M.getCSSMatrix()+" skew("+a.skewX+"rad, "+a.skewY+"rad) rotate3d("+a.rotate3d.x+","+a.rotate3d.y+","+a.rotate3d.z+","+a.rotate3d.w+a.rotate3dAngle+")",c.transformOrigin=O+" "+F}};l.exports=r},66788:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(38943),m=e(61286);m.register("dom",function(d,o,h,n,r){var f=new u(this.scene,d,o,h,n,r);return this.displayList.add(f),f})},11603:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),m=u,d=u;m=e(66070),d=e(66070),l.exports={renderWebGL:m,renderCanvas:d}},65492:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="addedtoscene"},98398:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="destroy"},40239:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="removedfromscene"},17286:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="complete"},31496:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="created"},89587:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="error"},59792:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="locked"},96342:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="loop"},6017:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="playing"},49614:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="play"},24418:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="seeked"},87318:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="seeking"},50009:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="stalled"},61922:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="stop"},79501:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="textureready"},4052:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="unlocked"},54857:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="unsupported"},56631:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ADDED_TO_SCENE:e(65492),DESTROY:e(98398),REMOVED_FROM_SCENE:e(40239),VIDEO_COMPLETE:e(17286),VIDEO_CREATED:e(31496),VIDEO_ERROR:e(89587),VIDEO_LOCKED:e(59792),VIDEO_LOOP:e(96342),VIDEO_PLAY:e(49614),VIDEO_PLAYING:e(6017),VIDEO_SEEKED:e(24418),VIDEO_SEEKING:e(87318),VIDEO_STALLED:e(50009),VIDEO_STOP:e(61922),VIDEO_TEXTURE:e(79501),VIDEO_UNLOCKED:e(4052),VIDEO_UNSUPPORTED:e(54857)}},39419:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(64937),d=e(89980),o=e(79394),h=new u({Extends:d,Mixins:[m.Alpha,m.BlendMode,m.Depth,m.Flip,m.Origin,m.ScrollFactor,m.Size,m.Texture,m.Tint,m.Transform,m.Visible,o],initialize:function(r){d.call(this,r,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});l.exports=h},96699:()=>{},41155:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(39419),m=e(61286);m.register("extern",function(){var d=new u(this.scene);return this.displayList.add(d),d})},79394:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),m=u,d=u;m=e(81410),d=e(96699),l.exports={renderWebGL:m,renderCanvas:d}},81410:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(73329),m=function(d,o,h,n){d.pipelines.clear();var r=u(o,h,n).calc;o.render.call(o,d,h,r),d.pipelines.rebind()};l.exports=m},36266:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},33182:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(51052),m=e(56694),d=e(36266),o=e(64937),h=e(95669),n=e(89980),r=e(72632),f=e(10850),a=e(83392),v=e(60898),p=new m({Extends:n,Mixins:[o.AlphaSingle,o.BlendMode,o.Depth,o.Mask,o.Pipeline,o.PostPipeline,o.Transform,o.Visible,o.ScrollFactor,v],initialize:function(g,y){var S=f(y,"x",0),P=f(y,"y",0);n.call(this,g,"Graphics"),this.setPosition(S,P),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.setDefaultStyles(y)},setDefaultStyles:function(c){return f(c,"lineStyle",null)&&(this.defaultStrokeWidth=f(c,"lineStyle.width",1),this.defaultStrokeColor=f(c,"lineStyle.color",16777215),this.defaultStrokeAlpha=f(c,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),f(c,"fillStyle",null)&&(this.defaultFillColor=f(c,"fillStyle.color",16777215),this.defaultFillAlpha=f(c,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(c,g,y){return y===void 0&&(y=1),this.commandBuffer.push(d.LINE_STYLE,c,g,y),this._lineWidth=c,this},fillStyle:function(c,g){return g===void 0&&(g=1),this.commandBuffer.push(d.FILL_STYLE,c,g),this},fillGradientStyle:function(c,g,y,S,P,C,M,R){return P===void 0&&(P=1),C===void 0&&(C=P),M===void 0&&(M=P),R===void 0&&(R=P),this.commandBuffer.push(d.GRADIENT_FILL_STYLE,P,C,M,R,c,g,y,S),this},lineGradientStyle:function(c,g,y,S,P,C){return C===void 0&&(C=1),this.commandBuffer.push(d.GRADIENT_LINE_STYLE,c,C,g,y,S,P),this},beginPath:function(){return this.commandBuffer.push(d.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(d.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(d.FILL_PATH),this},fill:function(){return this.commandBuffer.push(d.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(d.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(d.STROKE_PATH),this},fillCircleShape:function(c){return this.fillCircle(c.x,c.y,c.radius)},strokeCircleShape:function(c){return this.strokeCircle(c.x,c.y,c.radius)},fillCircle:function(c,g,y){return this.beginPath(),this.arc(c,g,y,0,a.PI2),this.fillPath(),this},strokeCircle:function(c,g,y){return this.beginPath(),this.arc(c,g,y,0,a.PI2),this.strokePath(),this},fillRectShape:function(c){return this.fillRect(c.x,c.y,c.width,c.height)},strokeRectShape:function(c){return this.strokeRect(c.x,c.y,c.width,c.height)},fillRect:function(c,g,y,S){return this.commandBuffer.push(d.FILL_RECT,c,g,y,S),this},strokeRect:function(c,g,y,S){var P=this._lineWidth/2,C=c-P,M=c+P;return this.beginPath(),this.moveTo(c,g),this.lineTo(c,g+S),this.strokePath(),this.beginPath(),this.moveTo(c+y,g),this.lineTo(c+y,g+S),this.strokePath(),this.beginPath(),this.moveTo(C,g),this.lineTo(M+y,g),this.strokePath(),this.beginPath(),this.moveTo(C,g+S),this.lineTo(M+y,g+S),this.strokePath(),this},fillRoundedRect:function(c,g,y,S,P){P===void 0&&(P=20);var C=P,M=P,R=P,w=P;typeof P!="number"&&(C=r(P,"tl",20),M=r(P,"tr",20),R=r(P,"bl",20),w=r(P,"br",20));var O=C>=0,F=M>=0,L=R>=0,b=w>=0;return C=Math.abs(C),M=Math.abs(M),R=Math.abs(R),w=Math.abs(w),this.beginPath(),this.moveTo(c+C,g),this.lineTo(c+y-M,g),F?this.arc(c+y-M,g+M,M,-a.TAU,0):this.arc(c+y,g,M,Math.PI,a.TAU,!0),this.lineTo(c+y,g+S-w),b?this.arc(c+y-w,g+S-w,w,0,a.TAU):this.arc(c+y,g+S,w,-a.TAU,Math.PI,!0),this.lineTo(c+R,g+S),L?this.arc(c+R,g+S-R,R,a.TAU,Math.PI):this.arc(c,g+S,R,0,-a.TAU,!0),this.lineTo(c,g+C),O?this.arc(c+C,g+C,C,-Math.PI,-a.TAU):this.arc(c,g,C,a.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(c,g,y,S,P){P===void 0&&(P=20);var C=P,M=P,R=P,w=P,O=Math.min(y,S)/2;typeof P!="number"&&(C=r(P,"tl",20),M=r(P,"tr",20),R=r(P,"bl",20),w=r(P,"br",20));var F=C>=0,L=M>=0,b=R>=0,B=w>=0;return C=Math.min(Math.abs(C),O),M=Math.min(Math.abs(M),O),R=Math.min(Math.abs(R),O),w=Math.min(Math.abs(w),O),this.beginPath(),this.moveTo(c+C,g),this.lineTo(c+y-M,g),this.moveTo(c+y-M,g),L?this.arc(c+y-M,g+M,M,-a.TAU,0):this.arc(c+y,g,M,Math.PI,a.TAU,!0),this.lineTo(c+y,g+S-w),this.moveTo(c+y,g+S-w),B?this.arc(c+y-w,g+S-w,w,0,a.TAU):this.arc(c+y,g+S,w,-a.TAU,Math.PI,!0),this.lineTo(c+R,g+S),this.moveTo(c+R,g+S),b?this.arc(c+R,g+S-R,R,a.TAU,Math.PI):this.arc(c,g+S,R,0,-a.TAU,!0),this.lineTo(c,g+C),this.moveTo(c,g+C),F?this.arc(c+C,g+C,C,-Math.PI,-a.TAU):this.arc(c,g,C,a.TAU,0,!0),this.strokePath(),this},fillPointShape:function(c,g){return this.fillPoint(c.x,c.y,g)},fillPoint:function(c,g,y){return!y||y<1?y=1:(c-=y/2,g-=y/2),this.commandBuffer.push(d.FILL_RECT,c,g,y,y),this},fillTriangleShape:function(c){return this.fillTriangle(c.x1,c.y1,c.x2,c.y2,c.x3,c.y3)},strokeTriangleShape:function(c){return this.strokeTriangle(c.x1,c.y1,c.x2,c.y2,c.x3,c.y3)},fillTriangle:function(c,g,y,S,P,C){return this.commandBuffer.push(d.FILL_TRIANGLE,c,g,y,S,P,C),this},strokeTriangle:function(c,g,y,S,P,C){return this.commandBuffer.push(d.STROKE_TRIANGLE,c,g,y,S,P,C),this},strokeLineShape:function(c){return this.lineBetween(c.x1,c.y1,c.x2,c.y2)},lineBetween:function(c,g,y,S){return this.beginPath(),this.moveTo(c,g),this.lineTo(y,S),this.strokePath(),this},lineTo:function(c,g){return this.commandBuffer.push(d.LINE_TO,c,g),this},moveTo:function(c,g){return this.commandBuffer.push(d.MOVE_TO,c,g),this},strokePoints:function(c,g,y,S){g===void 0&&(g=!1),y===void 0&&(y=!1),S===void 0&&(S=c.length),this.beginPath(),this.moveTo(c[0].x,c[0].y);for(var P=1;P<S;P++)this.lineTo(c[P].x,c[P].y);return g&&this.lineTo(c[0].x,c[0].y),y&&this.closePath(),this.strokePath(),this},fillPoints:function(c,g,y,S){g===void 0&&(g=!1),y===void 0&&(y=!1),S===void 0&&(S=c.length),this.beginPath(),this.moveTo(c[0].x,c[0].y);for(var P=1;P<S;P++)this.lineTo(c[P].x,c[P].y);return g&&this.lineTo(c[0].x,c[0].y),y&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(c,g){g===void 0&&(g=32);var y=c.getPoints(g);return this.strokePoints(y,!0)},strokeEllipse:function(c,g,y,S,P){P===void 0&&(P=32);var C=new h(c,g,y,S),M=C.getPoints(P);return this.strokePoints(M,!0)},fillEllipseShape:function(c,g){g===void 0&&(g=32);var y=c.getPoints(g);return this.fillPoints(y,!0)},fillEllipse:function(c,g,y,S,P){P===void 0&&(P=32);var C=new h(c,g,y,S),M=C.getPoints(P);return this.fillPoints(M,!0)},arc:function(c,g,y,S,P,C,M){return C===void 0&&(C=!1),M===void 0&&(M=0),this.commandBuffer.push(d.ARC,c,g,y,S,P,C,M),this},slice:function(c,g,y,S,P,C,M){return C===void 0&&(C=!1),M===void 0&&(M=0),this.commandBuffer.push(d.BEGIN_PATH),this.commandBuffer.push(d.MOVE_TO,c,g),this.commandBuffer.push(d.ARC,c,g,y,S,P,C,M),this.commandBuffer.push(d.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(d.SAVE),this},restore:function(){return this.commandBuffer.push(d.RESTORE),this},translateCanvas:function(c,g){return this.commandBuffer.push(d.TRANSLATE,c,g),this},scaleCanvas:function(c,g){return this.commandBuffer.push(d.SCALE,c,g),this},rotateCanvas:function(c){return this.commandBuffer.push(d.ROTATE,c),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(c,g,y){var S=this.scene.sys,P=S.game.renderer;g===void 0&&(g=S.scale.width),y===void 0&&(y=S.scale.height),p.TargetCamera.setScene(this.scene),p.TargetCamera.setViewport(0,0,g,y),p.TargetCamera.scrollX=this.x,p.TargetCamera.scrollY=this.y;var C,M,R={willReadFrequently:!0};if(typeof c=="string")if(S.textures.exists(c)){C=S.textures.get(c);var w=C.getSourceImage();w instanceof HTMLCanvasElement&&(M=w.getContext("2d",R))}else C=S.textures.createCanvas(c,g,y),M=C.getSourceImage().getContext("2d",R);else c instanceof HTMLCanvasElement&&(M=c.getContext("2d",R));return M&&(this.renderCanvas(P,this,p.TargetCamera,null,M,!1),C&&C.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});p.TargetCamera=new u,l.exports=p},91543:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(36266),m=e(49584),d=function(o,h,n,r,f,a){var v=h.commandBuffer,p=v.length,c=f||o.currentContext;if(!(p===0||!m(o,c,h,n,r))){n.addToRenderList(h);var g=1,y=1,S=0,P=0,C=1,M=0,R=0,w=0;c.beginPath();for(var O=0;O<p;++O){var F=v[O];switch(F){case u.ARC:c.arc(v[O+1],v[O+2],v[O+3],v[O+4],v[O+5],v[O+6]),O+=7;break;case u.LINE_STYLE:C=v[O+1],S=v[O+2],g=v[O+3],M=(S&16711680)>>>16,R=(S&65280)>>>8,w=S&255,c.strokeStyle="rgba("+M+","+R+","+w+","+g+")",c.lineWidth=C,O+=3;break;case u.FILL_STYLE:P=v[O+1],y=v[O+2],M=(P&16711680)>>>16,R=(P&65280)>>>8,w=P&255,c.fillStyle="rgba("+M+","+R+","+w+","+y+")",O+=2;break;case u.BEGIN_PATH:c.beginPath();break;case u.CLOSE_PATH:c.closePath();break;case u.FILL_PATH:a||c.fill();break;case u.STROKE_PATH:a||c.stroke();break;case u.FILL_RECT:a?c.rect(v[O+1],v[O+2],v[O+3],v[O+4]):c.fillRect(v[O+1],v[O+2],v[O+3],v[O+4]),O+=4;break;case u.FILL_TRIANGLE:c.beginPath(),c.moveTo(v[O+1],v[O+2]),c.lineTo(v[O+3],v[O+4]),c.lineTo(v[O+5],v[O+6]),c.closePath(),a||c.fill(),O+=6;break;case u.STROKE_TRIANGLE:c.beginPath(),c.moveTo(v[O+1],v[O+2]),c.lineTo(v[O+3],v[O+4]),c.lineTo(v[O+5],v[O+6]),c.closePath(),a||c.stroke(),O+=6;break;case u.LINE_TO:c.lineTo(v[O+1],v[O+2]),O+=2;break;case u.MOVE_TO:c.moveTo(v[O+1],v[O+2]),O+=2;break;case u.LINE_FX_TO:c.lineTo(v[O+1],v[O+2]),O+=5;break;case u.MOVE_FX_TO:c.moveTo(v[O+1],v[O+2]),O+=5;break;case u.SAVE:c.save();break;case u.RESTORE:c.restore();break;case u.TRANSLATE:c.translate(v[O+1],v[O+2]),O+=2;break;case u.SCALE:c.scale(v[O+1],v[O+2]),O+=2;break;case u.ROTATE:c.rotate(v[O+1]),O+=1;break;case u.GRADIENT_FILL_STYLE:O+=5;break;case u.GRADIENT_LINE_STYLE:O+=6;break}}c.restore()}};l.exports=d},41286:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(99325),m=e(33182);u.register("graphics",function(d,o){d===void 0&&(d={}),o!==void 0&&(d.add=o);var h=new m(this.scene,d);return d.add&&this.scene.sys.displayList.add(h),h})},13122:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(33182),m=e(61286);m.register("graphics",function(d){return this.displayList.add(new u(this.scene,d))})},60898:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),m=u,d=u;m=e(34429),d=e(91543),d=e(91543),l.exports={renderWebGL:m,renderCanvas:d}},34429:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(36266),m=e(73329),d=e(69360),o=e(75512),h=function(v,p,c){this.x=v,this.y=p,this.width=c},n=function(v,p,c){this.points=[],this.pointsLength=1,this.points[0]=new h(v,p,c)},r=[],f=new d,a=function(v,p,c,g){if(p.commandBuffer.length!==0){c.addToRenderList(p);var y=v.pipelines.set(p.pipeline,p);v.pipelines.preBatch(p);for(var S=m(p,c,g).calc,P=f.loadIdentity(),C=p.commandBuffer,M=c.alpha*p.alpha,R=1,w=y.fillTint,O=y.strokeTint,F=0,L=0,b=0,B=.01,I=Math.PI*2,z,Y=[],W=0,H=!0,N=null,X=o.getTintAppendFloatAlpha,D=0;D<C.length;D++)switch(z=C[D],z){case u.BEGIN_PATH:{Y.length=0,N=null,H=!0;break}case u.CLOSE_PATH:{H=!1,N&&N.points.length&&N.points.push(N.points[0]);break}case u.FILL_PATH:{for(W=0;W<Y.length;W++)y.batchFillPath(Y[W].points,P,S);break}case u.STROKE_PATH:{for(W=0;W<Y.length;W++)y.batchStrokePath(Y[W].points,R,H,P,S);break}case u.LINE_STYLE:{R=C[++D];var G=C[++D],V=C[++D]*M,U=X(G,V);O.TL=U,O.TR=U,O.BL=U,O.BR=U;break}case u.FILL_STYLE:{var k=C[++D],$=C[++D]*M,K=X(k,$);w.TL=K,w.TR=K,w.BL=K,w.BR=K;break}case u.GRADIENT_FILL_STYLE:{var J=C[++D]*M,Q=C[++D]*M,q=C[++D]*M,_=C[++D]*M;w.TL=X(C[++D],J),w.TR=X(C[++D],Q),w.BL=X(C[++D],q),w.BR=X(C[++D],_);break}case u.GRADIENT_LINE_STYLE:{R=C[++D];var et=C[++D]*M;O.TL=X(C[++D],et),O.TR=X(C[++D],et),O.BL=X(C[++D],et),O.BR=X(C[++D],et);break}case u.ARC:{var tt=0,rt=C[++D],lt=C[++D],dt=C[++D],ut=C[++D],st=C[++D],ot=C[++D],ht=C[++D];for(st-=ut,ot?st<-I?st=-I:st>0&&(st=-I+st%I):st>I?st=I:st<0&&(st=I+st%I),N===null&&(N=new n(rt+Math.cos(ut)*dt,lt+Math.sin(ut)*dt,R),Y.push(N),tt+=B);tt<1+ht;)b=st*tt+ut,F=rt+Math.cos(b)*dt,L=lt+Math.sin(b)*dt,N.points.push(new h(F,L,R)),tt+=B;b=st+ut,F=rt+Math.cos(b)*dt,L=lt+Math.sin(b)*dt,N.points.push(new h(F,L,R));break}case u.FILL_RECT:{y.batchFillRect(C[++D],C[++D],C[++D],C[++D],P,S);break}case u.FILL_TRIANGLE:{y.batchFillTriangle(C[++D],C[++D],C[++D],C[++D],C[++D],C[++D],P,S);break}case u.STROKE_TRIANGLE:{y.batchStrokeTriangle(C[++D],C[++D],C[++D],C[++D],C[++D],C[++D],R,P,S);break}case u.LINE_TO:{N!==null?N.points.push(new h(C[++D],C[++D],R)):(N=new n(C[++D],C[++D],R),Y.push(N));break}case u.MOVE_TO:{N=new n(C[++D],C[++D],R),Y.push(N);break}case u.SAVE:{r.push(P.copyToArray());break}case u.RESTORE:{P.copyFromArray(r.pop());break}case u.TRANSLATE:{rt=C[++D],lt=C[++D],P.translate(rt,lt);break}case u.SCALE:{rt=C[++D],lt=C[++D],P.scale(rt,lt);break}case u.ROTATE:{P.rotate(C[++D]);break}}v.pipelines.postBatch(p)}};l.exports=a},59192:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83979),m=e(56694),d=e(56631),o=e(6659),h=e(71608),n=e(72632),r=e(10850),f=e(19256),a=e(42911),v=e(75757),p=e(58403),c=e(13747),g=new m({Extends:o,initialize:function(S,P,C){o.call(this),C?P&&!Array.isArray(P)&&(P=[P]):Array.isArray(P)?a(P[0])&&(C=P,P=null):a(P)&&(C=P,P=null),this.scene=S,this.children=new p,this.isParent=!0,this.type="Group",this.classType=n(C,"classType",c),this.name=n(C,"name",""),this.active=n(C,"active",!0),this.maxSize=n(C,"maxSize",-1),this.defaultKey=n(C,"defaultKey",null),this.defaultFrame=n(C,"defaultFrame",null),this.runChildUpdate=n(C,"runChildUpdate",!1),this.createCallback=n(C,"createCallback",null),this.removeCallback=n(C,"removeCallback",null),this.createMultipleCallback=n(C,"createMultipleCallback",null),this.internalCreateCallback=n(C,"internalCreateCallback",null),this.internalRemoveCallback=n(C,"internalRemoveCallback",null),P&&this.addMultiple(P),C&&this.createMultiple(C),this.on(d.ADDED_TO_SCENE,this.addedToScene,this),this.on(d.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(y,S,P,C,M,R){if(y===void 0&&(y=0),S===void 0&&(S=0),P===void 0&&(P=this.defaultKey),C===void 0&&(C=this.defaultFrame),M===void 0&&(M=!0),R===void 0&&(R=!0),this.isFull())return null;var w=new this.classType(this.scene,y,S,P,C);return w.addToDisplayList(this.scene.sys.displayList),w.addToUpdateList(),w.visible=M,w.setActive(R),this.add(w),w},createMultiple:function(y){if(this.isFull())return[];Array.isArray(y)||(y=[y]);var S=[];if(y[0].key)for(var P=0;P<y.length;P++){var C=this.createFromConfig(y[P]);S=S.concat(C)}return S},createFromConfig:function(y){if(this.isFull())return[];this.classType=n(y,"classType",this.classType);var S=n(y,"key",void 0),P=n(y,"frame",null),C=n(y,"visible",!0),M=n(y,"active",!0),R=[];if(S===void 0)return R;Array.isArray(S)||(S=[S]),Array.isArray(P)||(P=[P]);var w=n(y,"repeat",0),O=n(y,"randomKey",!1),F=n(y,"randomFrame",!1),L=n(y,"yoyo",!1),b=n(y,"quantity",!1),B=n(y,"frameQuantity",1),I=n(y,"max",0),z=v(S,P,{max:I,qty:b||B,random:O,randomB:F,repeat:w,yoyo:L});y.createCallback&&(this.createCallback=y.createCallback),y.removeCallback&&(this.removeCallback=y.removeCallback);for(var Y=0;Y<z.length;Y++){var W=this.create(0,0,z[Y].a,z[Y].b,C,M);if(!W)break;R.push(W)}if(f(y,"setXY")){var H=r(y,"setXY.x",0),N=r(y,"setXY.y",0),X=r(y,"setXY.stepX",0),D=r(y,"setXY.stepY",0);u.SetXY(R,H,N,X,D)}if(f(y,"setRotation")){var G=r(y,"setRotation.value",0),V=r(y,"setRotation.step",0);u.SetRotation(R,G,V)}if(f(y,"setScale")){var U=r(y,"setScale.x",1),k=r(y,"setScale.y",U),$=r(y,"setScale.stepX",0),K=r(y,"setScale.stepY",0);u.SetScale(R,U,k,$,K)}if(f(y,"setOrigin")){var J=r(y,"setOrigin.x",.5),Q=r(y,"setOrigin.y",J),q=r(y,"setOrigin.stepX",0),_=r(y,"setOrigin.stepY",0);u.SetOrigin(R,J,Q,q,_)}if(f(y,"setAlpha")){var et=r(y,"setAlpha.value",1),tt=r(y,"setAlpha.step",0);u.SetAlpha(R,et,tt)}if(f(y,"setDepth")){var rt=r(y,"setDepth.value",0),lt=r(y,"setDepth.step",0);u.SetDepth(R,rt,lt)}if(f(y,"setScrollFactor")){var dt=r(y,"setScrollFactor.x",1),ut=r(y,"setScrollFactor.y",dt),st=r(y,"setScrollFactor.stepX",0),ot=r(y,"setScrollFactor.stepY",0);u.SetScrollFactor(R,dt,ut,st,ot)}var ht=n(y,"hitArea",null),xt=n(y,"hitAreaCallback",null);ht&&u.SetHitArea(R,ht,xt);var mt=n(y,"gridAlign",!1);return mt&&u.GridAlign(R,mt),this.createMultipleCallback&&this.createMultipleCallback.call(this,R),R},preUpdate:function(y,S){if(!(!this.runChildUpdate||this.children.size===0))for(var P=this.children.entries.slice(),C=0;C<P.length;C++){var M=P[C];M.active&&M.update(y,S)}},add:function(y,S){return S===void 0&&(S=!1),this.isFull()?this:(this.children.set(y),this.internalCreateCallback&&this.internalCreateCallback.call(this,y),this.createCallback&&this.createCallback.call(this,y),S&&(y.addToDisplayList(this.scene.sys.displayList),y.addToUpdateList()),y.on(d.DESTROY,this.remove,this),this)},addMultiple:function(y,S){if(S===void 0&&(S=!1),Array.isArray(y))for(var P=0;P<y.length;P++)this.add(y[P],S);return this},remove:function(y,S,P){return S===void 0&&(S=!1),P===void 0&&(P=!1),this.children.contains(y)?(this.children.delete(y),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,y),this.removeCallback&&this.removeCallback.call(this,y),y.off(d.DESTROY,this.remove,this),P?y.destroy():S&&(y.removeFromDisplayList(),y.removeFromUpdateList()),this):this},clear:function(y,S){y===void 0&&(y=!1),S===void 0&&(S=!1);for(var P=this.children,C=0;C<P.size;C++){var M=P.entries[C];M.off(d.DESTROY,this.remove,this),S?M.destroy():y&&(M.removeFromDisplayList(),M.removeFromUpdateList())}return this.children.clear(),this},contains:function(y){return this.children.contains(y)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(y,S,P,C){return h(this.children.entries,y,S,P,C)},getFirst:function(y,S,P,C,M,R,w){return this.getHandler(!0,1,y,S,P,C,M,R,w)},getFirstNth:function(y,S,P,C,M,R,w,O){return this.getHandler(!0,y,S,P,C,M,R,w,O)},getLast:function(y,S,P,C,M,R,w){return this.getHandler(!1,1,y,S,P,C,M,R,w)},getLastNth:function(y,S,P,C,M,R,w,O){return this.getHandler(!1,y,S,P,C,M,R,w,O)},getHandler:function(y,S,P,C,M,R,w,O,F){P===void 0&&(P=!1),C===void 0&&(C=!1);var L,b,B=0,I=this.children.entries;if(y)for(b=0;b<I.length;b++)if(L=I[b],L.active===P){if(B++,B===S)break}else L=null;else for(b=I.length-1;b>=0;b--)if(L=I[b],L.active===P){if(B++,B===S)break}else L=null;return L?(typeof M=="number"&&(L.x=M),typeof R=="number"&&(L.y=R),L):C?this.create(M,R,w,O,F):null},get:function(y,S,P,C,M){return this.getFirst(!1,!0,y,S,P,C,M)},getFirstAlive:function(y,S,P,C,M,R){return this.getFirst(!0,y,S,P,C,M,R)},getFirstDead:function(y,S,P,C,M,R){return this.getFirst(!1,y,S,P,C,M,R)},playAnimation:function(y,S){return u.PlayAnimation(this.children.entries,y,S),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(y){y===void 0&&(y=!0);for(var S=0,P=0;P<this.children.size;P++)this.children.entries[P].active===y&&S++;return S},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var y=this.getTotalUsed(),S=this.maxSize===-1?999999999999:this.maxSize;return S-y},setActive:function(y){return this.active=y,this},setName:function(y){return this.name=y,this},propertyValueSet:function(y,S,P,C,M){return u.PropertyValueSet(this.children.entries,y,S,P,C,M),this},propertyValueInc:function(y,S,P,C,M){return u.PropertyValueInc(this.children.entries,y,S,P,C,M),this},setX:function(y,S){return u.SetX(this.children.entries,y,S),this},setY:function(y,S){return u.SetY(this.children.entries,y,S),this},setXY:function(y,S,P,C){return u.SetXY(this.children.entries,y,S,P,C),this},incX:function(y,S){return u.IncX(this.children.entries,y,S),this},incY:function(y,S){return u.IncY(this.children.entries,y,S),this},incXY:function(y,S,P,C){return u.IncXY(this.children.entries,y,S,P,C),this},shiftPosition:function(y,S,P){return u.ShiftPosition(this.children.entries,y,S,P),this},angle:function(y,S){return u.Angle(this.children.entries,y,S),this},rotate:function(y,S){return u.Rotate(this.children.entries,y,S),this},rotateAround:function(y,S){return u.RotateAround(this.children.entries,y,S),this},rotateAroundDistance:function(y,S,P){return u.RotateAroundDistance(this.children.entries,y,S,P),this},setAlpha:function(y,S){return u.SetAlpha(this.children.entries,y,S),this},setTint:function(y,S,P,C){return u.SetTint(this.children.entries,y,S,P,C),this},setOrigin:function(y,S,P,C){return u.SetOrigin(this.children.entries,y,S,P,C),this},scaleX:function(y,S){return u.ScaleX(this.children.entries,y,S),this},scaleY:function(y,S){return u.ScaleY(this.children.entries,y,S),this},scaleXY:function(y,S,P,C){return u.ScaleXY(this.children.entries,y,S,P,C),this},setDepth:function(y,S){return u.SetDepth(this.children.entries,y,S),this},setBlendMode:function(y){return u.SetBlendMode(this.children.entries,y),this},setHitArea:function(y,S){return u.SetHitArea(this.children.entries,y,S),this},shuffle:function(){return u.Shuffle(this.children.entries),this},kill:function(y){this.children.contains(y)&&y.setActive(!1)},killAndHide:function(y){this.children.contains(y)&&(y.setActive(!1),y.setVisible(!1))},setVisible:function(y,S,P){return u.SetVisible(this.children.entries,y,S,P),this},toggleVisible:function(){return u.ToggleVisible(this.children.entries),this},destroy:function(y,S){y===void 0&&(y=!1),S===void 0&&(S=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(d.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(S,y),this.scene=void 0,this.children=void 0)}});l.exports=g},61295:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(99325),m=e(59192);u.register("group",function(d){return new m(this.scene,null,d)})},62598:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(59192),m=e(61286);m.register("group",function(d,o){return this.updateList.add(new u(this.scene,d,o))})},1539:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(64937),d=e(89980),o=e(57322),h=new u({Extends:d,Mixins:[m.Alpha,m.BlendMode,m.Depth,m.Flip,m.GetBounds,m.Mask,m.Origin,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Size,m.TextureCrop,m.Tint,m.Transform,m.Visible,o],initialize:function(r,f,a,v,p){d.call(this,r,"Image"),this._crop=this.resetCropObject(),this.setTexture(v,p),this.setPosition(f,a),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});l.exports=h},57786:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d){m.addToRenderList(u),e.batchSprite(u,u.frame,m,d)};l.exports=T},83556:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(88933),m=e(99325),d=e(20494),o=e(1539);m.register("image",function(h,n){h===void 0&&(h={});var r=d(h,"key",null),f=d(h,"frame",null),a=new o(this.scene,0,0,r,f);return n!==void 0&&(h.add=n),u(this.scene,a,h),a})},20927:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(1539),m=e(61286);m.register("image",function(d,o,h,n){return this.displayList.add(new u(this.scene,d,o,h,n))})},57322:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),m=u,d=u;m=e(59390),d=e(57786),l.exports={renderWebGL:m,renderCanvas:d}},59390:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d){m.addToRenderList(u),this.pipeline.batchSprite(u,m,d)};l.exports=T},48013:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={Events:e(56631),DisplayList:e(91713),GameObjectCreator:e(99325),GameObjectFactory:e(61286),UpdateList:e(92034),Components:e(64937),GetCalcMatrix:e(73329),BuildGameObject:e(88933),BuildGameObjectAnimation:e(32291),GameObject:e(89980),BitmapText:e(44616),Blitter:e(52816),Bob:e(41664),Container:e(70339),DOMElement:e(38943),DynamicBitmapText:e(13468),Extern:e(39419),Graphics:e(33182),Group:e(59192),Image:e(1539),Layer:e(85305),Particles:e(27684),PathFollower:e(29598),RenderTexture:e(15996),RetroFont:e(55873),Rope:e(79968),Sprite:e(13747),Text:e(76555),GetTextSize:e(32979),MeasureText:e(27030),TextStyle:e(74744),TileSprite:e(35856),Zone:e(71030),Video:e(8630),Shape:e(91461),Arc:e(28593),Curve:e(15220),Ellipse:e(28591),Grid:e(39169),IsoBox:e(4415),IsoTriangle:e(65159),Line:e(579),Polygon:e(91249),Rectangle:e(517),Star:e(77843),Triangle:e(21873),Factories:{Blitter:e(38906),Container:e(23400),DOMElement:e(66788),DynamicBitmapText:e(94145),Extern:e(41155),Graphics:e(13122),Group:e(62598),Image:e(20927),Layer:e(17676),Particles:e(81212),PathFollower:e(19626),RenderTexture:e(29599),Rope:e(31982),Sprite:e(66135),StaticBitmapText:e(21797),Text:e(94627),TileSprite:e(20509),Zone:e(34546),Video:e(215),Arc:e(10369),Curve:e(10147),Ellipse:e(99869),Grid:e(9326),IsoBox:e(88154),IsoTriangle:e(67765),Line:e(85665),Polygon:e(88203),Rectangle:e(94355),Star:e(23962),Triangle:e(79296)},Creators:{Blitter:e(68452),Container:e(44516),DynamicBitmapText:e(67513),Graphics:e(41286),Group:e(61295),Image:e(83556),Layer:e(56378),Particles:e(765),RenderTexture:e(85692),Rope:e(96027),Sprite:e(89219),StaticBitmapText:e(95499),Text:e(75397),TileSprite:e(63950),Zone:e(24067),Video:e(65601)}};u.Shader=e(27902),u.Mesh=e(83321),u.NineSlice=e(44139),u.PointLight=e(13171),u.Plane=e(33412),u.Factories.Shader=e(51979),u.Factories.Mesh=e(8767),u.Factories.NineSlice=e(53778),u.Factories.PointLight=e(91201),u.Factories.Plane=e(58322),u.Creators.Shader=e(13908),u.Creators.Mesh=e(41839),u.Creators.NineSlice=e(40964),u.Creators.PointLight=e(162),u.Creators.Plane=e(10912),u.Light=e(14455),u.LightsManager=e(26193),u.LightsPlugin=e(50296),l.exports=u},85305:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(95723),m=e(56694),d=e(64937),o=e(48129),h=e(81078),n=e(6659),r=e(56631),f=e(71207),a=e(58010),v=e(7599),p=e(17922),c=new m({Extends:f,Mixins:[d.AlphaSingle,d.BlendMode,d.Depth,d.Mask,d.PostPipeline,d.Visible,n,a],initialize:function(y,S){f.call(this,y),n.call(this),this.scene=y,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=y.sys,this.events=y.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(u.SKIP_CHECK),S&&this.add(S),y.sys.queueDepthSort()},setActive:function(g){return this.active=g,this},setName:function(g){return this.name=g,this},setState:function(g){return this.state=g,this},setDataEnabled:function(){return this.data||(this.data=new h(this)),this},setData:function(g,y){return this.data||(this.data=new h(this)),this.data.set(g,y),this},incData:function(g,y){return this.data||(this.data=new h(this)),this.data.inc(g,y),this},toggleData:function(g){return this.data||(this.data=new h(this)),this.data.toggle(g),this},getData:function(g){return this.data||(this.data=new h(this)),this.data.get(g)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return o(this)},willRender:function(g){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&g.id)},getIndexList:function(){for(var g=this,y=this.parentContainer,S=[];y&&(S.unshift(y.getIndex(g)),g=y,y.parentContainer);)y=y.parentContainer;return S.unshift(this.displayList.getIndex(g)),S},addChildCallback:function(g){g.displayList&&g.displayList!==this&&g.removeFromDisplayList(),g.displayList||(this.queueDepthSort(),g.displayList=this,g.emit(r.ADDED_TO_SCENE,g,this.scene),this.events.emit(v.ADDED_TO_SCENE,g,this.scene))},removeChildCallback:function(g){this.queueDepthSort(),g.displayList=null,g.emit(r.REMOVED_FROM_SCENE,g,this.scene),this.events.emit(v.REMOVED_FROM_SCENE,g,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(p(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(g,y){return g._depth-y._depth},getChildren:function(){return this.list},addToDisplayList:function(g){return g===void 0&&(g=this.scene.sys.displayList),this.displayList&&this.displayList!==g&&this.removeFromDisplayList(),g.exists(this)||(this.displayList=g,g.add(this,!0),g.queueDepthSort(),this.emit(r.ADDED_TO_SCENE,this,this.scene),g.events.emit(v.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var g=this.displayList||this.scene.sys.displayList;return g.exists(this)&&(g.remove(this,!0),g.queueDepthSort(),this.displayList=null,this.emit(r.REMOVED_FROM_SCENE,this,this.scene),g.events.emit(v.REMOVED_FROM_SCENE,this,this.scene)),this},destroy:function(g){if(!(!this.scene||this.ignoreDestroy)){this.emit(r.DESTROY,this);for(var y=this.list;y.length;)y[0].destroy(g);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});l.exports=c},834:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){var d=u.list;if(d.length!==0){u.depthSort();var o=u.blendMode!==-1;o||e.setBlendMode(0);var h=u._alpha;u.mask&&u.mask.preRenderCanvas(e,null,m);for(var n=0;n<d.length;n++){var r=d[n];if(r.willRender(m)){var f=r.alpha;!o&&r.blendMode!==e.currentBlendMode&&e.setBlendMode(r.blendMode),r.setAlpha(f*h),r.renderCanvas(e,r,m),r.setAlpha(f)}}u.mask&&u.mask.postRenderCanvas(e)}};l.exports=T},56378:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(88933),m=e(85305),d=e(99325),o=e(20494);d.register("layer",function(h,n){h===void 0&&(h={});var r=o(h,"children",null),f=new m(this.scene,r);return n!==void 0&&(h.add=n),u(this.scene,f,h),f})},17676:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(85305),m=e(61286);m.register("layer",function(d){return this.displayList.add(new u(this.scene,d))})},58010:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),m=u,d=u;m=e(17576),d=e(834),l.exports={renderWebGL:m,renderCanvas:d}},17576:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){var d=u.list,o=d.length;if(o!==0){u.depthSort(),e.pipelines.preBatch(u);var h=u.blendMode!==-1;h||e.setBlendMode(0);for(var n=u.alpha,r=0;r<o;r++){var f=d[r];if(f.willRender(m)){var a,v,p,c;if(f.alphaTopLeft!==void 0)a=f.alphaTopLeft,v=f.alphaTopRight,p=f.alphaBottomLeft,c=f.alphaBottomRight;else{var g=f.alpha;a=g,v=g,p=g,c=g}!h&&f.blendMode!==e.currentBlendMode&&e.setBlendMode(f.blendMode);var y=f.mask;y&&y.preRenderWebGL(e,f,m);var S=f.type;S!==e.currentType&&(e.newType=!0,e.currentType=S),e.nextTypeMatch=r<o-1?d[r+1].type===e.currentType:!1,f.setAlpha(a*n,v*n,p*n,c*n),f.renderWebGL(e,f,m),f.setAlpha(a,v,p,c),y&&y.postRenderWebGL(e,m),e.newType=!1}}e.pipelines.postBatch(u)}};l.exports=T},14455:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26673),m=e(56694),d=e(64937),o=e(39298),h=e(75512),n=new m({Extends:u,Mixins:[d.Origin,d.ScrollFactor,d.Transform,d.Visible],initialize:function(f,a,v,p,c,g,y){u.call(this,f,a,v),this.color=new o(p,c,g),this.intensity=y,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(v)},displayWidth:{get:function(){return this.diameter},set:function(r){this.diameter=r}},displayHeight:{get:function(){return this.diameter},set:function(r){this.diameter=r}},width:{get:function(){return this.diameter},set:function(r){this.diameter=r}},height:{get:function(){return this.diameter},set:function(r){this.diameter=r}},willRender:function(r){return!(n.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&r.id)},setColor:function(r){var f=h.getFloatsFromUintRGB(r);return this.color.set(f[0],f[1],f[2]),this},setIntensity:function(r){return this.intensity=r,this},setRadius:function(r){return this.radius=r,this}});n.RENDER_MASK=15,l.exports=n},26193:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26535),m=e(56694),d=e(53996),o=e(14455),h=e(13171),n=e(39298),r=e(72677),f=e(17922),a=e(75512),v=new m({initialize:function(){this.lights=[],this.ambientColor=new n(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(p,c,g,y,S,P){return this.systems.displayList.add(new h(this.scene,p,c,g,y,S,P))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(p){for(var c=this.lights,g=p.worldView,y=[],S=0;S<c.length;S++){var P=c[S];P.willRender(p)&&u(P,g)&&y.push({light:P,distance:d(P.x,P.y,g.centerX,g.centerY)})}return y.length>this.maxLights&&(f(y,this.sortByDistance),y=y.slice(0,this.maxLights)),this.visibleLights=y.length,y},sortByDistance:function(p,c){return p.distance>=c.distance},setAmbientColor:function(p){var c=a.getFloatsFromUintRGB(p);return this.ambientColor.set(c[0],c[1],c[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(p,c,g,y,S){p===void 0&&(p=0),c===void 0&&(c=0),g===void 0&&(g=128),y===void 0&&(y=16777215),S===void 0&&(S=1);var P=a.getFloatsFromUintRGB(y),C=new o(p,c,g,P[0],P[1],P[2],S);return this.lights.push(C),C},removeLight:function(p){var c=this.lights.indexOf(p);return c>=0&&r(this.lights,c),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});l.exports=v},50296:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(26193),d=e(91963),o=e(7599),h=new u({Extends:m,initialize:function(r){this.scene=r,this.systems=r.sys,r.sys.settings.isBooted||r.sys.events.once(o.BOOT,this.boot,this),m.call(this)},boot:function(){var n=this.systems.events;n.on(o.SHUTDOWN,this.shutdown,this),n.on(o.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});d.register("LightsPlugin",h,"lights"),l.exports=h},83321:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(64937),d=e(75606),o=e(18693),h=e(89980),n=e(53267),r=e(67623),f=e(73329),a=e(16650),v=e(23464),p=e(23701),c=e(17922),g=e(70015),y=e(85769),S=new u({Extends:h,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.Mask,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Size,m.Texture,m.Transform,m.Visible,v],initialize:function(C,M,R,w,O,F,L,b,B,I,z,Y){M===void 0&&(M=0),R===void 0&&(R=0),w===void 0&&(w="__WHITE"),h.call(this,C,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new g,this.modelScale=new g(1,1,1),this.modelRotation=new g,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new a,this.viewPosition=new g,this.viewMatrix=new a,this.projectionMatrix=new a,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var W=C.sys.renderer;this.setPosition(M,R),this.setTexture(w,O),this.setSize(W.width,W.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(W.width,W.height),F&&this.addVertices(F,L,b,B,I,z,Y)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(P){return this.viewPosition.addScale(g.LEFT,P),this.dirtyCache[10]=1,this},panY:function(P){return this.viewPosition.y+=g.DOWN.y*P,this.dirtyCache[10]=1,this},panZ:function(P){return this.viewPosition.z+=P,this.dirtyCache[10]=1,this},setPerspective:function(P,C,M,R,w){return M===void 0&&(M=45),R===void 0&&(R=.01),w===void 0&&(w=1e3),this.fov=M,this.projectionMatrix.perspective(d(M),P/C,R,w),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(P,C,M,R){return P===void 0&&(P=this.scene.sys.renderer.getAspectRatio()),C===void 0&&(C=1),M===void 0&&(M=-1e3),R===void 0&&(R=1e3),this.fov=0,this.projectionMatrix.ortho(-P,P,-C,C,M,R),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(P){P.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(P,C,M,R,w,O,F,L,b){var B=this.scene.sys.cache.obj.get(P),I;return B&&(I=n(B,this,C,M,R,w,O,F,L,b)),(!I||I.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",P),this},sortByDepth:function(P,C){return P.depth-C.depth},depthSort:function(){return c(this.faces,this.sortByDepth),this},addVertex:function(P,C,M,R,w,O,F){var L=new y(P,C,M,R,w,O,F);return this.vertices.push(L),L},addFace:function(P,C,M){var R=new o(P,C,M);return this.faces.push(R),this.dirtyCache[9]=-1,R},addVertices:function(P,C,M,R,w,O,F){var L=r(P,C,M,R,w,O,F);return L?(this.faces=this.faces.concat(L.faces),this.vertices=this.vertices.concat(L.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(P){return this.faces[P]},hasFaceAt:function(P,C,M){M===void 0&&(M=this.scene.sys.cameras.main);for(var R=f(this,M).calc,w=this.faces,O=0;O<w.length;O++){var F=w[O];if(F.contains(P,C,R))return!0}return!1},getFaceAt:function(P,C,M){M===void 0&&(M=this.scene.sys.cameras.main);for(var R=f(this,M).calc,w=this.faces,O=[],F=0;F<w.length;F++){var L=w[F];L.contains(P,C,R)&&O.push(L)}return c(O,this.sortByDepth)},setDebug:function(P,C){return this.debugGraphic=P,!P&&!C?this.debugCallback=null:C?this.debugCallback=C:this.debugCallback=this.renderDebug,this},isDirty:function(){var P=this.modelPosition,C=this.modelRotation,M=this.modelScale,R=this.dirtyCache,w=P.x,O=P.y,F=P.z,L=C.x,b=C.y,B=C.z,I=M.x,z=M.y,Y=M.z,W=this.getFaceCount(),H=R[0],N=R[1],X=R[2],D=R[3],G=R[4],V=R[5],U=R[6],k=R[7],$=R[8],K=R[9];return R[0]=w,R[1]=O,R[2]=F,R[3]=L,R[4]=b,R[5]=B,R[6]=I,R[7]=z,R[8]=Y,R[9]=W,H!==w||N!==O||X!==F||D!==L||G!==b||V!==B||U!==I||k!==z||$!==Y||K!==W},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var P=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!P[10]&&!this.isDirty())){var C=this.width,M=this.height,R=this.viewMatrix,w=this.viewPosition;P[10]&&(R.identity(),R.translate(w),R.invert(),P[10]=0);var O=this.transformMatrix;O.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var F=w.z,L=this.faces,b=0;b<L.length;b++)L[b].transformCoordinatesLocal(O,C,M,F);this.depthSort()}},renderDebug:function(P,C){for(var M=P.debugGraphic,R=0;R<C.length;R++){var w=C[R],O=w.vertex1.tx,F=w.vertex1.ty,L=w.vertex2.tx,b=w.vertex2.ty,B=w.vertex3.tx,I=w.vertex3.ty;M.strokeTriangle(O,F,L,b,B,I)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(){var P=this.faces,C=function(M,R,w){for(var O=0;O<P.length;O++){var F=P[O];if(F.contains(R,w))return!0}return!1};return this.scene.sys.input.enable(this,C),this},setTint:function(P){P===void 0&&(P=16777215);for(var C=this.vertices,M=0;M<C.length;M++)C[M].color=P;return this},uvScroll:function(P,C){for(var M=this.faces,R=0;R<M.length;R++)M[R].scrollUV(P,C);return this},uvScale:function(P,C){for(var M=this.faces,R=0;R<M.length;R++)M[R].scaleUV(P,C);return this},tint:{set:function(P){this.setTint(P)}},rotateX:{get:function(){return p(this.modelRotation.x)},set:function(P){this.modelRotation.x=d(P)}},rotateY:{get:function(){return p(this.modelRotation.y)},set:function(P){this.modelRotation.y=d(P)}},rotateZ:{get:function(){return p(this.modelRotation.z)},set:function(P){this.modelRotation.z=d(P)}}});l.exports=S},6317:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};l.exports=T},41839:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(88933),m=e(99325),d=e(20494),o=e(10850),h=e(83321);m.register("mesh",function(n,r){n===void 0&&(n={});var f=d(n,"key",null),a=d(n,"frame",null),v=o(n,"vertices",[]),p=o(n,"uvs",[]),c=o(n,"indicies",[]),g=o(n,"containsZ",!1),y=o(n,"normals",[]),S=o(n,"colors",16777215),P=o(n,"alphas",1),C=new h(this.scene,0,0,f,a,v,p,c,g,y,S,P);return r!==void 0&&(n.add=r),u(this.scene,C,n),C})},8767:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83321),m=e(61286);m.register("mesh",function(d,o,h,n,r,f,a,v,p,c,g){return this.displayList.add(new u(this.scene,d,o,h,n,r,f,a,v,p,c,g))})},23464:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),m=u,d=u;m=e(57410),d=e(6317),l.exports={renderWebGL:m,renderCanvas:d}},57410:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(73329),m=function(d,o,h,n){var r=o.faces,f=r.length;if(f!==0){h.addToRenderList(o);var a=d.pipelines.set(o.pipeline,o),v=u(o,h,n).calc;d.pipelines.preBatch(o);for(var p=a.setGameObject(o),c=a.vertexViewF32,g=a.vertexViewU32,y=a.vertexCount*a.currentShader.vertexComponentCount-1,S=o.tintFill,P=[],C=o.debugCallback,M=v.a,R=v.b,w=v.c,O=v.d,F=v.e,L=v.f,b=o.viewPosition.z,B=o.hideCCW,I=h.roundPixels,z=h.alpha*o.alpha,Y=0,W=0;W<f;W++){var H=r[W];H.isInView(h,B,b,z,M,R,w,O,F,L,I)&&(a.shouldFlush(3)&&(a.flush(),p=a.setGameObject(o),y=0),y=H.load(c,g,y,p,S),Y++,a.vertexCount+=3,a.currentBatch.count=a.vertexCount-a.currentBatch.start,C&&P.push(H))}o.totalFrame+=Y,C&&C.call(o,o,P),d.pipelines.postBatch(o)}};l.exports=m},44139:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(64937),d=e(89980),o=e(94456),h=e(85769),n=new u({Extends:d,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.GetBounds,m.Mask,m.Origin,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Texture,m.Transform,m.Visible,o],initialize:function(f,a,v,p,c,g,y,S,P,C,M){g===void 0&&(g=256),y===void 0&&(y=256),S===void 0&&(S=10),P===void 0&&(P=10),C===void 0&&(C=0),M===void 0&&(M=0),d.call(this,f,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1,this.is3Slice=C===0&&M===0;for(var R=this.is3Slice?18:54,w=0;w<R;w++)this.vertices.push(new h);this.setPosition(a,v),this.setTexture(p,c),this.setSlices(g,y,S,P,C,M),this.setOrigin(.5,.5),this.initPipeline(),this.initPostPipeline()},setSlices:function(r,f,a,v,p,c){r===void 0&&(r=256),f===void 0&&(f=256),a===void 0&&(a=10),v===void 0&&(v=10),p===void 0&&(p=0),c===void 0&&(c=0);var g=p===0&&c===0;return this.is3Slice!==g?console.warn("Cannot change 9 slice to 3 slice"):(this._width=r,this._height=f,this.leftWidth=a,this.rightWidth=v,this.topHeight=p,this.bottomHeight=c,this.is3Slice&&(f=this.frame.height,this._height=f,this.topHeight=f,this.bottomHeight=0),this.updateVertices(),this.updateUVs()),this},updateUVs:function(){var r=this.leftWidth,f=this.rightWidth,a=this.topHeight,v=this.bottomHeight,p=this.frame.width,c=this.frame.height;this.updateQuadUVs(0,0,0,r/p,a/c),this.updateQuadUVs(6,r/p,0,1-f/p,a/c),this.updateQuadUVs(12,1-f/p,0,1,a/c),this.is3Slice||(this.updateQuadUVs(18,0,a/c,r/p,1-v/c),this.updateQuadUVs(24,r/p,a/c,1-f/p,1-v/c),this.updateQuadUVs(30,1-f/p,a/c,1,1-v/c),this.updateQuadUVs(36,0,1-v/c,r/p,1),this.updateQuadUVs(42,r/p,1-v/c,1-f/p,1),this.updateQuadUVs(48,1-f/p,1-v/c,1,1))},updateVertices:function(){var r=this.leftWidth,f=this.rightWidth,a=this.topHeight,v=this.bottomHeight,p=this.width,c=this.height;this.updateQuad(0,-.5,.5,-.5+r/p,.5-a/c),this.updateQuad(6,-.5+r/p,.5,.5-f/p,.5-a/c),this.updateQuad(12,.5-f/p,.5,.5,.5-a/c),this.is3Slice||(this.updateQuad(18,-.5,.5-a/c,-.5+r/p,-.5+v/c),this.updateQuad(24,-.5+r/p,.5-a/c,.5-f/p,-.5+v/c),this.updateQuad(30,.5-f/p,.5-a/c,.5,-.5+v/c),this.updateQuad(36,-.5,-.5+v/c,-.5+r/p,-.5),this.updateQuad(42,-.5+r/p,-.5+v/c,.5-f/p,-.5),this.updateQuad(48,.5-f/p,-.5+v/c,.5,-.5))},updateQuad:function(r,f,a,v,p){var c=this.width,g=this.height,y=this.originX,S=this.originY,P=this.vertices;P[r+0].resize(f,a,c,g,y,S),P[r+1].resize(f,p,c,g,y,S),P[r+2].resize(v,a,c,g,y,S),P[r+3].resize(f,p,c,g,y,S),P[r+4].resize(v,p,c,g,y,S),P[r+5].resize(v,a,c,g,y,S)},updateQuadUVs:function(r,f,a,v,p){var c=this.vertices,g=this.frame,y=g.u0,S=g.v0,P=g.u1,C=g.v1;if(y!==0||P!==1){var M=P-y;f=y+f*M,v=y+v*M}if(S!==0||C!==1){var R=C-S;a=S+a*R,p=S+p*R}c[r+0].setUVs(f,a),c[r+1].setUVs(f,p),c[r+2].setUVs(v,a),c[r+3].setUVs(f,p),c[r+4].setUVs(v,p),c[r+5].setUVs(v,a)},clearTint:function(){return this.setTint(16777215),this},setTint:function(r){return r===void 0&&(r=16777215),this.tint=r,this.tintFill=!1,this},setTintFill:function(r){return this.setTint(r),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(r){this._width=Math.max(r,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(r){this.is3Slice||(this._height=Math.max(r,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(r){this.scaleX=r/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(r){this.scaleY=r/this.height}},setSize:function(r,f){this.width=r,this.height=f;var a=this.input;return a&&!a.customHitArea&&(a.hitArea.width=this.width,a.hitArea.height=this.height),this},setDisplaySize:function(r,f){return this.displayWidth=r,this.displayHeight=f,this},originX:{get:function(){return this._originX},set:function(r){this._originX=r,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(r){this._originY=r,this.updateVertices()}},setOrigin:function(r,f){return r===void 0&&(r=.5),f===void 0&&(f=r),this._originX=r,this._originY=f,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var r=this.frame.height;this._height=r,this.topHeight=r,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});l.exports=n},40964:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(88933),m=e(99325),d=e(20494),o=e(10850),h=e(44139);m.register("nineslice",function(n,r){n===void 0&&(n={});var f=d(n,"key",null),a=d(n,"frame",null),v=o(n,"width",256),p=o(n,"height",256),c=o(n,"leftWidth",10),g=o(n,"rightWidth",10),y=o(n,"topHeight",0),S=o(n,"bottomHeight",0),P=new h(this.scene,0,0,f,a,v,p,c,g,y,S);return r!==void 0&&(n.add=r),u(this.scene,P,n),P})},53778:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(44139),m=e(61286);m.register("nineslice",function(d,o,h,n,r,f,a,v,p,c){return this.displayList.add(new u(this.scene,d,o,h,n,r,f,a,v,p,c))})},94456:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),m=u,d=u;m=e(27420),l.exports={renderWebGL:m,renderCanvas:d}},27420:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(73329),m=e(75512),d=function(o,h,n,r){var f=h.vertices,a=f.length;if(a!==0){n.addToRenderList(h);var v=o.pipelines.set(h.pipeline,h),p=u(h,n,r,!1).calc;o.pipelines.preBatch(h);var c=v.setGameObject(h),g=v.vertexViewF32,y=v.vertexViewU32,S=v.vertexCount*v.currentShader.vertexComponentCount-1,P=n.roundPixels,C=h.tintFill,M=n.alpha*h.alpha,R=m.getTintAppendFloatAlpha(h.tint,M),w=v.vertexAvailable(),O=-1;w<a&&(O=w);for(var F=0;F<a;F++){var L=f[F];F===O&&(v.flush(),c=v.setGameObject(h),S=0),g[++S]=p.getXRound(L.vx,L.vy,P),g[++S]=p.getYRound(L.vx,L.vy,P),g[++S]=L.u,g[++S]=L.v,g[++S]=c,g[++S]=C,y[++S]=R,v.vertexCount++,v.currentBatch.count=v.vertexCount-v.currentBatch.start}o.pipelines.postBatch(h)}};l.exports=d},19737:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(93025),d=e(22946),o=e(21902),h=e(4840),n=e(15978),r=new u({Extends:m,initialize:function(a){m.call(this,a,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var f=this.propertyValue,a=f,v=this.defaultEmit,p=this.defaultUpdate;if(this.method===9){this.start=f[0],this.ease=o("Linear"),this.interpolation=h("linear"),v=this.easedValueEmit,p=this.easeValueUpdate,a=f[0],this.active=!0;for(var c=0;c<f.length;c++){var g=n(f[c]);this.r.push(g.r),this.g.push(g.g),this.b.push(g.b)}}return this.onEmit=v,this.onUpdate=p,this.current=a,this},setEase:function(f){this.easeName=f,this.ease=o(f)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(f,a,v){var p=this.ease(v),c=this.interpolation(this.r,p),g=this.interpolation(this.g,p),y=this.interpolation(this.b,p),S=d(c,g,y);return this.current=S,S}});l.exports=r},93025:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(17489),m=e(82897),d=e(56694),o=e(61616),h=e(21902),n=e(72632),r=e(4840),f=e(88462),a=e(1071),v=new d({initialize:function(c,g,y){y===void 0&&(y=!1),this.propertyKey=c,this.propertyValue=g,this.defaultValue=g,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=y,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(p,c){p===void 0&&(p={}),c&&(this.propertyKey=c),this.propertyValue=n(p,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(p){var c;switch(this.method){case 1:case 3:case 8:c=p;break;case 2:this.propertyValue.indexOf(p)>=0&&(c=p);break;case 4:var g=(this.end-this.start)/this.steps;c=f(p,g),this.counter=c;break;case 5:case 6:case 7:c=m(p,this.start,this.end);break;case 9:c=this.start[0];break}return this.current=c,this},getMethod:function(){var p=this.propertyValue;if(p===null)return 0;var c=typeof p;if(c==="number")return 1;if(Array.isArray(p))return 2;if(c==="function")return 3;if(c==="object"){if(this.hasBoth(p,"start","end"))return this.has(p,"steps")?4:5;if(this.hasBoth(p,"min","max"))return 6;if(this.has(p,"random"))return 7;if(this.hasEither(p,"onEmit","onUpdate"))return 8;if(this.has(p,"interpolation"))return 9}return 0},setMethods:function(){var p=this.propertyValue,c=p,g=this.defaultEmit,y=this.defaultUpdate;switch(this.method){case 1:g=this.staticValueEmit;break;case 2:g=this.randomStaticValueEmit,c=p[0];break;case 3:this._onEmit=p,g=this.proxyEmit;break;case 4:this.start=p.start,this.end=p.end,this.steps=p.steps,this.counter=this.start,this.yoyo=this.has(p,"yoyo")?p.yoyo:!1,this.direction=0,g=this.steppedEmit,c=this.start;break;case 5:this.start=p.start,this.end=p.end;var S=this.has(p,"ease")?p.ease:"Linear";this.ease=h(S,p.easeParams),g=this.has(p,"random")&&p.random?this.randomRangedValueEmit:this.easedValueEmit,y=this.easeValueUpdate,c=this.start;break;case 6:this.start=p.min,this.end=p.max,g=this.has(p,"int")&&p.int?this.randomRangedIntEmit:this.randomRangedValueEmit,c=this.start;break;case 7:var P=p.random;Array.isArray(P)&&(this.start=P[0],this.end=P[1]),g=this.randomRangedIntEmit,c=this.start;break;case 8:this._onEmit=this.has(p,"onEmit")?p.onEmit:this.defaultEmit,this._onUpdate=this.has(p,"onUpdate")?p.onUpdate:this.defaultUpdate,g=this.proxyEmit,y=this.proxyUpdate;break;case 9:this.start=p.values;var C=this.has(p,"ease")?p.ease:"Linear";this.ease=h(C,p.easeParams),this.interpolation=r(p.interpolation),g=this.easedValueEmit,y=this.easeValueUpdate,c=this.start[0];break}return this.onEmit=g,this.onUpdate=y,this.current=c,this},has:function(p,c){return p.hasOwnProperty(c)},hasBoth:function(p,c,g){return p.hasOwnProperty(c)&&p.hasOwnProperty(g)},hasEither:function(p,c,g){return p.hasOwnProperty(c)||p.hasOwnProperty(g)},defaultEmit:function(p,c,g){return g},defaultUpdate:function(p,c,g,y){return y},proxyEmit:function(p,c,g){var y=this._onEmit(p,c,g);return this.current=y,y},proxyUpdate:function(p,c,g,y){var S=this._onUpdate(p,c,g,y);return this.current=S,S},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var p=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[p],this.current},randomRangedValueEmit:function(p,c){var g=o(this.start,this.end);return p&&p.data[c]&&(p.data[c].min=g,p.data[c].max=this.end),this.current=g,g},randomRangedIntEmit:function(p,c){var g=u(this.start,this.end);return p&&p.data[c]&&(p.data[c].min=g,p.data[c].max=this.end),this.current=g,g},steppedEmit:function(){var p=this.counter,c=p,g=(this.end-this.start)/this.steps;if(this.yoyo){var y;this.direction===0?(c+=g,c>=this.end&&(y=c-this.end,c=this.end-y,this.direction=1)):(c-=g,c<=this.start&&(y=this.start-c,c=this.start+y,this.direction=0)),this.counter=c}else this.counter=a(c+g,this.start,this.end);return this.current=p,p},easedValueEmit:function(p,c){if(p&&p.data[c]){var g=p.data[c];g.min=this.start,g.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(p,c,g){var y=p.data[c],S,P=this.ease(g);return this.interpolation?S=this.interpolation(this.start,P):S=(y.max-y.min)*P+y.min,this.current=S,S},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});l.exports=v},87811:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(72632),d=e(30891),o=new u({Extends:d,initialize:function(n,r,f,a,v){if(typeof n=="object"){var p=n;n=m(p,"x",0),r=m(p,"y",0),f=m(p,"power",0),a=m(p,"epsilon",100),v=m(p,"gravity",50)}else n===void 0&&(n=0),r===void 0&&(r=0),f===void 0&&(f=0),a===void 0&&(a=100),v===void 0&&(v=50);d.call(this,n,r,!0),this._gravity=v,this._power=f*v,this._epsilon=a*a},update:function(h,n){var r=this.x-h.x,f=this.y-h.y,a=r*r+f*f;if(a!==0){var v=Math.sqrt(a);a<this._epsilon&&(a=this._epsilon);var p=this._power*n/(a*v)*100;h.velocityX+=r*p,h.velocityY+=f*p}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(h){this._epsilon=h*h}},power:{get:function(){return this._power/this._gravity},set:function(h){this._power=h*this._gravity}},gravity:{get:function(){return this._gravity},set:function(h){var n=this.power;this._gravity=h,this.power=n}}});l.exports=o},14909:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(16569),m=e(82897),d=e(56694),o=e(75606),h=e(74118),n=e(2386),r=e(93736),f=new d({initialize:function(v){this.emitter=v,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new r,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=v.scene,this.anims=new u(this),this.bounds=new h},emit:function(a,v,p,c,g,y){return this.emitter.emit(a,v,p,c,g,y)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(a,v){a===void 0&&(a=0),v===void 0&&(v=0),this.x=a,this.y=v},fire:function(a,v){var p=this.emitter,c=p.ops,g=p.getAnim();if(g?this.anims.play(g):(this.frame=p.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(p.getEmitZone(this),a===void 0?this.x+=c.x.onEmit(this,"x"):c.x.steps>0?this.x+=a+c.x.onEmit(this,"x"):this.x+=a,v===void 0?this.y+=c.y.onEmit(this,"y"):c.y.steps>0?this.y+=v+c.y.onEmit(this,"y"):this.y+=v,this.life=c.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=c.delay.onEmit(this,"delay"),this.holdCurrent=c.hold.onEmit(this,"hold"),this.scaleX=c.scaleX.onEmit(this,"scaleX"),this.scaleY=c.scaleY.active?c.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=c.rotate.onEmit(this,"rotate"),this.rotation=o(this.angle),p.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&p.getDeathZone(this))return this.lifeCurrent=0,!1;var y=c.speedX.onEmit(this,"speedX"),S=c.speedY.active?c.speedY.onEmit(this,"speedY"):y;if(p.radial){var P=o(c.angle.onEmit(this,"angle"));this.velocityX=Math.cos(P)*Math.abs(y),this.velocityY=Math.sin(P)*Math.abs(S)}else if(p.moveTo){var C=c.moveToX.onEmit(this,"moveToX"),M=c.moveToY.onEmit(this,"moveToY"),R=this.life/1e3;this.velocityX=(C-this.x)/R,this.velocityY=(M-this.y)/R}else this.velocityX=y,this.velocityY=S;return p.acceleration&&(this.accelerationX=c.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=c.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=c.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=c.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=c.bounce.onEmit(this,"bounce"),this.alpha=c.alpha.onEmit(this,"alpha"),c.color.active?this.tint=c.color.onEmit(this,"tint"):this.tint=c.tint.onEmit(this,"tint"),!0},update:function(a,v,p){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=a,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=a,!1;this.anims.update(0,a);var c=this.emitter,g=c.ops,y=1-this.lifeCurrent/this.life;if(this.lifeT=y,this.x=g.x.onUpdate(this,"x",y,this.x),this.y=g.y.onUpdate(this,"y",y,this.y),c.moveTo){var S=g.moveToX.onUpdate(this,"moveToX",y,c.moveToX),P=g.moveToY.onUpdate(this,"moveToY",y,c.moveToY),C=this.lifeCurrent/1e3;this.velocityX=(S-this.x)/C,this.velocityY=(P-this.y)/C}return this.computeVelocity(c,a,v,p,y),this.scaleX=g.scaleX.onUpdate(this,"scaleX",y,this.scaleX),this.scaleY=this.scaleX,g.scaleY.active&&(this.scaleY=g.scaleY.onUpdate(this,"scaleY",y,this.scaleY)),this.angle=g.rotate.onUpdate(this,"rotate",y,this.angle),this.rotation=o(this.angle),c.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=g.alpha.onUpdate(this,"alpha",y,this.alpha),g.color.active?this.tint=g.color.onUpdate(this,"color",y,this.tint):this.tint=g.tint.onUpdate(this,"tint",y,this.tint),this.lifeCurrent-=a,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(a,v,p,c,g){var y=a.ops,S=this.velocityX,P=this.velocityY,C=y.accelerationX.onUpdate(this,"accelerationX",g,this.accelerationX),M=y.accelerationY.onUpdate(this,"accelerationY",g,this.accelerationY),R=y.maxVelocityX.onUpdate(this,"maxVelocityX",g,this.maxVelocityX),w=y.maxVelocityY.onUpdate(this,"maxVelocityY",g,this.maxVelocityY);this.bounce=y.bounce.onUpdate(this,"bounce",g,this.bounce),S+=a.gravityX*p+C*p,P+=a.gravityY*p+M*p,S=m(S,-R,R),P=m(P,-w,w),this.velocityX=S,this.velocityY=P,this.x+=S*p,this.y+=P*p,a.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var O=0;O<c.length;O++){var F=c[O];F.active&&F.update(this,v,p,g)}},setSizeToFrame:function(){},getBounds:function(a){a===void 0&&(a=this.emitter.getWorldTransformMatrix());var v=Math.abs(a.scaleX)*this.scaleX,p=Math.abs(a.scaleY)*this.scaleY,c=this.x,g=this.y,y=this.rotation,S=this.frame.width*v/2,P=this.frame.height*p/2,C=this.bounds,M=new r(c-S,g-P),R=new r(c+S,g-P),w=new r(c-S,g+P),O=new r(c+S,g+P);return y!==0&&(n(M,c,g,y),n(R,c,g,y),n(w,c,g,y),n(O,c,g,y)),a.transformPoint(M.x,M.y,M),a.transformPoint(R.x,R.y,R),a.transformPoint(w.x,w.y,w),a.transformPoint(O.x,O.y,O),C.x=Math.min(M.x,R.x,w.x,O.x),C.y=Math.min(M.y,R.y,w.y,O.y),C.width=Math.max(M.x,R.x,w.x,O.x)-C.x,C.height=Math.max(M.y,R.y,w.y,O.y)-C.y,C},destroy:function(){this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});l.exports=f},73106:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(30891),d=e(74118),o=new u({Extends:m,initialize:function(n,r,f,a,v,p,c,g){v===void 0&&(v=!0),p===void 0&&(p=!0),c===void 0&&(c=!0),g===void 0&&(g=!0),m.call(this,n,r,!0),this.bounds=new d(n,r,f,a),this.collideLeft=v,this.collideRight=p,this.collideTop=c,this.collideBottom=g},update:function(h){var n=this.bounds,r=-h.bounce,f=h.worldPosition;f.x<n.x&&this.collideLeft?(h.x+=n.x-f.x,h.velocityX*=r):f.x>n.right&&this.collideRight&&(h.x-=f.x-n.right,h.velocityX*=r),f.y<n.y&&this.collideTop?(h.y+=n.y-f.y,h.velocityY*=r):f.y>n.bottom&&this.collideBottom&&(h.y-=f.y-n.bottom,h.velocityY*=r)}});l.exports=o},9216:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(64937),d=e(48129),o=e(29538),h=e(69361),n=e(54213),r=e(19737),f=e(93025),a=e(40629),v=e(89980),p=e(72632),c=e(72861),g=e(87811),y=e(53523),S=e(19256),P=e(7782),C=e(71207),M=e(14655),R=e(14909),w=e(68433),O=e(74118),F=e(90205),L=e(66458),b=e(69116),B=e(17922),I=e(69360),z=e(93736),Y=e(1071),W=e(73106),H=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],N=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],X=new u({Extends:v,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.Mask,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Texture,m.Transform,m.Visible,b],initialize:function(G,V,U,k,$){v.call(this,G,"ParticleEmitter"),this.particleClass=R,this.ops={accelerationX:new f("accelerationX",0),accelerationY:new f("accelerationY",0),alpha:new f("alpha",1),angle:new f("angle",{min:0,max:360},!0),bounce:new f("bounce",0),color:new r("color"),delay:new f("delay",0,!0),hold:new f("hold",0,!0),lifespan:new f("lifespan",1e3,!0),maxVelocityX:new f("maxVelocityX",1e4),maxVelocityY:new f("maxVelocityY",1e4),moveToX:new f("moveToX",0),moveToY:new f("moveToY",0),quantity:new f("quantity",1,!0),rotate:new f("rotate",0),scaleX:new f("scaleX",1),scaleY:new f("scaleY",1),speedX:new f("speedX",0,!0),speedY:new f("speedY",0,!0),tint:new f("tint",16777215),x:new f("x",0),y:new f("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new z,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new I,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new C(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(V,U),this.setTexture(k),$&&this.setConfig($)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(D){if(!D)return this;var G=0,V="",U=this.ops;for(G=0;G<N.length;G++)V=N[G],U[V].loadConfig(D);for(G=0;G<H.length;G++)V=H[G],S(D,V)&&(this[V]=p(D,V));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,S(D,"speed")&&(U.speedX.loadConfig(D,"speed"),U.speedY.active=!1),(y(D,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),S(D,"scale")&&(U.scaleX.loadConfig(D,"scale"),U.scaleY.active=!1),S(D,"callbackScope")){var k=p(D,"callbackScope",null);this.emitCallbackScope=k,this.deathCallbackScope=k}if(S(D,"emitZone")&&this.addEmitZone(D.emitZone),S(D,"deathZone")&&this.addDeathZone(D.deathZone),S(D,"bounds")){var $=this.addParticleBounds(D.bounds);$.collideLeft=p(D,"collideLeft",!0),$.collideRight=p(D,"collideRight",!0),$.collideTop=p(D,"collideTop",!0),$.collideBottom=p(D,"collideBottom",!0)}return S(D,"followOffset")&&this.followOffset.setFromObject(p(D,"followOffset",0)),S(D,"texture")&&this.setTexture(D.texture),S(D,"frame")?this.setEmitterFrame(D.frame):S(D,"anim")&&this.setAnim(D.anim),S(D,"reserve")&&this.reserve(D.reserve),S(D,"advance")&&this.fastForward(D.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(a.START,this),this},toJSON:function(){var D=d(this),G=0,V="";for(G=0;G<H.length;G++)V=H[G],D[V]=this[V];var U=this.ops;for(G=0;G<N.length;G++)V=N[G],U[V]&&(D[V]=U[V].toJSON());return U.speedY.active||(delete D.speedX,D.speed=U.speedX.toJSON()),this.scaleX===this.scaleY&&(delete D.scaleX,delete D.scaleY,D.scale=U.scaleX.toJSON()),D},resetCounters:function(D,G){var V=this.counters;V.fill(0),V[0]=D,G&&(V[5]=1)},startFollow:function(D,G,V,U){return G===void 0&&(G=0),V===void 0&&(V=0),U===void 0&&(U=!1),this.follow=D,this.followOffset.set(G,V),this.trackVisible=U,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var D=this.frames,G=D.length,V;return G===1?V=D[0]:this.randomFrame?V=c(D):(V=D[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===G&&(this.currentFrame=0))),this.texture.get(V)},setEmitterFrame:function(D,G,V){G===void 0&&(G=!0),V===void 0&&(V=1),this.randomFrame=G,this.frameQuantity=V,this.currentFrame=0;var U=typeof D;if(this.frames.length=0,Array.isArray(D))this.frames=this.frames.concat(D);else if(U==="string"||U==="number")this.frames.push(D);else if(U==="object"){var k=D;D=p(k,"frames",null),D&&(this.frames=this.frames.concat(D));var $=p(k,"cycle",!1);this.randomFrame=!$,this.frameQuantity=p(k,"quantity",V)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var D=this.anims,G=D.length;if(G===0)return null;if(G===1)return D[0];if(this.randomAnim)return c(D);var V=D[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=Y(this.currentAnim+1,0,G-1)),V},setAnim:function(D,G,V){G===void 0&&(G=!0),V===void 0&&(V=1),this.randomAnim=G,this.animQuantity=V,this.currentAnim=0;var U=typeof D;if(this.anims.length=0,Array.isArray(D))this.anims=this.anims.concat(D);else if(U==="string")this.anims.push(D);else if(U==="object"){var k=D;D=p(k,"anims",null),D&&(this.anims=this.anims.concat(D));var $=p(k,"cycle",!1);this.randomAnim=!$,this.animQuantity=p(k,"quantity",V)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(D){return D===void 0&&(D=!0),this.radial=D,this},addParticleBounds:function(D,G,V,U,k,$,K,J){if(typeof D=="object"){var Q=D;D=Q.x,G=Q.y,V=S(Q,"w")?Q.w:Q.width,U=S(Q,"h")?Q.h:Q.height}return this.addParticleProcessor(new W(D,G,V,U,k,$,K,J))},setParticleSpeed:function(D,G){return G===void 0&&(G=D),this.ops.speedX.onChange(D),D===G?this.ops.speedY.active=!1:this.ops.speedY.onChange(G),this.radial=!0,this},setParticleScale:function(D,G){return D===void 0&&(D=1),G===void 0&&(G=D),this.ops.scaleX.onChange(D),this.ops.scaleY.onChange(G),this},setParticleGravity:function(D,G){return this.gravityX=D,this.gravityY=G,this},setParticleAlpha:function(D){return this.ops.alpha.onChange(D),this},setParticleTint:function(D){return this.ops.tint.onChange(D),this},setEmitterAngle:function(D){return this.ops.angle.onChange(D),this},setParticleLifespan:function(D){return this.ops.lifespan.onChange(D),this},setQuantity:function(D){return this.quantity=D,this},setFrequency:function(D,G){return this.frequency=D,this.flowCounter=D>0?D:0,G&&(this.quantity=G),this},addDeathZone:function(D){Array.isArray(D)||(D=[D]);for(var G,V=this.deathZones,U=0;U<D.length;U++)if(G=D[U],G instanceof h)V.push(G);else if(typeof G.contains=="function")G=new h(G,!0),V.push(G);else{var k=p(G,"type","onEnter"),$=p(G,"source",null);if($&&typeof $.contains=="function"){var K=k==="onEnter";G=new h($,K),V.push(G)}}return G},removeDeathZone:function(D){return L(this.deathZones,D),this},addEmitZone:function(D){Array.isArray(D)||(D=[D]);for(var G,V=this.emitZones,U=[],k=0;k<D.length;k++){if(G=D[k],G instanceof w||G instanceof n)V.push(G);else{var $=p(G,"type","random"),K=p(G,"source",null);if($==="random")G=new w(K);else if($==="edge"){var J=p(G,"quantity",1),Q=p(G,"stepRate",0),q=p(G,"yoyo",!1),_=p(G,"seamless",!0),et=p(G,"total",-1);G=new n(K,J,Q,q,_,et)}G&&V.push(G)}U.push(G)}return U},removeEmitZone:function(D){return L(this.emitZones,D),this.zoneIndex=0,this},getEmitZone:function(D){var G=this.emitZones,V=G.length;if(V!==0){var U=G[this.zoneIndex];U.getPoint(D),U.total>-1&&(this.zoneTotal++,this.zoneTotal===U.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===V&&(this.zoneIndex=0)))}},getDeathZone:function(D){for(var G=this.deathZones,V=0;V<G.length;V++){var U=G[V];if(U.willKill(D))return this.emit(a.DEATH_ZONE,this,D,U),!0}return!1},setEmitZone:function(D){var G;return isFinite(D)?G=D:G=this.emitZones.indexOf(D),G>=0&&(this.zoneIndex=G),this},addParticleProcessor:function(D){return this.processors.exists(D)||(D.emitter&&D.emitter.removeParticleProcessor(D),this.processors.add(D),D.emitter=this),D},removeParticleProcessor:function(D){return this.processors.exists(D)&&(this.processors.remove(D,!0),D.emitter=null),D},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(D){return this.addParticleProcessor(new g(D))},reserve:function(D){var G=this.dead;if(this.maxParticles>0){var V=this.getParticleCount();V+D>this.maxParticles&&(D=this.maxParticles-(V+D))}for(var U=0;U<D;U++)G.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(D,G){return D===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof D=="function"&&(this.emitCallback=D,G&&(this.emitCallbackScope=G)),this},onParticleDeath:function(D,G){return D===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof D=="function"&&(this.deathCallback=D,G&&(this.deathCallbackScope=G)),this},killAll:function(){for(var D=this.dead,G=this.alive;G.length>0;)D.push(G.pop());return this},forEachAlive:function(D,G){for(var V=this.alive,U=V.length,k=0;k<U;k++)D.call(G,V[k],this);return this},forEachDead:function(D,G){for(var V=this.dead,U=V.length,k=0;k<U;k++)D.call(G,V[k],this);return this},start:function(D,G){return D===void 0&&(D=0),this.emitting||(D>0&&this.fastForward(D),this.emitting=!0,this.resetCounters(this.frequency,!0),G!==void 0&&(this.duration=Math.abs(G)),this.emit(a.START,this)),this},stop:function(D){return D===void 0&&(D=!1),this.emitting&&(this.emitting=!1,D&&this.killAll(),this.emit(a.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(D,G){return D===void 0&&(D=""),G===void 0&&(G=this.true),this.sortProperty=D,this.sortOrderAsc=G,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(D){return this.sortProperty!==""?D=this.depthSortCallback:D=null,this.sortCallback=D,this},depthSort:function(){return B(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(D,G){var V=this.sortProperty;return this.sortOrderAsc?D[V]-G[V]:G[V]-D[V]},flow:function(D,G,V){return G===void 0&&(G=1),this.emitting=!1,this.frequency=D,this.quantity=G,V!==void 0&&(this.stopAfter=V),this.start()},explode:function(D,G,V){this.frequency=-1,this.resetCounters(-1,!0);var U=this.emitParticle(D,G,V);return this.emit(a.EXPLODE,this,U),U},emitParticleAt:function(D,G,V){return this.emitParticle(V,D,G)},emitParticle:function(D,G,V){if(!this.atLimit()){D===void 0&&(D=this.ops.quantity.onEmit());for(var U=this.dead,k=this.stopAfter,$=this.follow?this.follow.x+this.followOffset.x:G,K=this.follow?this.follow.y+this.followOffset.y:V,J=0;J<D;J++){var Q=U.pop();if(Q||(Q=new this.particleClass(this)),Q.fire($,K)?(this.particleBringToTop?this.alive.push(Q):this.alive.unshift(Q),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,Q,this)):this.dead.push(Q),k>0&&(this.stopCounter++,this.stopCounter>=k)||this.atLimit())break}return Q}},fastForward:function(D,G){G===void 0&&(G=1e3/60);var V=0;for(this.skipping=!0;V<Math.abs(D);)this.preUpdate(0,G),V+=G;return this.skipping=!1,this},preUpdate:function(D,G){G*=this.timeScale;var V=G/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var U=this.getProcessors(),k=this.alive,$=this.dead,K=0,J=[],Q=k.length;for(K=0;K<Q;K++){var q=k[K];q.update(G,V,U)&&J.push({index:K,particle:q})}if(Q=J.length,Q>0){var _=this.deathCallback,et=this.deathCallbackScope;for(K=Q-1;K>=0;K--){var tt=J[K];k.splice(tt.index,1),$.push(tt.particle),_&&_.call(et,tt.particle),tt.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&k.length===0&&(this.completeFlag=0,this.emit(a.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=G;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=G,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(D){for(var G=this.getWorldTransformMatrix(),V=this.alive,U=V.length,k=[],$=0;$<U;$++){var K=V[$];F(D,K.getBounds(G))&&k.push(K)}return k},getBounds:function(D,G,V,U){D===void 0&&(D=0),G===void 0&&(G=0),V===void 0&&(V=1e3/60),U===void 0&&(U=new O);var k=this.getWorldTransformMatrix(),$,K,J=this.alive,Q=!1;if(U.setTo(0,0,0,0),G>0){var q=0;for(this.skipping=!0;q<Math.abs(G);){for(this.preUpdate(0,V),$=0;$<J.length;$++)K=J[$].getBounds(k),Q?M(U,K):(Q=!0,o(K,U));q+=V}this.skipping=!1}else for($=0;$<J.length;$++)K=J[$].getBounds(k),Q?M(U,K):(Q=!0,o(K,U));return D>0&&P(U,D,D),U},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(D){this.ops.x.onChange(D)}},particleY:{get:function(){return this.ops.y.current},set:function(D){this.ops.y.onChange(D)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(D){this.ops.accelerationX.onChange(D)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(D){this.ops.accelerationY.onChange(D)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(D){this.ops.maxVelocityX.onChange(D)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(D){this.ops.maxVelocityY.onChange(D)}},speed:{get:function(){return this.ops.speedX.current},set:function(D){this.ops.speedX.onChange(D),this.ops.speedY.onChange(D)}},speedX:{get:function(){return this.ops.speedX.current},set:function(D){this.ops.speedX.onChange(D)}},speedY:{get:function(){return this.ops.speedY.current},set:function(D){this.ops.speedY.onChange(D)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(D){this.ops.moveToX.onChange(D)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(D){this.ops.moveToY.onChange(D)}},bounce:{get:function(){return this.ops.bounce.current},set:function(D){this.ops.bounce.onChange(D)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(D){this.ops.scaleX.onChange(D)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(D){this.ops.scaleY.onChange(D)}},particleColor:{get:function(){return this.ops.color.current},set:function(D){this.ops.color.onChange(D)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(D){this.ops.color.setEase(D)}},particleTint:{get:function(){return this.ops.tint.current},set:function(D){this.ops.tint.onChange(D)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(D){this.ops.alpha.onChange(D)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(D){this.ops.lifespan.onChange(D)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(D){this.ops.angle.onChange(D)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(D){this.ops.rotate.onChange(D)}},quantity:{get:function(){return this.ops.quantity.current},set:function(D){this.ops.quantity.onChange(D)}},delay:{get:function(){return this.ops.delay.current},set:function(D){this.ops.delay.onChange(D)}},hold:{get:function(){return this.ops.hold.current},set:function(D){this.ops.hold.onChange(D)}},flowCounter:{get:function(){return this.counters[0]},set:function(D){this.counters[0]=D}},frameCounter:{get:function(){return this.counters[1]},set:function(D){this.counters[1]=D}},animCounter:{get:function(){return this.counters[2]},set:function(D){this.counters[2]=D}},elapsed:{get:function(){return this.counters[3]},set:function(D){this.counters[3]=D}},stopCounter:{get:function(){return this.counters[4]},set:function(D){this.counters[4]=D}},completeFlag:{get:function(){return this.counters[5]},set:function(D){this.counters[5]=D}},zoneIndex:{get:function(){return this.counters[6]},set:function(D){this.counters[6]=D}},zoneTotal:{get:function(){return this.counters[7]},set:function(D){this.counters[7]=D}},currentFrame:{get:function(){return this.counters[8]},set:function(D){this.counters[8]=D}},currentAnim:{get:function(){return this.counters[9]},set:function(D){this.counters[9]=D}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var D,G=this.ops;for(D=0;D<N.length;D++){var V=N[D];G[V].destroy()}for(D=0;D<this.alive.length;D++)this.alive[D].destroy();for(D=0;D<this.dead.length;D++)this.dead[D].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});l.exports=X},10456:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(90205),m=e(69360),d=new m,o=new m,h=new m,n=new m,r=function(f,a,v,p){var c=d,g=o,y=h,S=n;p?(S.loadIdentity(),S.multiply(p),S.translate(a.x,a.y),S.rotate(a.rotation),S.scale(a.scaleX,a.scaleY)):S.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY);var P=f.currentContext,C=v.roundPixels,M=v.alpha,R=a.alpha,w=a.alive,O=w.length,F=a.viewBounds;if(!(!a.visible||O===0||F&&!u(F,v.worldView))){a.sortCallback&&a.depthSort(),v.addToRenderList(a);var L=a.scrollFactorX,b=a.scrollFactorY;P.save(),P.globalCompositeOperation=f.blendModes[a.blendMode];for(var B=0;B<O;B++){var I=w[B],z=I.alpha*R*M;if(!(z<=0||I.scaleX===0||I.scaleY===0)){y.applyITRS(I.x,I.y,I.rotation,I.scaleX,I.scaleY),c.copyFrom(v.matrix),c.multiplyWithOffset(S,-v.scrollX*L,-v.scrollY*b),y.e=I.x,y.f=I.y,c.multiply(y,g);var Y=I.frame,W=Y.canvasData;if(W.width>0&&W.height>0){var H=-Y.halfWidth,N=-Y.halfHeight;P.globalAlpha=z,P.save(),g.setToContext(P),C&&(H=Math.round(H),N=Math.round(N)),P.imageSmoothingEnabled=!Y.source.scaleMode,P.drawImage(Y.source.image,W.x,W.y,W.width,W.height,H,N,W.width,W.height),P.restore()}}}P.restore()}};l.exports=r},765:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(88933),m=e(99325),d=e(20494),o=e(72632),h=e(9216);m.register("particles",function(n,r){n===void 0&&(n={});var f=d(n,"key",null),a=o(n,"config",null),v=new h(this.scene,0,0,f);return r!==void 0&&(n.add=r),u(this.scene,v,n),a&&v.setConfig(a),v})},81212:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61286),m=e(9216);u.register("particles",function(d,o,h,n){return d!==void 0&&typeof d=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new m(this.scene,d,o,h,n))})},69116:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),m=u,d=u;m=e(10275),d=e(10456),l.exports={renderWebGL:m,renderCanvas:d}},10275:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(90205),m=e(69360),d=e(75512),o=new m,h=new m,n=new m,r=new m,f=function(a,v,p,c){var g=a.pipelines.set(v.pipeline),y=o,S=h,P=n,C=r;c?(C.loadIdentity(),C.multiply(c),C.translate(v.x,v.y),C.rotate(v.rotation),C.scale(v.scaleX,v.scaleY)):C.applyITRS(v.x,v.y,v.rotation,v.scaleX,v.scaleY);var M=p.roundPixels,R=d.getTintAppendFloatAlpha,w=p.alpha,O=v.alpha,F=v.frame.glTexture;a.pipelines.preBatch(v);var L=v.alive,b=L.length,B=v.viewBounds;if(!(b===0||B&&!u(B,p.worldView))){v.sortCallback&&v.depthSort();var I=g.setGameObject(v,v.frame);p.addToRenderList(v),y.copyFrom(p.matrix),y.multiplyWithOffset(C,-p.scrollX*v.scrollFactorX,-p.scrollY*v.scrollFactorY),a.setBlendMode(v.blendMode),v.mask&&(v.mask.preRenderWebGL(a,v,p),a.pipelines.set(v.pipeline));for(var z=v.tintFill,Y=0;Y<b;Y++){var W=L[Y],H=W.alpha*O*w;if(!(H<=0||W.scaleX===0||W.scaleY===0)){P.applyITRS(W.x,W.y,W.rotation,W.scaleX,W.scaleY),P.e=W.x,P.f=W.y,y.multiply(P,S);var N=W.frame,X=-N.halfWidth,D=-N.halfHeight,G=S.setQuad(X,D,X+N.width,D+N.height,M),V=R(W.tint,H);g.shouldFlush(6)&&(g.flush(),I=g.setGameObject(v,v.frame)),g.batchQuad(v,G[0],G[1],G[2],G[3],G[4],G[5],G[6],G[7],N.u0,N.v0,N.u1,N.v1,V,V,V,V,z,F,I)}}v.mask&&v.mask.postRenderWebGL(a,p),a.pipelines.postBatch(v)}};l.exports=f},30891:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=new u({initialize:function(o,h,n){o===void 0&&(o=0),h===void 0&&(h=0),n===void 0&&(n=!0),this.emitter,this.x=o,this.y=h,this.active=n},update:function(){},destroy:function(){this.emitter=null}});l.exports=m},76100:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="complete"},26677:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="deathzone"},62736:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="explode"},56490:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="start"},85715:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="stop"},40629:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={COMPLETE:e(76100),DEATH_ZONE:e(26677),EXPLODE:e(62736),START:e(56490),STOP:e(85715)}},27684:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={EmitterColorOp:e(19737),EmitterOp:e(93025),Events:e(40629),GravityWell:e(87811),Particle:e(14909),ParticleBounds:e(73106),ParticleEmitter:e(9216),ParticleProcessor:e(30891),Zones:e(25962)}},69361:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=new u({initialize:function(o,h){this.source=o,this.killOnEnter=h},willKill:function(d){var o=d.worldPosition,h=this.source.contains(o.x,o.y);return h&&this.killOnEnter||!h&&!this.killOnEnter}});l.exports=m},54213:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=new u({initialize:function(o,h,n,r,f,a){r===void 0&&(r=!1),f===void 0&&(f=!0),a===void 0&&(a=-1),this.source=o,this.points=[],this.quantity=h,this.stepRate=n,this.yoyo=r,this.counter=-1,this.seamless=f,this._length=0,this._direction=0,this.total=a,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var d=this.points[0],o=this.points[this.points.length-1];d.x===o.x&&d.y===o.y&&this.points.pop()}var h=this._length;return this._length=this.points.length,this._length<h&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(d){return this.source=d,this.updateSource()},getPoint:function(d){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var o=this.points[this.counter];o&&(d.x=o.x,d.y=o.y)}});l.exports=m},68433:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(93736),d=new u({initialize:function(h){this.source=h,this._tempVec=new m,this.total=-1},getPoint:function(o){var h=this._tempVec;this.source.getRandomPoint(h),o.x=h.x,o.y=h.y}});l.exports=d},25962:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={DeathZone:e(69361),EdgeZone:e(54213),RandomZone:e(68433)}},29598:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(64937),d=e(13747),o=new u({Extends:d,Mixins:[m.PathFollower],initialize:function(n,r,f,a,v,p){d.call(this,n,f,a,v,p),this.path=r},preUpdate:function(h,n){this.anims.update(h,n),this.pathUpdate(h)}});l.exports=o},19626:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61286),m=e(29598);u.register("follower",function(d,o,h,n,r){var f=new m(this.scene,d,o,h,n,r);return this.displayList.add(f),this.updateList.add(f),f})},33412:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(16569),m=e(56694),d=e(99425),o=e(15978),h=e(83321),n=e(76583),r=new m({Extends:h,initialize:function(a,v,p,c,g,y,S,P){c||(c="__DEFAULT"),h.call(this,a,v,p,c,g),this.type="Plane",this.anims=new u(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(y,S,P),this.setSizeToFrame(!1),this.setViewHeight()},setGridSize:function(f,a,v){f===void 0&&(f=8),a===void 0&&(a=8),v===void 0&&(v=!1);var p=!1;return v&&(p=!0),this.gridWidth=f,this.gridHeight=a,this.isTiled=v,this.clear(),d({mesh:this,widthSegments:f,heightSegments:a,isOrtho:!1,tile:v,flipY:p}),this},setSizeToFrame:function(f){f===void 0&&(f=!0);var a=this.frame;if(this.setPerspective(this.width/a.width,this.height/a.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!f)return this;var v=this.gridWidth,p=this.gridHeight,c=this.vertices,g=a.u0,y=a.u1,S=a.v0,P=a.v1,C,M,R=0;if(this.isTiled)for(S=a.v1,P=a.v0,M=0;M<p;M++)for(C=0;C<v;C++)c[R++].setUVs(g,P),c[R++].setUVs(g,S),c[R++].setUVs(y,P),c[R++].setUVs(g,S),c[R++].setUVs(y,S),c[R++].setUVs(y,P);else{var w=v+1,O=p+1,F=y-g,L=P-S,b=[];for(M=0;M<O;M++)for(C=0;C<w;C++){var B=g+F*(C/v),I=S+L*(M/p);b.push(B,I)}for(M=0;M<p;M++)for(C=0;C<v;C++){var z=(C+w*M)*2,Y=(C+w*(M+1))*2,W=(C+1+w*(M+1))*2,H=(C+1+w*M)*2;c[R++].setUVs(b[z],b[z+1]),c[R++].setUVs(b[Y],b[Y+1]),c[R++].setUVs(b[H],b[H+1]),c[R++].setUVs(b[Y],b[Y+1]),c[R++].setUVs(b[W],b[W+1]),c[R++].setUVs(b[H],b[H+1])}}return this},setViewHeight:function(f){f===void 0&&(f=this.frame.height);var a=this.fov*(Math.PI/180);this.viewPosition.z=this.height/f/Math.tan(a/2),this.dirtyCache[10]=1},createCheckerboard:function(f,a,v,p,c){f===void 0&&(f=16777215),a===void 0&&(a=255),v===void 0&&(v=255),p===void 0&&(p=255),c===void 0&&(c=128);var g=this.scene.sys.renderer.gl,y=g.createTexture();g.activeTexture(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,y),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.NEAREST),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.NEAREST);for(var S=o(f),P=o(a),C=[],M=0;M<16;M++)for(var R=0;R<16;R++)M<8&&R<8||M>7&&R>7?C.push(S.r,S.g,S.b,v):C.push(P.r,P.g,P.b,p);g.texImage2D(g.TEXTURE_2D,0,g.RGBA,16,16,0,g.RGBA,g.UNSIGNED_BYTE,new Uint8Array(C)),y.isAlphaPremultiplied=!0,y.isRenderTexture=!1,y.width=16,y.height=16;var w=this.scene.sys.textures.addGLTexture(n(),y,16,16);return this.removeCheckerboard(),this._checkerboard=w,g.bindTexture(g.TEXTURE_2D,null),this.setTexture(w),this.setSizeToFrame(),this.setViewHeight(c),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(f,a){return this.anims.play(f,a)},playReverse:function(f,a){return this.anims.playReverse(f,a)},playAfterDelay:function(f,a){return this.anims.playAfterDelay(f,a)},playAfterRepeat:function(f,a){return this.anims.playAfterRepeat(f,a)},stop:function(){return this.anims.stop()},stopAfterDelay:function(f){return this.anims.stopAfterDelay(f)},stopAfterRepeat:function(f){return this.anims.stopAfterRepeat(f)},stopOnFrame:function(f){return this.anims.stopOnFrame(f)},preUpdate:function(f,a){h.prototype.preUpdate.call(this,f,a),this.anims.update(f,a)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});l.exports=r},10912:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(88933),m=e(32291),d=e(99325),o=e(20494),h=e(10850),n=e(33412);d.register("plane",function(r,f){r===void 0&&(r={});var a=o(r,"key",null),v=o(r,"frame",null),p=h(r,"width",8),c=h(r,"height",8),g=h(r,"tile",!1),y=new n(this.scene,0,0,a,v,p,c,g);f!==void 0&&(r.add=f);var S=h(r,"checkerboard",null);if(S){var P=h(S,"color1",16777215),C=h(S,"color2",255),M=h(S,"alpha1",255),R=h(S,"alpha2",255),w=h(S,"height",128);y.createCheckerboard(P,C,M,R,w)}return u(this.scene,y,r),m(y,r),y})},58322:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(33412),m=e(61286);m.register("plane",function(d,o,h,n,r,f,a){return this.displayList.add(new u(this.scene,d,o,h,n,r,f,a))})},13171:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(64937),d=e(89980),o=e(74853),h=e(65641),n=e(71606),r=new u({Extends:d,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.Mask,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Transform,m.Visible,n],initialize:function(a,v,p,c,g,y,S){c===void 0&&(c=16777215),g===void 0&&(g=128),y===void 0&&(y=1),S===void 0&&(S=.1),d.call(this,a,"PointLight"),this.initPipeline(h.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(v,p),this.color=o(c),this.intensity=y,this.attenuation=S,this.width=g*2,this.height=g*2,this._radius=g},radius:{get:function(){return this._radius},set:function(f){this._radius=f,this.width=f*2,this.height=f*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});l.exports=r},162:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(88933),m=e(99325),d=e(20494),o=e(13171);m.register("pointlight",function(h,n){h===void 0&&(h={});var r=d(h,"color",16777215),f=d(h,"radius",128),a=d(h,"intensity",1),v=d(h,"attenuation",.1),p=new o(this.scene,0,0,r,f,a,v);return n!==void 0&&(h.add=n),u(this.scene,p,h),p})},91201:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61286),m=e(13171);u.register("pointlight",function(d,o,h,n,r,f){return this.displayList.add(new m(this.scene,d,o,h,n,r,f))})},71606:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),m=u,d=u;m=e(80590),l.exports={renderWebGL:m,renderCanvas:d}},80590:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(73329),m=function(d,o,h,n){h.addToRenderList(o);var r=d.pipelines.set(o.pipeline),f=u(o,h,n).calc,a=o.width,v=o.height,p=-o._radius,c=-o._radius,g=p+a,y=c+v,S=f.getX(0,0),P=f.getY(0,0),C=f.getX(p,c),M=f.getY(p,c),R=f.getX(p,y),w=f.getY(p,y),O=f.getX(g,y),F=f.getY(g,y),L=f.getX(g,c),b=f.getY(g,c);d.pipelines.preBatch(o),r.batchPointLight(o,h,C,M,R,w,O,F,L,b,S,P),d.pipelines.postBatch(o)};l.exports=m},15996:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(845),d=e(1539),o=new u({Extends:d,initialize:function(n,r,f,a,v){r===void 0&&(r=0),f===void 0&&(f=0),a===void 0&&(a=32),v===void 0&&(v=32);var p=new m(n.sys.textures,"",a,v);d.call(this,n,r,f,p),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(h,n){this.width=h,this.height=n,this.texture.setSize(h,n),this.updateDisplayOrigin();var r=this.input;return r&&!r.customHitArea&&(r.hitArea.width=h,r.hitArea.height=n),this},resize:function(h,n){return this.setSize(h,n),this},saveTexture:function(h){var n=this.texture;return n.key=h,n.manager.addDynamicTexture(n)&&(this._saved=!0),n},fill:function(h,n,r,f,a,v){return this.texture.fill(h,n,r,f,a,v),this},clear:function(){return this.texture.clear(),this},stamp:function(h,n,r,f,a){return this.texture.stamp(h,n,r,f,a),this},erase:function(h,n,r){return this.texture.erase(h,n,r),this},draw:function(h,n,r,f,a){return this.texture.draw(h,n,r,f,a),this},drawFrame:function(h,n,r,f,a,v){return this.texture.drawFrame(h,n,r,f,a,v),this},repeat:function(h,n,r,f,a,v,p,c,g){return this.texture.repeat(h,n,r,f,a,v,p,c,g),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(h,n,r,f,a){return this.texture.batchDraw(h,n,r,f,a),this},batchDrawFrame:function(h,n,r,f,a,v){return this.texture.batchDrawFrame(h,n,r,f,a,v),this},endDraw:function(h){return this.texture.endDraw(h),this},snapshotArea:function(h,n,r,f,a,v,p){return this.texture.snapshotArea(h,n,r,f,a,v,p),this},snapshot:function(h,n,r){return this.snapshotArea(0,0,this.width,this.height,h,n,r)},snapshotPixel:function(h,n,r){return this.snapshotArea(h,n,1,1,r,"pixel")},preDestroy:function(){this._saved||this.texture.destroy()}});l.exports=o},85692:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(88933),m=e(99325),d=e(20494),o=e(15996);m.register("renderTexture",function(h,n){h===void 0&&(h={});var r=d(h,"x",0),f=d(h,"y",0),a=d(h,"width",32),v=d(h,"height",32),p=new o(this.scene,r,f,a,v);return n!==void 0&&(h.add=n),u(this.scene,p,h),p})},29599:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61286),m=e(15996);u.register("renderTexture",function(d,o,h,n){return this.displayList.add(new m(this.scene,d,o,h,n))})},79968:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(16569),m=e(56694),d=e(64937),o=e(89980),h=e(65641),n=e(58912),r=e(93736),f=new m({Extends:o,Mixins:[d.AlphaSingle,d.BlendMode,d.Depth,d.Flip,d.Mask,d.Pipeline,d.PostPipeline,d.Size,d.Texture,d.Transform,d.Visible,d.ScrollFactor,n],initialize:function(v,p,c,g,y,S,P,C,M){g===void 0&&(g="__DEFAULT"),S===void 0&&(S=2),P===void 0&&(P=!0),o.call(this,v,"Rope"),this.anims=new u(this),this.points=S,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=g==="__DEFAULT",this.dirty=!1,this.horizontal=P,this._flipX=!1,this._flipY=!1,this._perp=new r,this.debugCallback=null,this.debugGraphic=null,this.setTexture(g,y),this.setPosition(p,c),this.setSizeToFrame(),this.initPipeline(h.ROPE_PIPELINE),Array.isArray(S)&&this.resizeArrays(S.length),this.setPoints(S,C,M),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(a,v){var p=this.anims.currentFrame;this.anims.update(a,v),this.anims.currentFrame!==p&&(this.updateUVs(),this.updateVertices())},play:function(a,v,p){return this.anims.play(a,v,p),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(a,v,p){return a===void 0&&(a=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(a,v,p))},setVertical:function(a,v,p){return a===void 0&&(a=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(a,v,p)):this},setTintFill:function(a){return a===void 0&&(a=!1),this.tintFill=a,this},setAlphas:function(a,v){var p=this.points.length;if(p<1)return this;var c=this.alphas;a===void 0?a=[1]:!Array.isArray(a)&&v===void 0&&(a=[a]);var g,y=0;if(v!==void 0)for(g=0;g<p;g++)y=g*2,c[y]=a,c[y+1]=v;else if(a.length===p)for(g=0;g<p;g++)y=g*2,c[y]=a[g],c[y+1]=a[g];else{var S=a[0];for(g=0;g<p;g++)y=g*2,a.length>y&&(S=a[y]),c[y]=S,a.length>y+1&&(S=a[y+1]),c[y+1]=S}return this},setColors:function(a){var v=this.points.length;if(v<1)return this;var p=this.colors;a===void 0?a=[16777215]:Array.isArray(a)||(a=[a]);var c,g=0;if(a.length===v)for(c=0;c<v;c++)g=c*2,p[g]=a[c],p[g+1]=a[c];else{var y=a[0];for(c=0;c<v;c++)g=c*2,a.length>g&&(y=a[g]),p[g]=y,a.length>g+1&&(y=a[g+1]),p[g+1]=y}return this},setPoints:function(a,v,p){if(a===void 0&&(a=2),typeof a=="number"){var c=a;c<2&&(c=2),a=[];var g,y,S;if(this.horizontal)for(S=-this.frame.halfWidth,y=this.frame.width/(c-1),g=0;g<c;g++)a.push({x:S+g*y,y:0});else for(S=-this.frame.halfHeight,y=this.frame.height/(c-1),g=0;g<c;g++)a.push({x:0,y:S+g*y})}var P=a.length,C=this.points.length;return P<1?(console.warn("Rope: Not enough points given"),this):(P===1&&(a.unshift({x:0,y:0}),P++),C!==P&&this.resizeArrays(P),this.dirty=!0,this.points=a,this.updateUVs(),v!=null&&this.setColors(v),p!=null&&this.setAlphas(p),this)},updateUVs:function(){for(var a=this.uv,v=this.points.length,p=this.frame.u0,c=this.frame.v0,g=this.frame.u1,y=this.frame.v1,S=(g-p)/(v-1),P=(y-c)/(v-1),C=0;C<v;C++){var M=C*4,R,w,O,F;this.horizontal?(this._flipX?(R=g-C*S,O=g-C*S):(R=p+C*S,O=p+C*S),this._flipY?(w=y,F=c):(w=c,F=y)):(this._flipX?(R=p,O=g):(R=g,O=p),this._flipY?(w=y-C*P,F=y-C*P):(w=c+C*P,F=c+C*P)),a[M+0]=R,a[M+1]=w,a[M+2]=O,a[M+3]=F}return this},resizeArrays:function(a){var v=this.colors,p=this.alphas;this.vertices=new Float32Array(a*4),this.uv=new Float32Array(a*4),v=new Uint32Array(a*2),p=new Float32Array(a*2);for(var c=0;c<a*2;c++)v[c]=16777215,p[c]=1;return this.colors=v,this.alphas=p,this.dirty=!0,this},updateVertices:function(){var a=this._perp,v=this.points,p=this.vertices,c=v.length;if(this.dirty=!1,!(c<1)){for(var g,y=v[0],S=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,P=0;P<c;P++){var C=v[P],M=P*4;P<c-1?g=v[P+1]:g=C,a.x=g.y-y.y,a.y=-(g.x-y.x);var R=a.length();a.x/=R,a.y/=R,a.x*=S,a.y*=S,p[M]=C.x+a.x,p[M+1]=C.y+a.y,p[M+2]=C.x-a.x,p[M+3]=C.y-a.y,y=C}return this}},setDebug:function(a,v){return this.debugGraphic=a,!a&&!v?this.debugCallback=null:v?this.debugCallback=v:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(a,v,p){var c=a.debugGraphic,g=p[0],y=p[1],S=p[2],P=p[3];c.lineBetween(g,y,S,P);for(var C=4;C<v;C+=4){var M=p[C+0],R=p[C+1],w=p[C+2],O=p[C+3];c.lineBetween(g,y,M,R),c.lineBetween(S,P,w,O),c.lineBetween(S,P,M,R),c.lineBetween(M,R,w,O),g=M,y=R,S=w,P=O}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(a){return this._flipX=a,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(a){return this._flipY=a,this.updateUVs()}}});l.exports=f},44598:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};l.exports=T},96027:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(88933),m=e(99325),d=e(20494),o=e(10850),h=e(79968);m.register("rope",function(n,r){n===void 0&&(n={});var f=d(n,"key",null),a=d(n,"frame",null),v=d(n,"horizontal",!0),p=o(n,"points",void 0),c=o(n,"colors",void 0),g=o(n,"alphas",void 0),y=new h(this.scene,0,0,f,a,p,v,c,g);return r!==void 0&&(n.add=r),u(this.scene,y,n),y})},31982:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79968),m=e(61286);m.register("rope",function(d,o,h,n,r,f,a,v){return this.displayList.add(new u(this.scene,d,o,h,n,r,f,a,v))})},58912:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),m=u,d=u;m=e(49489),d=e(44598),l.exports={renderWebGL:m,renderCanvas:d}},49489:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(73329),m=e(75512),d=function(o,h,n,r){n.addToRenderList(h);var f=o.pipelines.set(h.pipeline,h),a=u(h,n,r).calc,v=h.vertices,p=h.uv,c=h.colors,g=h.alphas,y=h.alpha,S=m.getTintAppendFloatAlpha,P=n.roundPixels,C=v.length,M=Math.floor(C*.5);f.flush(),o.pipelines.preBatch(h);var R=f.setGameObject(h),w=f.vertexViewF32,O=f.vertexViewU32,F=f.vertexCount*f.currentShader.vertexComponentCount-1,L=0,b=h.tintFill;h.dirty&&h.updateVertices();for(var B=h.debugCallback,I=[],z=0;z<C;z+=2){var Y=v[z+0],W=v[z+1],H=Y*a.a+W*a.c+a.e,N=Y*a.b+W*a.d+a.f;P&&(H=Math.round(H),N=Math.round(N)),w[++F]=H,w[++F]=N,w[++F]=p[z+0],w[++F]=p[z+1],w[++F]=R,w[++F]=b,O[++F]=S(c[L],n.alpha*(g[L]*y)),L++,B&&(I[z+0]=H,I[z+1]=N)}B&&B.call(h,h,C,I),f.vertexCount+=M,f.currentBatch.count=f.vertexCount-f.currentBatch.start,o.pipelines.postBatch(h)};l.exports=d},27902:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(64937),d=e(89980),o=e(72632),h=e(98611),n=e(22440),r=e(24252),f=e(69360),a=new u({Extends:d,Mixins:[m.ComputedSize,m.Depth,m.GetBounds,m.Mask,m.Origin,m.ScrollFactor,m.Transform,m.Visible,r],initialize:function(p,c,g,y,S,P,C,M){g===void 0&&(g=0),y===void 0&&(y=0),S===void 0&&(S=128),P===void 0&&(P=128),d.call(this,p,"Shader"),this.blendMode=-1,this.shader;var R=p.sys.renderer;this.renderer=R,this.gl=R.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=R.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new f,this._tempMatrix2=new f,this._tempMatrix3=new f,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=R.width,this._rendererHeight=R.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(g,y),this.setSize(S,P),this.setOrigin(.5,.5),this.setShader(c,C,M)},willRender:function(v){return this.renderToTexture?!0:!(d.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&v.id)},setRenderToTexture:function(v,p){if(p===void 0&&(p=!1),!this.renderToTexture){var c=this.width,g=this.height,y=this.renderer;this.glTexture=y.createTextureFromSource(null,c,g,0),this.glTexture.flipY=p,this.framebuffer=y.createFramebuffer(c,g,this.glTexture,!1),this._rendererWidth=c,this._rendererHeight=g,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),v&&(this.texture=this.scene.sys.textures.addGLTexture(v,this.glTexture,c,g))}return this.shader&&(y.pipelines.clear(),this.load(),this.flush(),y.pipelines.rebind()),this},setShader:function(v,p,c){if(p===void 0&&(p=[]),typeof v=="string"){var g=this.scene.sys.cache.shader;if(!g.has(v))return console.warn("Shader missing: "+v),this;this.shader=g.get(v)}else this.shader=v;var y=this.gl,S=this.renderer;this.program&&y.deleteProgram(this.program);var P=S.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);y.uniformMatrix4fv(y.getUniformLocation(P,"uViewMatrix"),!1,this.viewMatrix),y.uniformMatrix4fv(y.getUniformLocation(P,"uProjectionMatrix"),!1,this.projectionMatrix),y.uniform2f(y.getUniformLocation(P,"uResolution"),this.width,this.height),this.program=P;var C=new Date,M={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[C.getFullYear(),C.getMonth(),C.getDate(),C.getHours()*60*60+C.getMinutes()*60+C.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=h(!0,{},this.shader.uniforms,M):this.uniforms=M;for(var R=0;R<4;R++)p[R]&&this.setSampler2D("iChannel"+R,p[R],R,c);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(v){return this.pointer=v,this},projOrtho:function(v,p,c,g){var y=-1e3,S=1e3,P=1/(v-p),C=1/(c-g),M=1/(y-S),R=this.projectionMatrix;R[0]=-2*P,R[5]=-2*C,R[10]=2*M,R[12]=(v+p)*P,R[13]=(g+c)*C,R[14]=(S+y)*M;var w=this.program,O=this.gl,F=this.renderer;F.setProgram(w),O.uniformMatrix4fv(O.getUniformLocation(w,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=p,this._rendererHeight=c},initUniforms:function(){var v=this.gl,p=this.renderer.glFuncMap,c=this.program;this._textureCount=0;for(var g in this.uniforms){var y=this.uniforms[g],S=y.type,P=p[S];y.uniformLocation=v.getUniformLocation(c,g),S!=="sampler2D"&&(y.glMatrix=P.matrix,y.glValueLength=P.length,y.glFunc=P.func)}},setSampler2DBuffer:function(v,p,c,g,y,S){y===void 0&&(y=0),S===void 0&&(S={});var P=this.uniforms[v];return P.value=p,S.width=c,S.height=g,P.textureData=S,this._textureCount=y,this.initSampler2D(P),this},setSampler2D:function(v,p,c,g){c===void 0&&(c=0);var y=this.scene.sys.textures;if(y.exists(p)){var S=y.getFrame(p);if(S.glTexture&&S.glTexture.isRenderTexture)return this.setSampler2DBuffer(v,S.glTexture,S.width,S.height,c,g);var P=this.uniforms[v],C=S.source;P.textureKey=p,P.source=C.image,P.value=S.glTexture,C.isGLTexture&&(g||(g={}),g.width=C.width,g.height=C.height),g&&(P.textureData=g),this._textureCount=c,this.initSampler2D(P)}return this},setUniform:function(v,p){return n(this.uniforms,v,p),this},getUniform:function(v){return o(this.uniforms,v,null)},setChannel0:function(v,p){return this.setSampler2D("iChannel0",v,0,p)},setChannel1:function(v,p){return this.setSampler2D("iChannel1",v,1,p)},setChannel2:function(v,p){return this.setSampler2D("iChannel2",v,2,p)},setChannel3:function(v,p){return this.setSampler2D("iChannel3",v,3,p)},initSampler2D:function(v){if(v.value){var p=this.gl;p.activeTexture(p.TEXTURE0+this._textureCount),p.bindTexture(p.TEXTURE_2D,v.value);var c=v.textureData;if(c&&!v.value.isRenderTexture){var g=p[o(c,"magFilter","linear").toUpperCase()],y=p[o(c,"minFilter","linear").toUpperCase()],S=p[o(c,"wrapS","repeat").toUpperCase()],P=p[o(c,"wrapT","repeat").toUpperCase()],C=p[o(c,"format","rgba").toUpperCase()];if(c.repeat&&(S=p.REPEAT,P=p.REPEAT),p.pixelStorei(p.UNPACK_FLIP_Y_WEBGL,!!c.flipY),c.width){var M=o(c,"width",512),R=o(c,"height",2),w=o(c,"border",0);p.texImage2D(p.TEXTURE_2D,0,C,M,R,w,C,p.UNSIGNED_BYTE,null)}else p.texImage2D(p.TEXTURE_2D,0,C,p.RGBA,p.UNSIGNED_BYTE,v.source);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,g),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,y),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,S),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,P)}this.renderer.setProgram(this.program),p.uniform1i(v.uniformLocation,this._textureCount),this._textureCount++}},syncUniforms:function(){var v=this.gl,p=this.uniforms,c,g,y,S,P,C=0;for(var M in p)c=p[M],y=c.glFunc,g=c.glValueLength,S=c.uniformLocation,P=c.value,P!==null&&(g===1?c.glMatrix?y.call(v,S,c.transpose,P):y.call(v,S,P):g===2?y.call(v,S,P.x,P.y):g===3?y.call(v,S,P.x,P.y,P.z):g===4?y.call(v,S,P.x,P.y,P.z,P.w):c.type==="sampler2D"&&(v.activeTexture(v.TEXTURE0+C),v.bindTexture(v.TEXTURE_2D,P),v.uniform1i(S,C),C++))},load:function(v){var p=this.gl,c=this.width,g=this.height,y=this.renderer,S=this.program,P=this.viewMatrix;if(!this.renderToTexture){var C=-this._displayOriginX,M=-this._displayOriginY;P[0]=v[0],P[1]=v[1],P[4]=v[2],P[5]=v[3],P[8]=v[4],P[9]=v[5],P[12]=P[0]*C+P[4]*M,P[13]=P[1]*C+P[5]*M}p.useProgram(S),p.uniformMatrix4fv(p.getUniformLocation(S,"uViewMatrix"),!1,P),p.uniform2f(p.getUniformLocation(S,"uResolution"),this.width,this.height);var R=this.uniforms,w=R.resolution;w.value.x=c,w.value.y=g,R.time.value=y.game.loop.getDuration();var O=this.pointer;if(O){var F=R.mouse,L=O.x/c,b=1-O.y/g;F.value.x=L.toFixed(2),F.value.y=b.toFixed(2)}this.syncUniforms()},flush:function(){var v=this.width,p=this.height,c=this.program,g=this.gl,y=this.vertexBuffer,S=this.renderer,P=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(S.setFramebuffer(this.framebuffer),g.clearColor(0,0,0,0),g.clear(g.COLOR_BUFFER_BIT)),g.bindBuffer(g.ARRAY_BUFFER,y);var C=g.getAttribLocation(c,"inPosition");C!==-1&&(g.enableVertexAttribArray(C),g.vertexAttribPointer(C,2,g.FLOAT,!1,P,0));var M=this.vertexViewF32;M[3]=p,M[4]=v,M[5]=p,M[8]=v,M[9]=p,M[10]=v;var R=6;g.bufferSubData(g.ARRAY_BUFFER,0,this.bytes.subarray(0,R*P)),g.drawArrays(g.TRIANGLES,0,R),this.renderToTexture&&S.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},preDestroy:function(){var v=this.gl;v.deleteProgram(this.program),v.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(this.renderer.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null)}});l.exports=a},10612:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};l.exports=T},13908:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(88933),m=e(99325),d=e(20494),o=e(27902);m.register("shader",function(h,n){h===void 0&&(h={});var r=d(h,"key",null),f=d(h,"x",0),a=d(h,"y",0),v=d(h,"width",128),p=d(h,"height",128),c=new o(this.scene,r,f,a,v,p);return n!==void 0&&(h.add=n),u(this.scene,c,h),c})},51979:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(27902),m=e(61286);m.register("shader",function(d,o,h,n,r,f,a){return this.displayList.add(new u(this.scene,d,o,h,n,r,f,a))})},24252:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),m=u,d=u;m=e(19782),d=e(10612),l.exports={renderWebGL:m,renderCanvas:d}},19782:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(73329),m=function(d,o,h,n){if(o.shader){if(h.addToRenderList(o),d.pipelines.clear(),o.renderToTexture)o.load(),o.flush();else{var r=u(o,h,n).calc;(d.width!==o._rendererWidth||d.height!==o._rendererHeight)&&o.projOrtho(0,d.width,d.height,0),o.load(r.matrix),o.flush()}d.pipelines.rebind()}};l.exports=m},19543:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(75512),m=function(d,o,h,n,r,f){for(var a=u.getTintAppendFloatAlpha(h.fillColor,h.fillAlpha*n),v=h.pathData,p=h.pathIndexes,c=0;c<p.length;c+=3){var g=p[c]*2,y=p[c+1]*2,S=p[c+2]*2,P=v[g+0]-r,C=v[g+1]-f,M=v[y+0]-r,R=v[y+1]-f,w=v[S+0]-r,O=v[S+1]-f,F=o.getX(P,C),L=o.getY(P,C),b=o.getX(M,R),B=o.getY(M,R),I=o.getX(w,O),z=o.getY(w,O);d.batchTri(h,F,L,b,B,I,z,0,0,1,1,a,a,a,2)}};l.exports=m},15608:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d){var o=m||u.fillColor,h=d||u.fillAlpha,n=(o&16711680)>>>16,r=(o&65280)>>>8,f=o&255;e.fillStyle="rgba("+n+","+r+","+f+","+h+")"};l.exports=T},17876:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d){var o=m||u.strokeColor,h=d||u.strokeAlpha,n=(o&16711680)>>>16,r=(o&65280)>>>8,f=o&255;e.strokeStyle="rgba("+n+","+r+","+f+","+h+")",e.lineWidth=u.lineWidth};l.exports=T},91461:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(64937),d=e(89980),o=e(88829),h=new u({Extends:d,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.GetBounds,m.Mask,m.Origin,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Transform,m.Visible],initialize:function(r,f,a){f===void 0&&(f="Shape"),d.call(this,r,f),this.geom=a,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new o,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(n,r){return r===void 0&&(r=1),n===void 0?this.isFilled=!1:(this.fillColor=n,this.fillAlpha=r,this.isFilled=!0),this},setStrokeStyle:function(n,r,f){return f===void 0&&(f=1),n===void 0?this.isStroked=!1:(this.lineWidth=n,this.strokeColor=r,this.strokeAlpha=f,this.isStroked=!0),this},setClosePath:function(n){return this.closePath=n,this},setSize:function(n,r){return this.width=n,this.height=r,this},setDisplaySize:function(n,r){return this.displayWidth=n,this.displayHeight=r,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(n){this.scaleX=n/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(n){this.scaleY=n/this.height}}});l.exports=h},50262:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(75512),m=function(d,o,h,n,r){var f=d.strokeTint,a=u.getTintAppendFloatAlpha(o.strokeColor,o.strokeAlpha*h);f.TL=a,f.TR=a,f.BL=a,f.BR=a;var v=o.pathData,p=v.length-1,c=o.lineWidth,g=c/2,y=v[0]-n,S=v[1]-r;o.closePath||(p-=2);for(var P=2;P<p;P+=2){var C=v[P]-n,M=v[P+1]-r;d.batchLine(y,S,C,M,g,g,c,P-2,o.closePath?P===p-1:!1),y=C,S=M}};l.exports=m},28593:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2213),m=e(56694),d=e(75606),o=e(11117),h=e(26673),n=e(83392),r=e(91461),f=new m({Extends:r,Mixins:[u],initialize:function(v,p,c,g,y,S,P,C,M){p===void 0&&(p=0),c===void 0&&(c=0),g===void 0&&(g=128),y===void 0&&(y=0),S===void 0&&(S=360),P===void 0&&(P=!1),r.call(this,v,"Arc",new h(0,0,g)),this._startAngle=y,this._endAngle=S,this._anticlockwise=P,this._iterations=.01,this.setPosition(p,c);var R=this.geom.radius*2;this.setSize(R,R),C!==void 0&&this.setFillStyle(C,M),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(a){this._iterations=a,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(a){this.geom.radius=a;var v=a*2;this.setSize(v,v),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(a){this._startAngle=a,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(a){this._endAngle=a,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(a){this._anticlockwise=a,this.updateData()}},setRadius:function(a){return this.radius=a,this},setIterations:function(a){return a===void 0&&(a=.01),this.iterations=a,this},setStartAngle:function(a,v){return this._startAngle=a,v!==void 0&&(this._anticlockwise=v),this.updateData()},setEndAngle:function(a,v){return this._endAngle=a,v!==void 0&&(this._anticlockwise=v),this.updateData()},updateData:function(){var a=this._iterations,v=a,p=this.geom.radius,c=d(this._startAngle),g=d(this._endAngle),y=this._anticlockwise,S=p,P=p;g-=c,y?g<-n.PI2?g=-n.PI2:g>0&&(g=-n.PI2+g%n.PI2):g>n.PI2?g=n.PI2:g<0&&(g=n.PI2+g%n.PI2);for(var C=[S+Math.cos(c)*p,P+Math.sin(c)*p],M;v<1;)M=g*v+c,C.push(S+Math.cos(M)*p,P+Math.sin(M)*p),v+=a;return M=g+c,C.push(S+Math.cos(M)*p,P+Math.sin(M)*p),C.push(S+Math.cos(c)*p,P+Math.sin(c)*p),this.pathIndexes=o(C),this.pathData=C,this}});l.exports=f},23560:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(75606),m=e(15608),d=e(17876),o=e(49584),h=function(n,r,f,a){f.addToRenderList(r);var v=n.currentContext;if(o(n,v,r,f,a)){var p=r.radius;v.beginPath(),v.arc(p-r.originX*(p*2),p-r.originY*(p*2),p,u(r._startAngle),u(r._endAngle),r.anticlockwise),r.closePath&&v.closePath(),r.isFilled&&(m(v,r),v.fill()),r.isStroked&&(d(v,r),v.stroke()),v.restore()}};l.exports=h},10369:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(28593),m=e(61286);m.register("arc",function(d,o,h,n,r,f,a,v){return this.displayList.add(new u(this.scene,d,o,h,n,r,f,a,v))}),m.register("circle",function(d,o,h,n,r){return this.displayList.add(new u(this.scene,d,o,h,0,360,!1,n,r))})},2213:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),m=u,d=u;m=e(58356),d=e(23560),l.exports={renderWebGL:m,renderCanvas:d}},58356:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(73329),m=e(19543),d=e(50262),o=function(h,n,r,f){r.addToRenderList(n);var a=h.pipelines.set(n.pipeline),v=u(n,r,f),p=a.calcMatrix.copyFrom(v.calc),c=n._displayOriginX,g=n._displayOriginY,y=r.alpha*n.alpha;h.pipelines.preBatch(n),n.isFilled&&m(a,p,n,y,c,g),n.isStroked&&d(a,n,y,c,g),h.pipelines.postBatch(n)};l.exports=o},15220:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(87203),d=e(11117),o=e(74118),h=e(91461),n=new u({Extends:h,Mixins:[m],initialize:function(f,a,v,p,c,g){a===void 0&&(a=0),v===void 0&&(v=0),h.call(this,f,"Curve",p),this._smoothness=32,this._curveBounds=new o,this.closePath=!1,this.setPosition(a,v),c!==void 0&&this.setFillStyle(c,g),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(r){this._smoothness=r,this.updateData()}},setSmoothness:function(r){return this._smoothness=r,this.updateData()},updateData:function(){var r=this._curveBounds,f=this._smoothness;this.geom.getBounds(r,f),this.setSize(r.width,r.height),this.updateDisplayOrigin();for(var a=[],v=this.geom.getPoints(f),p=0;p<v.length;p++)a.push(v[p].x,v[p].y);return a.push(v[0].x,v[0].y),this.pathIndexes=d(a),this.pathData=a,this}});l.exports=n},4024:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(15608),m=e(17876),d=e(49584),o=function(h,n,r,f){r.addToRenderList(n);var a=h.currentContext;if(d(h,a,n,r,f)){var v=n._displayOriginX+n._curveBounds.x,p=n._displayOriginY+n._curveBounds.y,c=n.pathData,g=c.length-1,y=c[0]-v,S=c[1]-p;a.beginPath(),a.moveTo(y,S),n.closePath||(g-=2);for(var P=2;P<g;P+=2){var C=c[P]-v,M=c[P+1]-p;a.lineTo(C,M)}n.closePath&&a.closePath(),n.isFilled&&(u(a,n),a.fill()),n.isStroked&&(m(a,n),a.stroke()),a.restore()}};l.exports=o},10147:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61286),m=e(15220);u.register("curve",function(d,o,h,n,r){return this.displayList.add(new m(this.scene,d,o,h,n,r))})},87203:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),m=u,d=u;m=e(82958),d=e(4024),l.exports={renderWebGL:m,renderCanvas:d}},82958:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(19543),m=e(73329),d=e(50262),o=function(h,n,r,f){r.addToRenderList(n);var a=h.pipelines.set(n.pipeline),v=m(n,r,f),p=a.calcMatrix.copyFrom(v.calc),c=n._displayOriginX+n._curveBounds.x,g=n._displayOriginY+n._curveBounds.y,y=r.alpha*n.alpha;h.pipelines.preBatch(n),n.isFilled&&u(a,p,n,y,c,g),n.isStroked&&d(a,n,y,c,g),h.pipelines.postBatch(n)};l.exports=o},28591:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(11117),d=e(84171),o=e(95669),h=e(91461),n=new u({Extends:h,Mixins:[d],initialize:function(f,a,v,p,c,g,y){a===void 0&&(a=0),v===void 0&&(v=0),p===void 0&&(p=128),c===void 0&&(c=128),h.call(this,f,"Ellipse",new o(p/2,c/2,p,c)),this._smoothness=64,this.setPosition(a,v),this.width=p,this.height=c,g!==void 0&&this.setFillStyle(g,y),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(r){this._smoothness=r,this.updateData()}},setSize:function(r,f){return this.width=r,this.height=f,this.geom.setPosition(r/2,f/2),this.geom.setSize(r,f),this.updateData()},setSmoothness:function(r){return this._smoothness=r,this.updateData()},updateData:function(){for(var r=[],f=this.geom.getPoints(this._smoothness),a=0;a<f.length;a++)r.push(f[a].x,f[a].y);return r.push(f[0].x,f[0].y),this.pathIndexes=m(r),this.pathData=r,this}});l.exports=n},55881:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(15608),m=e(17876),d=e(49584),o=function(h,n,r,f){r.addToRenderList(n);var a=h.currentContext;if(d(h,a,n,r,f)){var v=n._displayOriginX,p=n._displayOriginY,c=n.pathData,g=c.length-1,y=c[0]-v,S=c[1]-p;a.beginPath(),a.moveTo(y,S),n.closePath||(g-=2);for(var P=2;P<g;P+=2){var C=c[P]-v,M=c[P+1]-p;a.lineTo(C,M)}a.closePath(),n.isFilled&&(u(a,n),a.fill()),n.isStroked&&(m(a,n),a.stroke()),a.restore()}};l.exports=o},99869:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(28591),m=e(61286);m.register("ellipse",function(d,o,h,n,r,f){return this.displayList.add(new u(this.scene,d,o,h,n,r,f))})},84171:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),m=u,d=u;m=e(17554),d=e(55881),l.exports={renderWebGL:m,renderCanvas:d}},17554:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(19543),m=e(73329),d=e(50262),o=function(h,n,r,f){r.addToRenderList(n);var a=h.pipelines.set(n.pipeline),v=m(n,r,f),p=a.calcMatrix.copyFrom(v.calc),c=n._displayOriginX,g=n._displayOriginY,y=r.alpha*n.alpha;h.pipelines.preBatch(n),n.isFilled&&u(a,p,n,y,c,g),n.isStroked&&d(a,n,y,c,g),h.pipelines.postBatch(n)};l.exports=o},39169:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(91461),d=e(88059),o=new u({Extends:m,Mixins:[d],initialize:function(n,r,f,a,v,p,c,g,y,S,P){r===void 0&&(r=0),f===void 0&&(f=0),a===void 0&&(a=128),v===void 0&&(v=128),p===void 0&&(p=32),c===void 0&&(c=32),m.call(this,n,"Grid",null),this.cellWidth=p,this.cellHeight=c,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(r,f),this.setSize(a,v),this.setFillStyle(g,y),S!==void 0&&this.setOutlineStyle(S,P),this.updateDisplayOrigin()},setFillStyle:function(h,n){return n===void 0&&(n=1),h===void 0?this.showCells=!1:(this.fillColor=h,this.fillAlpha=n,this.showCells=!0),this},setAltFillStyle:function(h,n){return n===void 0&&(n=1),h===void 0?this.showAltCells=!1:(this.altFillColor=h,this.altFillAlpha=n,this.showAltCells=!0),this},setOutlineStyle:function(h,n){return n===void 0&&(n=1),h===void 0?this.showOutline=!1:(this.outlineFillColor=h,this.outlineFillAlpha=n,this.showOutline=!0),this}});l.exports=o},95525:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(15608),m=e(17876),d=e(49584),o=function(h,n,r,f){r.addToRenderList(n);var a=h.currentContext;if(d(h,a,n,r,f)){var v=-n._displayOriginX,p=-n._displayOriginY,c=r.alpha*n.alpha,g=n.width,y=n.height,S=n.cellWidth,P=n.cellHeight,C=Math.ceil(g/S),M=Math.ceil(y/P),R=S,w=P,O=S-(C*S-g),F=P-(M*P-y),L=n.showCells,b=n.showAltCells,B=n.showOutline,I=0,z=0,Y=0,W=0,H=0;if(B&&(R--,w--,O===S&&O--,F===P&&F--),L&&n.fillAlpha>0)for(u(a,n),z=0;z<M;z++)for(b&&(Y=z%2),I=0;I<C;I++){if(b&&Y){Y=0;continue}Y++,W=I<C-1?R:O,H=z<M-1?w:F,a.fillRect(v+I*S,p+z*P,W,H)}if(b&&n.altFillAlpha>0)for(u(a,n,n.altFillColor,n.altFillAlpha*c),z=0;z<M;z++)for(b&&(Y=z%2),I=0;I<C;I++){if(b&&!Y){Y=1;continue}Y=0,W=I<C-1?R:O,H=z<M-1?w:F,a.fillRect(v+I*S,p+z*P,W,H)}if(B&&n.outlineFillAlpha>0){for(m(a,n,n.outlineFillColor,n.outlineFillAlpha*c),I=1;I<C;I++){var N=I*S;a.beginPath(),a.moveTo(N+v,p),a.lineTo(N+v,y+p),a.stroke()}for(z=1;z<M;z++){var X=z*P;a.beginPath(),a.moveTo(v,X+p),a.lineTo(v+g,X+p),a.stroke()}}a.restore()}};l.exports=o},9326:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61286),m=e(39169);u.register("grid",function(d,o,h,n,r,f,a,v,p,c){return this.displayList.add(new m(this.scene,d,o,h,n,r,f,a,v,p,c))})},88059:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),m=u,d=u;m=e(50639),d=e(95525),l.exports={renderWebGL:m,renderCanvas:d}},50639:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(73329),m=e(75512),d=function(o,h,n,r){n.addToRenderList(h);var f=o.pipelines.set(h.pipeline),a=u(h,n,r),v=f.calcMatrix.copyFrom(a.calc);v.translate(-h._displayOriginX,-h._displayOriginY);var p=n.alpha*h.alpha,c=h.width,g=h.height,y=h.cellWidth,S=h.cellHeight,P=Math.ceil(c/y),C=Math.ceil(g/S),M=y,R=S,w=y-(P*y-c),O=S-(C*S-g),F,L,b=h.showCells,B=h.showAltCells,I=h.showOutline,z=0,Y=0,W=0,H=0,N=0;if(I&&(M--,R--,w===y&&w--,O===S&&O--),o.pipelines.preBatch(h),b&&h.fillAlpha>0)for(F=f.fillTint,L=m.getTintAppendFloatAlpha(h.fillColor,h.fillAlpha*p),F.TL=L,F.TR=L,F.BL=L,F.BR=L,Y=0;Y<C;Y++)for(B&&(W=Y%2),z=0;z<P;z++){if(B&&W){W=0;continue}W++,H=z<P-1?M:w,N=Y<C-1?R:O,f.batchFillRect(z*y,Y*S,H,N)}if(B&&h.altFillAlpha>0)for(F=f.fillTint,L=m.getTintAppendFloatAlpha(h.altFillColor,h.altFillAlpha*p),F.TL=L,F.TR=L,F.BL=L,F.BR=L,Y=0;Y<C;Y++)for(B&&(W=Y%2),z=0;z<P;z++){if(B&&!W){W=1;continue}W=0,H=z<P-1?M:w,N=Y<C-1?R:O,f.batchFillRect(z*y,Y*S,H,N)}if(I&&h.outlineFillAlpha>0){var X=f.strokeTint,D=m.getTintAppendFloatAlpha(h.outlineFillColor,h.outlineFillAlpha*p);for(X.TL=D,X.TR=D,X.BL=D,X.BR=D,z=1;z<P;z++){var G=z*y;f.batchLine(G,0,G,g,1,1,1,0,!1)}for(Y=1;Y<C;Y++){var V=Y*S;f.batchLine(0,V,c,V,1,1,1,0,!1)}}o.pipelines.postBatch(h)};l.exports=d},4415:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72296),m=e(56694),d=e(91461),o=new m({Extends:d,Mixins:[u],initialize:function(n,r,f,a,v,p,c,g){r===void 0&&(r=0),f===void 0&&(f=0),a===void 0&&(a=48),v===void 0&&(v=32),p===void 0&&(p=15658734),c===void 0&&(c=10066329),g===void 0&&(g=13421772),d.call(this,n,"IsoBox",null),this.projection=4,this.fillTop=p,this.fillLeft=c,this.fillRight=g,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(r,f),this.setSize(a,v),this.updateDisplayOrigin()},setProjection:function(h){return this.projection=h,this},setFaces:function(h,n,r){return h===void 0&&(h=!0),n===void 0&&(n=!0),r===void 0&&(r=!0),this.showTop=h,this.showLeft=n,this.showRight=r,this},setFillStyle:function(h,n,r){return this.fillTop=h,this.fillLeft=n,this.fillRight=r,this.isFilled=!0,this}});l.exports=o},32884:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(15608),m=e(49584),d=function(o,h,n,r){n.addToRenderList(h);var f=o.currentContext;if(m(o,f,h,n,r)&&h.isFilled){var a=h.width,v=h.height,p=a/2,c=a/h.projection;h.showTop&&(u(f,h,h.fillTop),f.beginPath(),f.moveTo(-p,-v),f.lineTo(0,-c-v),f.lineTo(p,-v),f.lineTo(p,-1),f.lineTo(0,c-1),f.lineTo(-p,-1),f.lineTo(-p,-v),f.fill()),h.showLeft&&(u(f,h,h.fillLeft),f.beginPath(),f.moveTo(-p,0),f.lineTo(0,c),f.lineTo(0,c-v),f.lineTo(-p,-v),f.lineTo(-p,0),f.fill()),h.showRight&&(u(f,h,h.fillRight),f.beginPath(),f.moveTo(p,0),f.lineTo(0,c),f.lineTo(0,c-v),f.lineTo(p,-v),f.lineTo(p,0),f.fill()),f.restore()}};l.exports=d},88154:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61286),m=e(4415);u.register("isobox",function(d,o,h,n,r,f,a){return this.displayList.add(new m(this.scene,d,o,h,n,r,f,a))})},72296:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),m=u,d=u;m=e(33101),d=e(32884),l.exports={renderWebGL:m,renderCanvas:d}},33101:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(73329),m=e(75512),d=function(o,h,n,r){n.addToRenderList(h);var f=o.pipelines.set(h.pipeline),a=u(h,n,r),v=f.calcMatrix.copyFrom(a.calc),p=h.width,c=h.height,g=p/2,y=p/h.projection,S=n.alpha*h.alpha;if(h.isFilled){var P,C,M,R,w,O,F,L,b;o.pipelines.preBatch(h),h.showTop&&(P=m.getTintAppendFloatAlpha(h.fillTop,S),C=v.getX(-g,-c),M=v.getY(-g,-c),R=v.getX(0,-y-c),w=v.getY(0,-y-c),O=v.getX(g,-c),F=v.getY(g,-c),L=v.getX(0,y-c),b=v.getY(0,y-c),f.batchQuad(h,C,M,R,w,O,F,L,b,0,0,1,1,P,P,P,P,2)),h.showLeft&&(P=m.getTintAppendFloatAlpha(h.fillLeft,S),C=v.getX(-g,0),M=v.getY(-g,0),R=v.getX(0,y),w=v.getY(0,y),O=v.getX(0,y-c),F=v.getY(0,y-c),L=v.getX(-g,-c),b=v.getY(-g,-c),f.batchQuad(h,C,M,R,w,O,F,L,b,0,0,1,1,P,P,P,P,2)),h.showRight&&(P=m.getTintAppendFloatAlpha(h.fillRight,S),C=v.getX(g,0),M=v.getY(g,0),R=v.getX(0,y),w=v.getY(0,y),O=v.getX(0,y-c),F=v.getY(0,y-c),L=v.getX(g,-c),b=v.getY(g,-c),f.batchQuad(h,C,M,R,w,O,F,L,b,0,0,1,1,P,P,P,P,2)),o.pipelines.postBatch(h)}};l.exports=d},65159:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(93387),d=e(91461),o=new u({Extends:d,Mixins:[m],initialize:function(n,r,f,a,v,p,c,g,y){r===void 0&&(r=0),f===void 0&&(f=0),a===void 0&&(a=48),v===void 0&&(v=32),p===void 0&&(p=!1),c===void 0&&(c=15658734),g===void 0&&(g=10066329),y===void 0&&(y=13421772),d.call(this,n,"IsoTriangle",null),this.projection=4,this.fillTop=c,this.fillLeft=g,this.fillRight=y,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=p,this.isFilled=!0,this.setPosition(r,f),this.setSize(a,v),this.updateDisplayOrigin()},setProjection:function(h){return this.projection=h,this},setReversed:function(h){return this.isReversed=h,this},setFaces:function(h,n,r){return h===void 0&&(h=!0),n===void 0&&(n=!0),r===void 0&&(r=!0),this.showTop=h,this.showLeft=n,this.showRight=r,this},setFillStyle:function(h,n,r){return this.fillTop=h,this.fillLeft=n,this.fillRight=r,this.isFilled=!0,this}});l.exports=o},9923:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(15608),m=e(49584),d=function(o,h,n,r){n.addToRenderList(h);var f=o.currentContext;if(m(o,f,h,n,r)&&h.isFilled){var a=h.width,v=h.height,p=a/2,c=a/h.projection,g=h.isReversed;h.showTop&&g&&(u(f,h,h.fillTop),f.beginPath(),f.moveTo(-p,-v),f.lineTo(0,-c-v),f.lineTo(p,-v),f.lineTo(0,c-v),f.fill()),h.showLeft&&(u(f,h,h.fillLeft),f.beginPath(),g?(f.moveTo(-p,-v),f.lineTo(0,c),f.lineTo(0,c-v)):(f.moveTo(-p,0),f.lineTo(0,c),f.lineTo(0,c-v)),f.fill()),h.showRight&&(u(f,h,h.fillRight),f.beginPath(),g?(f.moveTo(p,-v),f.lineTo(0,c),f.lineTo(0,c-v)):(f.moveTo(p,0),f.lineTo(0,c),f.lineTo(0,c-v)),f.fill()),f.restore()}};l.exports=d},67765:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61286),m=e(65159);u.register("isotriangle",function(d,o,h,n,r,f,a,v){return this.displayList.add(new m(this.scene,d,o,h,n,r,f,a,v))})},93387:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),m=u,d=u;m=e(54946),d=e(9923),l.exports={renderWebGL:m,renderCanvas:d}},54946:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(73329),m=e(75512),d=function(o,h,n,r){n.addToRenderList(h);var f=o.pipelines.set(h.pipeline),a=u(h,n,r),v=f.calcMatrix.copyFrom(a.calc),p=h.width,c=h.height,g=p/2,y=p/h.projection,S=h.isReversed,P=n.alpha*h.alpha;if(h.isFilled){o.pipelines.preBatch(h);var C,M,R,w,O,F,L;if(h.showTop&&S){C=m.getTintAppendFloatAlpha(h.fillTop,P),M=v.getX(-g,-c),R=v.getY(-g,-c),w=v.getX(0,-y-c),O=v.getY(0,-y-c),F=v.getX(g,-c),L=v.getY(g,-c);var b=v.getX(0,y-c),B=v.getY(0,y-c);f.batchQuad(h,M,R,w,O,F,L,b,B,0,0,1,1,C,C,C,C,2)}h.showLeft&&(C=m.getTintAppendFloatAlpha(h.fillLeft,P),S?(M=v.getX(-g,-c),R=v.getY(-g,-c),w=v.getX(0,y),O=v.getY(0,y),F=v.getX(0,y-c),L=v.getY(0,y-c)):(M=v.getX(-g,0),R=v.getY(-g,0),w=v.getX(0,y),O=v.getY(0,y),F=v.getX(0,y-c),L=v.getY(0,y-c)),f.batchTri(h,M,R,w,O,F,L,0,0,1,1,C,C,C,2)),h.showRight&&(C=m.getTintAppendFloatAlpha(h.fillRight,P),S?(M=v.getX(g,-c),R=v.getY(g,-c),w=v.getX(0,y),O=v.getY(0,y),F=v.getX(0,y-c),L=v.getY(0,y-c)):(M=v.getX(g,0),R=v.getY(g,0),w=v.getX(0,y),O=v.getY(0,y),F=v.getX(0,y-c),L=v.getY(0,y-c)),f.batchTri(h,M,R,w,O,F,L,0,0,1,1,C,C,C,2)),o.pipelines.postBatch(h)}};l.exports=d},579:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(91461),d=e(88829),o=e(52660),h=new u({Extends:m,Mixins:[o],initialize:function(r,f,a,v,p,c,g,y,S){f===void 0&&(f=0),a===void 0&&(a=0),v===void 0&&(v=0),p===void 0&&(p=0),c===void 0&&(c=128),g===void 0&&(g=0),m.call(this,r,"Line",new d(v,p,c,g));var P=Math.max(1,this.geom.right-this.geom.left),C=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(f,a),this.setSize(P,C),y!==void 0&&this.setStrokeStyle(1,y,S),this.updateDisplayOrigin()},setLineWidth:function(n,r){return r===void 0&&(r=n),this._startWidth=n,this._endWidth=r,this.lineWidth=n,this},setTo:function(n,r,f,a){return this.geom.setTo(n,r,f,a),this}});l.exports=h},52044:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(17876),m=e(49584),d=function(o,h,n,r){n.addToRenderList(h);var f=o.currentContext;if(m(o,f,h,n,r)){var a=h._displayOriginX,v=h._displayOriginY;h.isStroked&&(u(f,h),f.beginPath(),f.moveTo(h.geom.x1-a,h.geom.y1-v),f.lineTo(h.geom.x2-a,h.geom.y2-v),f.stroke()),f.restore()}};l.exports=d},85665:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61286),m=e(579);u.register("line",function(d,o,h,n,r,f,a,v){return this.displayList.add(new m(this.scene,d,o,h,n,r,f,a,v))})},52660:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),m=u,d=u;m=e(46952),d=e(52044),l.exports={renderWebGL:m,renderCanvas:d}},46952:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(73329),m=e(75512),d=function(o,h,n,r){n.addToRenderList(h);var f=o.pipelines.set(h.pipeline),a=u(h,n,r);f.calcMatrix.copyFrom(a.calc);var v=h._displayOriginX,p=h._displayOriginY,c=n.alpha*h.alpha;if(o.pipelines.preBatch(h),h.isStroked){var g=f.strokeTint,y=m.getTintAppendFloatAlpha(h.strokeColor,h.strokeAlpha*c);g.TL=y,g.TR=y,g.BL=y,g.BR=y;var S=h._startWidth,P=h._endWidth;f.batchLine(h.geom.x1-v,h.geom.y1-p,h.geom.x2-v,h.geom.y2-p,S,P,1,0,!1,a.sprite,a.camera)}o.pipelines.postBatch(h)};l.exports=d},91249:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(70573),m=e(56694),d=e(11117),o=e(14045),h=e(8580),n=e(91461),r=e(18974),f=new m({Extends:n,Mixins:[u],initialize:function(v,p,c,g,y,S){p===void 0&&(p=0),c===void 0&&(c=0),n.call(this,v,"Polygon",new h(g));var P=o(this.geom);this.setPosition(p,c),this.setSize(P.width,P.height),y!==void 0&&this.setFillStyle(y,S),this.updateDisplayOrigin(),this.updateData()},smooth:function(a){a===void 0&&(a=1);for(var v=0;v<a;v++)r(this.geom);return this.updateData()},setTo:function(a){this.geom.setTo(a);var v=o(this.geom);return this.setSize(v.width,v.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var a=[],v=this.geom.points,p=0;p<v.length;p++)a.push(v[p].x,v[p].y);return a.push(v[0].x,v[0].y),this.pathIndexes=d(a),this.pathData=a,this}});l.exports=f},40834:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(15608),m=e(17876),d=e(49584),o=function(h,n,r,f){r.addToRenderList(n);var a=h.currentContext;if(d(h,a,n,r,f)){var v=n._displayOriginX,p=n._displayOriginY,c=n.pathData,g=c.length-1,y=c[0]-v,S=c[1]-p;a.beginPath(),a.moveTo(y,S),n.closePath||(g-=2);for(var P=2;P<g;P+=2){var C=c[P]-v,M=c[P+1]-p;a.lineTo(C,M)}n.closePath&&a.closePath(),n.isFilled&&(u(a,n),a.fill()),n.isStroked&&(m(a,n),a.stroke()),a.restore()}};l.exports=o},88203:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61286),m=e(91249);u.register("polygon",function(d,o,h,n,r){return this.displayList.add(new m(this.scene,d,o,h,n,r))})},70573:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),m=u,d=u;m=e(72841),d=e(40834),l.exports={renderWebGL:m,renderCanvas:d}},72841:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(19543),m=e(73329),d=e(50262),o=function(h,n,r,f){r.addToRenderList(n);var a=h.pipelines.set(n.pipeline),v=m(n,r,f),p=a.calcMatrix.copyFrom(v.calc),c=n._displayOriginX,g=n._displayOriginY,y=r.alpha*n.alpha;h.pipelines.preBatch(n),n.isFilled&&u(a,p,n,y,c,g),n.isStroked&&d(a,n,y,c,g),h.pipelines.postBatch(n)};l.exports=o},517:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(74118),d=e(91461),o=e(37673),h=new u({Extends:d,Mixins:[o],initialize:function(r,f,a,v,p,c,g){f===void 0&&(f=0),a===void 0&&(a=0),v===void 0&&(v=128),p===void 0&&(p=128),d.call(this,r,"Rectangle",new m(0,0,v,p)),this.setPosition(f,a),this.setSize(v,p),c!==void 0&&this.setFillStyle(c,g),this.updateDisplayOrigin(),this.updateData()},setSize:function(n,r){this.width=n,this.height=r,this.geom.setSize(n,r),this.updateData(),this.updateDisplayOrigin();var f=this.input;return f&&!f.customHitArea&&(f.hitArea.width=n,f.hitArea.height=r),this},updateData:function(){var n=[],r=this.geom,f=this._tempLine;return r.getLineA(f),n.push(f.x1,f.y1,f.x2,f.y2),r.getLineB(f),n.push(f.x2,f.y2),r.getLineC(f),n.push(f.x2,f.y2),r.getLineD(f),n.push(f.x2,f.y2),this.pathData=n,this}});l.exports=h},4091:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(15608),m=e(17876),d=e(49584),o=function(h,n,r,f){r.addToRenderList(n);var a=h.currentContext;if(d(h,a,n,r,f)){var v=n._displayOriginX,p=n._displayOriginY;n.isFilled&&(u(a,n),a.fillRect(-v,-p,n.width,n.height)),n.isStroked&&(m(a,n),a.beginPath(),a.rect(-v,-p,n.width,n.height),a.stroke()),a.restore()}};l.exports=o},94355:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61286),m=e(517);u.register("rectangle",function(d,o,h,n,r,f){return this.displayList.add(new m(this.scene,d,o,h,n,r,f))})},37673:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),m=u,d=u;m=e(43532),d=e(4091),l.exports={renderWebGL:m,renderCanvas:d}},43532:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(73329),m=e(50262),d=e(75512),o=function(h,n,r,f){r.addToRenderList(n);var a=h.pipelines.set(n.pipeline),v=u(n,r,f);a.calcMatrix.copyFrom(v.calc);var p=n._displayOriginX,c=n._displayOriginY,g=r.alpha*n.alpha;if(h.pipelines.preBatch(n),n.isFilled){var y=a.fillTint,S=d.getTintAppendFloatAlpha(n.fillColor,n.fillAlpha*g);y.TL=S,y.TR=S,y.BL=S,y.BR=S,a.batchFillRect(-p,-c,n.width,n.height)}n.isStroked&&m(a,n,g,p,c),h.pipelines.postBatch(n)};l.exports=o},77843:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87956),m=e(56694),d=e(11117),o=e(91461),h=new m({Extends:o,Mixins:[u],initialize:function(r,f,a,v,p,c,g,y){f===void 0&&(f=0),a===void 0&&(a=0),v===void 0&&(v=5),p===void 0&&(p=32),c===void 0&&(c=64),o.call(this,r,"Star",null),this._points=v,this._innerRadius=p,this._outerRadius=c,this.setPosition(f,a),this.setSize(c*2,c*2),g!==void 0&&this.setFillStyle(g,y),this.updateDisplayOrigin(),this.updateData()},setPoints:function(n){return this._points=n,this.updateData()},setInnerRadius:function(n){return this._innerRadius=n,this.updateData()},setOuterRadius:function(n){return this._outerRadius=n,this.updateData()},points:{get:function(){return this._points},set:function(n){this._points=n,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(n){this._innerRadius=n,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(n){this._outerRadius=n,this.updateData()}},updateData:function(){var n=[],r=this._points,f=this._innerRadius,a=this._outerRadius,v=Math.PI/2*3,p=Math.PI/r,c=a,g=a;n.push(c,g+-a);for(var y=0;y<r;y++)n.push(c+Math.cos(v)*a,g+Math.sin(v)*a),v+=p,n.push(c+Math.cos(v)*f,g+Math.sin(v)*f),v+=p;return n.push(c,g+-a),this.pathIndexes=d(n),this.pathData=n,this}});l.exports=h},11401:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(15608),m=e(17876),d=e(49584),o=function(h,n,r,f){r.addToRenderList(n);var a=h.currentContext;if(d(h,a,n,r,f)){var v=n._displayOriginX,p=n._displayOriginY,c=n.pathData,g=c.length-1,y=c[0]-v,S=c[1]-p;a.beginPath(),a.moveTo(y,S),n.closePath||(g-=2);for(var P=2;P<g;P+=2){var C=c[P]-v,M=c[P+1]-p;a.lineTo(C,M)}a.closePath(),n.isFilled&&(u(a,n),a.fill()),n.isStroked&&(m(a,n),a.stroke()),a.restore()}};l.exports=o},23962:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(77843),m=e(61286);m.register("star",function(d,o,h,n,r,f,a){return this.displayList.add(new u(this.scene,d,o,h,n,r,f,a))})},87956:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),m=u,d=u;m=e(12037),d=e(11401),l.exports={renderWebGL:m,renderCanvas:d}},12037:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(19543),m=e(73329),d=e(50262),o=function(h,n,r,f){r.addToRenderList(n);var a=h.pipelines.set(n.pipeline),v=m(n,r,f),p=a.calcMatrix.copyFrom(v.calc),c=n._displayOriginX,g=n._displayOriginY,y=r.alpha*n.alpha;h.pipelines.preBatch(n),n.isFilled&&u(a,p,n,y,c,g),n.isStroked&&d(a,n,y,c,g),h.pipelines.postBatch(n)};l.exports=o},21873:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(91461),d=e(66349),o=e(70498),h=new u({Extends:m,Mixins:[o],initialize:function(r,f,a,v,p,c,g,y,S,P,C){f===void 0&&(f=0),a===void 0&&(a=0),v===void 0&&(v=0),p===void 0&&(p=128),c===void 0&&(c=64),g===void 0&&(g=0),y===void 0&&(y=128),S===void 0&&(S=128),m.call(this,r,"Triangle",new d(v,p,c,g,y,S));var M=this.geom.right-this.geom.left,R=this.geom.bottom-this.geom.top;this.setPosition(f,a),this.setSize(M,R),P!==void 0&&this.setFillStyle(P,C),this.updateDisplayOrigin(),this.updateData()},setTo:function(n,r,f,a,v,p){return this.geom.setTo(n,r,f,a,v,p),this.updateData()},updateData:function(){var n=[],r=this.geom,f=this._tempLine;return r.getLineA(f),n.push(f.x1,f.y1,f.x2,f.y2),r.getLineB(f),n.push(f.x2,f.y2),r.getLineC(f),n.push(f.x2,f.y2),this.pathData=n,this}});l.exports=h},60213:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(15608),m=e(17876),d=e(49584),o=function(h,n,r,f){r.addToRenderList(n);var a=h.currentContext;if(d(h,a,n,r,f)){var v=n._displayOriginX,p=n._displayOriginY,c=n.geom.x1-v,g=n.geom.y1-p,y=n.geom.x2-v,S=n.geom.y2-p,P=n.geom.x3-v,C=n.geom.y3-p;a.beginPath(),a.moveTo(c,g),a.lineTo(y,S),a.lineTo(P,C),a.closePath(),n.isFilled&&(u(a,n),a.fill()),n.isStroked&&(m(a,n),a.stroke()),a.restore()}};l.exports=o},79296:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61286),m=e(21873);u.register("triangle",function(d,o,h,n,r,f,a,v,p,c){return this.displayList.add(new m(this.scene,d,o,h,n,r,f,a,v,p,c))})},70498:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),m=u,d=u;m=e(72291),d=e(60213),l.exports={renderWebGL:m,renderCanvas:d}},72291:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(73329),m=e(50262),d=e(75512),o=function(h,n,r,f){r.addToRenderList(n);var a=h.pipelines.set(n.pipeline),v=u(n,r,f);a.calcMatrix.copyFrom(v.calc);var p=n._displayOriginX,c=n._displayOriginY,g=r.alpha*n.alpha;if(h.pipelines.preBatch(n),n.isFilled){var y=a.fillTint,S=d.getTintAppendFloatAlpha(n.fillColor,n.fillAlpha*g);y.TL=S,y.TR=S,y.BL=S,y.BR=S;var P=n.geom.x1-p,C=n.geom.y1-c,M=n.geom.x2-p,R=n.geom.y2-c,w=n.geom.x3-p,O=n.geom.y3-c;a.batchFillTriangle(P,C,M,R,w,O,v.sprite,v.camera)}n.isStroked&&m(a,n,g,p,c),h.pipelines.postBatch(n)};l.exports=o},13747:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(16569),m=e(56694),d=e(64937),o=e(89980),h=e(20791),n=new m({Extends:o,Mixins:[d.Alpha,d.BlendMode,d.Depth,d.Flip,d.GetBounds,d.Mask,d.Origin,d.Pipeline,d.PostPipeline,d.ScrollFactor,d.Size,d.TextureCrop,d.Tint,d.Transform,d.Visible,h],initialize:function(f,a,v,p,c){o.call(this,f,"Sprite"),this._crop=this.resetCropObject(),this.anims=new u(this),this.setTexture(p,c),this.setPosition(a,v),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(r,f){this.anims.update(r,f)},play:function(r,f){return this.anims.play(r,f)},playReverse:function(r,f){return this.anims.playReverse(r,f)},playAfterDelay:function(r,f){return this.anims.playAfterDelay(r,f)},playAfterRepeat:function(r,f){return this.anims.playAfterRepeat(r,f)},chain:function(r){return this.anims.chain(r)},stop:function(){return this.anims.stop()},stopAfterDelay:function(r){return this.anims.stopAfterDelay(r)},stopAfterRepeat:function(r){return this.anims.stopAfterRepeat(r)},stopOnFrame:function(r){return this.anims.stopOnFrame(r)},toJSON:function(){return d.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});l.exports=n},27573:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d){m.addToRenderList(u),e.batchSprite(u,u.frame,m,d)};l.exports=T},89219:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(88933),m=e(32291),d=e(99325),o=e(20494),h=e(13747);d.register("sprite",function(n,r){n===void 0&&(n={});var f=o(n,"key",null),a=o(n,"frame",null),v=new h(this.scene,0,0,f,a);return r!==void 0&&(n.add=r),u(this.scene,v,n),m(v,n),v})},66135:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61286),m=e(13747);u.register("sprite",function(d,o,h,n){return this.displayList.add(new m(this.scene,d,o,h,n))})},20791:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),m=u,d=u;m=e(21034),d=e(27573),l.exports={renderWebGL:m,renderCanvas:d}},21034:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d){m.addToRenderList(u),u.pipeline.batchSprite(u,m,d)};l.exports=T},32979:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){var d=e.canvas,o=e.context,h=e.style,n=[],r=0,f=m.length;h.maxLines>0&&h.maxLines<m.length&&(f=h.maxLines),h.syncFont(d,o);for(var a=0;a<f;a++){var v=h.strokeThickness;v+=o.measureText(m[a]).width,h.wordWrap&&(v-=o.measureText(" ").width),n[a]=Math.ceil(v),r=Math.max(r,n[a])}var p=u.fontSize+h.strokeThickness,c=p*f,g=e.lineSpacing;return f>1&&(c+=g*(f-1)),{width:r,height:c,lines:f,lineWidths:n,lineSpacing:g,lineHeight:p}};l.exports=T},27030:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61068),m=function(d){var o=u.create(this),h=o.getContext("2d",{willReadFrequently:!0});d.syncFont(o,h);var n=h.measureText(d.testString);if("actualBoundingBoxAscent"in n){var r=n.actualBoundingBoxAscent,f=n.actualBoundingBoxDescent;return u.remove(o),{ascent:r,descent:f,fontSize:r+f}}var a=Math.ceil(n.width*d.baselineX),v=a,p=2*v;v=v*d.baselineY|0,o.width=a,o.height=p,h.fillStyle="#f00",h.fillRect(0,0,a,p),h.font=d._font,h.textBaseline="alphabetic",h.fillStyle="#000",h.fillText(d.testString,0,v);var c={ascent:0,descent:0,fontSize:0},g=h.getImageData(0,0,a,p);if(!g)return c.ascent=v,c.descent=v+6,c.fontSize=c.ascent+c.descent,u.remove(o),c;var y=g.data,S=y.length,P=a*4,C,M,R=0,w=!1;for(C=0;C<v;C++){for(M=0;M<P;M+=4)if(y[R+M]!==255){w=!0;break}if(!w)R+=P;else break}for(c.ascent=v-C,R=S-P,w=!1,C=p;C>v;C--){for(M=0;M<P;M+=4)if(y[R+M]!==255){w=!0;break}if(!w)R-=P;else break}return c.descent=C-v,c.fontSize=c.ascent+c.descent,u.remove(o),c};l.exports=m},76555:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(99584),m=e(61068),d=e(56694),o=e(64937),h=e(89980),n=e(32979),r=e(10850),f=e(55638),a=e(80032),v=e(74744),p=new d({Extends:h,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Crop,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Tint,o.Transform,o.Visible,a],initialize:function(g,y,S,P,C){y===void 0&&(y=0),S===void 0&&(S=0),h.call(this,g,"Text"),this.renderer=g.sys.renderer,this.setPosition(y,S),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=m.create(this),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.style=new v(this,C),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this.texture=g.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(P),C&&C.padding&&this.setPadding(C.padding),C&&C.lineSpacing&&this.setLineSpacing(C.lineSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",u(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(c){var g=this.style;if(g.wordWrapCallback){var y=g.wordWrapCallback.call(g.wordWrapCallbackScope,c,this);return Array.isArray(y)&&(y=y.join(`
`)),y}else return g.wordWrapWidth?g.wordWrapUseAdvanced?this.advancedWordWrap(c,this.context,this.style.wordWrapWidth):this.basicWordWrap(c,this.context,this.style.wordWrapWidth):c},advancedWordWrap:function(c,g,y){for(var S="",P=c.replace(/ +/gi," ").split(this.splitRegExp),C=P.length,M=0;M<C;M++){var R=P[M],w="";R=R.replace(/^ *|\s*$/gi,"");var O=g.measureText(R).width;if(O<y){S+=R+`
`;continue}for(var F=y,L=R.split(" "),b=0;b<L.length;b++){var B=L[b],I=B+" ",z=g.measureText(I).width;if(z>F){if(b===0){for(var Y=I;Y.length&&(Y=Y.slice(0,-1),z=g.measureText(Y).width,!(z<=F)););if(!Y.length)throw new Error("wordWrapWidth < a single character");var W=B.substr(Y.length);L[b]=W,w+=Y}var H=L[b].length?b:b+1,N=L.slice(H).join(" ").replace(/[ \n]*$/gi,"");P.splice(M+1,0,N),C=P.length;break}else w+=I,F-=z}S+=w.replace(/[ \n]*$/gi,"")+`
`}return S=S.replace(/[\s|\n]*$/gi,""),S},basicWordWrap:function(c,g,y){for(var S="",P=c.split(this.splitRegExp),C=P.length-1,M=g.measureText(" ").width,R=0;R<=C;R++){for(var w=y,O=P[R].split(" "),F=O.length-1,L=0;L<=F;L++){var b=O[L],B=g.measureText(b).width,I=B;L<F&&(I+=M),I>w&&L>0&&(S+=`
`,w=y),S+=b,L<F?(S+=" ",w-=I):w-=B}R<C&&(S+=`
`)}return S},getWrappedText:function(c){c===void 0&&(c=this._text),this.style.syncFont(this.canvas,this.context);var g=this.runWordWrap(c);return g.split(this.splitRegExp)},setText:function(c){return!c&&c!==0&&(c=""),Array.isArray(c)&&(c=c.join(`
`)),c!==this._text&&(this._text=c.toString(),this.updateText()),this},appendText:function(c,g){g===void 0&&(g=!0),!c&&c!==0&&(c=""),Array.isArray(c)&&(c=c.join(`
`)),c=c.toString();var y=this._text.concat(g?`
`+c:c);return y!==this._text&&(this._text=y,this.updateText()),this},setStyle:function(c){return this.style.setStyle(c)},setFont:function(c){return this.style.setFont(c)},setFontFamily:function(c){return this.style.setFontFamily(c)},setFontSize:function(c){return this.style.setFontSize(c)},setFontStyle:function(c){return this.style.setFontStyle(c)},setFixedSize:function(c,g){return this.style.setFixedSize(c,g)},setBackgroundColor:function(c){return this.style.setBackgroundColor(c)},setFill:function(c){return this.style.setFill(c)},setColor:function(c){return this.style.setColor(c)},setStroke:function(c,g){return this.style.setStroke(c,g)},setShadow:function(c,g,y,S,P,C){return this.style.setShadow(c,g,y,S,P,C)},setShadowOffset:function(c,g){return this.style.setShadowOffset(c,g)},setShadowColor:function(c){return this.style.setShadowColor(c)},setShadowBlur:function(c){return this.style.setShadowBlur(c)},setShadowStroke:function(c){return this.style.setShadowStroke(c)},setShadowFill:function(c){return this.style.setShadowFill(c)},setWordWrapWidth:function(c,g){return this.style.setWordWrapWidth(c,g)},setWordWrapCallback:function(c,g){return this.style.setWordWrapCallback(c,g)},setAlign:function(c){return this.style.setAlign(c)},setResolution:function(c){return this.style.setResolution(c)},setLineSpacing:function(c){return this.lineSpacing=c,this.updateText()},setPadding:function(c,g,y,S){if(typeof c=="object"){var P=c,C=r(P,"x",null);C!==null?(c=C,y=C):(c=r(P,"left",0),y=r(P,"right",c));var M=r(P,"y",null);M!==null?(g=M,S=M):(g=r(P,"top",0),S=r(P,"bottom",g))}else c===void 0&&(c=0),g===void 0&&(g=c),y===void 0&&(y=c),S===void 0&&(S=g);return this.padding.left=c,this.padding.top=g,this.padding.right=y,this.padding.bottom=S,this.updateText()},setMaxLines:function(c){return this.style.setMaxLines(c)},updateText:function(){var c=this.canvas,g=this.context,y=this.style,S=y.resolution,P=y.metrics;y.syncFont(c,g);var C=this._text;(y.wordWrapWidth||y.wordWrapCallback)&&(C=this.runWordWrap(this._text));var M=C.split(this.splitRegExp),R=n(this,P,M),w=this.padding,O;y.fixedWidth===0?(this.width=R.width+w.left+w.right,O=R.width):(this.width=y.fixedWidth,O=this.width-w.left-w.right,O<R.width&&(O=R.width)),y.fixedHeight===0?this.height=R.height+w.top+w.bottom:this.height=y.fixedHeight;var F=this.width,L=this.height;this.updateDisplayOrigin(),F*=S,L*=S,F=Math.max(F,1),L=Math.max(L,1),c.width!==F||c.height!==L?(c.width=F,c.height=L,this.frame.setSize(F,L),y.syncFont(c,g),y.rtl&&(g.direction="rtl")):g.clearRect(0,0,F,L),g.save(),g.scale(S,S),y.backgroundColor&&(g.fillStyle=y.backgroundColor,g.fillRect(0,0,F,L)),y.syncStyle(c,g),g.translate(w.left,w.top);for(var b,B,I=0;I<R.lines;I++){if(b=y.strokeThickness/2,B=y.strokeThickness/2+I*R.lineHeight+P.ascent,I>0&&(B+=R.lineSpacing*I),y.rtl)b=F-b-w.left-w.right;else if(y.align==="right")b+=O-R.lineWidths[I];else if(y.align==="center")b+=(O-R.lineWidths[I])/2;else if(y.align==="justify"){var z=.85;if(R.lineWidths[I]/R.width>=z){var Y=R.width-R.lineWidths[I],W=g.measureText(" ").width,H=M[I].trim(),N=H.split(" ");Y+=(M[I].length-H.length)*W;for(var X=Math.floor(Y/W),D=0;X>0;)N[D]+=" ",D=(D+1)%(N.length-1||1),--X;M[I]=N.join(" ")}}this.autoRound&&(b=Math.round(b),B=Math.round(B)),y.strokeThickness&&(y.syncShadow(g,y.shadowStroke),g.strokeText(M[I],b,B)),y.color&&(y.syncShadow(g,y.shadowFill),g.fillText(M[I],b,B))}g.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(c,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0;var G=this.input;return G&&!G.customHitArea&&(G.hitArea.width=this.width,G.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(c){this.setText(c)}},toJSON:function(){var c=o.ToJSON(this),g={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return c.data=g,c},preDestroy:function(){this.style.rtl&&f(this.canvas),m.remove(this.canvas),this.texture.destroy()}});l.exports=p},71649:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d){u.width===0||u.height===0||(m.addToRenderList(u),e.batchSprite(u,u.frame,m,d))};l.exports=T},75397:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(88933),m=e(99325),d=e(20494),o=e(76555);m.register("text",function(h,n){h===void 0&&(h={});var r=d(h,"text",""),f=d(h,"style",null),a=d(h,"padding",null);a!==null&&(f.padding=a);var v=new o(this.scene,0,0,r,f);return n!==void 0&&(h.add=n),u(this.scene,v,h),v.autoRound=d(h,"autoRound",!0),v.resolution=d(h,"resolution",1),v})},94627:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(76555),m=e(61286);m.register("text",function(d,o,h,n){return this.displayList.add(new u(this.scene,d,o,h,n))})},80032:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),m=u,d=u;m=e(76128),d=e(71649),l.exports={renderWebGL:m,renderCanvas:d}},74744:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(20494),d=e(10850),o=e(27030),h={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|MÃ‰qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},n=new u({initialize:function(f,a){this.parent=f,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(a,!1,!0)},setStyle:function(r,f,a){f===void 0&&(f=!0),a===void 0&&(a=!1),r&&r.hasOwnProperty("fontSize")&&typeof r.fontSize=="number"&&(r.fontSize=r.fontSize.toString()+"px");for(var v in h){var p=a?h[v][1]:this[v];v==="wordWrapCallback"||v==="wordWrapCallbackScope"?this[v]=d(r,h[v][0],p):this[v]=m(r,h[v][0],p)}var c=d(r,"font",null);c!==null&&this.setFont(c,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var g=d(r,"fill",null);g!==null&&(this.color=g);var y=d(r,"metrics",!1);return y?this.metrics={ascent:d(y,"ascent",0),descent:d(y,"descent",0),fontSize:d(y,"fontSize",0)}:(f||!this.metrics)&&(this.metrics=o(this)),f?this.parent.updateText():this.parent},syncFont:function(r,f){f.font=this._font},syncStyle:function(r,f){f.textBaseline="alphabetic",f.fillStyle=this.color,f.strokeStyle=this.stroke,f.lineWidth=this.strokeThickness,f.lineCap="round",f.lineJoin="round"},syncShadow:function(r,f){f?(r.shadowOffsetX=this.shadowOffsetX,r.shadowOffsetY=this.shadowOffsetY,r.shadowColor=this.shadowColor,r.shadowBlur=this.shadowBlur):(r.shadowOffsetX=0,r.shadowOffsetY=0,r.shadowColor=0,r.shadowBlur=0)},update:function(r){return r&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=o(this)),this.parent.updateText()},setFont:function(r,f){f===void 0&&(f=!0);var a=r,v="",p="";if(typeof r!="string")a=d(r,"fontFamily","Courier"),v=d(r,"fontSize","16px"),p=d(r,"fontStyle","");else{var c=r.split(" "),g=0;p=c.length>2?c[g++]:"",v=c[g++]||"16px",a=c[g++]||"Courier"}return(a!==this.fontFamily||v!==this.fontSize||p!==this.fontStyle)&&(this.fontFamily=a,this.fontSize=v,this.fontStyle=p,f&&this.update(!0)),this.parent},setFontFamily:function(r){return this.fontFamily!==r&&(this.fontFamily=r,this.update(!0)),this.parent},setFontStyle:function(r){return this.fontStyle!==r&&(this.fontStyle=r,this.update(!0)),this.parent},setFontSize:function(r){return typeof r=="number"&&(r=r.toString()+"px"),this.fontSize!==r&&(this.fontSize=r,this.update(!0)),this.parent},setTestString:function(r){return this.testString=r,this.update(!0)},setFixedSize:function(r,f){return this.fixedWidth=r,this.fixedHeight=f,r&&(this.parent.width=r),f&&(this.parent.height=f),this.update(!1)},setBackgroundColor:function(r){return this.backgroundColor=r,this.update(!1)},setFill:function(r){return this.color=r,this.update(!1)},setColor:function(r){return this.color=r,this.update(!1)},setResolution:function(r){return this.resolution=r,this.update(!1)},setStroke:function(r,f){return f===void 0&&(f=this.strokeThickness),r===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==r||this.strokeThickness!==f)&&(this.stroke=r,this.strokeThickness=f,this.update(!0)),this.parent},setShadow:function(r,f,a,v,p,c){return r===void 0&&(r=0),f===void 0&&(f=0),a===void 0&&(a="#000"),v===void 0&&(v=0),p===void 0&&(p=!1),c===void 0&&(c=!0),this.shadowOffsetX=r,this.shadowOffsetY=f,this.shadowColor=a,this.shadowBlur=v,this.shadowStroke=p,this.shadowFill=c,this.update(!1)},setShadowOffset:function(r,f){return r===void 0&&(r=0),f===void 0&&(f=r),this.shadowOffsetX=r,this.shadowOffsetY=f,this.update(!1)},setShadowColor:function(r){return r===void 0&&(r="#000"),this.shadowColor=r,this.update(!1)},setShadowBlur:function(r){return r===void 0&&(r=0),this.shadowBlur=r,this.update(!1)},setShadowStroke:function(r){return this.shadowStroke=r,this.update(!1)},setShadowFill:function(r){return this.shadowFill=r,this.update(!1)},setWordWrapWidth:function(r,f){return f===void 0&&(f=!1),this.wordWrapWidth=r,this.wordWrapUseAdvanced=f,this.update(!1)},setWordWrapCallback:function(r,f){return f===void 0&&(f=null),this.wordWrapCallback=r,this.wordWrapCallbackScope=f,this.update(!1)},setAlign:function(r){return r===void 0&&(r="left"),this.align=r,this.update(!1)},setMaxLines:function(r){return r===void 0&&(r=0),this.maxLines=r,this.update(!1)},getTextMetrics:function(){var r=this.metrics;return{ascent:r.ascent,descent:r.descent,fontSize:r.fontSize}},toJSON:function(){var r={};for(var f in h)r[f]=this[f];return r.metrics=this.getTextMetrics(),r},destroy:function(){this.parent=void 0}});l.exports=n},76128:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(75512),m=function(d,o,h,n){if(!(o.width===0||o.height===0)){h.addToRenderList(o);var r=o.frame,f=r.width,a=r.height,v=u.getTintAppendFloatAlpha,p=d.pipelines.set(o.pipeline,o),c=p.setTexture2D(r.glTexture,o);p.batchTexture(o,r.glTexture,f,a,o.x,o.y,f/o.style.resolution,a/o.style.resolution,o.scaleX,o.scaleY,o.rotation,o.flipX,o.flipY,o.scrollFactorX,o.scrollFactorY,o.displayOriginX,o.displayOriginY,0,0,f,a,v(o.tintTopLeft,h.alpha*o._alphaTL),v(o.tintTopRight,h.alpha*o._alphaTR),v(o.tintBottomLeft,h.alpha*o._alphaBL),v(o.tintBottomRight,h.alpha*o._alphaBR),o.tintFill,0,0,h,n,!1,c)}};l.exports=m},35856:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61068),m=e(56694),d=e(64937),o=e(89980),h=e(3504),n=e(8213),r=e(9271),f=e(93736),a=8,v=new m({Extends:o,Mixins:[d.Alpha,d.BlendMode,d.ComputedSize,d.Crop,d.Depth,d.Flip,d.GetBounds,d.Mask,d.Origin,d.Pipeline,d.PostPipeline,d.ScrollFactor,d.Tint,d.Transform,d.Visible,r],initialize:function(c,g,y,S,P,C,M){var R=c.sys.renderer;o.call(this,c,"TileSprite");var w=c.sys.textures.get(C),O=w.get(M);O.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),w=c.sys.textures.get("__MISSING"),O=w.get()),w.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),w=c.sys.textures.get("__MISSING"),O=w.get()),!S||!P?(S=O.width,P=O.height):(S=Math.floor(S),P=Math.floor(P)),this._tilePosition=new f,this._tileScale=new f(1,1),this.dirty=!1,this.renderer=R,this.canvas=u.create(this,S,P),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=w,this.displayFrame=O,this._crop=this.resetCropObject(),this.texture=c.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.potWidth=h(O.width),this.potHeight=h(O.height),this.fillCanvas=u.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(g,y),this.setSize(S,P),this.setFrame(M),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(p,c){return this.displayTexture=this.scene.sys.textures.get(p),this.setFrame(c)},setFrame:function(p){var c=this.displayTexture.get(p);return this.potWidth=h(c.width),this.potHeight=h(c.height),this.canvas.width=0,!c.cutWidth||!c.cutHeight?this.renderFlags&=~a:this.renderFlags|=a,this.displayFrame=c,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(p,c){return p!==void 0&&(this.tilePositionX=p),c!==void 0&&(this.tilePositionY=c),this},setTileScale:function(p,c){return p===void 0&&(p=this.tileScaleX),c===void 0&&(c=p),this.tileScaleX=p,this.tileScaleY=c,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var p=this.displayFrame;if(p.source.isRenderTexture||p.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var c=this.fillContext,g=this.fillCanvas,y=this.potWidth,S=this.potHeight;(!this.renderer||!this.renderer.gl)&&(y=p.cutWidth,S=p.cutHeight),c.clearRect(0,0,y,S),g.width=y,g.height=S,c.drawImage(p.source.image,p.cutX,p.cutY,p.cutWidth,p.cutHeight,0,0,y,S),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(g,this.fillPattern):this.fillPattern=c.createPattern(g,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var p=this.canvas;if((p.width!==this.width||p.height!==this.height)&&(p.width=this.width,p.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var c=this.context;this.scene.sys.game.config.antialias||n.disable(c);var g=this._tileScale.x,y=this._tileScale.y,S=this._tilePosition.x,P=this._tilePosition.y;c.clearRect(0,0,this.width,this.height),c.save(),c.scale(g,y),c.translate(-S,-P),c.fillStyle=this.fillPattern,c.fillRect(S,P,this.width/g,this.height/y),c.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),u.remove(this.canvas),u.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null,this.texture.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(p){this._tilePosition.x=p,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(p){this._tilePosition.y=p,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(p){this._tileScale.x=p,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(p){this._tileScale.y=p,this.dirty=!0}}});l.exports=v},93305:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d){u.updateCanvas(),m.addToRenderList(u),e.batchSprite(u,u.frame,m,d)};l.exports=T},63950:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(88933),m=e(99325),d=e(20494),o=e(35856);m.register("tileSprite",function(h,n){h===void 0&&(h={});var r=d(h,"x",0),f=d(h,"y",0),a=d(h,"width",512),v=d(h,"height",512),p=d(h,"key",""),c=d(h,"frame",""),g=new o(this.scene,r,f,a,v,p,c);return n!==void 0&&(h.add=n),u(this.scene,g,h),g})},20509:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(35856),m=e(61286);m.register("tileSprite",function(d,o,h,n,r,f){return this.displayList.add(new u(this.scene,d,o,h,n,r,f))})},9271:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),m=u,d=u;m=e(74287),d=e(93305),l.exports={renderWebGL:m,renderCanvas:d}},74287:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(75512),m=function(d,o,h,n){o.updateCanvas();var r=o.width,f=o.height;if(!(r===0||f===0)){h.addToRenderList(o);var a=u.getTintAppendFloatAlpha,v=d.pipelines.set(o.pipeline,o),p=v.setTexture2D(o.fillPattern,o);v.batchTexture(o,o.fillPattern,o.displayFrame.width*o.tileScaleX,o.displayFrame.height*o.tileScaleY,o.x,o.y,r,f,o.scaleX,o.scaleY,o.rotation,o.flipX,o.flipY,o.scrollFactorX,o.scrollFactorY,o.originX*r,o.originY*f,0,0,r,f,a(o.tintTopLeft,h.alpha*o._alphaTL),a(o.tintTopRight,h.alpha*o._alphaTR),a(o.tintBottomLeft,h.alpha*o._alphaBL),a(o.tintBottomRight,h.alpha*o._alphaBR),o.tintFill,o.tilePositionX%o.displayFrame.width/o.displayFrame.width,o.tilePositionY%o.displayFrame.height/o.displayFrame.height,h,n,!1,p)}};l.exports=m},8630:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82897),m=e(56694),d=e(64937),o=e(56631),h=e(97081),n=e(89980),r=e(83392),f=e(76038),a=e(76583),v=e(77974),p=new m({Extends:n,Mixins:[d.Alpha,d.BlendMode,d.Depth,d.Flip,d.GetBounds,d.Mask,d.Origin,d.Pipeline,d.PostPipeline,d.ScrollFactor,d.Size,d.TextureCrop,d.Tint,d.Transform,d.Visible,v],initialize:function(g,y,S,P){n.call(this,g,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=a(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._rfvCallbackId=0;var C=g.sys.game;this._device=C.device.video,this.setPosition(y,S),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),C.events.on(h.PAUSE,this.globalPause,this),C.events.on(h.RESUME,this.globalResume,this);var M=g.sys.sound;M&&M.on(f.GLOBAL_MUTE,this.globalMute,this),P&&this.load(P)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(c){var g=this.scene.sys.cache.video.get(c);return g?(this.cacheKey=c,this.loadHandler(g.url,g.noAudio,g.crossOrigin)):console.warn("No video in cache for key: "+c),this},changeSource:function(c,g,y,S,P){g===void 0&&(g=!0),y===void 0&&(y=!1),this.cacheKey!==c&&(this.load(c),g&&this.play(y,S,P))},getVideoKey:function(){return this.cacheKey},loadURL:function(c,g,y){g===void 0&&(g=!1);var S=this._device.getVideoURL(c);return S?(this.cacheKey="",this.loadHandler(S.url,g,y)):console.warn("No supported video format found for "+c),this},loadMediaStream:function(c,g,y){return this.loadHandler(null,g,y,c)},loadHandler:function(c,g,y,S){g||(g=!1);var P=this.video;if(P?(this.removeLoadEventHandlers(),this.stop()):(P=document.createElement("video"),P.controls=!1,P.setAttribute("playsinline","playsinline"),P.setAttribute("preload","auto"),P.setAttribute("disablePictureInPicture","true")),g?(P.muted=!0,P.defaultMuted=!0,P.setAttribute("autoplay","autoplay")):(P.muted=!1,P.defaultMuted=!1,P.removeAttribute("autoplay")),y?P.setAttribute("crossorigin",y):P.removeAttribute("crossorigin"),S)if("srcObject"in P)try{P.srcObject=S}catch(C){if(C.name!=="TypeError")throw C;P.src=URL.createObjectURL(S)}else P.src=URL.createObjectURL(S);else P.src=c;return this.addLoadEventHandlers(),this.retry=0,this.video=P,this._playCalled=!1,P.load(),this},requestVideoFrame:function(c,g){var y=this.video;if(y){var S=g.width,P=g.height,C=this.videoTexture,M=this.videoTextureSource,R=!C||M.source!==y;R?(this._codePaused=y.paused,this._codeMuted=y.muted,C?(M.source=y,M.width=S,M.height=P,C.get().setSize(S,P)):(C=this.scene.sys.textures.create(this._key,y,S,P),C.add("__BASE",0,0,0,S,P),this.setTexture(C),this.videoTexture=C,this.videoTextureSource=C.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(o.VIDEO_TEXTURE,this,C)),this.setSizeToFrame(),this.updateDisplayOrigin()):M.update(),this.isStalled=!1,this.metadata=g;var w=g.mediaTime;R&&(this._lastUpdate=w,this.emit(o.VIDEO_CREATED,this,S,P),this.frameReady||(this.frameReady=!0,this.emit(o.VIDEO_PLAY,this))),this._playingMarker?w>=this._markerOut&&(y.loop?(y.currentTime=this._markerIn,this.emit(o.VIDEO_LOOP,this)):(this.stop(!1),this.emit(o.VIDEO_COMPLETE,this))):w<this._lastUpdate&&this.emit(o.VIDEO_LOOP,this),this._lastUpdate=w,this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(c,g,y){g===void 0&&(g=-1),y===void 0&&(y=r.MAX_SAFE_INTEGER);var S=this.video;return!S||this.isPlaying()?(S||console.warn("Video not loaded"),this):(c===void 0&&(c=S.loop),S.loop=c,this._markerIn=g,this._markerOut=y,this._playingMarker=g>-1&&y>g&&y<r.MAX_SAFE_INTEGER,this._playCalled||(this._rfvCallbackId=S.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},addLoadEventHandlers:function(){var c=this.video;c&&(c.addEventListener("error",this._loadCallbackHandler),c.addEventListener("abort",this._loadCallbackHandler))},removeLoadEventHandlers:function(){var c=this.video;c&&(c.removeEventListener("error",this._loadCallbackHandler),c.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var c=this.video;if(c){var g=this._callbacks;for(var y in g)c.addEventListener(y,g[y])}},removeEventHandlers:function(){var c=this.video;if(c){var g=this._callbacks;for(var y in g)c.removeEventListener(y,g[y])}},createPlayPromise:function(c){c===void 0&&(c=!0);var g=this.video,y=g.play();if(y!==void 0){var S=this.playSuccess.bind(this),P=this.playError.bind(this);if(!c){var C=this;P=function(){C.failedPlayAttempts++}}y.then(S).catch(P)}else g.addEventListener("playing",this._callbacks.legacy),c||this.failedPlayAttempts++},addMarker:function(c,g,y){return!isNaN(g)&&g>=0&&!isNaN(y)&&y>g&&(this.markers[c]=[g,y]),this},playMarker:function(c,g){var y=this.markers[c];return y&&this.play(g,y[0],y[1]),this},removeMarker:function(c){return delete this.markers[c],this},snapshot:function(c,g){return c===void 0&&(c=this.width),g===void 0&&(g=this.height),this.snapshotArea(0,0,this.width,this.height,c,g)},snapshotArea:function(c,g,y,S,P,C){c===void 0&&(c=0),g===void 0&&(g=0),y===void 0&&(y=this.width),S===void 0&&(S=this.height),P===void 0&&(P=y),C===void 0&&(C=S);var M=this.video,R=this.snapshotTexture;return R?(R.setSize(P,C),M&&R.context.drawImage(M,c,g,y,S,0,0,P,C)):(R=this.scene.sys.textures.createCanvas(a(),P,C),this.snapshotTexture=R,M&&R.context.drawImage(M,c,g,y,S,0,0,P,C)),R.update()},saveSnapshotTexture:function(c){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,c):this.snapshotTexture=this.scene.sys.textures.createCanvas(c,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(o.VIDEO_UNLOCKED,this));var c=this.scene.sys.sound;c&&c.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(c){var g=c.name;g==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(o.VIDEO_LOCKED,this)):g==="NotSupportedError"?(this.stop(!1),this.emit(o.VIDEO_UNSUPPORTED,this,c)):(this.stop(!1),this.emit(o.VIDEO_ERROR,this,c))},legacyPlayHandler:function(){var c=this.video;c&&(this.playSuccess(),c.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(o.VIDEO_PLAYING,this)},loadErrorHandler:function(c){this.stop(!1),this.emit(o.VIDEO_ERROR,this,c)},stalledHandler:function(c){this.isStalled=!0,this.emit(o.VIDEO_STALLED,this,c)},completeHandler:function(){this._playCalled=!1,this.emit(o.VIDEO_COMPLETE,this)},preUpdate:function(c,g){var y=this.video;!y||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=g,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(c){var g=this.video;if(g){var y=g.duration;if(y!==1/0&&!isNaN(y)){var S=y*c;this.setCurrentTime(S)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(c){var g=this.video;if(g){if(typeof c=="string"){var y=c[0],S=parseFloat(c.substr(1));y==="+"?c=g.currentTime+S:y==="-"&&(c=g.currentTime-S)}g.currentTime=c}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(o.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(o.VIDEO_SEEKED,this)},getProgress:function(){var c=this.video;if(c){var g=c.duration;if(g!==1/0&&!isNaN(g))return c.currentTime/g}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(c){c===void 0&&(c=!0),this._codeMuted=c;var g=this.video;return g&&(g.muted=this._systemMuted?!0:c),this},isMuted:function(){return this._codeMuted},globalMute:function(c,g){this._systemMuted=g;var y=this.video;y&&(y.muted=this._codeMuted?!0:g)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(c){c===void 0&&(c=!0);var g=this.video;return this._codePaused=c,g&&!g.ended&&(c?g.paused||(this.removeEventHandlers(),g.pause()):c||(this._playCalled?g.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(c){return c===void 0&&(c=1),this.video&&(this.video.volume=u(c,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(c){return this.video&&(this.video.playbackRate=c),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(c){return c===void 0&&(c=!0),this.video&&(this.video.loop=c),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(c,g){return g===void 0&&(g=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,c),this.videoTextureSource.setFlipY(g)),this._key=c,this.flipY=g,!!this.videoTexture},stop:function(c){c===void 0&&(c=!0);var g=this.video;return g&&(this.removeEventHandlers(),g.cancelVideoFrameCallback(this._rfvCallbackId),g.pause()),this.retry=0,this._playCalled=!1,c&&this.emit(o.VIDEO_STOP,this),this},removeVideoElement:function(){var c=this.video;if(c){for(c.parentNode&&c.parentNode.removeChild(c);c.hasChildNodes();)c.removeChild(c.firstChild);c.removeAttribute("autoplay"),c.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var c=this.scene.sys.game.events;c.off(h.PAUSE,this.globalPause,this),c.off(h.RESUME,this.globalResume,this);var g=this.scene.sys.sound;g&&g.off(f.GLOBAL_MUTE,this.globalMute,this)}});l.exports=p},56933:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d){u.videoTexture&&(m.addToRenderList(u),e.batchSprite(u,u.frame,m,d))};l.exports=T},65601:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(88933),m=e(99325),d=e(20494),o=e(8630);m.register("video",function(h,n){h===void 0&&(h={});var r=d(h,"key",null),f=new o(this.scene,0,0,r);return n!==void 0&&(h.add=n),u(this.scene,f,h),f})},215:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(8630),m=e(61286);m.register("video",function(d,o,h){return this.displayList.add(new u(this.scene,d,o,h))})},77974:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),m=u,d=u;m=e(83572),d=e(56933),l.exports={renderWebGL:m,renderCanvas:d}},83572:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d){u.videoTexture&&(m.addToRenderList(u),u.pipeline.batchSprite(u,m,d))};l.exports=T},71030:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(95723),m=e(26673),d=e(65650),o=e(56694),h=e(64937),n=e(89980),r=e(74118),f=e(94287),a=new o({Extends:n,Mixins:[h.Depth,h.GetBounds,h.Origin,h.Transform,h.ScrollFactor,h.Visible],initialize:function(p,c,g,y,S){y===void 0&&(y=1),S===void 0&&(S=y),n.call(this,p,"Zone"),this.setPosition(c,g),this.width=y,this.height=S,this.blendMode=u.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(v){this.scaleX=v/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(v){this.scaleY=v/this.height}},setSize:function(v,p,c){c===void 0&&(c=!0),this.width=v,this.height=p,this.updateDisplayOrigin();var g=this.input;return c&&g&&!g.customHitArea&&(g.hitArea.width=v,g.hitArea.height=p),this},setDisplaySize:function(v,p){return this.displayWidth=v,this.displayHeight=p,this},setCircleDropZone:function(v){return this.setDropZone(new m(0,0,v),d)},setRectangleDropZone:function(v,p){return this.setDropZone(new r(0,0,v,p),f)},setDropZone:function(v,p){return this.input||this.setInteractive(v,p,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(v,p,c){c.addToRenderList(p)},renderWebGL:function(v,p,c){c.addToRenderList(p)}});l.exports=a},24067:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(99325),m=e(20494),d=e(71030);u.register("zone",function(o){var h=m(o,"x",0),n=m(o,"y",0),r=m(o,"width",1),f=m(o,"height",r);return new d(this.scene,h,n,r,f)})},34546:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(71030),m=e(61286);m.register("zone",function(d,o,h,n){return this.displayList.add(new u(this.scene,d,o,h,n))})},95847:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.radius>0?Math.PI*e.radius*e.radius:0};l.exports=T},26673:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(65650),d=e(94026),o=e(62941),h=e(52394),n=e(30977),r=new u({initialize:function(a,v,p){a===void 0&&(a=0),v===void 0&&(v=0),p===void 0&&(p=0),this.type=h.CIRCLE,this.x=a,this.y=v,this._radius=p,this._diameter=p*2},contains:function(f,a){return m(this,f,a)},getPoint:function(f,a){return d(this,f,a)},getPoints:function(f,a,v){return o(this,f,a,v)},getRandomPoint:function(f){return n(this,f)},setTo:function(f,a,v){return this.x=f,this.y=a,this._radius=v,this._diameter=v*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(f,a){return a===void 0&&(a=f),this.x=f,this.y=a,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(f){this._radius=f,this._diameter=f*2}},diameter:{get:function(){return this._diameter},set:function(f){this._diameter=f,this._radius=f*.5}},left:{get:function(){return this.x-this._radius},set:function(f){this.x=f+this._radius}},right:{get:function(){return this.x+this._radius},set:function(f){this.x=f-this._radius}},top:{get:function(){return this.y-this._radius},set:function(f){this.y=f+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(f){this.y=f-this._radius}}});l.exports=r},37964:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return 2*(Math.PI*e.radius)};l.exports=T},72233:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),m=function(d,o,h){return h===void 0&&(h=new u),h.x=d.x+d.radius*Math.cos(o),h.y=d.y+d.radius*Math.sin(o),h};l.exports=m},61761:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26673),m=function(d){return new u(d.x,d.y,d.radius)};l.exports=m},65650:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){if(e.radius>0&&u>=e.left&&u<=e.right&&m>=e.top&&m<=e.bottom){var d=(e.x-u)*(e.x-u),o=(e.y-m)*(e.y-m);return d+o<=e.radius*e.radius}else return!1};l.exports=T},39187:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(65650),m=function(d,o){return u(d,o.x,o.y)};l.exports=m},58672:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(65650),m=function(d,o){return u(d,o.x,o.y)&&u(d,o.right,o.y)&&u(d,o.x,o.bottom)&&u(d,o.right,o.bottom)};l.exports=m},42997:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return u.setTo(e.x,e.y,e.radius)};l.exports=T},94894:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e.x===u.x&&e.y===u.y&&e.radius===u.radius};l.exports=T},48027:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(74118),m=function(d,o){return o===void 0&&(o=new u),o.x=d.left,o.y=d.top,o.width=d.diameter,o.height=d.diameter,o};l.exports=m},94026:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72233),m=e(91806),d=e(83392),o=e(79967),h=function(n,r,f){f===void 0&&(f=new o);var a=m(r,0,d.PI2);return u(n,a,f)};l.exports=h},62941:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(37964),m=e(72233),d=e(91806),o=e(83392),h=function(n,r,f,a){a===void 0&&(a=[]),!r&&f>0&&(r=u(n)/f);for(var v=0;v<r;v++){var p=d(v/r,0,o.PI2);a.push(m(n,p))}return a};l.exports=h},34585:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){return e.x+=u,e.y+=m,e};l.exports=T},88665:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e.x+=u.x,e.y+=u.y,e};l.exports=T},30977:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),m=function(d,o){o===void 0&&(o=new u);var h=2*Math.PI*Math.random(),n=Math.random()+Math.random(),r=n>1?2-n:n,f=r*Math.cos(h),a=r*Math.sin(h);return o.x=d.x+f*d.radius,o.y=d.y+a*d.radius,o};l.exports=m},6112:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26673);u.Area=e(95847),u.Circumference=e(37964),u.CircumferencePoint=e(72233),u.Clone=e(61761),u.Contains=e(65650),u.ContainsPoint=e(39187),u.ContainsRect=e(58672),u.CopyFrom=e(42997),u.Equals=e(94894),u.GetBounds=e(48027),u.GetPoint=e(94026),u.GetPoints=e(62941),u.Offset=e(34585),u.OffsetPoint=e(88665),u.Random=e(30977),l.exports=u},52394:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};l.exports=T},58605:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.isEmpty()?0:e.getMajorRadius()*e.getMinorRadius()*Math.PI};l.exports=T},39507:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){var u=e.width/2,m=e.height/2,d=Math.pow(u-m,2)/Math.pow(u+m,2);return Math.PI*(u+m)*(1+3*d/(10+Math.sqrt(4-3*d)))};l.exports=T},86998:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),m=function(d,o,h){h===void 0&&(h=new u);var n=d.width/2,r=d.height/2;return h.x=d.x+n*Math.cos(o),h.y=d.y+r*Math.sin(o),h};l.exports=m},81773:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(95669),m=function(d){return new u(d.x,d.y,d.width,d.height)};l.exports=m},72313:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){if(e.width<=0||e.height<=0)return!1;var d=(u-e.x)/e.width,o=(m-e.y)/e.height;return d*=d,o*=o,d+o<.25};l.exports=T},34368:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72313),m=function(d,o){return u(d,o.x,o.y)};l.exports=m},71431:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72313),m=function(d,o){return u(d,o.x,o.y)&&u(d,o.right,o.y)&&u(d,o.x,o.bottom)&&u(d,o.right,o.bottom)};l.exports=m},75459:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return u.setTo(e.x,e.y,e.width,e.height)};l.exports=T},95669:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(72313),d=e(95340),o=e(54978),h=e(52394),n=e(72006),r=new u({initialize:function(a,v,p,c){a===void 0&&(a=0),v===void 0&&(v=0),p===void 0&&(p=0),c===void 0&&(c=0),this.type=h.ELLIPSE,this.x=a,this.y=v,this.width=p,this.height=c},contains:function(f,a){return m(this,f,a)},getPoint:function(f,a){return d(this,f,a)},getPoints:function(f,a,v){return o(this,f,a,v)},getRandomPoint:function(f){return n(this,f)},setTo:function(f,a,v,p){return this.x=f,this.y=a,this.width=v,this.height=p,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(f,a){return a===void 0&&(a=f),this.x=f,this.y=a,this},setSize:function(f,a){return a===void 0&&(a=f),this.width=f,this.height=a,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(f){this.x=f+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(f){this.x=f-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(f){this.y=f+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(f){this.y=f-this.height/2}}});l.exports=r},98068:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e.x===u.x&&e.y===u.y&&e.width===u.width&&e.height===u.height};l.exports=T},72897:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(74118),m=function(d,o){return o===void 0&&(o=new u),o.x=d.left,o.y=d.top,o.width=d.width,o.height=d.height,o};l.exports=m},95340:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(86998),m=e(91806),d=e(83392),o=e(79967),h=function(n,r,f){f===void 0&&(f=new o);var a=m(r,0,d.PI2);return u(n,a,f)};l.exports=h},54978:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(39507),m=e(86998),d=e(91806),o=e(83392),h=function(n,r,f,a){a===void 0&&(a=[]),!r&&f>0&&(r=u(n)/f);for(var v=0;v<r;v++){var p=d(v/r,0,o.PI2);a.push(m(n,p))}return a};l.exports=h},77951:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){return e.x+=u,e.y+=m,e};l.exports=T},36233:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e.x+=u.x,e.y+=u.y,e};l.exports=T},72006:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),m=function(d,o){o===void 0&&(o=new u);var h=Math.random()*Math.PI*2,n=Math.sqrt(Math.random());return o.x=d.x+n*Math.cos(h)*d.width/2,o.y=d.y+n*Math.sin(h)*d.height/2,o};l.exports=m},40652:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(95669);u.Area=e(58605),u.Circumference=e(39507),u.CircumferencePoint=e(86998),u.Clone=e(81773),u.Contains=e(72313),u.ContainsPoint=e(34368),u.ContainsRect=e(71431),u.CopyFrom=e(75459),u.Equals=e(98068),u.GetBounds=e(72897),u.GetPoint=e(95340),u.GetPoints=e(54978),u.Offset=e(77951),u.OffsetPoint=e(36233),u.Random=e(72006),l.exports=u},84068:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(52394),m=e(98611),d={Circle:e(6112),Ellipse:e(40652),Intersects:e(7563),Line:e(28482),Mesh:e(14293),Point:e(63472),Polygon:e(44359),Rectangle:e(66658),Triangle:e(87619)};d=m(!1,d,u),l.exports=d},22184:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(53996),m=function(d,o){return u(d.x,d.y,o.x,o.y)<=d.radius+o.radius};l.exports=m},26535:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){var m=u.width/2,d=u.height/2,o=Math.abs(e.x-u.x-m),h=Math.abs(e.y-u.y-d),n=m+e.radius,r=d+e.radius;if(o>n||h>r)return!1;if(o<=m||h<=d)return!0;var f=o-m,a=h-d,v=f*f,p=a*a,c=e.radius*e.radius;return v+p<=c};l.exports=T},71145:(l,T,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),m=e(22184),d=function(o,h,n){if(n===void 0&&(n=[]),m(o,h)){var r=o.x,f=o.y,a=o.radius,v=h.x,p=h.y,c=h.radius,g,y,S,P,C;if(f===p)C=(c*c-a*a-v*v+r*r)/(2*(r-v)),g=1,y=-2*p,S=v*v+C*C-2*v*C+p*p-c*c,P=y*y-4*g*S,P===0?n.push(new u(C,-y/(2*g))):P>0&&(n.push(new u(C,(-y+Math.sqrt(P))/(2*g))),n.push(new u(C,(-y-Math.sqrt(P))/(2*g))));else{var M=(r-v)/(f-p),R=(c*c-a*a-v*v+r*r-p*p+f*f)/(2*(f-p));g=M*M+1,y=2*f*M-2*R*M-2*r,S=r*r+f*f+R*R-a*a-2*f*R,P=y*y-4*g*S,P===0?(C=-y/(2*g),n.push(new u(C,R-C*M))):P>0&&(C=(-y+Math.sqrt(P))/(2*g),n.push(new u(C,R-C*M)),C=(-y-Math.sqrt(P))/(2*g),n.push(new u(C,R-C*M)))}}return n};l.exports=d},62508:(l,T,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26111),m=e(26535),d=function(o,h,n){if(n===void 0&&(n=[]),m(o,h)){var r=h.getLineA(),f=h.getLineB(),a=h.getLineC(),v=h.getLineD();u(r,o,n),u(f,o,n),u(a,o,n),u(v,o,n)}return n};l.exports=d},26111:(l,T,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),m=e(61472),d=function(o,h,n){if(n===void 0&&(n=[]),m(o,h)){var r=o.x1,f=o.y1,a=o.x2,v=o.y2,p=h.x,c=h.y,g=h.radius,y=a-r,S=v-f,P=r-p,C=f-c,M=y*y+S*S,R=2*(y*P+S*C),w=P*P+C*C-g*g,O=R*R-4*M*w,F,L;if(O===0){var b=-R/(2*M);F=r+b*y,L=f+b*S,b>=0&&b<=1&&n.push(new u(F,L))}else if(O>0){var B=(-R-Math.sqrt(O))/(2*M);F=r+B*y,L=f+B*S,B>=0&&B<=1&&n.push(new u(F,L));var I=(-R+Math.sqrt(O))/(2*M);F=r+I*y,L=f+I*S,I>=0&&I<=1&&n.push(new u(F,L))}}return n};l.exports=d},96537:(l,T,e)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(70015),m=function(d,o,h,n){h===void 0&&(h=!1);var r=d.x1,f=d.y1,a=d.x2,v=d.y2,p=o.x1,c=o.y1,g=o.x2,y=o.y2,S=a-r,P=v-f,C=g-p,M=y-c,R=S*M-P*C;if(R===0)return null;var w,O,F;if(h){if(w=(S*(c-f)+P*(r-p))/(C*P-M*S),O=(p+C*w-r)/S,O<0||w<0||w>1)return null;F=O}else{if(w=((p-r)*M-(c-f)*C)/R,O=((f-c)*S-(r-p)*P)/R,w<0||w>1||O<0||O>1)return null;F=w}return n===void 0&&(n=new u),n.set(r+S*F,f+P*F,F)};l.exports=m},17647:(l,T,e)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(96537),m=e(88829),d=e(70015),o=new m,h=new d,n=function(r,f,a,v){a===void 0&&(a=!1),v===void 0&&(v=new d);var p=!1;v.set(),h.set();for(var c=f[0],g=1;g<f.length;g++){var y=f[g];o.setTo(c.x,c.y,y.x,y.y),c=y,u(r,o,a,h)&&(!p||h.z<v.z)&&(v.copy(h),p=!0)}return p?v:null};l.exports=n},68439:(l,T,e)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(70015),m=e(51729),d=e(17647),o=new u,h=function(n,r,f,a){a===void 0&&(a=new m),Array.isArray(r)||(r=[r]);var v=!1;a.set(),o.set();for(var p=0;p<r.length;p++)d(n,r[p].points,f,o)&&(!v||o.z<a.z)&&(a.set(o.x,o.y,o.z,p),v=!0);return v?a:null};l.exports=h},9569:(l,T,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),m=e(25227),d=e(47910),o=function(h,n,r){if(r===void 0&&(r=[]),d(h,n))for(var f=n.getLineA(),a=n.getLineB(),v=n.getLineC(),p=n.getLineD(),c=[new u,new u,new u,new u],g=[m(f,h,c[0]),m(a,h,c[1]),m(v,h,c[2]),m(p,h,c[3])],y=0;y<4;y++)g[y]&&r.push(c[y]);return r};l.exports=o},7449:(l,T,e)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(51729),m=e(68439),d=e(88829),o=new d;function h(f,a,v,p,c){var g=Math.cos(f),y=Math.sin(f);o.setTo(a,v,a+g,v+y);var S=m(o,p,!0);S&&c.push(new u(S.x,S.y,f,S.w))}function n(f,a){return f.z-a.z}var r=function(f,a,v){Array.isArray(v)||(v=[v]);for(var p=[],c=[],g=0;g<v.length;g++)for(var y=v[g].points,S=0;S<y.length;S++){var P=Math.atan2(y[S].y-a,y[S].x-f);c.indexOf(P)===-1&&(h(P,f,a,v,p),h(P-1e-5,f,a,v,p),h(P+1e-5,f,a,v,p),c.push(P))}return p.sort(n)};l.exports=r},82931:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(74118),m=e(90205),d=function(o,h,n){return n===void 0&&(n=new u),m(o,h)&&(n.x=Math.max(o.x,h.x),n.y=Math.max(o.y,h.y),n.width=Math.min(o.right,h.right)-n.x,n.height=Math.min(o.bottom,h.bottom)-n.y),n};l.exports=d},1946:(l,T,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(9569),m=e(90205),d=function(o,h,n){if(n===void 0&&(n=[]),m(o,h)){var r=o.getLineA(),f=o.getLineB(),a=o.getLineC(),v=o.getLineD();u(r,h,n),u(f,h,n),u(a,h,n),u(v,h,n)}return n};l.exports=d},34211:(l,T,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(20370),m=e(9569),d=function(o,h,n){if(n===void 0&&(n=[]),u(o,h)){var r=h.getLineA(),f=h.getLineB(),a=h.getLineC();m(r,o,n),m(f,o,n),m(a,o,n)}return n};l.exports=d},80511:(l,T,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26111),m=e(48411),d=function(o,h,n){if(n===void 0&&(n=[]),m(o,h)){var r=o.getLineA(),f=o.getLineB(),a=o.getLineC();u(r,h,n),u(f,h,n),u(a,h,n)}return n};l.exports=d},31343:(l,T,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),m=e(86117),d=e(25227),o=function(h,n,r){if(r===void 0&&(r=[]),m(h,n))for(var f=h.getLineA(),a=h.getLineB(),v=h.getLineC(),p=[new u,new u,new u],c=[d(f,n,p[0]),d(a,n,p[1]),d(v,n,p[2])],g=0;g<3;g++)c[g]&&r.push(p[g]);return r};l.exports=o},70534:(l,T,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23589),m=e(31343),d=function(o,h,n){if(n===void 0&&(n=[]),u(o,h)){var r=h.getLineA(),f=h.getLineB(),a=h.getLineC();m(o,r,n),m(o,f,n),m(o,a,n)}return n};l.exports=d},61472:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(65650),m=e(79967),d=new m,o=function(h,n,r){if(r===void 0&&(r=d),u(n,h.x1,h.y1))return r.x=h.x1,r.y=h.y1,!0;if(u(n,h.x2,h.y2))return r.x=h.x2,r.y=h.y2,!0;var f=h.x2-h.x1,a=h.y2-h.y1,v=n.x-h.x1,p=n.y-h.y1,c=f*f+a*a,g=f,y=a;if(c>0){var S=(v*f+p*a)/c;g*=S,y*=S}r.x=h.x1+g,r.y=h.y1+y;var P=g*g+y*y;return P<=c&&g*f+y*a>=0&&u(n,r.x,r.y)};l.exports=o},25227:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){var d=e.x1,o=e.y1,h=e.x2,n=e.y2,r=u.x1,f=u.y1,a=u.x2,v=u.y2;if(d===h&&o===n||r===a&&f===v)return!1;var p=(v-f)*(h-d)-(a-r)*(n-o);if(p===0)return!1;var c=((a-r)*(o-f)-(v-f)*(d-r))/p,g=((h-d)*(o-f)-(n-o)*(d-r))/p;return c<0||c>1||g<0||g>1?!1:(m&&(m.x=d+c*(h-d),m.y=o+c*(n-o)),!0)};l.exports=T},47910:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){var m=e.x1,d=e.y1,o=e.x2,h=e.y2,n=u.x,r=u.y,f=u.right,a=u.bottom,v=0;if(m>=n&&m<=f&&d>=r&&d<=a||o>=n&&o<=f&&h>=r&&h<=a)return!0;if(m<n&&o>=n){if(v=d+(h-d)*(n-m)/(o-m),v>r&&v<=a)return!0}else if(m>f&&o<=f&&(v=d+(h-d)*(f-m)/(o-m),v>=r&&v<=a))return!0;if(d<r&&h>=r){if(v=m+(o-m)*(r-d)/(h-d),v>=n&&v<=f)return!0}else if(d>a&&h<=a&&(v=m+(o-m)*(a-d)/(h-d),v>=n&&v<=f))return!0;return!1};l.exports=T},34426:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){m===void 0&&(m=1);var d=u.x1,o=u.y1,h=u.x2,n=u.y2,r=e.x,f=e.y,a=(h-d)*(h-d)+(n-o)*(n-o);if(a===0)return!1;var v=((r-d)*(h-d)+(f-o)*(n-o))/a;if(v<0)return Math.sqrt((d-r)*(d-r)+(o-f)*(o-f))<=m;if(v>=0&&v<=1){var p=((o-f)*(h-d)-(d-r)*(n-o))/a;return Math.abs(p)*Math.sqrt(a)<=m}else return Math.sqrt((h-r)*(h-r)+(n-f)*(n-f))<=m};l.exports=T},81414:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(34426),m=function(d,o){if(!u(d,o))return!1;var h=Math.min(o.x1,o.x2),n=Math.max(o.x1,o.x2),r=Math.min(o.y1,o.y2),f=Math.max(o.y1,o.y2);return d.x>=h&&d.x<=n&&d.y>=r&&d.y<=f};l.exports=m},90205:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e.width<=0||e.height<=0||u.width<=0||u.height<=0?!1:!(e.right<u.x||e.bottom<u.y||e.x>u.right||e.y>u.bottom)};l.exports=T},20370:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25227),m=e(94287),d=e(86875),o=e(87279),h=function(n,r){if(r.left>n.right||r.right<n.left||r.top>n.bottom||r.bottom<n.top)return!1;var f=r.getLineA(),a=r.getLineB(),v=r.getLineC();if(m(n,f.x1,f.y1)||m(n,f.x2,f.y2)||m(n,a.x1,a.y1)||m(n,a.x2,a.y2)||m(n,v.x1,v.y1)||m(n,v.x2,v.y2))return!0;var p=n.getLineA(),c=n.getLineB(),g=n.getLineC(),y=n.getLineD();if(u(f,p)||u(f,c)||u(f,g)||u(f,y)||u(a,p)||u(a,c)||u(a,g)||u(a,y)||u(v,p)||u(v,c)||u(v,g)||u(v,y))return!0;var S=o(n),P=d(r,S,!0);return P.length>0};l.exports=h},8786:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d,o,h){return h===void 0&&(h=0),!(u>e.right+h||m<e.left-h||d>e.bottom+h||o<e.top-h)};l.exports=T},48411:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61472),m=e(60689),d=function(o,h){return o.left>h.right||o.right<h.left||o.top>h.bottom||o.bottom<h.top?!1:!!(m(o,h.x,h.y)||u(o.getLineA(),h)||u(o.getLineB(),h)||u(o.getLineC(),h))};l.exports=d},86117:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25227),m=function(d,o){return!!(d.contains(o.x1,o.y1)||d.contains(o.x2,o.y2)||u(d.getLineA(),o)||u(d.getLineB(),o)||u(d.getLineC(),o))};l.exports=m},23589:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(86875),m=e(18680),d=e(25227),o=function(h,n){if(h.left>n.right||h.right<n.left||h.top>n.bottom||h.bottom<n.top)return!1;var r=h.getLineA(),f=h.getLineB(),a=h.getLineC(),v=n.getLineA(),p=n.getLineB(),c=n.getLineC();if(d(r,v)||d(r,p)||d(r,c)||d(f,v)||d(f,p)||d(f,c)||d(a,v)||d(a,p)||d(a,c))return!0;var g=m(h),y=u(n,g,!0);return y.length>0||(g=m(n),y=u(h,g,!0),y.length>0)};l.exports=o},7563:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={CircleToCircle:e(22184),CircleToRectangle:e(26535),GetCircleToCircle:e(71145),GetCircleToRectangle:e(62508),GetLineToCircle:e(26111),GetLineToLine:e(96537),GetLineToPoints:e(17647),GetLineToPolygon:e(68439),GetLineToRectangle:e(9569),GetRaysFromPointToPolygon:e(7449),GetRectangleIntersection:e(82931),GetRectangleToRectangle:e(1946),GetRectangleToTriangle:e(34211),GetTriangleToCircle:e(80511),GetTriangleToLine:e(31343),GetTriangleToTriangle:e(70534),LineToCircle:e(61472),LineToLine:e(25227),LineToRectangle:e(47910),PointToLine:e(34426),PointToLineSegment:e(81414),RectangleToRectangle:e(90205),RectangleToTriangle:e(20370),RectangleToValues:e(8786),TriangleToCircle:e(48411),TriangleToLine:e(86117),TriangleToTriangle:e(23589)}},50599:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return Math.atan2(e.y2-e.y1,e.x2-e.x1)};l.exports=T},58813:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){u===void 0&&(u=1),m===void 0&&(m=[]);var d=Math.round(e.x1),o=Math.round(e.y1),h=Math.round(e.x2),n=Math.round(e.y2),r=Math.abs(h-d),f=Math.abs(n-o),a=d<h?1:-1,v=o<n?1:-1,p=r-f;m.push({x:d,y:o});for(var c=1;!(d===h&&o===n);){var g=p<<1;g>-f&&(p-=f,d+=a),g<r&&(p+=r,o+=v),c%u===0&&m.push({x:d,y:o}),c++}return m};l.exports=T},88513:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){var d=u-(e.x1+e.x2)/2,o=m-(e.y1+e.y2)/2;return e.x1+=d,e.y1+=o,e.x2+=d,e.y2+=o,e};l.exports=T},26718:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(88829),m=function(d){return new u(d.x1,d.y1,d.x2,d.y2)};l.exports=m},88930:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return u.setTo(e.x1,e.y1,e.x2,e.y2)};l.exports=T},90656:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e.x1===u.x1&&e.y1===u.y1&&e.x2===u.x2&&e.y2===u.y2};l.exports=T},30897:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(16028),m=function(d,o,h){h===void 0&&(h=o);var n=u(d),r=d.x2-d.x1,f=d.y2-d.y1;return o&&(d.x1=d.x1-r/n*o,d.y1=d.y1-f/n*o),h&&(d.x2=d.x2+r/n*h,d.y2=d.y2+f/n*h),d};l.exports=m},30684:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(92951),m=e(21902),d=e(79967),o=function(h,n,r,f,a){f===void 0&&(f=0),a===void 0&&(a=[]);var v=[],p=h.x1,c=h.y1,g=h.x2-p,y=h.y2-c,S=m(n,a),P,C,M=r-1;for(P=0;P<M;P++)C=S(P/M),v.push(new d(p+g*C,c+y*C));if(C=S(1),v.push(new d(p+g*C,c+y*C)),f>0){var R=v[0],w=[R];for(P=1;P<v.length-1;P++){var O=v[P];u(R,O)>=f&&(w.push(O),R=O)}var F=v[v.length-1];return u(R,F)<f&&w.pop(),w.push(F),w}else return v};l.exports=o},20487:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),m=function(d,o){return o===void 0&&(o=new u),o.x=(d.x1+d.x2)/2,o.y=(d.y1+d.y2)/2,o};l.exports=m},11222:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),m=function(d,o,h){h===void 0&&(h=new u);var n=d.x1,r=d.y1,f=d.x2,a=d.y2,v=(f-n)*(f-n)+(a-r)*(a-r);if(v===0)return h;var p=((o.x-n)*(f-n)+(o.y-r)*(a-r))/v;return h.x=n+p*(f-n),h.y=r+p*(a-r),h};l.exports=m},7377:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83392),m=e(50599),d=e(79967),o=function(h,n){n===void 0&&(n=new d);var r=m(h)-u.TAU;return n.x=Math.cos(r),n.y=Math.sin(r),n};l.exports=o},66464:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),m=function(d,o,h){return h===void 0&&(h=new u),h.x=d.x1+(d.x2-d.x1)*o,h.y=d.y1+(d.y2-d.y1)*o,h};l.exports=m},8570:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(16028),m=e(79967),d=function(o,h,n,r){r===void 0&&(r=[]),!h&&n>0&&(h=u(o)/n);for(var f=o.x1,a=o.y1,v=o.x2,p=o.y2,c=0;c<h;c++){var g=c/h,y=f+(v-f)*g,S=a+(p-a)*g;r.push(new m(y,S))}return r};l.exports=d},65269:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){var m=e.x1,d=e.y1,o=e.x2,h=e.y2,n=(o-m)*(o-m)+(h-d)*(h-d);if(n===0)return!1;var r=((d-u.y)*(o-m)-(m-u.x)*(h-d))/n;return Math.abs(r)*Math.sqrt(n)};l.exports=T},82996:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return Math.abs(e.y1-e.y2)};l.exports=T},16028:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return Math.sqrt((e.x2-e.x1)*(e.x2-e.x1)+(e.y2-e.y1)*(e.y2-e.y1))};l.exports=T},88829:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(66464),d=e(8570),o=e(52394),h=e(74077),n=e(93736),r=new u({initialize:function(a,v,p,c){a===void 0&&(a=0),v===void 0&&(v=0),p===void 0&&(p=0),c===void 0&&(c=0),this.type=o.LINE,this.x1=a,this.y1=v,this.x2=p,this.y2=c},getPoint:function(f,a){return m(this,f,a)},getPoints:function(f,a,v){return d(this,f,a,v)},getRandomPoint:function(f){return h(this,f)},setTo:function(f,a,v,p){return f===void 0&&(f=0),a===void 0&&(a=0),v===void 0&&(v=0),p===void 0&&(p=0),this.x1=f,this.y1=a,this.x2=v,this.y2=p,this},getPointA:function(f){return f===void 0&&(f=new n),f.set(this.x1,this.y1),f},getPointB:function(f){return f===void 0&&(f=new n),f.set(this.x2,this.y2),f},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(f){this.x1<=this.x2?this.x1=f:this.x2=f}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(f){this.x1>this.x2?this.x1=f:this.x2=f}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(f){this.y1<=this.y2?this.y1=f:this.y2=f}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(f){this.y1>this.y2?this.y1=f:this.y2=f}}});l.exports=r},73273:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83392),m=e(1071),d=e(50599),o=function(h){var n=d(h)-u.TAU;return m(n,-Math.PI,Math.PI)};l.exports=o},96936:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83392),m=e(50599),d=function(o){return Math.cos(m(o)-u.TAU)};l.exports=d},43581:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83392),m=e(50599),d=function(o){return Math.sin(m(o)-u.TAU)};l.exports=d},13990:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){return e.x1+=u,e.y1+=m,e.x2+=u,e.y2+=m,e};l.exports=T},1298:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return-((e.x2-e.x1)/(e.y2-e.y1))};l.exports=T},74077:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),m=function(d,o){o===void 0&&(o=new u);var h=Math.random();return o.x=d.x1+h*(d.x2-d.x1),o.y=d.y1+h*(d.y2-d.y1),o};l.exports=m},30473:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(50599),m=e(73273),d=function(o,h){return 2*m(h)-Math.PI-u(o)};l.exports=d},25968:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(1809),m=function(d,o){var h=(d.x1+d.x2)/2,n=(d.y1+d.y2)/2;return u(d,h,n,o)};l.exports=m},24296:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(1809),m=function(d,o,h){return u(d,o.x,o.y,h)};l.exports=m},1809:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d){var o=Math.cos(d),h=Math.sin(d),n=e.x1-u,r=e.y1-m;return e.x1=n*o-r*h+u,e.y1=n*h+r*o+m,n=e.x2-u,r=e.y2-m,e.x2=n*o-r*h+u,e.y2=n*h+r*o+m,e};l.exports=T},88171:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d,o){return e.x1=u,e.y1=m,e.x2=u+Math.cos(d)*o,e.y2=m+Math.sin(d)*o,e};l.exports=T},82797:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return(e.y2-e.y1)/(e.x2-e.x1)};l.exports=T},41067:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return Math.abs(e.x1-e.x2)};l.exports=T},28482:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(88829);u.Angle=e(50599),u.BresenhamPoints=e(58813),u.CenterOn=e(88513),u.Clone=e(26718),u.CopyFrom=e(88930),u.Equals=e(90656),u.Extend=e(30897),u.GetEasedPoints=e(30684),u.GetMidPoint=e(20487),u.GetNearestPoint=e(11222),u.GetNormal=e(7377),u.GetPoint=e(66464),u.GetPoints=e(8570),u.GetShortestDistance=e(65269),u.Height=e(82996),u.Length=e(16028),u.NormalAngle=e(73273),u.NormalX=e(96936),u.NormalY=e(43581),u.Offset=e(13990),u.PerpSlope=e(1298),u.Random=e(74077),u.ReflectAngle=e(30473),u.Rotate=e(25968),u.RotateAroundPoint=e(24296),u.RotateAroundXY=e(1809),u.SetToAngle=e(88171),u.Slope=e(82797),u.Width=e(41067),l.exports=u},18693:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(74118),d=e(93736);function o(n,r,f,a){var v=n-f,p=r-a,c=v*v+p*p;return Math.sqrt(c)}var h=new u({initialize:function(r,f,a){this.vertex1=r,this.vertex2=f,this.vertex3=a,this.bounds=new m,this._inCenter=new d},getInCenter:function(n){n===void 0&&(n=!0);var r=this.vertex1,f=this.vertex2,a=this.vertex3,v,p,c,g,y,S;n?(v=r.x,p=r.y,c=f.x,g=f.y,y=a.x,S=a.y):(v=r.vx,p=r.vy,c=f.vx,g=f.vy,y=a.vx,S=a.vy);var P=o(y,S,c,g),C=o(v,p,y,S),M=o(c,g,v,p),R=P+C+M;return this._inCenter.set((v*P+c*C+y*M)/R,(p*P+g*C+S*M)/R)},contains:function(n,r,f){var a=this.vertex1,v=this.vertex2,p=this.vertex3,c=a.vx,g=a.vy,y=v.vx,S=v.vy,P=p.vx,C=p.vy;if(f){var M=f.a,R=f.b,w=f.c,O=f.d,F=f.e,L=f.f;c=a.vx*M+a.vy*w+F,g=a.vx*R+a.vy*O+L,y=v.vx*M+v.vy*w+F,S=v.vx*R+v.vy*O+L,P=p.vx*M+p.vy*w+F,C=p.vx*R+p.vy*O+L}var b=P-c,B=C-g,I=y-c,z=S-g,Y=n-c,W=r-g,H=b*b+B*B,N=b*I+B*z,X=b*Y+B*W,D=I*I+z*z,G=I*Y+z*W,V=H*D-N*N,U=V===0?0:1/V,k=(D*X-N*G)*U,$=(H*G-N*X)*U;return k>=0&&$>=0&&k+$<1},isCounterClockwise:function(n){var r=this.vertex1,f=this.vertex2,a=this.vertex3,v=(f.vx-r.vx)*(a.vy-r.vy)-(f.vy-r.vy)*(a.vx-r.vx);return n<=0?v>=0:v<0},load:function(n,r,f,a,v){return f=this.vertex1.load(n,r,f,a,v),f=this.vertex2.load(n,r,f,a,v),f=this.vertex3.load(n,r,f,a,v),f},transformCoordinatesLocal:function(n,r,f,a){return this.vertex1.transformCoordinatesLocal(n,r,f,a),this.vertex2.transformCoordinatesLocal(n,r,f,a),this.vertex3.transformCoordinatesLocal(n,r,f,a),this},updateBounds:function(){var n=this.vertex1,r=this.vertex2,f=this.vertex3,a=this.bounds;return a.x=Math.min(n.vx,r.vx,f.vx),a.y=Math.min(n.vy,r.vy,f.vy),a.width=Math.max(n.vx,r.vx,f.vx)-a.x,a.height=Math.max(n.vy,r.vy,f.vy)-a.y,this},isInView:function(n,r,f,a,v,p,c,g,y,S,P){this.update(a,v,p,c,g,y,S,P);var C=this.vertex1,M=this.vertex2,R=this.vertex3;if(C.ta<=0&&M.ta<=0&&R.ta<=0||r&&!this.isCounterClockwise(f))return!1;var w=this.bounds;w.x=Math.min(C.tx,M.tx,R.tx),w.y=Math.min(C.ty,M.ty,R.ty),w.width=Math.max(C.tx,M.tx,R.tx)-w.x,w.height=Math.max(C.ty,M.ty,R.ty)-w.y;var O=n.x+n.width,F=n.y+n.height;return w.width<=0||w.height<=0||n.width<=0||n.height<=0?!1:!(w.right<n.x||w.bottom<n.y||w.x>O||w.y>F)},scrollUV:function(n,r){return this.vertex1.scrollUV(n,r),this.vertex2.scrollUV(n,r),this.vertex3.scrollUV(n,r),this},scaleUV:function(n,r){return this.vertex1.scaleUV(n,r),this.vertex2.scaleUV(n,r),this.vertex3.scaleUV(n,r),this},setColor:function(n){return this.vertex1.color=n,this.vertex2.color=n,this.vertex3.color=n,this},update:function(n,r,f,a,v,p,c,g){return this.vertex1.update(r,f,a,v,p,c,g,n),this.vertex2.update(r,f,a,v,p,c,g,n),this.vertex3.update(r,f,a,v,p,c,g,n),this},translate:function(n,r){r===void 0&&(r=0);var f=this.vertex1,a=this.vertex2,v=this.vertex3;return f.x+=n,f.y+=r,a.x+=n,a.y+=r,v.x+=n,v.y+=r,this},x:{get:function(){return this.getInCenter().x},set:function(n){var r=this.getInCenter();this.translate(n-r.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(n){var r=this.getInCenter();this.translate(0,n-r.y)}},alpha:{get:function(){var n=this.vertex1,r=this.vertex2,f=this.vertex3;return(n.alpha+r.alpha+f.alpha)/3},set:function(n){this.vertex1.alpha=n,this.vertex2.alpha=n,this.vertex3.alpha=n}},depth:{get:function(){var n=this.vertex1,r=this.vertex2,f=this.vertex3;return(n.vz+r.vz+f.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});l.exports=h},99425:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(18693),m=e(72632),d=e(16650),o=e(70015),h=e(85769),n=new o,r=new o,f=new d,a=function(v){var p=m(v,"mesh"),c=m(v,"texture",null),g=m(v,"frame"),y=m(v,"width",1),S=m(v,"height",y),P=m(v,"widthSegments",1),C=m(v,"heightSegments",P),M=m(v,"x",0),R=m(v,"y",0),w=m(v,"z",0),O=m(v,"rotateX",0),F=m(v,"rotateY",0),L=m(v,"rotateZ",0),b=m(v,"zIsUp",!0),B=m(v,"isOrtho",p?p.dirtyCache[11]:!1),I=m(v,"colors",[16777215]),z=m(v,"alphas",[1]),Y=m(v,"tile",!1),W=m(v,"flipY",!1),H=m(v,"width",null),N={faces:[],verts:[]};n.set(M,R,w),r.set(O,F,L),f.fromRotationXYTranslation(r,n,b);var X;if(!c&&p)c=p.texture,g||(X=p.frame);else if(p&&typeof c=="string")c=p.scene.sys.textures.get(c);else if(!c)return N;X||(X=c.get(g)),!H&&B&&c&&p&&(y=X.width/p.height,S=X.height/p.height);var D=y/2,G=S/2,V=Math.floor(P),U=Math.floor(C),k=V+1,$=U+1,K=y/V,J=S/U,Q=[],q=[],_,et,tt=0,rt=1,lt=0,dt=1;X&&(tt=X.u0,rt=X.u1,W?(lt=X.v1,dt=X.v0):(lt=X.v0,dt=X.v1));var ut=rt-tt,st=dt-lt;for(et=0;et<$;et++){var ot=et*J-G;for(_=0;_<k;_++){var ht=_*K-D;q.push(ht,-ot);var xt=tt+ut*(_/V),mt=lt+st*(et/U);Q.push(xt,mt)}}Array.isArray(I)||(I=[I]),Array.isArray(z)||(z=[z]);var Gt=0,wt=0;for(et=0;et<U;et++)for(_=0;_<V;_++){var Pt=(_+k*et)*2,gt=(_+k*(et+1))*2,Ot=(_+1+k*(et+1))*2,Z=(_+1+k*et)*2,j=I[wt],nt=z[Gt],it=new h(q[Pt],q[Pt+1],0,Q[Pt],Q[Pt+1],j,nt).transformMat4(f),at=new h(q[gt],q[gt+1],0,Q[gt],Q[gt+1],j,nt).transformMat4(f),ft=new h(q[Z],q[Z+1],0,Q[Z],Q[Z+1],j,nt).transformMat4(f),ct=new h(q[gt],q[gt+1],0,Q[gt],Q[gt+1],j,nt).transformMat4(f),Tt=new h(q[Ot],q[Ot+1],0,Q[Ot],Q[Ot+1],j,nt).transformMat4(f),St=new h(q[Z],q[Z+1],0,Q[Z],Q[Z+1],j,nt).transformMat4(f);Y&&(it.setUVs(tt,dt),at.setUVs(tt,lt),ft.setUVs(rt,dt),ct.setUVs(tt,lt),Tt.setUVs(rt,lt),St.setUVs(rt,dt)),wt++,wt===I.length&&(wt=0),Gt++,Gt===z.length&&(Gt=0),N.verts.push(it,at,ft,ct,Tt,St),N.faces.push(new u(it,at,ft),new u(ct,Tt,St))}return p&&(p.faces=p.faces.concat(N.faces),p.vertices=p.vertices.concat(N.verts)),N};l.exports=a},53267:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(18693),m=e(16650),d=e(70015),o=e(85769),h=new d,n=new d,r=new m,f=function(a,v,p,c,g,y,S,P,C,M){p===void 0&&(p=1),c===void 0&&(c=0),g===void 0&&(g=0),y===void 0&&(y=0),S===void 0&&(S=0),P===void 0&&(P=0),C===void 0&&(C=0),M===void 0&&(M=!0);var R={faces:[],verts:[]},w=a.materials;h.set(c,g,y),n.set(S,P,C),r.fromRotationXYTranslation(n,h,M);for(var O=0;O<a.models.length;O++)for(var F=a.models[O],L=F.vertices,b=F.textureCoords,B=F.faces,I=0;I<B.length;I++){var z=B[I],Y=z.vertices[0],W=z.vertices[1],H=z.vertices[2],N=L[Y.vertexIndex],X=L[W.vertexIndex],D=L[H.vertexIndex],G=Y.textureCoordsIndex,V=W.textureCoordsIndex,U=H.textureCoordsIndex,k=G===-1?{u:0,v:1}:b[G],$=V===-1?{u:0,v:0}:b[V],K=U===-1?{u:1,v:1}:b[U],J=16777215;z.material!==""&&w[z.material]&&(J=w[z.material]);var Q=new o(N.x*p,N.y*p,N.z*p,k.u,k.v,J).transformMat4(r),q=new o(X.x*p,X.y*p,X.z*p,$.u,$.v,J).transformMat4(r),_=new o(D.x*p,D.y*p,D.z*p,K.u,K.v,J).transformMat4(r);R.verts.push(Q,q,_),R.faces.push(new u(Q,q,_))}return v&&(v.faces=v.faces.concat(R.faces),v.vertices=v.vertices.concat(R.verts)),R};l.exports=f},67623:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(18693),m=e(85769),d=function(o,h,n,r,f,a,v,p){if(r===void 0&&(r=!1),a===void 0&&(a=16777215),v===void 0&&(v=1),p===void 0&&(p=!1),o.length!==h.length&&!r){console.warn("GenerateVerts: vertices and uvs count not equal");return}var c={faces:[],vertices:[]},g,y,S,P,C,M,R,w,O,F,L,b=r?3:2,B=Array.isArray(a),I=Array.isArray(v);if(Array.isArray(n)&&n.length>0)for(g=0;g<n.length;g++){var z=n[g],Y=n[g]*2,W=n[g]*b;y=o[W],S=o[W+1],P=r?o[W+2]:0,C=h[Y],M=h[Y+1],p&&(M=1-M),R=B?a[z]:a,w=I?v[z]:v,O=0,F=0,L=0,f&&(O=f[W],F=f[W+1],L=r?f[W+2]:0),c.vertices.push(new m(y,S,P,C,M,R,w,O,F,L))}else{var H=0,N=0;for(g=0;g<o.length;g+=b)y=o[g],S=o[g+1],P=r?o[g+2]:0,C=h[H],M=h[H+1],R=B?a[N]:a,w=I?v[N]:v,O=0,F=0,L=0,f&&(O=f[g],F=f[g+1],L=r?f[g+2]:0),c.vertices.push(new m(y,S,P,C,M,R,w,O,F,L)),H+=2,N++}for(g=0;g<c.vertices.length;g+=3){var X=c.vertices[g],D=c.vertices[g+1],G=c.vertices[g+2];c.faces.push(new u(X,D,G))}return c};l.exports=d},27291:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=!0,e="untitled",u="",m="";function d(y){var S=y.indexOf("#");return S>-1?y.substring(0,S):y}function o(y){return y.models.length===0&&y.models.push({faces:[],name:e,textureCoords:[],vertexNormals:[],vertices:[]}),u="",y.models[y.models.length-1]}function h(y,S){var P=y.length>=2?y[1]:e;S.models.push({faces:[],name:P,textureCoords:[],vertexNormals:[],vertices:[]}),u=""}function n(y){y.length===2&&(u=y[1])}function r(y,S){var P=y.length,C=P>=2?parseFloat(y[1]):0,M=P>=3?parseFloat(y[2]):0,R=P>=4?parseFloat(y[3]):0;o(S).vertices.push({x:C,y:M,z:R})}function f(y,S){var P=y.length,C=P>=2?parseFloat(y[1]):0,M=P>=3?parseFloat(y[2]):0,R=P>=4?parseFloat(y[3]):0;isNaN(C)&&(C=0),isNaN(M)&&(M=0),isNaN(R)&&(R=0),T&&(M=1-M),o(S).textureCoords.push({u:C,v:M,w:R})}function a(y,S){var P=y.length,C=P>=2?parseFloat(y[1]):0,M=P>=3?parseFloat(y[2]):0,R=P>=4?parseFloat(y[3]):0;o(S).vertexNormals.push({x:C,y:M,z:R})}function v(y,S){var P=y.length-1;if(!(P<3)){for(var C={group:u,material:m,vertices:[]},M=0;M<P;M++){var R=y[M+1],w=R.split("/"),O=w.length;if(!(O<1||O>3)){var F=0,L=0,b=0;F=parseInt(w[0],10),O>1&&w[1]!==""&&(L=parseInt(w[1],10)),O>2&&(b=parseInt(w[2],10)),F!==0&&(F<0&&(F=o(S).vertices.length+1+F),L-=1,F-=1,b-=1,C.vertices.push({textureCoordsIndex:L,vertexIndex:F,vertexNormalIndex:b}))}}o(S).faces.push(C)}}function p(y,S){y.length>=2&&S.materialLibraries.push(y[1])}function c(y){y.length>=2&&(m=y[1])}var g=function(y,S){S===void 0&&(S=!0),T=S;var P={materials:{},materialLibraries:[],models:[]};u="",m="";for(var C=y.split(`
`),M=0;M<C.length;M++){var R=d(C[M]),w=R.replace(/\s\s+/g," ").trim().split(" ");switch(w[0].toLowerCase()){case"o":h(w,P);break;case"g":n(w);break;case"v":r(w,P);break;case"vt":f(w,P);break;case"vn":a(w,P);break;case"f":v(w,P);break;case"mtllib":p(w,P);break;case"usemtl":c(w);break}}return P};l.exports=g},76799:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(22946),m=function(d){for(var o={},h=d.split(`
`),n="",r=0;r<h.length;r++){var f=h[r].trim();if(!(f.indexOf("#")===0||f==="")){var a=f.replace(/\s\s+/g," ").trim().split(" ");switch(a[0].toLowerCase()){case"newmtl":{n=a[1];break}case"kd":{var v=Math.floor(a[1]*255),p=a.length>=2?Math.floor(a[2]*255):v,c=a.length>=3?Math.floor(a[3]*255):v;o[n]=u(v,p,c);break}}}}return o};l.exports=m},15313:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d){var o,h;if(m===void 0&&d===void 0){var n=e.getInCenter();o=n.x,h=n.y}var r=Math.cos(u),f=Math.sin(u),a=e.vertex1,v=e.vertex2,p=e.vertex3,c=a.x-o,g=a.y-h;a.set(c*r-g*f+o,c*f+g*r+h),c=v.x-o,g=v.y-h,v.set(c*r-g*f+o,c*f+g*r+h),c=p.x-o,g=p.y-h,p.set(c*r-g*f+o,c*f+g*r+h)};l.exports=T},85769:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(75512),d=e(70015),o=new u({Extends:d,initialize:function(n,r,f,a,v,p,c,g,y,S){p===void 0&&(p=16777215),c===void 0&&(c=1),g===void 0&&(g=0),y===void 0&&(y=0),S===void 0&&(S=0),d.call(this,n,r,f),this.vx=0,this.vy=0,this.vz=0,this.nx=g,this.ny=y,this.nz=S,this.u=a,this.v=v,this.color=p,this.alpha=c,this.tx=0,this.ty=0,this.ta=0,this.tu=a,this.tv=v},setUVs:function(h,n){return this.u=h,this.v=n,this.tu=h,this.tv=n,this},scrollUV:function(h,n){return this.tu+=h,this.tv+=n,this},scaleUV:function(h,n){return this.tu=this.u*h,this.tv=this.v*n,this},transformCoordinatesLocal:function(h,n,r,f){var a=this.x,v=this.y,p=this.z,c=h.val,g=a*c[0]+v*c[4]+p*c[8]+c[12],y=a*c[1]+v*c[5]+p*c[9]+c[13],S=a*c[2]+v*c[6]+p*c[10]+c[14],P=a*c[3]+v*c[7]+p*c[11]+c[15];this.vx=g/P*n,this.vy=-(y/P)*r,f<=0?this.vz=S/P:this.vz=-(S/P)},resize:function(h,n,r,f,a,v){return this.x=h,this.y=n,this.vx=this.x*r,this.vy=-this.y*f,this.vz=0,a<.5?this.vx+=r*(.5-a):a>.5&&(this.vx-=r*(a-.5)),v<.5?this.vy+=f*(.5-v):v>.5&&(this.vy-=f*(v-.5)),this},update:function(h,n,r,f,a,v,p,c){var g=this.vx*h+this.vy*r+a,y=this.vx*n+this.vy*f+v;return p&&(g=Math.round(g),y=Math.round(y)),this.tx=g,this.ty=y,this.ta=this.alpha*c,this},load:function(h,n,r,f,a){return h[++r]=this.tx,h[++r]=this.ty,h[++r]=this.tu,h[++r]=this.tv,h[++r]=f,h[++r]=a,n[++r]=m.getTintAppendFloatAlpha(this.color,this.ta),r}});l.exports=o},14293:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={Face:e(18693),GenerateGridVerts:e(99425),GenerateObjVerts:e(53267),GenerateVerts:e(67623),ParseObj:e(27291),ParseObjMaterial:e(76799),RotateFace:e(15313),Vertex:e(85769)};l.exports=u},77601:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.setTo(Math.ceil(e.x),Math.ceil(e.y))};l.exports=T},38933:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),m=function(d){return new u(d.x,d.y)};l.exports=m},47103:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return u.setTo(e.x,e.y)};l.exports=T},13625:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e.x===u.x&&e.y===u.y};l.exports=T},12536:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.setTo(Math.floor(e.x),Math.floor(e.y))};l.exports=T},54205:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),m=function(d,o){if(o===void 0&&(o=new u),!Array.isArray(d))throw new Error("GetCentroid points argument must be an array");var h=d.length;if(h<1)throw new Error("GetCentroid points array must not be empty");if(h===1)o.x=d[0].x,o.y=d[0].y;else{for(var n=0;n<h;n++)o.x+=d[n].x,o.y+=d[n].y;o.x/=h,o.y/=h}return o};l.exports=m},50083:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)};l.exports=T},82712:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.x*e.x+e.y*e.y};l.exports=T},20052:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(74118),m=function(d,o){o===void 0&&(o=new u);for(var h=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,f=Number.POSITIVE_INFINITY,a=0;a<d.length;a++){var v=d[a];v.x>h&&(h=v.x),v.x<n&&(n=v.x),v.y>r&&(r=v.y),v.y<f&&(f=v.y)}return o.x=n,o.y=f,o.width=h-n,o.height=r-f,o};l.exports=m},77154:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),m=function(d,o,h,n){return h===void 0&&(h=0),n===void 0&&(n=new u),n.x=d.x+(o.x-d.x)*h,n.y=d.y+(o.y-d.y)*h,n};l.exports=m},42397:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.setTo(e.y,e.x)};l.exports=T},59464:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),m=function(d,o){return o===void 0&&(o=new u),o.setTo(-d.x,-d.y)};l.exports=m},79967:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(52394),d=new u({initialize:function(h,n){h===void 0&&(h=0),n===void 0&&(n=h),this.type=m.POINT,this.x=h,this.y=n},setTo:function(o,h){return o===void 0&&(o=0),h===void 0&&(h=o),this.x=o,this.y=h,this}});l.exports=d},53581:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),m=e(82712),d=function(o,h,n){n===void 0&&(n=new u);var r=o.x*h.x+o.y*h.y,f=r/m(h);return f!==0&&(n.x=f*h.x,n.y=f*h.y),n};l.exports=d},50817:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),m=function(d,o,h){h===void 0&&(h=new u);var n=d.x*o.x+d.y*o.y;return n!==0&&(h.x=n*o.x,h.y=n*o.y),h};l.exports=m},40525:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(50083),m=function(d,o){if(d.x!==0||d.y!==0){var h=u(d);d.x/=h,d.y/=h}return d.x*=o,d.y*=o,d};l.exports=m},63472:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967);u.Ceil=e(77601),u.Clone=e(38933),u.CopyFrom=e(47103),u.Equals=e(13625),u.Floor=e(12536),u.GetCentroid=e(54205),u.GetMagnitude=e(50083),u.GetMagnitudeSq=e(82712),u.GetRectangleFromPoints=e(20052),u.Interpolate=e(77154),u.Invert=e(42397),u.Negative=e(59464),u.Project=e(53581),u.ProjectUnit=e(50817),u.SetMagnitude=e(40525),l.exports=u},19631:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(8580),m=function(d){return new u(d.points)};l.exports=m},45604:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){for(var d=!1,o=-1,h=e.points.length-1;++o<e.points.length;h=o){var n=e.points[o].x,r=e.points[o].y,f=e.points[h].x,a=e.points[h].y;(r<=m&&m<a||a<=m&&m<r)&&u<(f-n)*(m-r)/(a-r)+n&&(d=!d)}return d};l.exports=T},87289:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45604),m=function(d,o){return u(d,o.x,o.y)};l.exports=m},11117:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(N,X,D){D=D||2;var G=X&&X.length,V=G?X[0]*D:N.length,U=e(N,0,V,D,!0),k=[];if(!U||U.next===U.prev)return k;var $,K,J,Q,q,_,et;if(G&&(U=r(N,X,U,D)),N.length>80*D){$=J=N[0],K=Q=N[1];for(var tt=D;tt<V;tt+=D)q=N[tt],_=N[tt+1],q<$&&($=q),_<K&&(K=_),q>J&&(J=q),_>Q&&(Q=_);et=Math.max(J-$,Q-K),et=et!==0?32767/et:0}return m(U,k,D,$,K,et,0),k}function e(N,X,D,G,V){var U,k;if(V===H(N,X,D,G)>0)for(U=X;U<D;U+=G)k=z(U,N[U],N[U+1],k);else for(U=D-G;U>=X;U-=G)k=z(U,N[U],N[U+1],k);return k&&R(k,k.next)&&(Y(k),k=k.next),k}function u(N,X){if(!N)return N;X||(X=N);var D=N,G;do if(G=!1,!D.steiner&&(R(D,D.next)||M(D.prev,D,D.next)===0)){if(Y(D),D=X=D.prev,D===D.next)break;G=!0}else D=D.next;while(G||D!==X);return X}function m(N,X,D,G,V,U,k){if(N){!k&&U&&c(N,G,V,U);for(var $=N,K,J;N.prev!==N.next;){if(K=N.prev,J=N.next,U?o(N,G,V,U):d(N)){X.push(K.i/D|0),X.push(N.i/D|0),X.push(J.i/D|0),Y(N),N=J.next,$=J.next;continue}if(N=J,N===$){k?k===1?(N=h(u(N),X,D),m(N,X,D,G,V,U,2)):k===2&&n(N,X,D,G,V,U):m(u(N),X,D,G,V,U,1);break}}}}function d(N){var X=N.prev,D=N,G=N.next;if(M(X,D,G)>=0)return!1;for(var V=X.x,U=D.x,k=G.x,$=X.y,K=D.y,J=G.y,Q=V<U?V<k?V:k:U<k?U:k,q=$<K?$<J?$:J:K<J?K:J,_=V>U?V>k?V:k:U>k?U:k,et=$>K?$>J?$:J:K>J?K:J,tt=G.next;tt!==X;){if(tt.x>=Q&&tt.x<=_&&tt.y>=q&&tt.y<=et&&P(V,$,U,K,k,J,tt.x,tt.y)&&M(tt.prev,tt,tt.next)>=0)return!1;tt=tt.next}return!0}function o(N,X,D,G){var V=N.prev,U=N,k=N.next;if(M(V,U,k)>=0)return!1;for(var $=V.x,K=U.x,J=k.x,Q=V.y,q=U.y,_=k.y,et=$<K?$<J?$:J:K<J?K:J,tt=Q<q?Q<_?Q:_:q<_?q:_,rt=$>K?$>J?$:J:K>J?K:J,lt=Q>q?Q>_?Q:_:q>_?q:_,dt=y(et,tt,X,D,G),ut=y(rt,lt,X,D,G),st=N.prevZ,ot=N.nextZ;st&&st.z>=dt&&ot&&ot.z<=ut;){if(st.x>=et&&st.x<=rt&&st.y>=tt&&st.y<=lt&&st!==V&&st!==k&&P($,Q,K,q,J,_,st.x,st.y)&&M(st.prev,st,st.next)>=0||(st=st.prevZ,ot.x>=et&&ot.x<=rt&&ot.y>=tt&&ot.y<=lt&&ot!==V&&ot!==k&&P($,Q,K,q,J,_,ot.x,ot.y)&&M(ot.prev,ot,ot.next)>=0))return!1;ot=ot.nextZ}for(;st&&st.z>=dt;){if(st.x>=et&&st.x<=rt&&st.y>=tt&&st.y<=lt&&st!==V&&st!==k&&P($,Q,K,q,J,_,st.x,st.y)&&M(st.prev,st,st.next)>=0)return!1;st=st.prevZ}for(;ot&&ot.z<=ut;){if(ot.x>=et&&ot.x<=rt&&ot.y>=tt&&ot.y<=lt&&ot!==V&&ot!==k&&P($,Q,K,q,J,_,ot.x,ot.y)&&M(ot.prev,ot,ot.next)>=0)return!1;ot=ot.nextZ}return!0}function h(N,X,D){var G=N;do{var V=G.prev,U=G.next.next;!R(V,U)&&w(V,G,G.next,U)&&b(V,U)&&b(U,V)&&(X.push(V.i/D|0),X.push(G.i/D|0),X.push(U.i/D|0),Y(G),Y(G.next),G=N=U),G=G.next}while(G!==N);return u(G)}function n(N,X,D,G,V,U){var k=N;do{for(var $=k.next.next;$!==k.prev;){if(k.i!==$.i&&C(k,$)){var K=I(k,$);k=u(k,k.next),K=u(K,K.next),m(k,X,D,G,V,U,0),m(K,X,D,G,V,U,0);return}$=$.next}k=k.next}while(k!==N)}function r(N,X,D,G){var V=[],U,k,$,K,J;for(U=0,k=X.length;U<k;U++)$=X[U]*G,K=U<k-1?X[U+1]*G:N.length,J=e(N,$,K,G,!1),J===J.next&&(J.steiner=!0),V.push(S(J));for(V.sort(f),U=0;U<V.length;U++)D=a(V[U],D);return D}function f(N,X){return N.x-X.x}function a(N,X){var D=v(N,X);if(!D)return X;var G=I(D,N);return u(G,G.next),u(D,D.next)}function v(N,X){var D=X,G=N.x,V=N.y,U=-1/0,k;do{if(V<=D.y&&V>=D.next.y&&D.next.y!==D.y){var $=D.x+(V-D.y)*(D.next.x-D.x)/(D.next.y-D.y);if($<=G&&$>U&&(U=$,k=D.x<D.next.x?D:D.next,$===G))return k}D=D.next}while(D!==X);if(!k)return null;var K=k,J=k.x,Q=k.y,q=1/0,_;D=k;do G>=D.x&&D.x>=J&&G!==D.x&&P(V<Q?G:U,V,J,Q,V<Q?U:G,V,D.x,D.y)&&(_=Math.abs(V-D.y)/(G-D.x),b(D,N)&&(_<q||_===q&&(D.x>k.x||D.x===k.x&&p(k,D)))&&(k=D,q=_)),D=D.next;while(D!==K);return k}function p(N,X){return M(N.prev,N,X.prev)<0&&M(X.next,N,N.next)<0}function c(N,X,D,G){var V=N;do V.z===0&&(V.z=y(V.x,V.y,X,D,G)),V.prevZ=V.prev,V.nextZ=V.next,V=V.next;while(V!==N);V.prevZ.nextZ=null,V.prevZ=null,g(V)}function g(N){var X,D,G,V,U,k,$,K,J=1;do{for(D=N,N=null,U=null,k=0;D;){for(k++,G=D,$=0,X=0;X<J&&($++,G=G.nextZ,!!G);X++);for(K=J;$>0||K>0&&G;)$!==0&&(K===0||!G||D.z<=G.z)?(V=D,D=D.nextZ,$--):(V=G,G=G.nextZ,K--),U?U.nextZ=V:N=V,V.prevZ=U,U=V;D=G}U.nextZ=null,J*=2}while(k>1);return N}function y(N,X,D,G,V){return N=(N-D)*V|0,X=(X-G)*V|0,N=(N|N<<8)&16711935,N=(N|N<<4)&252645135,N=(N|N<<2)&858993459,N=(N|N<<1)&1431655765,X=(X|X<<8)&16711935,X=(X|X<<4)&252645135,X=(X|X<<2)&858993459,X=(X|X<<1)&1431655765,N|X<<1}function S(N){var X=N,D=N;do(X.x<D.x||X.x===D.x&&X.y<D.y)&&(D=X),X=X.next;while(X!==N);return D}function P(N,X,D,G,V,U,k,$){return(V-k)*(X-$)>=(N-k)*(U-$)&&(N-k)*(G-$)>=(D-k)*(X-$)&&(D-k)*(U-$)>=(V-k)*(G-$)}function C(N,X){return N.next.i!==X.i&&N.prev.i!==X.i&&!L(N,X)&&(b(N,X)&&b(X,N)&&B(N,X)&&(M(N.prev,N,X.prev)||M(N,X.prev,X))||R(N,X)&&M(N.prev,N,N.next)>0&&M(X.prev,X,X.next)>0)}function M(N,X,D){return(X.y-N.y)*(D.x-X.x)-(X.x-N.x)*(D.y-X.y)}function R(N,X){return N.x===X.x&&N.y===X.y}function w(N,X,D,G){var V=F(M(N,X,D)),U=F(M(N,X,G)),k=F(M(D,G,N)),$=F(M(D,G,X));return!!(V!==U&&k!==$||V===0&&O(N,D,X)||U===0&&O(N,G,X)||k===0&&O(D,N,G)||$===0&&O(D,X,G))}function O(N,X,D){return X.x<=Math.max(N.x,D.x)&&X.x>=Math.min(N.x,D.x)&&X.y<=Math.max(N.y,D.y)&&X.y>=Math.min(N.y,D.y)}function F(N){return N>0?1:N<0?-1:0}function L(N,X){var D=N;do{if(D.i!==N.i&&D.next.i!==N.i&&D.i!==X.i&&D.next.i!==X.i&&w(D,D.next,N,X))return!0;D=D.next}while(D!==N);return!1}function b(N,X){return M(N.prev,N,N.next)<0?M(N,X,N.next)>=0&&M(N,N.prev,X)>=0:M(N,X,N.prev)<0||M(N,N.next,X)<0}function B(N,X){var D=N,G=!1,V=(N.x+X.x)/2,U=(N.y+X.y)/2;do D.y>U!=D.next.y>U&&D.next.y!==D.y&&V<(D.next.x-D.x)*(U-D.y)/(D.next.y-D.y)+D.x&&(G=!G),D=D.next;while(D!==N);return G}function I(N,X){var D=new W(N.i,N.x,N.y),G=new W(X.i,X.x,X.y),V=N.next,U=X.prev;return N.next=X,X.prev=N,D.next=V,V.prev=D,G.next=D,D.prev=G,U.next=G,G.prev=U,G}function z(N,X,D,G){var V=new W(N,X,D);return G?(V.next=G.next,V.prev=G,G.next.prev=V,G.next=V):(V.prev=V,V.next=V),V}function Y(N){N.next.prev=N.prev,N.prev.next=N.next,N.prevZ&&(N.prevZ.nextZ=N.nextZ),N.nextZ&&(N.nextZ.prevZ=N.prevZ)}function W(N,X,D){this.i=N,this.x=X,this.y=D,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}T.deviation=function(N,X,D,G){var V=X&&X.length,U=V?X[0]*D:N.length,k=Math.abs(H(N,0,U,D));if(V)for(var $=0,K=X.length;$<K;$++){var J=X[$]*D,Q=$<K-1?X[$+1]*D:N.length;k-=Math.abs(H(N,J,Q,D))}var q=0;for($=0;$<G.length;$+=3){var _=G[$]*D,et=G[$+1]*D,tt=G[$+2]*D;q+=Math.abs((N[_]-N[tt])*(N[et+1]-N[_+1])-(N[_]-N[et])*(N[tt+1]-N[_+1]))}return k===0&&q===0?0:Math.abs((q-k)/k)};function H(N,X,D,G){for(var V=0,U=X,k=D-G;U<D;U+=G)V+=(N[k]-N[U])*(N[U+1]+N[k+1]),k=U;return V}T.flatten=function(N){for(var X=N[0][0].length,D={vertices:[],holes:[],dimensions:X},G=0,V=0;V<N.length;V++){for(var U=0;U<N[V].length;U++)for(var k=0;k<X;k++)D.vertices.push(N[V][U][k]);V>0&&(G+=N[V-1].length,D.holes.push(G))}return D},l.exports=T},14045:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(74118),m=function(d,o){o===void 0&&(o=new u);for(var h=1/0,n=1/0,r=-h,f=-n,a,v=0;v<d.points.length;v++)a=d.points[v],h=Math.min(h,a.x),n=Math.min(n,a.y),r=Math.max(r,a.x),f=Math.max(f,a.y);return o.x=h,o.y=n,o.width=r-h,o.height=f-n,o};l.exports=m},98286:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){u===void 0&&(u=[]);for(var m=0;m<e.points.length;m++)u.push(e.points[m].x),u.push(e.points[m].y);return u};l.exports=T},89294:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(16028),m=e(88829),d=e(5159),o=function(h,n,r,f){f===void 0&&(f=[]);var a=h.points,v=d(h);!n&&r>0&&(n=v/r);for(var p=0;p<n;p++)for(var c=v*(p/n),g=0,y=0;y<a.length;y++){var S=a[y],P=a[(y+1)%a.length],C=new m(S.x,S.y,P.x,P.y),M=u(C);if(c<g||c>g+M){g+=M;continue}var R=C.getPoint((c-g)/M);f.push(R);break}return f};l.exports=o},5159:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(16028),m=e(88829),d=function(o){for(var h=o.points,n=0,r=0;r<h.length;r++){var f=h[r],a=h[(r+1)%h.length],v=new m(f.x,f.y,a.x,a.y);n+=u(v)}return n};l.exports=d},8580:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(45604),d=e(89294),o=e(52394),h=new u({initialize:function(r){this.type=o.POLYGON,this.area=0,this.points=[],r&&this.setTo(r)},contains:function(n,r){return m(this,n,r)},setTo:function(n){if(this.area=0,this.points=[],typeof n=="string"&&(n=n.split(" ")),!Array.isArray(n))return this;for(var r,f=Number.MAX_VALUE,a=0;a<n.length;a++)r={x:0,y:0},typeof n[a]=="number"||typeof n[a]=="string"?(r.x=parseFloat(n[a]),r.y=parseFloat(n[a+1]),a++):Array.isArray(n[a])?(r.x=n[a][0],r.y=n[a][1]):(r.x=n[a].x,r.y=n[a].y),this.points.push(r),r.y<f&&(f=r.y);return this.calculateArea(f),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var n=0,r,f,a=0;a<this.points.length-1;a++)r=this.points[a],f=this.points[a+1],n+=(f.x-r.x)*(r.y+f.y);return r=this.points[0],f=this.points[this.points.length-1],n+=(r.x-f.x)*(f.y+r.y),this.area=-n*.5,this.area},getPoints:function(n,r,f){return d(this,n,r,f)}});l.exports=h},32244:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.points.reverse(),e};l.exports=T},95874:l=>{function T(h,n){var r=h.x-n.x,f=h.y-n.y;return r*r+f*f}function e(h,n,r){var f=n.x,a=n.y,v=r.x-f,p=r.y-a;if(v!==0||p!==0){var c=((h.x-f)*v+(h.y-a)*p)/(v*v+p*p);c>1?(f=r.x,a=r.y):c>0&&(f+=v*c,a+=p*c)}return v=h.x-f,p=h.y-a,v*v+p*p}function u(h,n){for(var r=h[0],f=[r],a,v=1,p=h.length;v<p;v++)a=h[v],T(a,r)>n&&(f.push(a),r=a);return r!==a&&f.push(a),f}function m(h,n,r,f,a){for(var v=f,p,c=n+1;c<r;c++){var g=e(h[c],h[n],h[r]);g>v&&(p=c,v=g)}v>f&&(p-n>1&&m(h,n,p,f,a),a.push(h[p]),r-p>1&&m(h,p,r,f,a))}function d(h,n){var r=h.length-1,f=[h[0]];return m(h,0,r,n,f),f.push(h[r]),f}var o=function(h,n,r){n===void 0&&(n=1),r===void 0&&(r=!1);var f=h.points;if(f.length>2){var a=n*n;r||(f=u(f,a)),h.setTo(d(f,a))}return h};l.exports=o},18974:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(u,m){return u[0]=m[0],u[1]=m[1],u},e=function(u){var m,d=[],o=u.points;for(m=0;m<o.length;m++)d.push([o[m].x,o[m].y]);var h=[];for(d.length>0&&h.push(T([0,0],d[0])),m=0;m<d.length-1;m++){var n=d[m],r=d[m+1],f=n[0],a=n[1],v=r[0],p=r[1];h.push([.85*f+.15*v,.85*a+.15*p]),h.push([.15*f+.85*v,.15*a+.85*p])}return d.length>1&&h.push(T([0,0],d[d.length-1])),u.setTo(h)};l.exports=e},23490:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){for(var d=e.points,o=0;o<d.length;o++)d[o].x+=u,d[o].y+=m;return e};l.exports=T},44359:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(8580);u.Clone=e(19631),u.Contains=e(45604),u.ContainsPoint=e(87289),u.Earcut=e(11117),u.GetAABB=e(14045),u.GetNumberArray=e(98286),u.GetPoints=e(89294),u.Perimeter=e(5159),u.Reverse=e(32244),u.Simplify=e(95874),u.Smooth=e(18974),u.Translate=e(23490),l.exports=u},1653:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.width*e.height};l.exports=T},33943:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.x=Math.ceil(e.x),e.y=Math.ceil(e.y),e};l.exports=T},58662:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.x=Math.ceil(e.x),e.y=Math.ceil(e.y),e.width=Math.ceil(e.width),e.height=Math.ceil(e.height),e};l.exports=T},79993:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){return e.x=u-e.width/2,e.y=m-e.height/2,e};l.exports=T},81572:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(74118),m=function(d){return new u(d.x,d.y,d.width,d.height)};l.exports=m},94287:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){return e.width<=0||e.height<=0?!1:e.x<=u&&e.x+e.width>=u&&e.y<=m&&e.y+e.height>=m};l.exports=T},28687:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(94287),m=function(d,o){return u(d,o.x,o.y)};l.exports=m},73222:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return u.width*u.height>e.width*e.height?!1:u.x>e.x&&u.x<e.right&&u.right>e.x&&u.right<e.right&&u.y>e.y&&u.y<e.bottom&&u.bottom>e.y&&u.bottom<e.bottom};l.exports=T},29538:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return u.setTo(e.x,e.y,e.width,e.height)};l.exports=T},87279:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return u===void 0&&(u=[]),u.push({x:e.x,y:e.y}),u.push({x:e.right,y:e.y}),u.push({x:e.right,y:e.bottom}),u.push({x:e.x,y:e.bottom}),u};l.exports=T},19989:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e.x===u.x&&e.y===u.y&&e.width===u.width&&e.height===u.height};l.exports=T},92628:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(6700),m=function(d,o){var h=u(d);return h<u(o)?d.setSize(o.height*h,o.height):d.setSize(o.width,o.width/h),d.setPosition(o.centerX-d.width/2,o.centerY-d.height/2)};l.exports=m},85028:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(6700),m=function(d,o){var h=u(d);return h>u(o)?d.setSize(o.height*h,o.height):d.setSize(o.width,o.width/h),d.setPosition(o.centerX-d.width/2,o.centerY-d.height/2)};l.exports=m},71356:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.x=Math.floor(e.x),e.y=Math.floor(e.y),e};l.exports=T},21687:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.x=Math.floor(e.x),e.y=Math.floor(e.y),e.width=Math.floor(e.width),e.height=Math.floor(e.height),e};l.exports=T},80222:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(74118),m=e(83392),d=function(o,h){if(h===void 0&&(h=new u),o.length===0)return h;for(var n=Number.MAX_VALUE,r=Number.MAX_VALUE,f=m.MIN_SAFE_INTEGER,a=m.MIN_SAFE_INTEGER,v,p,c,g=0;g<o.length;g++)v=o[g],Array.isArray(v)?(p=v[0],c=v[1]):(p=v.x,c=v.y),n=Math.min(n,p),r=Math.min(r,c),f=Math.max(f,p),a=Math.max(a,c);return h.x=n,h.y=r,h.width=f-n,h.height=a-r,h};l.exports=d},75785:(l,T,e)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(74118),m=function(d,o,h,n,r){return r===void 0&&(r=new u),r.setTo(Math.min(d,h),Math.min(o,n),Math.abs(d-h),Math.abs(o-n))};l.exports=m},6700:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.height===0?NaN:e.width/e.height};l.exports=T},35242:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),m=function(d,o){return o===void 0&&(o=new u),o.x=d.centerX,o.y=d.centerY,o};l.exports=m},47698:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(85876),m=e(79967),d=function(o,h,n){if(n===void 0&&(n=new m),h<=0||h>=1)return n.x=o.x,n.y=o.y,n;var r=u(o)*h;return h>.5?(r-=o.width+o.height,r<=o.width?(n.x=o.right-r,n.y=o.bottom):(n.x=o.x,n.y=o.bottom-(r-o.width))):r<=o.width?(n.x=o.x+r,n.y=o.y):(n.x=o.right,n.y=o.y+(r-o.width)),n};l.exports=d},54932:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(47698),m=e(85876),d=function(o,h,n,r){r===void 0&&(r=[]),!h&&n>0&&(h=m(o)/n);for(var f=0;f<h;f++){var a=f/h;r.push(u(o,a))}return r};l.exports=d},31591:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),m=function(d,o){return o===void 0&&(o=new u),o.x=d.width,o.y=d.height,o};l.exports=m},7782:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79993),m=function(d,o,h){var n=d.centerX,r=d.centerY;return d.setSize(d.width+o*2,d.height+h*2),u(d,n,r)};l.exports=m},66217:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(74118),m=e(90205),d=function(o,h,n){return n===void 0&&(n=new u),m(o,h)?(n.x=Math.max(o.x,h.x),n.y=Math.max(o.y,h.y),n.width=Math.min(o.right,h.right)-n.x,n.height=Math.min(o.bottom,h.bottom)-n.y):n.setEmpty(),n};l.exports=d},40053:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(85876),m=e(79967),d=function(o,h,n,r){if(r===void 0&&(r=[]),!h&&!n)return r;h?n=Math.round(u(o)/h):h=u(o)/n;for(var f=o.x,a=o.y,v=0,p=0;p<n;p++)switch(r.push(new m(f,a)),v){case 0:f+=h,f>=o.right&&(v=1,a+=f-o.right,f=o.right);break;case 1:a+=h,a>=o.bottom&&(v=2,f-=a-o.bottom,a=o.bottom);break;case 2:f-=h,f<=o.left&&(v=3,a-=o.left-f,f=o.left);break;case 3:a-=h,a<=o.top&&(v=0,a=o.top);break}return r};l.exports=d},86673:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){for(var m=e.x,d=e.right,o=e.y,h=e.bottom,n=0;n<u.length;n++)m=Math.min(m,u[n].x),d=Math.max(d,u[n].x),o=Math.min(o,u[n].y),h=Math.max(h,u[n].y);return e.x=m,e.y=o,e.width=d-m,e.height=h-o,e};l.exports=T},14655:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){var m=Math.min(e.x,u.x),d=Math.max(e.right,u.right);e.x=m,e.width=d-m;var o=Math.min(e.y,u.y),h=Math.max(e.bottom,u.bottom);return e.y=o,e.height=h-o,e};l.exports=T},44755:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){var d=Math.min(e.x,u),o=Math.max(e.right,u);e.x=d,e.width=o-d;var h=Math.min(e.y,m),n=Math.max(e.bottom,m);return e.y=h,e.height=n-h,e};l.exports=T},74466:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){return e.x+=u,e.y+=m,e};l.exports=T},55946:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e.x+=u.x,e.y+=u.y,e};l.exports=T},97474:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e.x<u.right&&e.right>u.x&&e.y<u.bottom&&e.bottom>u.y};l.exports=T},85876:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return 2*(e.width+e.height)};l.exports=T},20243:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),m=e(75606),d=function(o,h,n){n===void 0&&(n=new u),h=m(h);var r=Math.sin(h),f=Math.cos(h),a=f>0?o.width/2:o.width/-2,v=r>0?o.height/2:o.height/-2;return Math.abs(a*r)<Math.abs(v*f)?v=a*r/f:a=v*f/r,n.x=a+o.centerX,n.y=v+o.centerY,n};l.exports=d},30001:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),m=function(d,o){return o===void 0&&(o=new u),o.x=d.x+Math.random()*d.width,o.y=d.y+Math.random()*d.height,o};l.exports=m},97691:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(17489),m=e(73222),d=e(79967),o=function(h,n,r){if(r===void 0&&(r=new d),m(h,n))switch(u(0,3)){case 0:r.x=h.x+Math.random()*(n.right-h.x),r.y=h.y+Math.random()*(n.top-h.y);break;case 1:r.x=n.x+Math.random()*(h.right-n.x),r.y=n.bottom+Math.random()*(h.bottom-n.bottom);break;case 2:r.x=h.x+Math.random()*(n.x-h.x),r.y=n.y+Math.random()*(h.bottom-n.y);break;case 3:r.x=n.right+Math.random()*(h.right-n.right),r.y=h.y+Math.random()*(n.bottom-h.y);break}return r};l.exports=o},74118:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(94287),d=e(47698),o=e(54932),h=e(52394),n=e(88829),r=e(30001),f=new u({initialize:function(v,p,c,g){v===void 0&&(v=0),p===void 0&&(p=0),c===void 0&&(c=0),g===void 0&&(g=0),this.type=h.RECTANGLE,this.x=v,this.y=p,this.width=c,this.height=g},contains:function(a,v){return m(this,a,v)},getPoint:function(a,v){return d(this,a,v)},getPoints:function(a,v,p){return o(this,a,v,p)},getRandomPoint:function(a){return r(this,a)},setTo:function(a,v,p,c){return this.x=a,this.y=v,this.width=p,this.height=c,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(a,v){return v===void 0&&(v=a),this.x=a,this.y=v,this},setSize:function(a,v){return v===void 0&&(v=a),this.width=a,this.height=v,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(a){return a===void 0&&(a=new n),a.setTo(this.x,this.y,this.right,this.y),a},getLineB:function(a){return a===void 0&&(a=new n),a.setTo(this.right,this.y,this.right,this.bottom),a},getLineC:function(a){return a===void 0&&(a=new n),a.setTo(this.right,this.bottom,this.x,this.bottom),a},getLineD:function(a){return a===void 0&&(a=new n),a.setTo(this.x,this.bottom,this.x,this.y),a},left:{get:function(){return this.x},set:function(a){a>=this.right?this.width=0:this.width=this.right-a,this.x=a}},right:{get:function(){return this.x+this.width},set:function(a){a<=this.x?this.width=0:this.width=a-this.x}},top:{get:function(){return this.y},set:function(a){a>=this.bottom?this.height=0:this.height=this.bottom-a,this.y=a}},bottom:{get:function(){return this.y+this.height},set:function(a){a<=this.y?this.height=0:this.height=a-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(a){this.x=a-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(a){this.y=a-this.height/2}}});l.exports=f},51828:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e.width===u.width&&e.height===u.height};l.exports=T},5691:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){return m===void 0&&(m=u),e.width*=u,e.height*=m,e};l.exports=T},58795:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(74118),m=function(d,o,h){h===void 0&&(h=new u);var n=Math.min(d.x,o.x),r=Math.min(d.y,o.y),f=Math.max(d.right,o.right)-n,a=Math.max(d.bottom,o.bottom)-r;return h.setTo(n,r,f,a)};l.exports=m},66658:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(74118);u.Area=e(1653),u.Ceil=e(33943),u.CeilAll=e(58662),u.CenterOn=e(79993),u.Clone=e(81572),u.Contains=e(94287),u.ContainsPoint=e(28687),u.ContainsRect=e(73222),u.CopyFrom=e(29538),u.Decompose=e(87279),u.Equals=e(19989),u.FitInside=e(92628),u.FitOutside=e(85028),u.Floor=e(71356),u.FloorAll=e(21687),u.FromPoints=e(80222),u.FromXY=e(75785),u.GetAspectRatio=e(6700),u.GetCenter=e(35242),u.GetPoint=e(47698),u.GetPoints=e(54932),u.GetSize=e(31591),u.Inflate=e(7782),u.Intersection=e(66217),u.MarchingAnts=e(40053),u.MergePoints=e(86673),u.MergeRect=e(14655),u.MergeXY=e(44755),u.Offset=e(74466),u.OffsetPoint=e(55946),u.Overlaps=e(97474),u.Perimeter=e(85876),u.PerimeterPoint=e(20243),u.Random=e(30001),u.RandomOutside=e(97691),u.SameDimensions=e(51828),u.Scale=e(5691),u.Union=e(58795),l.exports=u},19108:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){var u=e.x1,m=e.y1,d=e.x2,o=e.y2,h=e.x3,n=e.y3;return Math.abs(((h-u)*(o-m)-(d-u)*(n-m))/2)};l.exports=T},41199:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66349),m=function(d,o,h){var n=h*(Math.sqrt(3)/2),r=d,f=o,a=d+h/2,v=o+n,p=d-h/2,c=o+n;return new u(r,f,a,v,p,c)};l.exports=m},88730:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(11117),m=e(66349),d=function(o,h,n,r,f){h===void 0&&(h=null),n===void 0&&(n=1),r===void 0&&(r=1),f===void 0&&(f=[]);for(var a=u(o,h),v,p,c,g,y,S,P,C,M,R=0;R<a.length;R+=3)v=a[R],p=a[R+1],c=a[R+2],g=o[v*2]*n,y=o[v*2+1]*r,S=o[p*2]*n,P=o[p*2+1]*r,C=o[c*2]*n,M=o[c*2+1]*r,f.push(new m(g,y,S,P,C,M));return f};l.exports=d},3635:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66349),m=function(d,o,h,n){n===void 0&&(n=h);var r=d,f=o,a=d,v=o-n,p=d+h,c=o;return new u(r,f,a,v,p,c)};l.exports=m},1882:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56595),m=e(9640),d=function(o,h,n,r){r===void 0&&(r=u);var f=r(o),a=h-f.x,v=n-f.y;return m(o,a,v)};l.exports=d},56595:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),m=function(d,o){return o===void 0&&(o=new u),o.x=(d.x1+d.x2+d.x3)/3,o.y=(d.y1+d.y2+d.y3)/3,o};l.exports=m},91835:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(93736);function m(o,h,n,r){return o*r-h*n}var d=function(o,h){h===void 0&&(h=new u);var n=o.x3,r=o.y3,f=o.x1-n,a=o.y1-r,v=o.x2-n,p=o.y2-r,c=2*m(f,a,v,p),g=m(a,f*f+a*a,p,v*v+p*p),y=m(f,f*f+a*a,v,v*v+p*p);return h.x=n-g/c,h.y=r+y/c,h};l.exports=d},97073:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26673),m=function(d,o){o===void 0&&(o=new u);var h=d.x1,n=d.y1,r=d.x2,f=d.y2,a=d.x3,v=d.y3,p=r-h,c=f-n,g=a-h,y=v-n,S=p*(h+r)+c*(n+f),P=g*(h+a)+y*(n+v),C=2*(p*(v-f)-c*(a-r)),M,R;if(Math.abs(C)<1e-6){var w=Math.min(h,r,a),O=Math.min(n,f,v);M=(Math.max(h,r,a)-w)*.5,R=(Math.max(n,f,v)-O)*.5,o.x=w+M,o.y=O+R,o.radius=Math.sqrt(M*M+R*R)}else o.x=(y*S-c*P)/C,o.y=(p*P-g*S)/C,M=o.x-h,R=o.y-n,o.radius=Math.sqrt(M*M+R*R);return o};l.exports=m},75974:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66349),m=function(d){return new u(d.x1,d.y1,d.x2,d.y2,d.x3,d.y3)};l.exports=m},60689:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){var d=e.x3-e.x1,o=e.y3-e.y1,h=e.x2-e.x1,n=e.y2-e.y1,r=u-e.x1,f=m-e.y1,a=d*d+o*o,v=d*h+o*n,p=d*r+o*f,c=h*h+n*n,g=h*r+n*f,y=a*c-v*v,S=y===0?0:1/y,P=(c*p-v*g)*S,C=(a*g-v*p)*S;return P>=0&&C>=0&&P+C<1};l.exports=T},86875:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d){m===void 0&&(m=!1),d===void 0&&(d=[]);for(var o=e.x3-e.x1,h=e.y3-e.y1,n=e.x2-e.x1,r=e.y2-e.y1,f=o*o+h*h,a=o*n+h*r,v=n*n+r*r,p=f*v-a*a,c=p===0?0:1/p,g,y,S,P,C,M,R=e.x1,w=e.y1,O=0;O<u.length&&(S=u[O].x-R,P=u[O].y-w,C=o*S+h*P,M=n*S+r*P,g=(v*C-a*M)*c,y=(f*M-a*C)*c,!(g>=0&&y>=0&&g+y<1&&(d.push({x:u[O].x,y:u[O].y}),m)));O++);return d};l.exports=T},51532:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(60689),m=function(d,o){return u(d,o.x,o.y)};l.exports=m},42538:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return u.setTo(e.x1,e.y1,e.x2,e.y2,e.x3,e.y3)};l.exports=T},18680:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return u===void 0&&(u=[]),u.push({x:e.x1,y:e.y1}),u.push({x:e.x2,y:e.y2}),u.push({x:e.x3,y:e.y3}),u};l.exports=T},29977:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e.x1===u.x1&&e.y1===u.y1&&e.x2===u.x2&&e.y2===u.y2&&e.x3===u.x3&&e.y3===u.y3};l.exports=T},56088:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),m=e(16028),d=function(o,h,n){n===void 0&&(n=new u);var r=o.getLineA(),f=o.getLineB(),a=o.getLineC();if(h<=0||h>=1)return n.x=r.x1,n.y=r.y1,n;var v=m(r),p=m(f),c=m(a),g=v+p+c,y=g*h,S=0;return y<v?(S=y/v,n.x=r.x1+(r.x2-r.x1)*S,n.y=r.y1+(r.y2-r.y1)*S):y>v+p?(y-=v+p,S=y/c,n.x=a.x1+(a.x2-a.x1)*S,n.y=a.y1+(a.y2-a.y1)*S):(y-=v,S=y/p,n.x=f.x1+(f.x2-f.x1)*S,n.y=f.y1+(f.y2-f.y1)*S),n};l.exports=d},24402:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(16028),m=e(79967),d=function(o,h,n,r){r===void 0&&(r=[]);var f=o.getLineA(),a=o.getLineB(),v=o.getLineC(),p=u(f),c=u(a),g=u(v),y=p+c+g;!h&&n>0&&(h=y/n);for(var S=0;S<h;S++){var P=y*(S/h),C=0,M=new m;P<p?(C=P/p,M.x=f.x1+(f.x2-f.x1)*C,M.y=f.y1+(f.y2-f.y1)*C):P>p+c?(P-=p+c,C=P/g,M.x=v.x1+(v.x2-v.x1)*C,M.y=v.y1+(v.y2-v.y1)*C):(P-=p,C=P/c,M.x=a.x1+(a.x2-a.x1)*C,M.y=a.y1+(a.y2-a.y1)*C),r.push(M)}return r};l.exports=d},83648:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967);function m(o,h,n,r){var f=o-n,a=h-r,v=f*f+a*a;return Math.sqrt(v)}var d=function(o,h){h===void 0&&(h=new u);var n=o.x1,r=o.y1,f=o.x2,a=o.y2,v=o.x3,p=o.y3,c=m(v,p,f,a),g=m(n,r,v,p),y=m(f,a,n,r),S=c+g+y;return h.x=(n*c+f*g+v*y)/S,h.y=(r*c+a*g+p*y)/S,h};l.exports=d},9640:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){return e.x1+=u,e.y1+=m,e.x2+=u,e.y2+=m,e.x3+=u,e.y3+=m,e};l.exports=T},95290:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(16028),m=function(d){var o=d.getLineA(),h=d.getLineB(),n=d.getLineC();return u(o)+u(h)+u(n)};l.exports=m},99761:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),m=function(d,o){o===void 0&&(o=new u);var h=d.x2-d.x1,n=d.y2-d.y1,r=d.x3-d.x1,f=d.y3-d.y1,a=Math.random(),v=Math.random();return a+v>=1&&(a=1-a,v=1-v),o.x=d.x1+(h*a+r*v),o.y=d.y1+(n*a+f*v),o};l.exports=m},21934:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(19211),m=e(83648),d=function(o,h){var n=m(o);return u(o,n.x,n.y,h)};l.exports=d},68454:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(19211),m=function(d,o,h){return u(d,o.x,o.y,h)};l.exports=m},19211:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d){var o=Math.cos(d),h=Math.sin(d),n=e.x1-u,r=e.y1-m;return e.x1=n*o-r*h+u,e.y1=n*h+r*o+m,n=e.x2-u,r=e.y2-m,e.x2=n*o-r*h+u,e.y2=n*h+r*o+m,n=e.x3-u,r=e.y3-m,e.x3=n*o-r*h+u,e.y3=n*h+r*o+m,e};l.exports=T},66349:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(60689),d=e(56088),o=e(24402),h=e(52394),n=e(88829),r=e(99761),f=new u({initialize:function(v,p,c,g,y,S){v===void 0&&(v=0),p===void 0&&(p=0),c===void 0&&(c=0),g===void 0&&(g=0),y===void 0&&(y=0),S===void 0&&(S=0),this.type=h.TRIANGLE,this.x1=v,this.y1=p,this.x2=c,this.y2=g,this.x3=y,this.y3=S},contains:function(a,v){return m(this,a,v)},getPoint:function(a,v){return d(this,a,v)},getPoints:function(a,v,p){return o(this,a,v,p)},getRandomPoint:function(a){return r(this,a)},setTo:function(a,v,p,c,g,y){return a===void 0&&(a=0),v===void 0&&(v=0),p===void 0&&(p=0),c===void 0&&(c=0),g===void 0&&(g=0),y===void 0&&(y=0),this.x1=a,this.y1=v,this.x2=p,this.y2=c,this.x3=g,this.y3=y,this},getLineA:function(a){return a===void 0&&(a=new n),a.setTo(this.x1,this.y1,this.x2,this.y2),a},getLineB:function(a){return a===void 0&&(a=new n),a.setTo(this.x2,this.y2,this.x3,this.y3),a},getLineC:function(a){return a===void 0&&(a=new n),a.setTo(this.x3,this.y3,this.x1,this.y1),a},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(a){var v=0;this.x1<=this.x2&&this.x1<=this.x3?v=this.x1-a:this.x2<=this.x1&&this.x2<=this.x3?v=this.x2-a:v=this.x3-a,this.x1-=v,this.x2-=v,this.x3-=v}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(a){var v=0;this.x1>=this.x2&&this.x1>=this.x3?v=this.x1-a:this.x2>=this.x1&&this.x2>=this.x3?v=this.x2-a:v=this.x3-a,this.x1-=v,this.x2-=v,this.x3-=v}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(a){var v=0;this.y1<=this.y2&&this.y1<=this.y3?v=this.y1-a:this.y2<=this.y1&&this.y2<=this.y3?v=this.y2-a:v=this.y3-a,this.y1-=v,this.y2-=v,this.y3-=v}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(a){var v=0;this.y1>=this.y2&&this.y1>=this.y3?v=this.y1-a:this.y2>=this.y1&&this.y2>=this.y3?v=this.y2-a:v=this.y3-a,this.y1-=v,this.y2-=v,this.y3-=v}}});l.exports=f},87619:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66349);u.Area=e(19108),u.BuildEquilateral=e(41199),u.BuildFromPolygon=e(88730),u.BuildRight=e(3635),u.CenterOn=e(1882),u.Centroid=e(56595),u.CircumCenter=e(91835),u.CircumCircle=e(97073),u.Clone=e(75974),u.Contains=e(60689),u.ContainsArray=e(86875),u.ContainsPoint=e(51532),u.CopyFrom=e(42538),u.Decompose=e(18680),u.Equals=e(29977),u.GetPoint=e(56088),u.GetPoints=e(24402),u.InCenter=e(83648),u.Perimeter=e(95290),u.Offset=e(9640),u.Random=e(99761),u.Rotate=e(21934),u.RotateAroundPoint=e(68454),u.RotateAroundXY=e(19211),l.exports=u},27395:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){return{gameObject:e,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:u,hitAreaCallback:m,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}};l.exports=T},18104:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return function(m,d,o,h){var n=e.getPixelAlpha(d,o,h.texture.key,h.frame.name);return n&&n>=u}};l.exports=T},69898:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(72687),d=e(6659),o=e(33963),h=e(97081),n=e(71064),r=e(7905),f=e(40398),a=e(37579),v=e(69360),p=e(64462),c=new u({initialize:function(y,S){this.game=y,this.scaleManager,this.canvas,this.config=S,this.enabled=!0,this.events=new d,this.isOver=!0,this.defaultCursor="",this.keyboard=S.inputKeyboard?new n(this):null,this.mouse=S.inputMouse?new r(this):null,this.touch=S.inputTouch?new a(this):null,this.pointers=[],this.pointersTotal=S.inputActivePointers,S.inputTouch&&this.pointersTotal===1&&(this.pointersTotal=2);for(var P=0;P<=this.pointersTotal;P++){var C=new f(this,P);C.smoothFactor=S.inputSmoothFactor,this.pointers.push(C)}this.mousePointer=S.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new v,this._tempMatrix2=new v,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],y.events.once(h.BOOT,this.boot,this)},boot:function(){var g=this.game,y=g.events;this.canvas=g.canvas,this.scaleManager=g.scale,this.events.emit(o.MANAGER_BOOT),y.on(h.PRE_RENDER,this.preRender,this),y.once(h.DESTROY,this.destroy,this)},setCanvasOver:function(g){this.isOver=!0,this.events.emit(o.GAME_OVER,g)},setCanvasOut:function(g){this.isOver=!1,this.events.emit(o.GAME_OUT,g)},preRender:function(){var g=this.game.loop.now,y=this.game.loop.delta,S=this.game.scene.getScenes(!0,!0);this.time=g,this.events.emit(o.MANAGER_UPDATE);for(var P=0;P<S.length;P++){var C=S[P];if(C.sys.input&&C.sys.input.updatePoll(g,y)&&this.globalTopOnly)return}},setDefaultCursor:function(g){this.defaultCursor=g,this.canvas.style.cursor!==g&&(this.canvas.style.cursor=g)},setCursor:function(g){g.cursor&&(this.canvas.style.cursor=g.cursor)},resetCursor:function(g){g.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(g){g===void 0&&(g=1);var y=[];this.pointersTotal+g>10&&(g=10-this.pointersTotal);for(var S=0;S<g;S++){var P=this.pointers.length,C=new f(this,P);C.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(C),this.pointersTotal++,y.push(C)}return y},updateInputPlugins:function(g,y){var S=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var P=0;P<S.length;P++){var C=S[P];if(C.sys.input){var M=C.sys.input.update(g,y);if(M&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(g){for(var y=this.pointers,S=[],P=0;P<g.changedTouches.length;P++)for(var C=g.changedTouches[P],M=1;M<this.pointersTotal;M++){var R=y[M];if(!R.active){R.touchstart(C,g),this.activePointer=R,S.push(R);break}}this.updateInputPlugins(m.TOUCH_START,S)},onTouchMove:function(g){for(var y=this.pointers,S=[],P=0;P<g.changedTouches.length;P++)for(var C=g.changedTouches[P],M=1;M<this.pointersTotal;M++){var R=y[M];if(R.active&&R.identifier===C.identifier){var w=document.elementFromPoint(C.pageX,C.pageY),O=w===this.canvas;!this.isOver&&O?this.setCanvasOver(g):this.isOver&&!O&&this.setCanvasOut(g),this.isOver&&(R.touchmove(C,g),this.activePointer=R,S.push(R));break}}this.updateInputPlugins(m.TOUCH_MOVE,S)},onTouchEnd:function(g){for(var y=this.pointers,S=[],P=0;P<g.changedTouches.length;P++)for(var C=g.changedTouches[P],M=1;M<this.pointersTotal;M++){var R=y[M];if(R.active&&R.identifier===C.identifier){R.touchend(C,g),S.push(R);break}}this.updateInputPlugins(m.TOUCH_END,S)},onTouchCancel:function(g){for(var y=this.pointers,S=[],P=0;P<g.changedTouches.length;P++)for(var C=g.changedTouches[P],M=1;M<this.pointersTotal;M++){var R=y[M];if(R.active&&R.identifier===C.identifier){R.touchcancel(C,g),S.push(R);break}}this.updateInputPlugins(m.TOUCH_CANCEL,S)},onMouseDown:function(g){var y=this.mousePointer;y.down(g),y.updateMotion(),this.activePointer=y,this.updateInputPlugins(m.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(g){var y=this.mousePointer;y.move(g),y.updateMotion(),this.activePointer=y,this.updateInputPlugins(m.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(g){var y=this.mousePointer;y.up(g),y.updateMotion(),this.activePointer=y,this.updateInputPlugins(m.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(g){var y=this.mousePointer;y.wheel(g),this.activePointer=y,this.updateInputPlugins(m.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(g){var y=this.mouse.locked;this.mousePointer.locked=y,this.events.emit(o.POINTERLOCK_CHANGE,g,y)},inputCandidate:function(g,y){var S=g.input;if(!S||!S.enabled||!g.willRender(y))return!1;var P=!0,C=g.parentContainer;if(C)do{if(!C.willRender(y)){P=!1;break}C=C.parentContainer}while(C);return P},hitTest:function(g,y,S,P){P===void 0&&(P=this._tempHitTest);var C=this._tempPoint,M=S.scrollX,R=S.scrollY;P.length=0;var w=g.x,O=g.y;S.getWorldPoint(w,O,C),g.worldX=C.x,g.worldY=C.y;for(var F={x:0,y:0},L=this._tempMatrix,b=this._tempMatrix2,B=0;B<y.length;B++){var I=y[B];if(this.inputCandidate(I,S)){var z=C.x+M*I.scrollFactorX-M,Y=C.y+R*I.scrollFactorY-R;I.parentContainer?(I.getWorldTransformMatrix(L,b),L.applyInverse(z,Y,F)):p(z,Y,I.x,I.y,I.rotation,I.scaleX,I.scaleY,F),this.pointWithinHitArea(I,F.x,F.y)&&P.push(I)}}return P},pointWithinHitArea:function(g,y,S){y+=g.displayOriginX,S+=g.displayOriginY;var P=g.input;return P&&P.hitAreaCallback(P.hitArea,y,S,g)?(P.localX=y,P.localY=S,!0):!1},pointWithinInteractiveObject:function(g,y,S){return g.hitArea?(y+=g.gameObject.displayOriginX,S+=g.gameObject.displayOriginY,g.localX=y,g.localY=S,g.hitAreaCallback(g.hitArea,y,S,g)):!1},transformPointer:function(g,y,S,P){var C=g.position,M=g.prevPosition;M.x=C.x,M.y=C.y;var R=this.scaleManager.transformX(y),w=this.scaleManager.transformY(S),O=g.smoothFactor;!P||O===0?(C.x=R,C.y=w):(C.x=R*O+M.x*(1-O),C.y=w*O+M.y*(1-O))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(h.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var g=0;g<this.pointers.length;g++)this.pointers[g].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});l.exports=c},12499:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26673),m=e(65650),d=e(56694),o=e(72687),h=e(27395),n=e(18104),r=e(53996),f=e(95669),a=e(72313),v=e(33963),p=e(6659),c=e(72632),g=e(52394),y=e(63399),S=e(42911),P=e(91963),C=e(74118),M=e(94287),R=e(7599),w=e(66349),O=e(60689),F=new d({Extends:p,initialize:function(b){p.call(this),this.scene=b,this.systems=b.sys,this.settings=b.sys.settings,this.manager=b.sys.game.input,this.pluginEvents=new p,this.enabled=!0,this.displayList,this.cameras,y.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var B={cancelled:!1};this._eventContainer={stopPropagation:function(){B.cancelled=!0}},this._eventData=B,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,b.sys.events.once(R.BOOT,this.boot,this),b.sys.events.on(R.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(R.DESTROY,this.destroy,this),this.pluginEvents.emit(v.BOOT)},start:function(){var L=this.systems.events;L.on(R.TRANSITION_START,this.transitionIn,this),L.on(R.TRANSITION_OUT,this.transitionOut,this),L.on(R.TRANSITION_COMPLETE,this.transitionComplete,this),L.on(R.PRE_UPDATE,this.preUpdate,this),L.once(R.SHUTDOWN,this.shutdown,this),this.manager.events.on(v.GAME_OUT,this.onGameOut,this),this.manager.events.on(v.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(v.START)},onGameOver:function(L){this.isActive()&&this.emit(v.GAME_OVER,L.timeStamp,L)},onGameOut:function(L){this.isActive()&&this.emit(v.GAME_OUT,L.timeStamp,L)},preUpdate:function(){this.pluginEvents.emit(v.PRE_UPDATE);var L=this._pendingRemoval,b=this._pendingInsertion,B=L.length,I=b.length;if(!(B===0&&I===0)){for(var z=this._list,Y=0;Y<B;Y++){var W=L[Y],H=z.indexOf(W);H>-1&&(z.splice(H,1),this.clear(W,!0))}this._pendingRemoval.length=0,this._list=z.concat(b.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.canInput()},updatePoll:function(L,b){if(!this.isActive())return!1;if(this.pluginEvents.emit(v.UPDATE,L,b),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var B,I=this.manager,z=I.pointers,Y=I.pointersTotal;for(B=0;B<Y;B++)z[B].updateMotion();if(this._list.length===0)return!1;var W=this.pollRate;if(W===-1)return!1;if(W>0)if(this._pollTimer-=b,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var H=!1;for(B=0;B<Y;B++){var N=0,X=z[B];this._tempZones=[],this._temp=this.hitTestPointer(X),this.sortGameObjects(this._temp,X),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),N+=this.processOverOutEvents(X),this.getDragState(X)===2&&this.processDragThresholdEvent(X,L),N>0&&(H=!0)}return H},update:function(L,b){if(!this.isActive())return!1;for(var B=b.length,I=!1,z=0;z<B;z++){var Y=0,W=b[z];switch(this._tempZones=[],this._temp=this.hitTestPointer(W),this.sortGameObjects(this._temp,W),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),L){case o.MOUSE_DOWN:Y+=this.processDragDownEvent(W),Y+=this.processDownEvents(W),Y+=this.processOverOutEvents(W);break;case o.MOUSE_UP:Y+=this.processDragUpEvent(W),Y+=this.processUpEvents(W),Y+=this.processOverOutEvents(W);break;case o.TOUCH_START:Y+=this.processDragDownEvent(W),Y+=this.processDownEvents(W),Y+=this.processOverEvents(W);break;case o.TOUCH_END:case o.TOUCH_CANCEL:Y+=this.processDragUpEvent(W),Y+=this.processUpEvents(W),Y+=this.processOutEvents(W);break;case o.MOUSE_MOVE:case o.TOUCH_MOVE:Y+=this.processDragMoveEvent(W),Y+=this.processMoveEvents(W),Y+=this.processOverOutEvents(W);break;case o.MOUSE_WHEEL:Y+=this.processWheelEvent(W);break}Y>0&&(I=!0)}return this._updatedThisFrame=!0,I},clear:function(L,b){b===void 0&&(b=!1),this.disable(L);var B=L.input;B&&(this.removeDebug(L),B.gameObject=void 0,B.target=void 0,B.hitArea=void 0,B.hitAreaCallback=void 0,B.callbackContext=void 0,L.input=null),b||this.queueForRemoval(L);var I=this._draggable.indexOf(L);return I>-1&&this._draggable.splice(I,1),L},disable:function(L){var b=L.input;b&&(b.enabled=!1,b.dragState=0);var B=this._temp,I=this._drag,z=this._over,Y=this.manager,W=B.indexOf(L);W>-1&&B.splice(W,1);for(var H=0;H<Y.pointersTotal;H++)W=I[H].indexOf(L),W>-1&&I[H].splice(W,1),W=z[H].indexOf(L),W>-1&&(z[H].splice(W,1),Y.resetCursor(b));return this},enable:function(L,b,B,I){return I===void 0&&(I=!1),L.input?L.input.enabled=!0:this.setHitArea(L,b,B),L.input&&I&&!L.input.dropZone&&(L.input.dropZone=I),this},hitTestPointer:function(L){for(var b=this.cameras.getCamerasBelowPointer(L),B=0;B<b.length;B++){for(var I=b[B],z=this.manager.hitTest(L,this._list,I),Y=0;Y<z.length;Y++){var W=z[Y];W.input.dropZone&&this._tempZones.push(W)}if(z.length>0)return L.camera=I,z}return L.camera=b[0],[]},processDownEvents:function(L){var b=0,B=this._temp,I=this._eventData,z=this._eventContainer;I.cancelled=!1;for(var Y=!1,W=0;W<B.length;W++){var H=B[W];if(!(!H.input||!H.input.enabled)){if(b++,H.emit(v.GAMEOBJECT_POINTER_DOWN,L,H.input.localX,H.input.localY,z),I.cancelled||!H.input||!H.input.enabled){Y=!0;break}if(this.emit(v.GAMEOBJECT_DOWN,L,H,z),I.cancelled||!H.input){Y=!0;break}}}return!Y&&this.manager&&(L.downElement===this.manager.game.canvas?this.emit(v.POINTER_DOWN,L,B):this.emit(v.POINTER_DOWN_OUTSIDE,L)),b},getDragState:function(L){return this._dragState[L.id]},setDragState:function(L,b){this._dragState[L.id]=b},processDragThresholdEvent:function(L,b){var B=!1,I=this.dragTimeThreshold,z=this.dragDistanceThreshold;if((z>0&&r(L.x,L.y,L.downX,L.downY)>=z||I>0&&b>=L.downTime+I)&&(B=!0),B)return this.setDragState(L,3),this.processDragStartList(L)},processDragStartList:function(L){if(this.getDragState(L)!==3)return 0;for(var b=this._drag[L.id],B=0;B<b.length;B++){var I=b[B],z=I.input;z.dragState=2,z.dragStartX=I.x,z.dragStartY=I.y,z.dragStartXGlobal=L.worldX,z.dragStartYGlobal=L.worldY,z.dragX=z.dragStartXGlobal-z.dragStartX,z.dragY=z.dragStartYGlobal-z.dragStartY,I.emit(v.GAMEOBJECT_DRAG_START,L,z.dragX,z.dragY),this.emit(v.DRAG_START,L,I)}return this.setDragState(L,4),b.length},processDragDownEvent:function(L){var b=this._temp;if(this._draggable.length===0||b.length===0||!L.primaryDown||this.getDragState(L)!==0)return 0;this.setDragState(L,1);for(var B=[],I=0;I<b.length;I++){var z=b[I];z.input.draggable&&z.input.dragState===0&&B.push(z)}return B.length===0?(this.setDragState(L,0),0):(B.length>1&&(this.sortGameObjects(B,L),this.topOnly&&B.splice(1)),this._drag[L.id]=B,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(L,3),this.processDragStartList(L)):(this.setDragState(L,2),0))},processDragMoveEvent:function(L){if(this.getDragState(L)===2&&this.processDragThresholdEvent(L,this.manager.game.loop.now),this.getDragState(L)!==4)return 0;for(var b=this._tempZones,B=this._drag[L.id],I=0;I<B.length;I++){var z=B[I],Y=z.input,W=Y.target;if(W){var H=b.indexOf(W);H===0?(z.emit(v.GAMEOBJECT_DRAG_OVER,L,W),this.emit(v.DRAG_OVER,L,z,W)):H>0?(z.emit(v.GAMEOBJECT_DRAG_LEAVE,L,W),this.emit(v.DRAG_LEAVE,L,z,W),Y.target=b[0],W=Y.target,z.emit(v.GAMEOBJECT_DRAG_ENTER,L,W),this.emit(v.DRAG_ENTER,L,z,W)):(z.emit(v.GAMEOBJECT_DRAG_LEAVE,L,W),this.emit(v.DRAG_LEAVE,L,z,W),b[0]?(Y.target=b[0],W=Y.target,z.emit(v.GAMEOBJECT_DRAG_ENTER,L,W),this.emit(v.DRAG_ENTER,L,z,W)):Y.target=null)}else!W&&b[0]&&(Y.target=b[0],W=Y.target,z.emit(v.GAMEOBJECT_DRAG_ENTER,L,W),this.emit(v.DRAG_ENTER,L,z,W));var N,X;if(!z.parentContainer)N=L.worldX-Y.dragX,X=L.worldY-Y.dragY;else{var D=L.worldX-Y.dragStartXGlobal,G=L.worldY-Y.dragStartYGlobal,V=z.getParentRotation(),U=D*Math.cos(V)+G*Math.sin(V),k=G*Math.cos(V)-D*Math.sin(V);U*=1/z.parentContainer.scaleX,k*=1/z.parentContainer.scaleY,N=U+Y.dragStartX,X=k+Y.dragStartY}z.emit(v.GAMEOBJECT_DRAG,L,N,X),this.emit(v.DRAG,L,z,N,X)}return B.length},processDragUpEvent:function(L){for(var b=this._drag[L.id],B=0;B<b.length;B++){var I=b[B],z=I.input;if(z&&z.dragState===2){z.dragState=0,z.dragX=z.localX-I.displayOriginX,z.dragY=z.localY-I.displayOriginY;var Y=!1,W=z.target;W&&(I.emit(v.GAMEOBJECT_DROP,L,W),this.emit(v.DROP,L,I,W),z.target=null,Y=!0),I.input&&I.input.enabled&&(I.emit(v.GAMEOBJECT_DRAG_END,L,z.dragX,z.dragY,Y),this.emit(v.DRAG_END,L,I,Y))}}return this.setDragState(L,0),b.splice(0),0},processMoveEvents:function(L){var b=0,B=this._temp,I=this._eventData,z=this._eventContainer;I.cancelled=!1;for(var Y=!1,W=0;W<B.length;W++){var H=B[W];if(!(!H.input||!H.input.enabled)){if(b++,H.emit(v.GAMEOBJECT_POINTER_MOVE,L,H.input.localX,H.input.localY,z),I.cancelled||!H.input||!H.input.enabled){Y=!0;break}if(this.emit(v.GAMEOBJECT_MOVE,L,H,z),I.cancelled||!H.input||!H.input.enabled){Y=!0;break}if(this.topOnly)break}}return Y||this.emit(v.POINTER_MOVE,L,B),b},processWheelEvent:function(L){var b=0,B=this._temp,I=this._eventData,z=this._eventContainer;I.cancelled=!1;for(var Y=!1,W=L.deltaX,H=L.deltaY,N=L.deltaZ,X=0;X<B.length;X++){var D=B[X];if(!(!D.input||!D.input.enabled)){if(b++,D.emit(v.GAMEOBJECT_POINTER_WHEEL,L,W,H,N,z),I.cancelled||!D.input||!D.input.enabled){Y=!0;break}if(this.emit(v.GAMEOBJECT_WHEEL,L,D,W,H,N,z),I.cancelled||!D.input||!D.input.enabled){Y=!0;break}}}return Y||this.emit(v.POINTER_WHEEL,L,B,W,H,N),b},processOverEvents:function(L){var b=this._temp,B=0,I=b.length,z=[];if(I>0){var Y=this.manager,W=this._eventData,H=this._eventContainer;W.cancelled=!1;for(var N=!1,X=0;X<I;X++){var D=b[X];if(!(!D.input||!D.input.enabled)){if(z.push(D),Y.setCursor(D.input),D.emit(v.GAMEOBJECT_POINTER_OVER,L,D.input.localX,D.input.localY,H),B++,W.cancelled||!D.input||!D.input.enabled){N=!0;break}if(this.emit(v.GAMEOBJECT_OVER,L,D,H),W.cancelled||!D.input||!D.input.enabled){N=!0;break}}}N||this.emit(v.POINTER_OVER,L,z)}return this._over[L.id]=z,B},processOutEvents:function(L){var b=this._over[L.id],B=0,I=b.length;if(I>0){var z=this.manager,Y=this._eventData,W=this._eventContainer;Y.cancelled=!1;var H=!1;this.sortGameObjects(b,L);for(var N=0;N<I;N++){var X=b[N];if(X=b[N],!(!X.input||!X.input.enabled)){if(z.resetCursor(X.input),X.emit(v.GAMEOBJECT_POINTER_OUT,L,W),B++,Y.cancelled||!X.input||!X.input.enabled){H=!0;break}if(this.emit(v.GAMEOBJECT_OUT,L,X,W),Y.cancelled||!X.input||!X.input.enabled){H=!0;break}H||this.emit(v.POINTER_OUT,L,b)}}this._over[L.id]=[]}return B},processOverOutEvents:function(L){var b=this._temp,B,I,z=[],Y=[],W=[],H=this._over[L.id],N=this._drag[L.id],X=this.manager;for(B=0;B<H.length;B++)I=H[B],b.indexOf(I)===-1&&N.indexOf(I)===-1?z.push(I):W.push(I);for(B=0;B<b.length;B++)I=b[B],H.indexOf(I)===-1&&Y.push(I);var D=z.length,G=0,V=this._eventData,U=this._eventContainer;V.cancelled=!1;var k=!1;if(D>0){for(this.sortGameObjects(z,L),B=0;B<D;B++)if(I=z[B],!(!I.input||!I.input.enabled)){if(X.resetCursor(I.input),I.emit(v.GAMEOBJECT_POINTER_OUT,L,U),G++,V.cancelled||!I.input||!I.input.enabled){k=!0;break}if(this.emit(v.GAMEOBJECT_OUT,L,I,U),V.cancelled||!I.input||!I.input.enabled){k=!0;break}}k||this.emit(v.POINTER_OUT,L,z)}if(D=Y.length,V.cancelled=!1,k=!1,D>0){for(this.sortGameObjects(Y,L),B=0;B<D;B++)if(I=Y[B],!(!I.input||!I.input.enabled)){if(X.setCursor(I.input),I.emit(v.GAMEOBJECT_POINTER_OVER,L,I.input.localX,I.input.localY,U),G++,V.cancelled||!I.input||!I.input.enabled){k=!0;break}if(this.emit(v.GAMEOBJECT_OVER,L,I,U),V.cancelled||!I.input||!I.input.enabled){k=!0;break}}k||this.emit(v.POINTER_OVER,L,Y)}return H=W.concat(Y),this._over[L.id]=this.sortGameObjects(H,L),G},processUpEvents:function(L){var b=this._temp,B=this._eventData,I=this._eventContainer;B.cancelled=!1;for(var z=!1,Y=0;Y<b.length;Y++){var W=b[Y];if(!(!W.input||!W.input.enabled)){if(W.emit(v.GAMEOBJECT_POINTER_UP,L,W.input.localX,W.input.localY,I),B.cancelled||!W.input||!W.input.enabled){z=!0;break}if(this.emit(v.GAMEOBJECT_UP,L,W,I),B.cancelled||!W.input||!W.input.enabled){z=!0;break}}}return!z&&this.manager&&(L.upElement===this.manager.game.canvas?this.emit(v.POINTER_UP,L,b):this.emit(v.POINTER_UP_OUTSIDE,L)),b.length},queueForInsertion:function(L){return this._pendingInsertion.indexOf(L)===-1&&this._list.indexOf(L)===-1&&this._pendingInsertion.push(L),this},queueForRemoval:function(L){return this._pendingRemoval.push(L),this},setDraggable:function(L,b){b===void 0&&(b=!0),Array.isArray(L)||(L=[L]);for(var B=0;B<L.length;B++){var I=L[B];I.input.draggable=b;var z=this._draggable.indexOf(I);b&&z===-1?this._draggable.push(I):!b&&z>-1&&this._draggable.splice(z,1)}return this},makePixelPerfect:function(L){L===void 0&&(L=1);var b=this.systems.textures;return n(b,L)},setHitArea:function(L,b,B){if(b===void 0)return this.setHitAreaFromTexture(L);Array.isArray(L)||(L=[L]);var I=!1,z=!1,Y=!1,W=!1,H=!1,N=!0;if(S(b)){var X=b;b=c(X,"hitArea",null),B=c(X,"hitAreaCallback",null),I=c(X,"draggable",!1),z=c(X,"dropZone",!1),Y=c(X,"cursor",!1),W=c(X,"useHandCursor",!1),H=c(X,"pixelPerfect",!1);var D=c(X,"alphaTolerance",1);H&&(b={},B=this.makePixelPerfect(D)),(!b||!B)&&(this.setHitAreaFromTexture(L),N=!1)}else typeof b=="function"&&!B&&(B=b,b={});for(var G=0;G<L.length;G++){var V=L[G];if(H&&V.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var U=V.input?V.input:h(V,b,B);U.customHitArea=N,U.dropZone=z,U.cursor=W?"pointer":Y,V.input=U,I&&this.setDraggable(V),this.queueForInsertion(V)}return this},setHitAreaCircle:function(L,b,B,I,z){z===void 0&&(z=m);var Y=new u(b,B,I);return this.setHitArea(L,Y,z)},setHitAreaEllipse:function(L,b,B,I,z,Y){Y===void 0&&(Y=a);var W=new f(b,B,I,z);return this.setHitArea(L,W,Y)},setHitAreaFromTexture:function(L,b){b===void 0&&(b=M),Array.isArray(L)||(L=[L]);for(var B=0;B<L.length;B++){var I=L[B],z=I.frame,Y=0,W=0;if(I.width?(Y=I.width,W=I.height):z&&(Y=z.realWidth,W=z.realHeight),I.type==="Container"&&(Y===0||W===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}Y!==0&&W!==0&&(I.input=h(I,new C(0,0,Y,W),b),this.queueForInsertion(I))}return this},setHitAreaRectangle:function(L,b,B,I,z,Y){Y===void 0&&(Y=M);var W=new C(b,B,I,z);return this.setHitArea(L,W,Y)},setHitAreaTriangle:function(L,b,B,I,z,Y,W,H){H===void 0&&(H=O);var N=new w(b,B,I,z,Y,W);return this.setHitArea(L,N,H)},enableDebug:function(L,b){b===void 0&&(b=65280);var B=L.input;if(!B||!B.hitArea)return this;var I=B.hitArea,z=I.type,Y=B.hitAreaDebug,W=this.systems.add,H=this.systems.updateList;Y&&(H.remove(Y),Y.destroy(),Y=null);var N=0,X=0;switch(z){case g.CIRCLE:Y=W.arc(0,0,I.radius),N=I.x-I.radius,X=I.y-I.radius;break;case g.ELLIPSE:Y=W.ellipse(0,0,I.width,I.height),N=I.x-I.width/2,X=I.y-I.height/2;break;case g.LINE:Y=W.line(0,0,I.x1,I.y1,I.x2,I.y2);break;case g.POLYGON:Y=W.polygon(0,0,I.points);break;case g.RECTANGLE:Y=W.rectangle(0,0,I.width,I.height),N=I.x,X=I.y;break;case g.TRIANGLE:Y=W.triangle(0,0,I.x1,I.y1,I.x2,I.y2,I.x3,I.y3);break}return Y&&(Y.isFilled=!1,Y.strokeColor=b,Y.preUpdate=function(){Y.setStrokeStyle(1/L.scale,Y.strokeColor),Y.setDisplayOrigin(L.displayOriginX,L.displayOriginY);var D=L.x,G=L.y,V=L.rotation,U=L.scaleX,k=L.scaleY;if(L.parentContainer){var $=L.getWorldTransformMatrix();D=$.tx,G=$.ty,V=$.rotation,U=$.scaleX,k=$.scaleY}Y.setRotation(V),Y.setScale(U,k),Y.setPosition(D+N*U,G+X*k),Y.setScrollFactor(L.scrollFactorX,L.scrollFactorY),Y.setDepth(L.depth)},H.add(Y),B.hitAreaDebug=Y),this},removeDebug:function(L){var b=L.input;if(b&&b.hitAreaDebug){var B=b.hitAreaDebug;this.systems.updateList.remove(B),B.destroy(),b.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(L){return this.pollRate=L,this._pollTimer=0,this},setGlobalTopOnly:function(L){return this.manager.globalTopOnly=L,this},setTopOnly:function(L){return this.topOnly=L,this},sortGameObjects:function(L,b){if(L.length<2||!b.camera)return L;var B=b.camera.renderList;return L.sort(function(I,z){var Y=Math.max(B.indexOf(I),0),W=Math.max(B.indexOf(z),0);return W-Y})},sortDropZones:function(L){return L.length<2?L:(this.scene.sys.depthSort(),L.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(L,b){if(!L.parentContainer&&!b.parentContainer)return this.displayList.getIndex(b)-this.displayList.getIndex(L);if(L.parentContainer===b.parentContainer)return b.parentContainer.getIndex(b)-L.parentContainer.getIndex(L);if(L.parentContainer===b)return-1;if(b.parentContainer===L)return 1;for(var B=L.getIndexList(),I=b.getIndexList(),z=Math.min(B.length,I.length),Y=0;Y<z;Y++){var W=B[Y],H=I[Y];if(W!==H)return H-W}return I.length-B.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(L){return this.manager.addPointer(L)},setDefaultCursor:function(L){return this.manager.setDefaultCursor(L),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(v.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var L=0;L<10;L++)this._drag[L]=[],this._over[L]=[];this.removeAllListeners();var b=this.manager;b.canvas.style.cursor=b.defaultCursor;var B=this.systems.events;B.off(R.TRANSITION_START,this.transitionIn,this),B.off(R.TRANSITION_OUT,this.transitionOut,this),B.off(R.TRANSITION_COMPLETE,this.transitionComplete,this),B.off(R.PRE_UPDATE,this.preUpdate,this),b.events.off(v.GAME_OUT,this.onGameOut,this),b.events.off(v.GAME_OVER,this.onGameOver,this),B.off(R.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var L=this.manager.pointers,b=0;b<L.length;b++)L[b].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(v.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(R.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});P.register("InputPlugin",F,"input"),l.exports=F},63399:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(10850),m={},d={};d.register=function(o,h,n,r,f){m[o]={plugin:h,mapping:n,settingsKey:r,configKey:f}},d.getPlugin=function(o){return m[o]},d.install=function(o){var h=o.scene.sys,n=h.settings.input,r=h.game.config;for(var f in m){var a=m[f].plugin,v=m[f].mapping,p=m[f].settingsKey,c=m[f].configKey;u(n,p,r[c])&&(o[v]=new a(o))}},d.remove=function(o){m.hasOwnProperty(o)&&delete m[o]},l.exports=d},40398:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(90447),m=e(56694),d=e(53996),o=e(88456),h=e(44521),n=e(93736),r=e(36580),f=new m({initialize:function(v,p){this.manager=v,this.id=p,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new n,this.prevPosition=new n,this.midPoint=new n(-1,-1),this.velocity=new n,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=p===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(a){var v=a.getWorldPoint(this.x,this.y);return this.worldX=v.x,this.worldY=v.y,this},positionToCamera:function(a,v){return a.getWorldPoint(this.x,this.y,v)},updateMotion:function(){var a=this.position.x,v=this.position.y,p=this.midPoint.x,c=this.midPoint.y;if(!(a===p&&v===c)){var g=h(this.motionFactor,p,a),y=h(this.motionFactor,c,v);o(g,a,.1)&&(g=a),o(y,v,.1)&&(y=v),this.midPoint.set(g,y);var S=a-g,P=v-y;this.velocity.set(S,P),this.angle=u(g,y,a,v),this.distance=Math.sqrt(S*S+P*P)}},up:function(a){"buttons"in a&&(this.buttons=a.buttons),this.event=a,this.button=a.button,this.upElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),a.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=a.timeStamp,this.wasTouch=!1)},down:function(a){"buttons"in a&&(this.buttons=a.buttons),this.event=a,this.button=a.button,this.downElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),a.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),r.macOS&&a.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=a.timeStamp),this.wasTouch=!1},move:function(a){"buttons"in a&&(this.buttons=a.buttons),this.event=a,this.manager.transformPointer(this,a.pageX,a.pageY,!0),this.locked&&(this.movementX=a.movementX||a.mozMovementX||a.webkitMovementX||0,this.movementY=a.movementY||a.mozMovementY||a.webkitMovementY||0),this.moveTime=a.timeStamp,this.wasTouch=!1},wheel:function(a){"buttons"in a&&(this.buttons=a.buttons),this.event=a,this.manager.transformPointer(this,a.pageX,a.pageY,!1),this.deltaX=a.deltaX,this.deltaY=a.deltaY,this.deltaZ=a.deltaZ,this.wasTouch=!1},touchstart:function(a,v){a.pointerId&&(this.pointerId=a.pointerId),this.identifier=a.identifier,this.target=a.target,this.active=!0,this.buttons=1,this.event=v,this.downElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=v.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(a,v){this.event=v,this.manager.transformPointer(this,a.pageX,a.pageY,!0),this.moveTime=v.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(a,v){this.buttons=0,this.event=v,this.upElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=v.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(a,v){this.buttons=0,this.event=v,this.upElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=v.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.button===0&&!this.isDown},rightButtonReleased:function(){return this.button===2&&!this.isDown},middleButtonReleased:function(){return this.button===1&&!this.isDown},backButtonReleased:function(){return this.button===3&&!this.isDown},forwardButtonReleased:function(){return this.button===4&&!this.isDown},getDistance:function(){return this.isDown?d(this.downX,this.downY,this.x,this.y):d(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?u(this.downX,this.downY,this.x,this.y):u(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(a,v){a===void 0&&(a=10),v===void 0&&(v=[]);for(var p=this.prevPosition.x,c=this.prevPosition.y,g=this.position.x,y=this.position.y,S=0;S<a;S++){var P=1/a*S;v[S]={x:h(P,p,g),y:h(P,c,y)}}return v},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(a){this.position.x=a}},y:{get:function(){return this.position.y},set:function(a){this.position.y=a}},time:{get:function(){return this.event?this.event.timeStamp:0}}});l.exports=f},72687:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};l.exports=T},14874:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="boot"},54168:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="destroy"},526:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragend"},81623:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragenter"},94472:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="drag"},9304:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragleave"},34265:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragover"},50151:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragstart"},98134:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="drop"},56773:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="gameobjectdown"},45824:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragend"},39578:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragenter"},72072:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="drag"},82569:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragleave"},70833:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragover"},81442:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragstart"},32936:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="drop"},99658:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="gameobjectmove"},60515:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="gameobjectout"},55254:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="gameobjectover"},34782:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerdown"},41769:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointermove"},65588:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerout"},61640:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerover"},49342:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerup"},82662:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="wheel"},13058:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="gameobjectup"},52426:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="gameobjectwheel"},78072:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="gameout"},1545:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="gameover"},67137:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="boot"},27678:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="process"},22257:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="update"},90379:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerlockchange"},88909:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerdown"},36548:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerdownoutside"},18483:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointermove"},22355:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerout"},7997:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerover"},66318:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerup"},94812:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerupoutside"},37310:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="wheel"},24196:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="preupdate"},27053:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="shutdown"},29413:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="start"},25165:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="update"},33963:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={BOOT:e(14874),DESTROY:e(54168),DRAG_END:e(526),DRAG_ENTER:e(81623),DRAG:e(94472),DRAG_LEAVE:e(9304),DRAG_OVER:e(34265),DRAG_START:e(50151),DROP:e(98134),GAME_OUT:e(78072),GAME_OVER:e(1545),GAMEOBJECT_DOWN:e(56773),GAMEOBJECT_DRAG_END:e(45824),GAMEOBJECT_DRAG_ENTER:e(39578),GAMEOBJECT_DRAG:e(72072),GAMEOBJECT_DRAG_LEAVE:e(82569),GAMEOBJECT_DRAG_OVER:e(70833),GAMEOBJECT_DRAG_START:e(81442),GAMEOBJECT_DROP:e(32936),GAMEOBJECT_MOVE:e(99658),GAMEOBJECT_OUT:e(60515),GAMEOBJECT_OVER:e(55254),GAMEOBJECT_POINTER_DOWN:e(34782),GAMEOBJECT_POINTER_MOVE:e(41769),GAMEOBJECT_POINTER_OUT:e(65588),GAMEOBJECT_POINTER_OVER:e(61640),GAMEOBJECT_POINTER_UP:e(49342),GAMEOBJECT_POINTER_WHEEL:e(82662),GAMEOBJECT_UP:e(13058),GAMEOBJECT_WHEEL:e(52426),MANAGER_BOOT:e(67137),MANAGER_PROCESS:e(27678),MANAGER_UPDATE:e(22257),POINTER_DOWN:e(88909),POINTER_DOWN_OUTSIDE:e(36548),POINTER_MOVE:e(18483),POINTER_OUT:e(22355),POINTER_OVER:e(7997),POINTER_UP:e(66318),POINTER_UP_OUTSIDE:e(94812),POINTER_WHEEL:e(37310),POINTERLOCK_CHANGE:e(90379),PRE_UPDATE:e(24196),SHUTDOWN:e(27053),START:e(29413),UPDATE:e(25165)}},70848:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=new u({initialize:function(o,h){this.pad=o,this.events=o.events,this.index=h,this.value=0,this.threshold=.1},update:function(d){this.value=d},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});l.exports=m},21274:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(43200),d=new u({initialize:function(h,n){this.pad=h,this.events=h.manager,this.index=n,this.value=0,this.threshold=1,this.pressed=!1},update:function(o){this.value=o;var h=this.pad,n=this.index;o>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(m.BUTTON_DOWN,h,this,o),this.pad.emit(m.GAMEPAD_BUTTON_DOWN,n,o,this)):this.pressed&&(this.pressed=!1,this.events.emit(m.BUTTON_UP,h,this,o),this.pad.emit(m.GAMEPAD_BUTTON_UP,n,o,this))},destroy:function(){this.pad=null,this.events=null}});l.exports=d},75956:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(70848),m=e(21274),d=e(56694),o=e(6659),h=e(93736),n=new d({Extends:o,initialize:function(f,a){o.call(this),this.manager=f,this.pad=a,this.id=a.id,this.index=a.index;for(var v=[],p=0;p<a.buttons.length;p++)v.push(new m(this,p));this.buttons=v;var c=[];for(p=0;p<a.axes.length;p++)c.push(new u(this,p));this.axes=c,this.vibration=a.vibrationActuator;var g={value:0,pressed:!1};this._LCLeft=v[14]?v[14]:g,this._LCRight=v[15]?v[15]:g,this._LCTop=v[12]?v[12]:g,this._LCBottom=v[13]?v[13]:g,this._RCLeft=v[2]?v[2]:g,this._RCRight=v[1]?v[1]:g,this._RCTop=v[3]?v[3]:g,this._RCBottom=v[0]?v[0]:g,this._FBLeftTop=v[4]?v[4]:g,this._FBLeftBottom=v[6]?v[6]:g,this._FBRightTop=v[5]?v[5]:g,this._FBRightBottom=v[7]?v[7]:g;var y={value:0};this._HAxisLeft=c[0]?c[0]:y,this._VAxisLeft=c[1]?c[1]:y,this._HAxisRight=c[2]?c[2]:y,this._VAxisRight=c[3]?c[3]:y,this.leftStick=new h,this.rightStick=new h,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(r){return this.axes[r].getValue()},setAxisThreshold:function(r){for(var f=0;f<this.axes.length;f++)this.axes[f].threshold=r},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(r){return this.buttons[r].value},isButtonDown:function(r){return this.buttons[r].pressed},update:function(r){if(!(r.timestamp<this._created)){var f,a=this.buttons,v=r.buttons,p=a.length;for(f=0;f<p;f++)a[f].update(v[f].value);var c=this.axes,g=r.axes;for(p=c.length,f=0;f<p;f++)c[f].update(g[f]);p>=2&&(this.leftStick.set(c[0].getValue(),c[1].getValue()),p>=4&&this.rightStick.set(c[2].getValue(),c[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var r;for(r=0;r<this.buttons.length;r++)this.buttons[r].destroy();for(r=0;r<this.axes.length;r++)this.axes[r].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});l.exports=n},1379:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(6659),d=e(43200),o=e(75956),h=e(10850),n=e(63399),r=e(33963),f=new u({Extends:m,initialize:function(v){m.call(this),this.scene=v.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=v,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,v.pluginEvents.once(r.BOOT,this.boot,this),v.pluginEvents.on(r.START,this.start,this)},boot:function(){var a=this.scene.sys.game,v=this.settings.input,p=a.config;this.enabled=h(v,"gamepad",p.inputGamepad)&&a.device.input.gamepads,this.target=h(v,"gamepad.target",p.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(r.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(r.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var a=this,v=this.target,p=function(c){c.defaultPrevented||!a.isActive()||(a.refreshPads(),a.queue.push(c))};this.onGamepadHandler=p,v.addEventListener("gamepadconnected",p,!1),v.addEventListener("gamepaddisconnected",p,!1),this.sceneInputPlugin.pluginEvents.on(r.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(r.UPDATE,this.update);for(var a=0;a<this.gamepads.length;a++)this.gamepads[a].removeAllListeners()},disconnectAll:function(){for(var a=0;a<this.gamepads.length;a++)this.gamepads[a].pad.connected=!1},refreshPads:function(){var a=navigator.getGamepads();if(!a)this.disconnectAll();else for(var v=this.gamepads,p=0;p<a.length;p++){var c=a[p];if(c){var g=c.id,y=c.index,S=v[y];if(S)S.id!==g?(S.destroy(),v[y]=new o(this,c)):S.update(c);else{var P=new o(this,c);v[y]=P,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=P):this._pad3=P:this._pad2=P:this._pad1=P}}}},getAll:function(){for(var a=[],v=this.gamepads,p=0;p<v.length;p++)v[p]&&a.push(v[p]);return a},getPad:function(a){for(var v=this.gamepads,p=0;p<v.length;p++)if(v[p]&&v[p].index===a)return v[p]},update:function(){if(this.enabled){this.refreshPads();var a=this.queue.length;if(a!==0)for(var v=this.queue.splice(0,a),p=0;p<a;p++){var c=v[p],g=this.getPad(c.gamepad.index);c.type==="gamepadconnected"?this.emit(d.CONNECTED,g,c):c.type==="gamepaddisconnected"&&this.emit(d.DISCONNECTED,g,c)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var a=0;a<this.gamepads.length;a++)this.gamepads[a]&&this.gamepads[a].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});n.register("GamepadPlugin",f,"gamepad","gamepad","inputGamepad"),l.exports=f},33171:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},74982:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},43247:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},4898:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={DUALSHOCK_4:e(74982),SNES_USB:e(33171),XBOX_360:e(43247)}},17344:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="down"},36635:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="up"},85724:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="connected"},55832:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="disconnected"},772:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="down"},33608:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="up"},43200:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={BUTTON_DOWN:e(17344),BUTTON_UP:e(36635),CONNECTED:e(85724),DISCONNECTED:e(55832),GAMEPAD_BUTTON_DOWN:e(772),GAMEPAD_BUTTON_UP:e(33608)}},92636:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Axis:e(70848),Button:e(21274),Events:e(43200),Gamepad:e(75956),GamepadPlugin:e(1379),Configs:e(4898)}},20873:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72687),m=e(98611),d={CreatePixelPerfectHandler:e(18104),CreateInteractiveObject:e(27395),Events:e(33963),Gamepad:e(92636),InputManager:e(69898),InputPlugin:e(12499),InputPluginCache:e(63399),Keyboard:e(28388),Mouse:e(11343),Pointer:e(40398),Touch:e(77423)};d=m(!1,d,u),l.exports=d},71064:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66458),m=e(56694),d=e(97081),o=e(33963),h=e(11873),n=e(72283),r=new m({initialize:function(a){this.manager=a,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=n,this.onKeyUp=n,a.events.once(o.MANAGER_BOOT,this.boot,this)},boot:function(){var f=this.manager.config;this.enabled=f.inputKeyboard,this.target=f.inputKeyboardEventTarget,this.addCapture(f.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(d.POST_STEP,this.postUpdate,this)},startListeners:function(){var f=this;this.onKeyDown=function(v){if(!(v.defaultPrevented||!f.enabled||!f.manager)){f.queue.push(v),f.manager.events.emit(o.MANAGER_PROCESS);var p=v.altKey||v.ctrlKey||v.shiftKey||v.metaKey;f.preventDefault&&!p&&f.captures.indexOf(v.keyCode)>-1&&v.preventDefault()}},this.onKeyUp=function(v){if(!(v.defaultPrevented||!f.enabled||!f.manager)){f.queue.push(v),f.manager.events.emit(o.MANAGER_PROCESS);var p=v.altKey||v.ctrlKey||v.shiftKey||v.metaKey;f.preventDefault&&!p&&f.captures.indexOf(v.keyCode)>-1&&v.preventDefault()}};var a=this.target;a&&(a.addEventListener("keydown",this.onKeyDown,!1),a.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var f=this.target;f.removeEventListener("keydown",this.onKeyDown,!1),f.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(f){typeof f=="string"&&(f=f.split(",")),Array.isArray(f)||(f=[f]);for(var a=this.captures,v=0;v<f.length;v++){var p=f[v];typeof p=="string"&&(p=h[p.trim().toUpperCase()]),a.indexOf(p)===-1&&a.push(p)}this.preventDefault=a.length>0},removeCapture:function(f){typeof f=="string"&&(f=f.split(",")),Array.isArray(f)||(f=[f]);for(var a=this.captures,v=0;v<f.length;v++){var p=f[v];typeof p=="string"&&(p=h[p.toUpperCase()]),u(a,p)}this.preventDefault=a.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(d.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});l.exports=r},89666:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(6659),d=e(94030),o=e(97081),h=e(10850),n=e(33963),r=e(63399),f=e(50165),a=e(11873),v=e(95625),p=e(48044),c=e(7599),g=e(84314),y=new u({Extends:m,initialize:function(P){m.call(this),this.game=P.systems.game,this.scene=P.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=P,this.manager=P.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,P.pluginEvents.once(n.BOOT,this.boot,this),P.pluginEvents.on(n.START,this.start,this)},boot:function(){var S=this.settings.input;this.enabled=h(S,"keyboard",!0);var P=h(S,"keyboard.capture",null);P&&this.addCaptures(P),this.sceneInputPlugin.pluginEvents.once(n.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(n.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(n.SHUTDOWN,this.shutdown,this),this.game.events.on(o.BLUR,this.resetKeys,this),this.scene.sys.events.on(c.PAUSE,this.resetKeys,this),this.scene.sys.events.on(c.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(S){return this.manager.addCapture(S),this},removeCapture:function(S){return this.manager.removeCapture(S),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:a.UP,down:a.DOWN,left:a.LEFT,right:a.RIGHT,space:a.SPACE,shift:a.SHIFT})},addKeys:function(S,P,C){P===void 0&&(P=!0),C===void 0&&(C=!1);var M={};if(typeof S=="string"){S=S.split(",");for(var R=0;R<S.length;R++){var w=S[R].trim();w&&(M[w]=this.addKey(w,P,C))}}else for(var O in S)M[O]=this.addKey(S[O],P,C);return M},addKey:function(S,P,C){P===void 0&&(P=!0),C===void 0&&(C=!1);var M=this.keys;if(S instanceof f){var R=M.indexOf(S);return R>-1?M[R]=S:M[S.keyCode]=S,P&&this.addCapture(S.keyCode),S.setEmitOnRepeat(C),S}return typeof S=="string"&&(S=a[S.toUpperCase()]),M[S]||(M[S]=new f(this,S),P&&this.addCapture(S),M[S].setEmitOnRepeat(C)),M[S]},removeKey:function(S,P,C){P===void 0&&(P=!1),C===void 0&&(C=!1);var M=this.keys,R;if(S instanceof f){var w=M.indexOf(S);w>-1&&(R=this.keys[w],this.keys[w]=void 0)}else typeof S=="string"&&(S=a[S.toUpperCase()]);return M[S]&&(R=M[S],M[S]=void 0),R&&(R.plugin=null,C&&this.removeCapture(R.keyCode),P&&R.destroy()),this},removeAllKeys:function(S,P){S===void 0&&(S=!1),P===void 0&&(P=!1);for(var C=this.keys,M=0;M<C.length;M++){var R=C[M];R&&(C[M]=void 0,P&&this.removeCapture(R.keyCode),S&&R.destroy())}return this},createCombo:function(S,P){return new v(this,S,P)},checkDown:function(S,P){if(P===void 0&&(P=0),this.enabled&&S.isDown){var C=g(this.time-S.timeDown,P);if(C>S._tick)return S._tick=C,!0}return!1},update:function(){var S=this.manager.queue,P=S.length;if(!(!this.isActive()||P===0))for(var C=this.keys,M=0;M<P;M++){var R=S[M],w=R.keyCode,O=C[w],F=!1;R.cancelled===void 0&&(R.cancelled=0,R.stopImmediatePropagation=function(){R.cancelled=1},R.stopPropagation=function(){R.cancelled=-1}),R.cancelled!==-1&&(w===this.prevCode&&R.timeStamp===this.prevTime&&R.type===this.prevType||(this.prevCode=w,this.prevTime=R.timeStamp,this.prevType=R.type,R.type==="keydown"?(O&&(F=O.isDown,O.onDown(R)),!R.cancelled&&(!O||!F)&&(p[w]&&this.emit(d.KEY_DOWN+p[w],R),R.cancelled||this.emit(d.ANY_KEY_DOWN,R))):(O&&O.onUp(R),R.cancelled||(p[w]&&this.emit(d.KEY_UP+p[w],R),R.cancelled||this.emit(d.ANY_KEY_UP,R))),R.cancelled===1&&(R.cancelled=0)))}},resetKeys:function(){for(var S=this.keys,P=0;P<S.length;P++)S[P]&&S[P].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(n.MANAGER_PROCESS,this.update,this),this.game.events.off(o.BLUR,this.resetKeys),this.scene.sys.events.off(c.PAUSE,this.resetKeys,this),this.scene.sys.events.off(c.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var S=this.keys,P=0;P<S.length;P++)S[P]&&S[P].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});r.register("KeyboardPlugin",y,"keyboard","keyboard","inputKeyboard"),l.exports=y},60258:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return u.timeLastMatched=e.timeStamp,u.index++,u.index===u.size?!0:(u.current=u.keyCodes[u.index],!1)};l.exports=T},95625:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(94030),d=e(72632),o=e(2544),h=e(88754),n=new u({initialize:function(f,a,v){if(v===void 0&&(v={}),a.length<2)return!1;this.manager=f,this.enabled=!0,this.keyCodes=[];for(var p=0;p<a.length;p++){var c=a[p];typeof c=="string"?this.keyCodes.push(c.toUpperCase().charCodeAt(0)):typeof c=="number"?this.keyCodes.push(c):c.hasOwnProperty("keyCode")&&this.keyCodes.push(c.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=d(v,"resetOnWrongKey",!0),this.maxKeyDelay=d(v,"maxKeyDelay",0),this.resetOnMatch=d(v,"resetOnMatch",!1),this.deleteOnMatch=d(v,"deleteOnMatch",!1);var g=this,y=function(S){if(!(g.matched||!g.enabled)){var P=o(S,g);P&&(g.manager.emit(m.COMBO_MATCH,g,S),g.resetOnMatch?h(g):g.deleteOnMatch&&g.destroy())}};this.onKeyDown=y,this.manager.on(m.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(m.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});l.exports=n},2544:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(60258),m=function(d,o){if(o.matched)return!0;var h=!1,n=!1;if(d.keyCode===o.current)if(o.index>0&&o.maxKeyDelay>0){var r=o.timeLastMatched+o.maxKeyDelay;d.timeStamp<=r&&(n=!0,h=u(d,o))}else n=!0,h=u(d,o);return!n&&o.resetOnWrongKey&&(o.index=0,o.current=o.keyCodes[0]),h&&(o.timeLastMatched=d.timeStamp,o.matched=!0,o.timeMatched=d.timeStamp),h};l.exports=m},88754:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.current=e.keyCodes[0],e.index=0,e.timeLastMatched=0,e.matched=!1,e.timeMatched=0,e};l.exports=T},5044:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="keydown"},40813:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="keyup"},89319:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="keycombomatch"},43267:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="down"},78595:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="keydown-"},30056:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="keyup-"},81939:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="up"},94030:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ANY_KEY_DOWN:e(5044),ANY_KEY_UP:e(40813),COMBO_MATCH:e(89319),DOWN:e(43267),KEY_DOWN:e(78595),KEY_UP:e(30056),UP:e(81939)}},28388:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Events:e(94030),KeyboardManager:e(71064),KeyboardPlugin:e(89666),Key:e(50165),KeyCodes:e(11873),KeyCombo:e(95625),AdvanceKeyCombo:e(60258),ProcessKeyCombo:e(2544),ResetKeyCombo:e(88754),JustDown:e(42460),JustUp:e(53162),DownDuration:e(64964),UpDuration:e(70331)}},64964:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){u===void 0&&(u=50);var m=e.plugin.game.loop.time-e.timeDown;return e.isDown&&m<u};l.exports=T},42460:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e._justDown?(e._justDown=!1,!0):!1};l.exports=T},53162:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e._justUp?(e._justUp=!1,!0):!1};l.exports=T},50165:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(6659),d=e(94030),o=new u({Extends:m,initialize:function(n,r){m.call(this),this.plugin=n,this.keyCode=r,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(h){return this.emitOnRepeat=h,this},onDown:function(h){this.originalEvent=h,this.enabled&&(this.altKey=h.altKey,this.ctrlKey=h.ctrlKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.location=h.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(d.DOWN,this,h):(this.isDown=!0,this.isUp=!1,this.timeDown=h.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(d.DOWN,this,h)))},onUp:function(h){this.originalEvent=h,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=h.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(d.UP,this,h))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});l.exports=o},11873:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};l.exports=T},48044:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(11873),m={};for(var d in u)m[u[d]]=d;l.exports=m},70331:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){u===void 0&&(u=50);var m=e.plugin.game.loop.time-e.timeUp;return e.isUp&&m<u};l.exports=T},7905:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(90185),d=e(33963),o=e(72283),h=new u({initialize:function(r){this.manager=r,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=o,this.onMouseDown=o,this.onMouseUp=o,this.onMouseDownWindow=o,this.onMouseUpWindow=o,this.onMouseOver=o,this.onMouseOut=o,this.onMouseWheel=o,this.pointerLockChange=o,this.isTop=!0,r.events.once(d.MANAGER_BOOT,this.boot,this)},boot:function(){var n=this.manager.config;this.enabled=n.inputMouse,this.target=n.inputMouseEventTarget,this.passive=n.inputMousePassive,this.preventDefaultDown=n.inputMousePreventDefaultDown,this.preventDefaultUp=n.inputMousePreventDefaultUp,this.preventDefaultMove=n.inputMousePreventDefaultMove,this.preventDefaultWheel=n.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,n.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(n){return n.preventDefault(),!1}),this},requestPointerLock:function(){if(m.pointerLock){var n=this.target;n.requestPointerLock=n.requestPointerLock||n.mozRequestPointerLock||n.webkitRequestPointerLock,n.requestPointerLock()}},releasePointerLock:function(){m.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var n=this.target;if(n){var r=this,f=this.manager,a=f.canvas,v=window&&window.focus&&f.game.config.autoFocus;this.onMouseMove=function(c){!c.defaultPrevented&&r.enabled&&f&&f.enabled&&(f.onMouseMove(c),r.preventDefaultMove&&c.preventDefault())},this.onMouseDown=function(c){v&&window.focus(),!c.defaultPrevented&&r.enabled&&f&&f.enabled&&(f.onMouseDown(c),r.preventDefaultDown&&c.target===a&&c.preventDefault())},this.onMouseDownWindow=function(c){!c.defaultPrevented&&r.enabled&&f&&f.enabled&&c.target!==a&&f.onMouseDown(c)},this.onMouseUp=function(c){!c.defaultPrevented&&r.enabled&&f&&f.enabled&&(f.onMouseUp(c),r.preventDefaultUp&&c.target===a&&c.preventDefault())},this.onMouseUpWindow=function(c){!c.defaultPrevented&&r.enabled&&f&&f.enabled&&c.target!==a&&f.onMouseUp(c)},this.onMouseOver=function(c){!c.defaultPrevented&&r.enabled&&f&&f.enabled&&f.setCanvasOver(c)},this.onMouseOut=function(c){!c.defaultPrevented&&r.enabled&&f&&f.enabled&&f.setCanvasOut(c)},this.onMouseWheel=function(c){!c.defaultPrevented&&r.enabled&&f&&f.enabled&&f.onMouseWheel(c),r.preventDefaultWheel&&c.target===a&&c.preventDefault()};var p={passive:!0};if(n.addEventListener("mousemove",this.onMouseMove),n.addEventListener("mousedown",this.onMouseDown),n.addEventListener("mouseup",this.onMouseUp),n.addEventListener("mouseover",this.onMouseOver,p),n.addEventListener("mouseout",this.onMouseOut,p),this.preventDefaultWheel?n.addEventListener("wheel",this.onMouseWheel,{passive:!1}):n.addEventListener("wheel",this.onMouseWheel,p),window&&f.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,p),window.top.addEventListener("mouseup",this.onMouseUpWindow,p)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,p),window.addEventListener("mouseup",this.onMouseUpWindow,p),this.isTop=!1}m.pointerLock&&(this.pointerLockChange=function(c){var g=r.target;r.locked=document.pointerLockElement===g||document.mozPointerLockElement===g||document.webkitPointerLockElement===g,f.onPointerLockChange(c)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var n=this.target;n.removeEventListener("mousemove",this.onMouseMove),n.removeEventListener("mousedown",this.onMouseDown),n.removeEventListener("mouseup",this.onMouseUp),n.removeEventListener("mouseover",this.onMouseOver),n.removeEventListener("mouseout",this.onMouseOut),window&&(n=this.isTop?window.top:window,n.removeEventListener("mousedown",this.onMouseDownWindow),n.removeEventListener("mouseup",this.onMouseUpWindow)),m.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});l.exports=h},11343:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={MouseManager:e(7905)}},37579:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(33963),d=e(72283),o=new u({initialize:function(n){this.manager=n,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=d,this.onTouchStartWindow=d,this.onTouchMove=d,this.onTouchEnd=d,this.onTouchEndWindow=d,this.onTouchCancel=d,this.onTouchCancelWindow=d,this.isTop=!0,n.events.once(m.MANAGER_BOOT,this.boot,this)},boot:function(){var h=this.manager.config;this.enabled=h.inputTouch,this.target=h.inputTouchEventTarget,this.capture=h.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,h.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(h){return h.preventDefault(),!1}),this},startListeners:function(){var h=this.target;if(h){var n=this,r=this.manager,f=r.canvas,a=window&&window.focus&&r.game.config.autoFocus;this.onTouchMove=function(g){!g.defaultPrevented&&n.enabled&&r&&r.enabled&&(r.onTouchMove(g),n.capture&&g.cancelable&&g.preventDefault())},this.onTouchStart=function(g){a&&window.focus(),!g.defaultPrevented&&n.enabled&&r&&r.enabled&&(r.onTouchStart(g),n.capture&&g.cancelable&&g.target===f&&g.preventDefault())},this.onTouchStartWindow=function(g){!g.defaultPrevented&&n.enabled&&r&&r.enabled&&g.target!==f&&r.onTouchStart(g)},this.onTouchEnd=function(g){!g.defaultPrevented&&n.enabled&&r&&r.enabled&&(r.onTouchEnd(g),n.capture&&g.cancelable&&g.target===f&&g.preventDefault())},this.onTouchEndWindow=function(g){!g.defaultPrevented&&n.enabled&&r&&r.enabled&&g.target!==f&&r.onTouchEnd(g)},this.onTouchCancel=function(g){!g.defaultPrevented&&n.enabled&&r&&r.enabled&&(r.onTouchCancel(g),n.capture&&g.preventDefault())},this.onTouchCancelWindow=function(g){!g.defaultPrevented&&n.enabled&&r&&r.enabled&&r.onTouchCancel(g)};var v=this.capture,p={passive:!0},c={passive:!1};if(h.addEventListener("touchstart",this.onTouchStart,v?c:p),h.addEventListener("touchmove",this.onTouchMove,v?c:p),h.addEventListener("touchend",this.onTouchEnd,v?c:p),h.addEventListener("touchcancel",this.onTouchCancel,v?c:p),window&&r.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,c),window.top.addEventListener("touchend",this.onTouchEndWindow,c),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,c)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,c),window.addEventListener("touchend",this.onTouchEndWindow,c),window.addEventListener("touchcancel",this.onTouchCancelWindow,c),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var h=this.target;h.removeEventListener("touchstart",this.onTouchStart),h.removeEventListener("touchmove",this.onTouchMove),h.removeEventListener("touchend",this.onTouchEnd),h.removeEventListener("touchcancel",this.onTouchCancel),window&&(h=this.isTop?window.top:window,h.removeEventListener("touchstart",this.onTouchStartWindow),h.removeEventListener("touchend",this.onTouchEndWindow),h.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});l.exports=o},77423:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={TouchManager:e(37579)}},98035:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(12117),d=e(683),o=e(72632),h=e(30750),n=e(43531),r=e(88490),f=e(33868),a=new u({initialize:function(p,c){if(this.loader=p,this.cache=o(c,"cache",!1),this.type=o(c,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=o(c,"key",!1);var g=this.key;if(p.prefix&&p.prefix!==""&&(this.key=p.prefix+g),!this.key)throw new Error("Invalid File key: "+this.key);var y=o(c,"url");y===void 0?y=p.path+g+"."+o(c,"extension",""):typeof y=="string"&&!y.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(y=p.path+y),this.url=y,this.src="",this.xhrSettings=f(o(c,"responseType",void 0)),o(c,"xhrSettings",!1)&&(this.xhrSettings=n(this.xhrSettings,o(c,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?m.FILE_POPULATED:m.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=o(c,"config",{}),this.multiFile,this.linkFile},setLink:function(v){this.linkFile=v,v.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===m.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=m.FILE_LOADING,this.src=h(this,this.loader.baseURL),this.src.indexOf("data:")===0?console.warn("Local data URIs are not supported: "+this.key):this.xhrLoader=r(this,this.loader.xhr))},onLoad:function(v,p){var c=v.responseURL&&this.loader.localSchemes.some(function(S){return v.responseURL.indexOf(S)===0}),g=c&&p.target.status===0,y=!(p.target&&p.target.status!==200)||g;v.readyState===4&&v.status>=400&&v.status<=599&&(y=!1),this.state=m.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,y)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(v){v.lengthComputable&&(this.bytesLoaded=v.loaded,this.bytesTotal=v.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(d.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=m.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=m.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=m.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(v){if(this.state!==m.FILE_PENDING_DESTROY){v===void 0&&(v=this.data);var p=this.key,c=this.type;this.loader.emit(d.FILE_COMPLETE,p,c,v),this.loader.emit(d.FILE_KEY_COMPLETE+c+"-"+p,p,c,v),this.loader.flagForRemoval(this),this.state=m.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});a.createObjectURL=function(v,p,c){if(typeof URL=="function")v.src=URL.createObjectURL(p);else{var g=new FileReader;g.onload=function(){v.removeAttribute("crossOrigin"),v.src="data:"+(p.type||c)+";base64,"+g.result.split(",")[1]},g.onerror=v.onerror,g.readAsDataURL(p)}},a.revokeObjectURL=function(v){typeof URL=="function"&&URL.revokeObjectURL(v.src)},l.exports=a},76846:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={},e={install:function(u){for(var m in T)u[m]=T[m]},register:function(u,m){T[u]=m},destroy:function(){T={}}};l.exports=e},30750:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e.url?e.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?e.url:u+e.url:!1};l.exports=T},67285:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(12117),d=e(58403),o=e(6659),h=e(683),n=e(76846),r=e(72632),f=e(10850),a=e(91963),v=e(7599),p=e(33868),c=new u({Extends:o,initialize:function(y){o.call(this);var S=y.sys.game.config,P=y.sys.settings.loader;this.scene=y,this.systems=y.sys,this.cacheManager=y.sys.cache,this.textureManager=y.sys.textures,this.sceneManager=y.sys.game.scene,n.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(r(P,"baseURL",S.loaderBaseURL)),this.setPath(r(P,"path",S.loaderPath)),this.setPrefix(r(P,"prefix",S.loaderPrefix)),this.maxParallelDownloads=r(P,"maxParallelDownloads",S.loaderMaxParallelDownloads),this.xhr=p(r(P,"responseType",S.loaderResponseType),r(P,"async",S.loaderAsync),r(P,"user",S.loaderUser),r(P,"password",S.loaderPassword),r(P,"timeout",S.loaderTimeout),r(P,"withCredentials",S.loaderWithCredentials)),this.crossOrigin=r(P,"crossOrigin",S.loaderCrossOrigin),this.imageLoadType=r(P,"imageLoadType",S.loaderImageLoadType),this.localSchemes=r(P,"localScheme",S.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new d,this.inflight=new d,this.queue=new d,this._deleteQueue=new d,this.totalFailed=0,this.totalComplete=0,this.state=m.LOADER_IDLE,this.multiKeyIndex=0,y.sys.events.once(v.BOOT,this.boot,this),y.sys.events.on(v.START,this.pluginStart,this)},boot:function(){this.systems.events.once(v.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(v.SHUTDOWN,this.shutdown,this)},setBaseURL:function(g){return g===void 0&&(g=""),g!==""&&g.substr(-1)!=="/"&&(g=g.concat("/")),this.baseURL=g,this},setPath:function(g){return g===void 0&&(g=""),g!==""&&g.substr(-1)!=="/"&&(g=g.concat("/")),this.path=g,this},setPrefix:function(g){return g===void 0&&(g=""),this.prefix=g,this},setCORS:function(g){return this.crossOrigin=g,this},addFile:function(g){Array.isArray(g)||(g=[g]);for(var y=0;y<g.length;y++){var S=g[y];this.keyExists(S)||(this.list.set(S),this.emit(h.ADD,S.key,S.type,this,S),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(g){var y=g.hasCacheConflict();return y||this.list.iterate(function(S){if(S.type===g.type&&S.key===g.key)return y=!0,!1}),!y&&this.isLoading()&&(this.inflight.iterate(function(S){if(S.type===g.type&&S.key===g.key)return y=!0,!1}),this.queue.iterate(function(S){if(S.type===g.type&&S.key===g.key)return y=!0,!1})),y},addPack:function(g,y){if(typeof y=="string"){var S=f(g,y);S&&(g={packKey:S})}var P=0,C=this.baseURL,M=this.path,R=this.prefix;for(var w in g)if(Object.prototype.hasOwnProperty.call(g,w)){var O=g[w],F=r(O,"baseURL",C),L=r(O,"path",M),b=r(O,"prefix",R),B=r(O,"files",null),I=r(O,"defaultType","void");if(Array.isArray(B)){this.setBaseURL(F),this.setPath(L),this.setPrefix(b);for(var z=0;z<B.length;z++){var Y=B[z],W=Y.hasOwnProperty("type")?Y.type:I;this[W]&&(this[W](Y),P++)}}}return this.setBaseURL(C),this.setPath(M),this.setPrefix(R),P>0},isLoading:function(){return this.state===m.LOADER_LOADING||this.state===m.LOADER_PROCESSING},isReady:function(){return this.state===m.LOADER_IDLE||this.state===m.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(h.START,this),this.list.size===0?this.loadComplete():(this.state=m.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(v.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(h.PROGRESS,this.progress)},update:function(){this.state===m.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(g){if((g.state===m.FILE_POPULATED||g.state===m.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(g),this.list.delete(g),g.crossOrigin||(g.crossOrigin=this.crossOrigin),g.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(g,y){this.inflight&&(this.inflight.delete(g),this.updateProgress(),y?(this.totalComplete++,this.queue.set(g),this.emit(h.FILE_LOAD,g),g.onProcess()):(this.totalFailed++,this._deleteQueue.set(g),this.emit(h.FILE_LOAD_ERROR,g),this.fileProcessComplete(g)))},fileProcessComplete:function(g){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(g.state===m.FILE_ERRORED?g.multiFile&&g.multiFile.onFileFailed(g):g.state===m.FILE_COMPLETE&&(g.multiFile?g.multiFile.isReadyToProcess()&&(g.multiFile.addToCache(),g.multiFile.pendingDestroy()):(g.addToCache(),g.pendingDestroy())),this.queue.delete(g),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(h.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=m.LOADER_COMPLETE,this.systems.events.off(v.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(h.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(g){this._deleteQueue.set(g)},saveJSON:function(g,y){return this.save(JSON.stringify(g),y)},save:function(g,y,S){y===void 0&&(y="file.json"),S===void 0&&(S="application/json");var P=new Blob([g],{type:S}),C=URL.createObjectURL(P),M=document.createElement("a");return M.download=y,M.textContent="Download "+y,M.href=C,M.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var g=this.systems.game.config,y=this.systems.settings.loader;this.setBaseURL(r(y,"baseURL",g.loaderBaseURL)),this.setPath(r(y,"path",g.loaderPath)),this.setPrefix(r(y,"prefix",g.loaderPrefix)),this.state=m.LOADER_IDLE},shutdown:function(){this.reset(),this.state=m.LOADER_SHUTDOWN,this.systems.events.off(v.UPDATE,this.update,this),this.systems.events.off(v.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=m.LOADER_DESTROYED,this.systems.events.off(v.UPDATE,this.update,this),this.systems.events.off(v.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});a.register("Loader",c,"load"),l.exports=c},43531:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(98611),m=e(33868),d=function(o,h){var n=o===void 0?m():u({},o);if(h)for(var r in h)h[r]!==void 0&&(n[r]=h[r]);return n};l.exports=d},45176:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(12117),d=e(683),o=new u({initialize:function(n,r,f,a){var v=[];a.forEach(function(c){c&&v.push(c)}),this.loader=n,this.type=r,this.key=f,this.multiKeyIndex=n.multiKeyIndex++,this.files=v,this.state=m.FILE_PENDING,this.complete=!1,this.pending=v.length,this.failed=0,this.config={},this.baseURL=n.baseURL,this.path=n.path,this.prefix=n.prefix;for(var p=0;p<v.length;p++)v[p].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(h){return this.files.push(h),h.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(h){var n=this.files.indexOf(h);n!==-1&&this.pending--},onFileFailed:function(h){var n=this.files.indexOf(h);n!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,h.type,h.key))},pendingDestroy:function(){if(this.state!==m.FILE_PENDING_DESTROY){var h=this.key,n=this.type;this.loader.emit(d.FILE_COMPLETE,h,n),this.loader.emit(d.FILE_KEY_COMPLETE+n+"-"+h,h,n),this.loader.flagForRemoval(this);for(var r=0;r<this.files.length;r++)this.files[r].pendingDestroy();this.state=m.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});l.exports=o},88490:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(43531),m=function(d,o){var h=u(o,d.xhrSettings),n=new XMLHttpRequest;if(n.open("GET",d.src,h.async,h.user,h.password),n.responseType=d.xhrSettings.responseType,n.timeout=h.timeout,h.headers)for(var r in h.headers)n.setRequestHeader(r,h.headers[r]);return h.header&&h.headerValue&&n.setRequestHeader(h.header,h.headerValue),h.requestedWith&&n.setRequestHeader("X-Requested-With",h.requestedWith),h.overrideMimeType&&n.overrideMimeType(h.overrideMimeType),h.withCredentials&&(n.withCredentials=!0),n.onload=d.onLoad.bind(d,n),n.onerror=d.onError.bind(d,n),n.onprogress=d.onProgress.bind(d),n.send(),n};l.exports=m},33868:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d,o,h){return e===void 0&&(e=""),u===void 0&&(u=!0),m===void 0&&(m=""),d===void 0&&(d=""),o===void 0&&(o=0),h===void 0&&(h=!1),{responseType:e,async:u,user:m,password:d,timeout:o,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:h}};l.exports=T},12117:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};l.exports=T},7398:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="addfile"},52187:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="complete"},36627:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="filecomplete"},81925:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="filecomplete-"},29774:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="loaderror"},20943:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="load"},74693:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="fileprogress"},71176:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="postprocess"},88984:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="progress"},72753:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="start"},683:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ADD:e(7398),COMPLETE:e(52187),FILE_COMPLETE:e(36627),FILE_KEY_COMPLETE:e(81925),FILE_LOAD_ERROR:e(29774),FILE_LOAD:e(20943),FILE_PROGRESS:e(74693),POST_PROCESS:e(71176),PROGRESS:e(88984),START:e(72753)}},46468:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(76846),d=e(70806),o=e(683),h=new u({Extends:d,initialize:function(r,f,a,v,p){d.call(this,r,f,a,v,p),this.type="animationJSON"},onProcess:function(){this.loader.once(o.POST_PROCESS,this.onLoadComplete,this),d.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});m.register("animation",function(n,r,f,a){if(Array.isArray(n))for(var v=0;v<n.length;v++)this.addFile(new h(this,n[v]));else this.addFile(new h(this,n,r,a,f));return this}),l.exports=h},31648:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(76846),d=e(72632),o=e(42927),h=e(42911),n=e(70806),r=e(45176),f=new u({Extends:r,initialize:function(v,p,c,g,y,S){var P,C;if(h(p)){var M=p;p=d(M,"key"),P=new o(v,{key:p,url:d(M,"textureURL"),extension:d(M,"textureExtension","png"),normalMap:d(M,"normalMap"),xhrSettings:d(M,"textureXhrSettings")}),C=new n(v,{key:p,url:d(M,"atlasURL"),extension:d(M,"atlasExtension","json"),xhrSettings:d(M,"atlasXhrSettings")})}else P=new o(v,p,c,y),C=new n(v,p,g,S);P.linkFile?r.call(this,v,"atlasjson",p,[P,C,P.linkFile]):r.call(this,v,"atlasjson",p,[P,C])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],v=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(a.key,a.data,v.data,p),v.addToCache(),this.complete=!0}}});m.register("aseprite",function(a,v,p,c,g){var y;if(Array.isArray(a))for(var S=0;S<a.length;S++)y=new f(this,a[S]),this.addFile(y.files);else y=new f(this,a,v,p,c,g),this.addFile(y.files);return this}),l.exports=f},73152:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(76846),d=e(72632),o=e(42927),h=e(42911),n=e(70806),r=e(45176),f=new u({Extends:r,initialize:function(v,p,c,g,y,S){var P,C;if(h(p)){var M=p;p=d(M,"key"),P=new o(v,{key:p,url:d(M,"textureURL"),extension:d(M,"textureExtension","png"),normalMap:d(M,"normalMap"),xhrSettings:d(M,"textureXhrSettings")}),C=new n(v,{key:p,url:d(M,"atlasURL"),extension:d(M,"atlasExtension","json"),xhrSettings:d(M,"atlasXhrSettings")})}else P=new o(v,p,c,y),C=new n(v,p,g,S);P.linkFile?r.call(this,v,"atlasjson",p,[P,C,P.linkFile]):r.call(this,v,"atlasjson",p,[P,C])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],v=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(a.key,a.data,v.data,p),this.complete=!0}}});m.register("atlas",function(a,v,p,c,g){var y;if(Array.isArray(a))for(var S=0;S<a.length;S++)y=new f(this,a[S]),this.addFile(y.files);else y=new f(this,a,v,p,c,g),this.addFile(y.files);return this}),l.exports=f},24616:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(76846),d=e(72632),o=e(42927),h=e(42911),n=e(45176),r=e(15297),f=new u({Extends:n,initialize:function(v,p,c,g,y,S){var P,C;if(h(p)){var M=p;p=d(M,"key"),P=new o(v,{key:p,url:d(M,"textureURL"),extension:d(M,"textureExtension","png"),normalMap:d(M,"normalMap"),xhrSettings:d(M,"textureXhrSettings")}),C=new r(v,{key:p,url:d(M,"atlasURL"),extension:d(M,"atlasExtension","xml"),xhrSettings:d(M,"atlasXhrSettings")})}else P=new o(v,p,c,y),C=new r(v,p,g,S);P.linkFile?n.call(this,v,"atlasxml",p,[P,C,P.linkFile]):n.call(this,v,"atlasxml",p,[P,C])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],v=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(a.key,a.data,v.data,p),this.complete=!0}}});m.register("atlasXML",function(a,v,p,c,g){var y;if(Array.isArray(a))for(var S=0;S<a.length;S++)y=new f(this,a[S]),this.addFile(y.files);else y=new f(this,a,v,p,c,g),this.addFile(y.files);return this}),l.exports=f},67448:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(12117),d=e(98035),o=e(76846),h=e(72632),n=e(30929),r=e(42911),f=new u({Extends:d,initialize:function(v,p,c,g,y){if(r(p)){var S=p;p=h(S,"key"),g=h(S,"xhrSettings"),y=h(S,"context",y)}var P={type:"audio",cache:v.cacheManager.audio,extension:c.type,responseType:"arraybuffer",key:p,url:c.url,xhrSettings:g,config:{context:y}};d.call(this,v,P)},onProcess:function(){this.state=m.FILE_PROCESSING;var a=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(v){a.data=v,a.onProcessComplete()},function(v){console.error("Error decoding audio: "+a.key+" - ",v?v.message:null),a.onProcessError()}),this.config.context=null}});f.create=function(a,v,p,c,g){var y=a.systems.game,S=y.config.audio,P=y.device.audio;r(v)&&(p=h(v,"url",[]),c=h(v,"config",{}));var C=f.getAudioURL(y,p);return C?P.webAudio&&!S.disableWebAudio?new f(a,v,C,g,y.sound.context):new n(a,v,C,c):(console.warn('No audio URLs for "%s" matched this device',v),null)},f.getAudioURL=function(a,v){Array.isArray(v)||(v=[v]);for(var p=0;p<v.length;p++){var c=h(v[p],"url",v[p]);if(c.indexOf("blob:")===0||c.indexOf("data:")===0)return{url:c,type:""};var g=c.match(/\.([a-zA-Z0-9]+)($|\?)/);if(g=h(v[p],"type",g?g[1]:"").toLowerCase(),a.device.audio[g])return{url:c,type:g}}return null},o.register("audio",function(a,v,p,c){var g=this.systems.game,y=g.config.audio,S=g.device.audio;if(y.noAudio||!S.webAudio&&!S.audioData)return this;var P;if(Array.isArray(a))for(var C=0;C<a.length;C++)P=f.create(this,a[C]),P&&this.addFile(P);else P=f.create(this,a,v,p,c),P&&this.addFile(P);return this}),l.exports=f},66109:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(67448),m=e(56694),d=e(76846),o=e(72632),h=e(42911),n=e(70806),r=e(45176),f=new m({Extends:r,initialize:function(v,p,c,g,y,S,P){if(h(p)){var C=p;p=o(C,"key"),c=o(C,"jsonURL"),g=o(C,"audioURL"),y=o(C,"audioConfig"),S=o(C,"audioXhrSettings"),P=o(C,"jsonXhrSettings")}var M;if(!g)M=new n(v,p,c,P),r.call(this,v,"audiosprite",p,[M]),this.config.resourceLoad=!0,this.config.audioConfig=y,this.config.audioXhrSettings=S;else{var R=u.create(v,p,g,y,S);R&&(M=new n(v,p,c,P),r.call(this,v,"audiosprite",p,[R,M]),this.config.resourceLoad=!1)}},onFileComplete:function(a){var v=this.files.indexOf(a);if(v!==-1&&(this.pending--,this.config.resourceLoad&&a.type==="json"&&a.data.hasOwnProperty("resources"))){var p=a.data.resources,c=o(this.config,"audioConfig"),g=o(this.config,"audioXhrSettings"),y=u.create(this.loader,a.key,p,c,g);y&&(this.addToMultiFile(y),this.loader.addFile(y))}},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],v=this.files[1];a.addToCache(),v.addToCache(),this.complete=!0}}});d.register("audioSprite",function(a,v,p,c,g,y){var S=this.systems.game,P=S.config.audio,C=S.device.audio;if(P&&P.noAudio||!C.webAudio&&!C.audioData)return this;var M;if(Array.isArray(a))for(var R=0;R<a.length;R++)M=new f(this,a[R]),M.files&&this.addFile(M.files);else M=new f(this,a,v,p,c,g,y),M.files&&this.addFile(M.files);return this})},40612:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(12117),d=e(98035),o=e(76846),h=e(72632),n=e(42911),r=new u({Extends:d,initialize:function(a,v,p,c,g){var y="bin";if(n(v)){var S=v;v=h(S,"key"),p=h(S,"url"),c=h(S,"xhrSettings"),y=h(S,"extension",y),g=h(S,"dataType",g)}var P={type:"binary",cache:a.cacheManager.binary,extension:y,responseType:"arraybuffer",key:v,url:p,xhrSettings:c,config:{dataType:g}};d.call(this,a,P)},onProcess:function(){this.state=m.FILE_PROCESSING;var f=this.config.dataType;this.data=f?new f(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});o.register("binary",function(f,a,v,p){if(Array.isArray(f))for(var c=0;c<f.length;c++)this.addFile(new r(this,f[c]));else this.addFile(new r(this,f,a,p,v));return this}),l.exports=r},54565:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(76846),d=e(72632),o=e(42927),h=e(42911),n=e(45176),r=e(31476),f=e(15297),a=new u({Extends:n,initialize:function(p,c,g,y,S,P){var C,M;if(h(c)){var R=c;c=d(R,"key"),C=new o(p,{key:c,url:d(R,"textureURL"),extension:d(R,"textureExtension","png"),normalMap:d(R,"normalMap"),xhrSettings:d(R,"textureXhrSettings")}),M=new f(p,{key:c,url:d(R,"fontDataURL"),extension:d(R,"fontDataExtension","xml"),xhrSettings:d(R,"fontDataXhrSettings")})}else C=new o(p,c,g,S),M=new f(p,c,y,P);C.linkFile?n.call(this,p,"bitmapfont",c,[C,M,C.linkFile]):n.call(this,p,"bitmapfont",c,[C,M])},addToCache:function(){if(this.isReadyToProcess()){var v=this.files[0],p=this.files[1];v.addToCache();var c=v.cache.get(v.key),g=r(p.data,v.cache.getFrame(v.key),0,0,c);this.loader.cacheManager.bitmapFont.add(v.key,{data:g,texture:v.key,frame:null}),this.complete=!0}}});m.register("bitmapFont",function(v,p,c,g,y){var S;if(Array.isArray(v))for(var P=0;P<v.length;P++)S=new a(this,v[P]),this.addFile(S.files);else S=new a(this,v,p,c,g,y),this.addFile(S.files);return this}),l.exports=a},99898:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(12117),d=e(98035),o=e(76846),h=e(72632),n=e(42911),r=new u({Extends:d,initialize:function(a,v,p,c){var g="css";if(n(v)){var y=v;v=h(y,"key"),p=h(y,"url"),c=h(y,"xhrSettings"),g=h(y,"extension",g)}var S={type:"script",cache:!1,extension:g,responseType:"text",key:v,url:p,xhrSettings:c};d.call(this,a,S)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});o.register("css",function(f,a,v){if(Array.isArray(f))for(var p=0;p<f.length;p++)this.addFile(new r(this,f[p]));else this.addFile(new r(this,f,a,v));return this}),l.exports=r},47375:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(73152),m=e(40612),d=e(56694),o=e(76846),h=e(72632),n=e(42927),r=e(42911),f=e(70806),a=e(67409),v=e(30657),p=e(80802),c=e(45176),g=e(24904),y=new d({Extends:c,initialize:function(P,C,M,R){if(M.multiAtlasURL){var w=new f(P,{key:C,url:M.multiAtlasURL,xhrSettings:R,config:M});c.call(this,P,"texture",C,[w])}else{var O=M.textureURL.substr(M.textureURL.length-3);M.type||(M.type=O.toLowerCase()==="ktx"?"KTX":"PVR");var F=new m(P,{key:C,url:M.textureURL,extension:O,xhrSettings:R,config:M});if(M.atlasURL){var L=new f(P,{key:C,url:M.atlasURL,xhrSettings:R,config:M});c.call(this,P,"texture",C,[F,L])}else c.call(this,P,"texture",C,[F])}this.config=M},onFileComplete:function(S){var P=this.files.indexOf(S);if(P!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(S.type==="json"&&S.data.hasOwnProperty("textures")){var C=S.data.textures,M=this.config,R=this.loader,w=R.baseURL,O=R.path,F=R.prefix,L=h(M,"multiBaseURL",this.baseURL),b=h(M,"multiPath",this.path),B=h(M,"prefix",this.prefix),I=h(M,"textureXhrSettings");L&&R.setBaseURL(L),b&&R.setPath(b),B&&R.setPrefix(B);for(var z=0;z<C.length;z++){var Y=C[z].image,W="CMA"+this.multiKeyIndex+"_"+Y,H=new m(R,W,Y,I);if(this.addToMultiFile(H),R.addFile(H),C[z].normalMap){var N=new m(R,W,C[z].normalMap,I);N.type="normalMap",H.setLink(N),this.addToMultiFile(N),R.addFile(N)}}R.setBaseURL(w),R.setPath(O),R.setPrefix(F)}}},addToCache:function(){if(this.isReadyToProcess()){var S=this.config;if(S.multiAtlasURL)this.addMultiToCache();else{var P=this.loader.systems.renderer,C=this.loader.textureManager,M,R=this.files[0],w=this.files[1];if(S.type==="PVR"?M=g(R.data):S.type==="KTX"&&(M=a(R.data)),M&&P.supportsCompressedTexture(S.format,M.internalFormat)){M.format=P.getCompressedTextureName(S.format,M.internalFormat);var O=w&&w.data?w.data:null;C.addCompressedTexture(R.key,M,O)}}this.complete=!0}},addMultiToCache:function(){for(var S=this.config,P=this.files[0],C=[],M=[],R=[],w=this.loader.systems.renderer,O=this.loader.textureManager,F,L=1;L<this.files.length;L++){var b=this.files[L];if(b.type!=="normalMap")for(var B=b.key.indexOf("_"),I=b.key.substr(B+1),z=b.data,Y=0;Y<P.data.textures.length;Y++){var W=P.data.textures[Y];if(W.image===I){S.type==="PVR"?F=g(z):S.type==="KTX"&&(F=a(z)),F&&w.supportsCompressedTexture(S.format,F.internalFormat)&&(F.format=w.getCompressedTextureName(S.format,F.internalFormat),M.push(F),C.push(W),b.linkFile&&R.push(b.linkFile.data));break}}}R.length===0&&(R=void 0),O.addAtlasJSONArray(this.key,M,C,R),this.complete=!0}});o.register("texture",function(S,P,C){var M=this.systems.renderer,R=function(O,F,L,b){var B={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(r(F)){var I=F;F=h(I,"key"),L=h(I,"url"),b=h(I,"xhrSettings")}var z=!1;for(var Y in L)if(M.supportsCompressedTexture(Y)){var W=L[Y];typeof W=="string"?B.textureURL=W:B=v(W,B),B.format=Y.toUpperCase(),z=!0;break}if(!z)console.warn("No supported compressed texture format or IMG fallback",F);else if(B.format==="IMG"){var H,N;B.multiAtlasURL?(N=new p(O,F,B.multiAtlasURL,B.multiPath,B.multiBaseURL,b),H=N.files):B.atlasURL?(N=new u(O,F,B.textureURL,B.atlasURL,b),H=N.files):H=new n(O,F,B.textureURL,b),O.addFile(H)}else{var X=new y(O,F,B,b);O.addFile(X.files)}};if(Array.isArray(S))for(var w=0;w<S.length;w++)R(this,S[w]);else R(this,S,P,C);return this}),l.exports=y},46568:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(12117),d=e(98035),o=e(76846),h=e(72632),n=e(42911),r=e(31053),f=new u({Extends:d,initialize:function(v,p,c,g,y){var S="glsl";if(n(p)){var P=p;p=h(P,"key"),c=h(P,"url"),g=h(P,"shaderType","fragment"),y=h(P,"xhrSettings"),S=h(P,"extension",S)}else g===void 0&&(g="fragment");var C={type:"glsl",cache:v.cacheManager.shader,extension:S,responseType:"text",key:p,url:c,config:{shaderType:g},xhrSettings:y};d.call(this,v,C)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var a=this.data.split(`
`),v=this.extractBlock(a,0);if(v)for(;v;){var p=this.getShaderName(v.header),c=this.getShaderType(v.header),g=this.getShaderUniforms(v.header),y=v.shader;if(this.cache.has(p)){var S=this.cache.get(p);c==="fragment"?S.fragmentSrc=y:S.vertexSrc=y,S.uniforms||(S.uniforms=g)}else c==="fragment"?this.cache.add(p,new r(p,y,"",g)):this.cache.add(p,new r(p,"",y,g));v=this.extractBlock(a,v.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new r(this.key,this.data)):this.cache.add(this.key,new r(this.key,"",this.data))},getShaderName:function(a){for(var v=0;v<a.length;v++){var p=a[v].trim();if(p.substring(0,5)==="name:")return p.substring(5).trim()}return this.key},getShaderType:function(a){for(var v=0;v<a.length;v++){var p=a[v].trim();if(p.substring(0,5)==="type:")return p.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(a){for(var v={},p=0;p<a.length;p++){var c=a[p].trim();if(c.substring(0,8)==="uniform."){var g=c.indexOf(":");if(g){var y=c.substring(8,g);try{v[y]=JSON.parse(c.substring(g+1))}catch{console.warn("Invalid uniform JSON: "+y)}}}}return v},extractBlock:function(a,v){for(var p=-1,c=-1,g=-1,y=!1,S=!1,P=[],C=[],M=v;M<a.length;M++){var R=a[M].trim();if(R==="---")if(p===-1)p=M,y=!0;else if(y)c=M,y=!1,S=!0;else{S=!1;break}else y?P.push(R):S&&(C.push(R),g=M)}return!y&&c!==-1?{header:P,shader:C.join(`
`),offset:g}:null}});o.register("glsl",function(a,v,p,c){if(Array.isArray(a))for(var g=0;g<a.length;g++)this.addFile(new f(this,a[g]));else this.addFile(new f(this,a,v,p,c));return this}),l.exports=f},30929:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(683),d=e(98035),o=e(72632),h=e(30750),n=e(42911),r=new u({Extends:d,initialize:function(a,v,p,c){if(n(v)){var g=v;v=o(g,"key"),c=o(g,"config",c)}var y={type:"audio",cache:a.cacheManager.audio,extension:p.type,key:v,url:p.url,config:c};d.call(this,a,y),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var f=0;f<this.data.length;f++){var a=this.data[f];a.oncanplaythrough=null,a.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(f){var a=f.target;a.oncanplaythrough=null,a.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(m.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var f=this.config&&this.config.instances||1;this.filesTotal=f,this.filesLoaded=0,this.percentComplete=0;for(var a=0;a<f;a++){var v=new Audio;v.dataset||(v.dataset={}),v.dataset.name=this.key+("0"+a).slice(-2),v.dataset.used="false",this.locked?v.dataset.locked="true":(v.dataset.locked="false",v.preload="auto",v.oncanplaythrough=this.onProgress.bind(this),v.onerror=this.onError.bind(this)),this.data.push(v)}for(a=0;a<this.data.length;a++)v=this.data[a],v.src=h(this,this.loader.baseURL),this.locked||v.load();this.locked&&setTimeout(this.onLoad.bind(this))}});l.exports=r},77459:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(12117),d=e(98035),o=e(76846),h=e(72632),n=e(42911),r=new u({Extends:d,initialize:function(a,v,p,c){var g="html";if(n(v)){var y=v;v=h(y,"key"),p=h(y,"url"),c=h(y,"xhrSettings"),g=h(y,"extension",g)}var S={type:"text",cache:a.cacheManager.html,extension:g,responseType:"text",key:v,url:p,xhrSettings:c};d.call(this,a,S)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});o.register("html",function(f,a,v){if(Array.isArray(f))for(var p=0;p<f.length;p++)this.addFile(new r(this,f[p]));else this.addFile(new r(this,f,a,v));return this}),l.exports=r},9755:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(12117),d=e(98035),o=e(76846),h=e(72632),n=e(42911),r=new u({Extends:d,initialize:function(a,v,p,c,g,y){c===void 0&&(c=512),g===void 0&&(g=512);var S="html";if(n(v)){var P=v;v=h(P,"key"),p=h(P,"url"),y=h(P,"xhrSettings"),S=h(P,"extension",S),c=h(P,"width",c),g=h(P,"height",g)}var C={type:"html",cache:a.textureManager,extension:S,responseType:"text",key:v,url:p,xhrSettings:y,config:{width:c,height:g}};d.call(this,a,C)},onProcess:function(){this.state=m.FILE_PROCESSING;var f=this.config.width,a=this.config.height,v=[];v.push('<svg width="'+f+'px" height="'+a+'px" viewBox="0 0 '+f+" "+a+'" xmlns="http://www.w3.org/2000/svg">'),v.push('<foreignObject width="100%" height="100%">'),v.push('<body xmlns="http://www.w3.org/1999/xhtml">'),v.push(this.xhrLoader.responseText),v.push("</body>"),v.push("</foreignObject>"),v.push("</svg>");var p=[v.join(`
`)],c=this;try{var g=new window.Blob(p,{type:"image/svg+xml;charset=utf-8"})}catch{c.state=m.FILE_ERRORED,c.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){d.revokeObjectURL(c.data),c.onProcessComplete()},this.data.onerror=function(){d.revokeObjectURL(c.data),c.onProcessError()},d.createObjectURL(this.data,g,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});o.register("htmlTexture",function(f,a,v,p,c){if(Array.isArray(f))for(var g=0;g<f.length;g++)this.addFile(new r(this,f[g]));else this.addFile(new r(this,f,a,v,p,c));return this}),l.exports=r},42927:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(12117),d=e(98035),o=e(76846),h=e(72632),n=e(42911),r=e(30750),f=new u({Extends:d,initialize:function a(v,p,c,g,y){var S="png",P;if(n(p)){var C=p;p=h(C,"key"),c=h(C,"url"),P=h(C,"normalMap"),g=h(C,"xhrSettings"),S=h(C,"extension",S),y=h(C,"frameConfig")}Array.isArray(c)&&(P=c[1],c=c[0]);var M={type:"image",cache:v.textureManager,extension:S,responseType:"blob",key:p,url:c,xhrSettings:g,config:y};if(d.call(this,v,M),P){var R=new a(v,this.key,P,g,y);R.type="normalMap",this.setLink(R),v.addFile(R)}this.useImageElementLoad=v.imageLoadType==="HTMLImageElement",this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var a=this;this.data.onload=function(){d.revokeObjectURL(a.data),a.onProcessComplete()},this.data.onerror=function(){d.revokeObjectURL(a.data),a.onProcessError()},d.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var a=this.state;this.state=m.FILE_PROCESSING,a===m.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){if(this.state=m.FILE_LOADING,this.src=r(this,this.loader.baseURL),this.src.indexOf("data:")===0)console.warn("Local data URIs are not supported: "+this.key);else{this.data=new Image,this.data.crossOrigin=this.crossOrigin;var a=this;this.data.onload=function(){a.state=m.FILE_LOADED,a.loader.nextFile(a,!0)},this.data.onerror=function(){a.loader.nextFile(a,!1)},this.data.src=this.src}},addToCache:function(){var a=this.linkFile;a?a.state>=m.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addImage(this.key,a.data,this.data):this.cache.addImage(this.key,this.data,a.data)):this.cache.addImage(this.key,this.data)}});o.register("image",function(a,v,p){if(Array.isArray(a))for(var c=0;c<a.length;c++)this.addFile(new f(this,a[c]));else this.addFile(new f(this,a,v,p));return this}),l.exports=f},70806:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(12117),d=e(98035),o=e(76846),h=e(72632),n=e(10850),r=e(42911),f=new u({Extends:d,initialize:function(v,p,c,g,y){var S="json";if(r(p)){var P=p;p=h(P,"key"),c=h(P,"url"),g=h(P,"xhrSettings"),S=h(P,"extension",S),y=h(P,"dataKey",y)}var C={type:"json",cache:v.cacheManager.json,extension:S,responseType:"text",key:p,url:c,xhrSettings:g,config:y};d.call(this,v,C),r(c)&&(y?this.data=n(c,y):this.data=c,this.state=m.FILE_POPULATED)},onProcess:function(){if(this.state!==m.FILE_POPULATED){this.state=m.FILE_PROCESSING;try{var a=JSON.parse(this.xhrLoader.responseText)}catch(p){throw this.onProcessError(),p}var v=this.config;typeof v=="string"?this.data=n(a,v,a):this.data=a}this.onProcessComplete()}});o.register("json",function(a,v,p,c){if(Array.isArray(a))for(var g=0;g<a.length;g++)this.addFile(new f(this,a[g]));else this.addFile(new f(this,a,v,c,p));return this}),l.exports=f},80802:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(76846),d=e(72632),o=e(42927),h=e(42911),n=e(70806),r=e(45176),f=new u({Extends:r,initialize:function(v,p,c,g,y,S,P){if(h(p)){var C=p;p=d(C,"key"),d(C,"url",!1)?c=d(C,"url"):c=d(C,"atlasURL"),S=d(C,"xhrSettings"),g=d(C,"path"),y=d(C,"baseURL"),P=d(C,"textureXhrSettings")}var M=new n(v,p,c,S);r.call(this,v,"multiatlas",p,[M]),this.config.path=g,this.config.baseURL=y,this.config.textureXhrSettings=P},onFileComplete:function(a){var v=this.files.indexOf(a);if(v!==-1&&(this.pending--,a.type==="json"&&a.data.hasOwnProperty("textures"))){var p=a.data.textures,c=this.config,g=this.loader,y=g.baseURL,S=g.path,P=g.prefix,C=d(c,"baseURL",this.baseURL),M=d(c,"path",this.path),R=d(c,"prefix",this.prefix),w=d(c,"textureXhrSettings");g.setBaseURL(C),g.setPath(M),g.setPrefix(R);for(var O=0;O<p.length;O++){var F=p[O].image,L="MA"+this.multiKeyIndex+"_"+F,b=new o(g,L,F,w);if(this.addToMultiFile(b),g.addFile(b),p[O].normalMap){var B=new o(g,L,p[O].normalMap,w);B.type="normalMap",b.setLink(B),this.addToMultiFile(B),g.addFile(B)}}g.setBaseURL(y),g.setPath(S),g.setPrefix(P)}},addToCache:function(){if(this.isReadyToProcess()){for(var a=this.files[0],v=[],p=[],c=[],g=1;g<this.files.length;g++){var y=this.files[g];if(y.type!=="normalMap")for(var S=y.key.indexOf("_"),P=y.key.substr(S+1),C=y.data,M=0;M<a.data.textures.length;M++){var R=a.data.textures[M];if(R.image===P){p.push(C),v.push(R),y.linkFile&&c.push(y.linkFile.data);break}}}c.length===0&&(c=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,p,v,c),this.complete=!0}}});m.register("multiatlas",function(a,v,p,c,g){var y;if(Array.isArray(a))for(var S=0;S<a.length;S++)y=new f(this,a[S]),this.addFile(y.files);else y=new f(this,a,v,p,c,g),this.addFile(y.files);return this}),l.exports=f},39034:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(76846),d=e(72632),o=e(42911),h=e(45176),n=e(55188),r=new u({Extends:h,initialize:function(a,v,p,c){var g="js",y=[];if(o(v)){var S=v;v=d(S,"key"),p=d(S,"url"),c=d(S,"xhrSettings"),g=d(S,"extension",g)}Array.isArray(p)||(p=[p]);for(var P=0;P<p.length;P++){var C=new n(a,{key:v+"_"+P.toString(),url:p[P],extension:g,xhrSettings:c});C.onProcess=function(){this.onProcessComplete()},y.push(C)}h.call(this,a,"scripts",v,y)},addToCache:function(){if(this.isReadyToProcess()){for(var f=0;f<this.files.length;f++){var a=this.files[f];a.data=document.createElement("script"),a.data.language="javascript",a.data.type="text/javascript",a.data.defer=!1,a.data.text=a.xhrLoader.responseText,document.head.appendChild(a.data)}this.complete=!0}}});m.register("scripts",function(f,a,v){var p;if(Array.isArray(f))for(var c=0;c<f.length;c++)p=new r(this,f[c]),this.addFile(p.files);else p=new r(this,f,a,v),this.addFile(p.files);return this}),l.exports=r},85527:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(76846),d=e(72632),o=e(42911),h=e(45176),n=e(27291),r=e(76799),f=e(86897),a=new u({Extends:h,initialize:function(p,c,g,y,S,P){var C,M,R=p.cacheManager.obj;if(o(c)){var w=c;c=d(w,"key"),C=new f(p,{key:c,type:"obj",cache:R,url:d(w,"url"),extension:d(w,"extension","obj"),xhrSettings:d(w,"xhrSettings"),config:{flipUV:d(w,"flipUV",S)}}),y=d(w,"matURL"),y&&(M=new f(p,{key:c,type:"mat",cache:R,url:y,extension:d(w,"matExtension","mat"),xhrSettings:d(w,"xhrSettings")}))}else C=new f(p,{key:c,url:g,type:"obj",cache:R,extension:"obj",xhrSettings:P,config:{flipUV:S}}),y&&(M=new f(p,{key:c,url:y,type:"mat",cache:R,extension:"mat",xhrSettings:P}));h.call(this,p,"obj",c,[C,M])},addToCache:function(){if(this.isReadyToProcess()){var v=this.files[0],p=this.files[1],c=n(v.data,v.config.flipUV);p&&(c.materials=r(p.data)),v.cache.add(v.key,c),this.complete=!0}}});m.register("obj",function(v,p,c,g,y){var S;if(Array.isArray(v))for(var P=0;P<v.length;P++)S=new a(this,v[P]),this.addFile(S.files);else S=new a(this,v,p,c,g,y),this.addFile(S.files);return this}),l.exports=a},3616:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(12117),d=e(76846),o=e(70806),h=new u({Extends:o,initialize:function(r,f,a,v,p){o.call(this,r,f,a,v,p),this.type="packfile"},onProcess:function(){if(this.state!==m.FILE_POPULATED&&(this.state=m.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var n={};n[this.config]=this.data,this.data=n}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});d.register("pack",function(n,r,f,a){if(Array.isArray(n))for(var v=0;v<n.length;v++)this.addFile(new h(this,n[v]));else this.addFile(new h(this,n,r,a,f));return this}),l.exports=h},12217:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(12117),d=e(98035),o=e(76846),h=e(72632),n=e(42911),r=new u({Extends:d,initialize:function(a,v,p,c,g,y){var S="js";if(n(v)){var P=v;v=h(P,"key"),p=h(P,"url"),y=h(P,"xhrSettings"),S=h(P,"extension",S),c=h(P,"start"),g=h(P,"mapping")}var C={type:"plugin",cache:!1,extension:S,responseType:"text",key:v,url:p,xhrSettings:y,config:{start:c,mapping:g}};d.call(this,a,C),typeof p=="function"&&(this.data=p,this.state=m.FILE_POPULATED)},onProcess:function(){var f=this.loader.systems.plugins,a=this.config,v=h(a,"start",!1),p=h(a,"mapping",null);if(this.state===m.FILE_POPULATED)f.install(this.key,this.data,v,p);else{this.state=m.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var c=f.install(this.key,window[this.key],v,p);(v||p)&&(this.loader.systems[p]=c,this.loader.scene[p]=c)}this.onProcessComplete()}});o.register("plugin",function(f,a,v,p,c){if(Array.isArray(f))for(var g=0;g<f.length;g++)this.addFile(new r(this,f[g]));else this.addFile(new r(this,f,a,v,p,c));return this}),l.exports=r},4474:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(12117),d=e(98035),o=e(76846),h=e(72632),n=e(42911),r=new u({Extends:d,initialize:function(a,v,p,c,g){var y="svg";if(n(v)){var S=v;v=h(S,"key"),p=h(S,"url"),c=h(S,"svgConfig",{}),g=h(S,"xhrSettings"),y=h(S,"extension",y)}var P={type:"svg",cache:a.textureManager,extension:y,responseType:"text",key:v,url:p,xhrSettings:g,config:{width:h(c,"width"),height:h(c,"height"),scale:h(c,"scale")}};d.call(this,a,P)},onProcess:function(){this.state=m.FILE_PROCESSING;var f=this.xhrLoader.responseText,a=[f],v=this.config.width,p=this.config.height,c=this.config.scale;t:if(v&&p||c){var g=null,y=new DOMParser;g=y.parseFromString(f,"text/xml");var S=g.getElementsByTagName("svg")[0],P=S.hasAttribute("viewBox"),C=parseFloat(S.getAttribute("width")),M=parseFloat(S.getAttribute("height"));if(!P&&C&&M)S.setAttribute("viewBox","0  0 "+C+" "+M);else if(P&&!C&&!M){var R=S.getAttribute("viewBox").split(/\s+|,/);C=R[2],M=R[3]}if(c)if(C&&M)v=C*c,p=M*c;else break t;S.setAttribute("width",v.toString()+"px"),S.setAttribute("height",p.toString()+"px"),a=[new XMLSerializer().serializeToString(S)]}try{var w=new window.Blob(a,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var O=this,F=!1;this.data.onload=function(){F||d.revokeObjectURL(O.data),O.onProcessComplete()},this.data.onerror=function(){F?O.onProcessError():(F=!0,d.revokeObjectURL(O.data),O.data.src="data:image/svg+xml,"+encodeURIComponent(a.join("")))},d.createObjectURL(this.data,w,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});o.register("svg",function(f,a,v,p){if(Array.isArray(f))for(var c=0;c<f.length;c++)this.addFile(new r(this,f[c]));else this.addFile(new r(this,f,a,v,p));return this}),l.exports=r},95171:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(12117),d=e(98035),o=e(76846),h=e(72632),n=e(42911),r=new u({Extends:d,initialize:function(a,v,p,c){var g="js";if(n(v)){var y=v;v=h(y,"key"),p=h(y,"url"),c=h(y,"xhrSettings"),g=h(y,"extension",g)}var S={type:"text",extension:g,responseType:"text",key:v,url:p,xhrSettings:c};d.call(this,a,S)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var f=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),a=eval;this.loader.sceneManager.add(this.key,a(f)),this.complete=!0}});o.register("sceneFile",function(f,a,v){if(Array.isArray(f))for(var p=0;p<f.length;p++)this.addFile(new r(this,f[p]));else this.addFile(new r(this,f,a,v));return this}),l.exports=r},82458:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(12117),d=e(98035),o=e(76846),h=e(72632),n=e(42911),r=new u({Extends:d,initialize:function(a,v,p,c,g,y){var S="js";if(n(v)){var P=v;v=h(P,"key"),p=h(P,"url"),y=h(P,"xhrSettings"),S=h(P,"extension",S),c=h(P,"systemKey"),g=h(P,"sceneKey")}var C={type:"scenePlugin",cache:!1,extension:S,responseType:"text",key:v,url:p,xhrSettings:y,config:{systemKey:c,sceneKey:g}};d.call(this,a,C),typeof p=="function"&&(this.data=p,this.state=m.FILE_POPULATED)},onProcess:function(){var f=this.loader.systems.plugins,a=this.config,v=this.key,p=h(a,"systemKey",v),c=h(a,"sceneKey",v);this.state===m.FILE_POPULATED?f.installScenePlugin(p,this.data,c,this.loader.scene,!0):(this.state=m.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),f.installScenePlugin(p,window[this.key],c,this.loader.scene,!0)),this.onProcessComplete()}});o.register("scenePlugin",function(f,a,v,p,c){if(Array.isArray(f))for(var g=0;g<f.length;g++)this.addFile(new r(this,f[g]));else this.addFile(new r(this,f,a,v,p,c));return this}),l.exports=r},55188:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(12117),d=e(98035),o=e(76846),h=e(72632),n=e(42911),r=new u({Extends:d,initialize:function(a,v,p,c,g){var y="js";if(n(v)){var S=v;v=h(S,"key"),p=h(S,"url"),c=h(S,"type","script"),g=h(S,"xhrSettings"),y=h(S,"extension",y)}else c===void 0&&(c="script");var P={type:c,cache:!1,extension:y,responseType:"text",key:v,url:p,xhrSettings:g};d.call(this,a,P)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});o.register("script",function(f,a,v,p){if(Array.isArray(f))for(var c=0;c<f.length;c++)this.addFile(new r(this,f[c]));else this.addFile(new r(this,f,a,v,p));return this}),l.exports=r},33536:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(12117),d=e(76846),o=e(42927),h=new u({Extends:o,initialize:function(r,f,a,v,p){o.call(this,r,f,a,p,v),this.type="spritesheet"},addToCache:function(){var n=this.linkFile;n?n.state>=m.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,n.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,n.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});d.register("spritesheet",function(n,r,f,a){if(Array.isArray(n))for(var v=0;v<n.length;v++)this.addFile(new h(this,n[v]));else this.addFile(new h(this,n,r,f,a));return this}),l.exports=h},86897:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(12117),d=e(98035),o=e(76846),h=e(72632),n=e(42911),r=new u({Extends:d,initialize:function(a,v,p,c){var g="text",y="txt",S=a.cacheManager.text;if(n(v)){var P=v;v=h(P,"key"),p=h(P,"url"),c=h(P,"xhrSettings"),y=h(P,"extension",y),g=h(P,"type",g),S=h(P,"cache",S)}var C={type:g,cache:S,extension:y,responseType:"text",key:v,url:p,xhrSettings:c};d.call(this,a,C)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});o.register("text",function(f,a,v){if(Array.isArray(f))for(var p=0;p<f.length;p++)this.addFile(new r(this,f[p]));else this.addFile(new r(this,f,a,v));return this}),l.exports=r},58673:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(12117),d=e(98035),o=e(76846),h=e(72632),n=e(42911),r=e(93560),f=new u({Extends:d,initialize:function(v,p,c,g){var y="csv";if(n(p)){var S=p;p=h(S,"key"),c=h(S,"url"),g=h(S,"xhrSettings"),y=h(S,"extension",y)}var P={type:"tilemapCSV",cache:v.cacheManager.tilemap,extension:y,responseType:"text",key:p,url:c,xhrSettings:g};d.call(this,v,P),this.tilemapFormat=r.CSV},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var a={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,a)}});o.register("tilemapCSV",function(a,v,p){if(Array.isArray(a))for(var c=0;c<a.length;c++)this.addFile(new f(this,a[c]));else this.addFile(new f(this,a,v,p));return this}),l.exports=f},98896:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(76846),d=e(70806),o=e(93560),h=new u({Extends:d,initialize:function(r,f,a,v){d.call(this,r,f,a,v),this.type="tilemapJSON",this.cache=r.cacheManager.tilemap},addToCache:function(){var n={format:o.WELTMEISTER,data:this.data};this.cache.add(this.key,n)}});m.register("tilemapImpact",function(n,r,f){if(Array.isArray(n))for(var a=0;a<n.length;a++)this.addFile(new h(this,n[a]));else this.addFile(new h(this,n,r,f));return this}),l.exports=h},50563:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(76846),d=e(70806),o=e(93560),h=new u({Extends:d,initialize:function(r,f,a,v){d.call(this,r,f,a,v),this.type="tilemapJSON",this.cache=r.cacheManager.tilemap},addToCache:function(){var n={format:o.TILED_JSON,data:this.data};this.cache.add(this.key,n)}});m.register("tilemapTiledJSON",function(n,r,f){if(Array.isArray(n))for(var a=0;a<n.length;a++)this.addFile(new h(this,n[a]));else this.addFile(new h(this,n,r,f));return this}),l.exports=h},82857:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(76846),d=e(72632),o=e(42927),h=e(42911),n=e(45176),r=e(86897),f=new u({Extends:n,initialize:function(v,p,c,g,y,S){var P,C;if(h(p)){var M=p;p=d(M,"key"),P=new o(v,{key:p,url:d(M,"textureURL"),extension:d(M,"textureExtension","png"),normalMap:d(M,"normalMap"),xhrSettings:d(M,"textureXhrSettings")}),C=new r(v,{key:p,url:d(M,"atlasURL"),extension:d(M,"atlasExtension","txt"),xhrSettings:d(M,"atlasXhrSettings")})}else P=new o(v,p,c,y),C=new r(v,p,g,S);P.linkFile?n.call(this,v,"unityatlas",p,[P,C,P.linkFile]):n.call(this,v,"unityatlas",p,[P,C])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],v=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(a.key,a.data,v.data,p),this.complete=!0}}});m.register("unityAtlas",function(a,v,p,c,g){var y;if(Array.isArray(a))for(var S=0;S<a.length;S++)y=new f(this,a[S]),this.addFile(y.files);else y=new f(this,a,v,p,c,g),this.addFile(y.files);return this}),l.exports=f},22833:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(12117),d=e(98035),o=e(76846),h=e(30750),n=e(72632),r=e(42911),f=new u({Extends:d,initialize:function(v,p,c,g){if(g===void 0&&(g=!1),r(p)){var y=p;p=n(y,"key"),c=n(y,"url",[]),g=n(y,"noAudio",!1)}var S=v.systems.game.device.video.getVideoURL(c);S||console.warn("VideoFile: No supported format for "+p);var P={type:"video",cache:v.cacheManager.video,extension:S.type,key:p,url:S.url,config:{noAudio:g}};d.call(this,v,P)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=h(this,this.loader.baseURL),this.state=m.FILE_LOADED,this.loader.nextFile(this,!0)}});o.register("video",function(a,v,p){if(Array.isArray(a))for(var c=0;c<a.length;c++)this.addFile(new f(this,a[c]));else this.addFile(new f(this,a,v,p));return this}),l.exports=f},15297:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(12117),d=e(98035),o=e(76846),h=e(72632),n=e(42911),r=e(89200),f=new u({Extends:d,initialize:function(v,p,c,g){var y="xml";if(n(p)){var S=p;p=h(S,"key"),c=h(S,"url"),g=h(S,"xhrSettings"),y=h(S,"extension",y)}var P={type:"xml",cache:v.cacheManager.xml,extension:y,responseType:"text",key:p,url:c,xhrSettings:g};d.call(this,v,P)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=r(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});o.register("xml",function(a,v,p){if(Array.isArray(a))for(var c=0;c<a.length;c++)this.addFile(new f(this,a[c]));else this.addFile(new f(this,a,v,p));return this}),l.exports=f},34034:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={AnimationJSONFile:e(46468),AsepriteFile:e(31648),AtlasJSONFile:e(73152),AtlasXMLFile:e(24616),AudioFile:e(67448),AudioSpriteFile:e(66109),BinaryFile:e(40612),BitmapFontFile:e(54565),CompressedTextureFile:e(47375),CSSFile:e(99898),GLSLFile:e(46568),HTML5AudioFile:e(30929),HTMLFile:e(77459),HTMLTextureFile:e(9755),ImageFile:e(42927),JSONFile:e(70806),MultiAtlasFile:e(80802),MultiScriptFile:e(39034),OBJFile:e(85527),PackFile:e(3616),PluginFile:e(12217),SceneFile:e(95171),ScenePluginFile:e(82458),ScriptFile:e(55188),SpriteSheetFile:e(33536),SVGFile:e(4474),TextFile:e(86897),TilemapCSVFile:e(58673),TilemapImpactFile:e(98896),TilemapJSONFile:e(50563),UnityAtlasFile:e(82857),VideoFile:e(22833),XMLFile:e(15297)}},95695:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(12117),m=e(98611),d={Events:e(683),FileTypes:e(34034),File:e(98035),FileTypesManager:e(76846),GetURL:e(30750),LoaderPlugin:e(67285),MergeXHRSettings:e(43531),MultiFile:e(45176),XHRLoader:e(88490),XHRSettings:e(33868)};d=m(!1,d,u),l.exports=d},26042:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){for(var u=0,m=0;m<e.length;m++)u+=+e[m];return u/e.length};l.exports=T},22824:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(8034),m=function(d,o){return u(d)/u(o)/u(d-o)};l.exports=m},17489:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return Math.floor(Math.random()*(u-e+1)+e)};l.exports=T},14976:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d,o){var h=(d-u)*.5,n=(o-m)*.5,r=e*e,f=e*r;return(2*m-2*d+h+n)*f+(-3*m+3*d-2*h-n)*r+h*e+m};l.exports=T},89129:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){u===void 0&&(u=0),m===void 0&&(m=10);var d=Math.pow(m,-u);return Math.ceil(e*d)/d};l.exports=T},82897:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){return Math.max(u,Math.min(m,e))};l.exports=T},75606:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83392),m=function(d){return d*u.DEG_TO_RAD};l.exports=m},767:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return Math.abs(e-u)};l.exports=T},9849:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82897),m=e(56694),d=e(16650),o=e(72283),h=new d,n=new m({initialize:function r(f,a,v,p){f===void 0&&(f=0),a===void 0&&(a=0),v===void 0&&(v=0),p===void 0&&(p=r.DefaultOrder),this._x=f,this._y=a,this._z=v,this._order=p,this.onChangeCallback=o},x:{get:function(){return this._x},set:function(r){this._x=r,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(r){this._y=r,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(r){this._z=r,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(r){this._order=r,this.onChangeCallback(this)}},set:function(r,f,a,v){return v===void 0&&(v=this._order),this._x=r,this._y=f,this._z=a,this._order=v,this.onChangeCallback(this),this},copy:function(r){return this.set(r.x,r.y,r.z,r.order)},setFromQuaternion:function(r,f,a){return f===void 0&&(f=this._order),a===void 0&&(a=!1),h.fromQuat(r),this.setFromRotationMatrix(h,f,a)},setFromRotationMatrix:function(r,f,a){f===void 0&&(f=this._order),a===void 0&&(a=!1);var v=r.val,p=v[0],c=v[4],g=v[8],y=v[1],S=v[5],P=v[9],C=v[2],M=v[6],R=v[10],w=0,O=0,F=0,L=.99999;switch(f){case"XYZ":{O=Math.asin(u(g,-1,1)),Math.abs(g)<L?(w=Math.atan2(-P,R),F=Math.atan2(-c,p)):w=Math.atan2(M,S);break}case"YXZ":{w=Math.asin(-u(P,-1,1)),Math.abs(P)<L?(O=Math.atan2(g,R),F=Math.atan2(y,S)):O=Math.atan2(-C,p);break}case"ZXY":{w=Math.asin(u(M,-1,1)),Math.abs(M)<L?(O=Math.atan2(-C,R),F=Math.atan2(-c,S)):F=Math.atan2(y,p);break}case"ZYX":{O=Math.asin(-u(C,-1,1)),Math.abs(C)<L?(w=Math.atan2(M,R),F=Math.atan2(y,p)):F=Math.atan2(-c,S);break}case"YZX":{F=Math.asin(u(y,-1,1)),Math.abs(y)<L?(w=Math.atan2(-P,S),O=Math.atan2(-C,p)):O=Math.atan2(g,R);break}case"XZY":{F=Math.asin(-u(c,-1,1)),Math.abs(c)<L?(w=Math.atan2(M,S),O=Math.atan2(g,p)):w=Math.atan2(-P,R);break}}return this._x=w,this._y=O,this._z=F,this._order=f,a&&this.onChangeCallback(this),this}});n.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],n.DefaultOrder="XYZ",l.exports=n},8034:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){if(e===0)return 1;for(var u=e;--e;)u*=e;return u};l.exports=T},61616:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return Math.random()*(u-e)+e};l.exports=T},60679:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){u===void 0&&(u=0),m===void 0&&(m=10);var d=Math.pow(m,-u);return Math.floor(e*d)/d};l.exports=T},91806:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82897),m=function(d,o,h){return d=u(d,0,1),(h-o)*d+o};l.exports=m},79366:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e/u/1e3};l.exports=T},43776:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e==parseFloat(e)?!(e%2):void 0};l.exports=T},58442:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e===parseFloat(e)?!(e%2):void 0};l.exports=T},42798:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){return(u-e)*m+e};l.exports=T},61072:l=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){return m===void 0&&(m=0),e.clone().lerp(u,m)};l.exports=T},5341:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=new u({initialize:function(o){this.val=new Float32Array(9),o?this.copy(o):this.identity()},clone:function(){return new m(this)},set:function(d){return this.copy(d)},copy:function(d){var o=this.val,h=d.val;return o[0]=h[0],o[1]=h[1],o[2]=h[2],o[3]=h[3],o[4]=h[4],o[5]=h[5],o[6]=h[6],o[7]=h[7],o[8]=h[8],this},fromMat4:function(d){var o=d.val,h=this.val;return h[0]=o[0],h[1]=o[1],h[2]=o[2],h[3]=o[4],h[4]=o[5],h[5]=o[6],h[6]=o[8],h[7]=o[9],h[8]=o[10],this},fromArray:function(d){var o=this.val;return o[0]=d[0],o[1]=d[1],o[2]=d[2],o[3]=d[3],o[4]=d[4],o[5]=d[5],o[6]=d[6],o[7]=d[7],o[8]=d[8],this},identity:function(){var d=this.val;return d[0]=1,d[1]=0,d[2]=0,d[3]=0,d[4]=1,d[5]=0,d[6]=0,d[7]=0,d[8]=1,this},transpose:function(){var d=this.val,o=d[1],h=d[2],n=d[5];return d[1]=d[3],d[2]=d[6],d[3]=o,d[5]=d[7],d[6]=h,d[7]=n,this},invert:function(){var d=this.val,o=d[0],h=d[1],n=d[2],r=d[3],f=d[4],a=d[5],v=d[6],p=d[7],c=d[8],g=c*f-a*p,y=-c*r+a*v,S=p*r-f*v,P=o*g+h*y+n*S;return P?(P=1/P,d[0]=g*P,d[1]=(-c*h+n*p)*P,d[2]=(a*h-n*f)*P,d[3]=y*P,d[4]=(c*o-n*v)*P,d[5]=(-a*o+n*r)*P,d[6]=S*P,d[7]=(-p*o+h*v)*P,d[8]=(f*o-h*r)*P,this):null},adjoint:function(){var d=this.val,o=d[0],h=d[1],n=d[2],r=d[3],f=d[4],a=d[5],v=d[6],p=d[7],c=d[8];return d[0]=f*c-a*p,d[1]=n*p-h*c,d[2]=h*a-n*f,d[3]=a*v-r*c,d[4]=o*c-n*v,d[5]=n*r-o*a,d[6]=r*p-f*v,d[7]=h*v-o*p,d[8]=o*f-h*r,this},determinant:function(){var d=this.val,o=d[0],h=d[1],n=d[2],r=d[3],f=d[4],a=d[5],v=d[6],p=d[7],c=d[8];return o*(c*f-a*p)+h*(-c*r+a*v)+n*(p*r-f*v)},multiply:function(d){var o=this.val,h=o[0],n=o[1],r=o[2],f=o[3],a=o[4],v=o[5],p=o[6],c=o[7],g=o[8],y=d.val,S=y[0],P=y[1],C=y[2],M=y[3],R=y[4],w=y[5],O=y[6],F=y[7],L=y[8];return o[0]=S*h+P*f+C*p,o[1]=S*n+P*a+C*c,o[2]=S*r+P*v+C*g,o[3]=M*h+R*f+w*p,o[4]=M*n+R*a+w*c,o[5]=M*r+R*v+w*g,o[6]=O*h+F*f+L*p,o[7]=O*n+F*a+L*c,o[8]=O*r+F*v+L*g,this},translate:function(d){var o=this.val,h=d.x,n=d.y;return o[6]=h*o[0]+n*o[3]+o[6],o[7]=h*o[1]+n*o[4]+o[7],o[8]=h*o[2]+n*o[5]+o[8],this},rotate:function(d){var o=this.val,h=o[0],n=o[1],r=o[2],f=o[3],a=o[4],v=o[5],p=Math.sin(d),c=Math.cos(d);return o[0]=c*h+p*f,o[1]=c*n+p*a,o[2]=c*r+p*v,o[3]=c*f-p*h,o[4]=c*a-p*n,o[5]=c*v-p*r,this},scale:function(d){var o=this.val,h=d.x,n=d.y;return o[0]=h*o[0],o[1]=h*o[1],o[2]=h*o[2],o[3]=n*o[3],o[4]=n*o[4],o[5]=n*o[5],this},fromQuat:function(d){var o=d.x,h=d.y,n=d.z,r=d.w,f=o+o,a=h+h,v=n+n,p=o*f,c=o*a,g=o*v,y=h*a,S=h*v,P=n*v,C=r*f,M=r*a,R=r*v,w=this.val;return w[0]=1-(y+P),w[3]=c+R,w[6]=g-M,w[1]=c-R,w[4]=1-(p+P),w[7]=S+C,w[2]=g+M,w[5]=S-C,w[8]=1-(p+y),this},normalFromMat4:function(d){var o=d.val,h=this.val,n=o[0],r=o[1],f=o[2],a=o[3],v=o[4],p=o[5],c=o[6],g=o[7],y=o[8],S=o[9],P=o[10],C=o[11],M=o[12],R=o[13],w=o[14],O=o[15],F=n*p-r*v,L=n*c-f*v,b=n*g-a*v,B=r*c-f*p,I=r*g-a*p,z=f*g-a*c,Y=y*R-S*M,W=y*w-P*M,H=y*O-C*M,N=S*w-P*R,X=S*O-C*R,D=P*O-C*w,G=F*D-L*X+b*N+B*H-I*W+z*Y;return G?(G=1/G,h[0]=(p*D-c*X+g*N)*G,h[1]=(c*H-v*D-g*W)*G,h[2]=(v*X-p*H+g*Y)*G,h[3]=(f*X-r*D-a*N)*G,h[4]=(n*D-f*H+a*W)*G,h[5]=(r*H-n*X-a*Y)*G,h[6]=(R*z-w*I+O*B)*G,h[7]=(w*b-M*z-O*L)*G,h[8]=(M*I-R*b+O*F)*G,this):null}});l.exports=m},16650:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(70015),d=1e-6,o=new u({initialize:function(p){this.val=new Float32Array(16),p?this.copy(p):this.identity()},clone:function(){return new o(this)},set:function(v){return this.copy(v)},setValues:function(v,p,c,g,y,S,P,C,M,R,w,O,F,L,b,B){var I=this.val;return I[0]=v,I[1]=p,I[2]=c,I[3]=g,I[4]=y,I[5]=S,I[6]=P,I[7]=C,I[8]=M,I[9]=R,I[10]=w,I[11]=O,I[12]=F,I[13]=L,I[14]=b,I[15]=B,this},copy:function(v){var p=v.val;return this.setValues(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15])},fromArray:function(v){return this.setValues(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],v[12],v[13],v[14],v[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(v,p,c){var g=h.fromQuat(c),y=g.val,S=p.x,P=p.y,C=p.z;return this.setValues(y[0]*S,y[1]*S,y[2]*S,0,y[4]*P,y[5]*P,y[6]*P,0,y[8]*C,y[9]*C,y[10]*C,0,v.x,v.y,v.z,1)},xyz:function(v,p,c){this.identity();var g=this.val;return g[12]=v,g[13]=p,g[14]=c,this},scaling:function(v,p,c){this.zero();var g=this.val;return g[0]=v,g[5]=p,g[10]=c,g[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var v=this.val,p=v[1],c=v[2],g=v[3],y=v[6],S=v[7],P=v[11];return v[1]=v[4],v[2]=v[8],v[3]=v[12],v[4]=p,v[6]=v[9],v[7]=v[13],v[8]=c,v[9]=y,v[11]=v[14],v[12]=g,v[13]=S,v[14]=P,this},getInverse:function(v){return this.copy(v),this.invert()},invert:function(){var v=this.val,p=v[0],c=v[1],g=v[2],y=v[3],S=v[4],P=v[5],C=v[6],M=v[7],R=v[8],w=v[9],O=v[10],F=v[11],L=v[12],b=v[13],B=v[14],I=v[15],z=p*P-c*S,Y=p*C-g*S,W=p*M-y*S,H=c*C-g*P,N=c*M-y*P,X=g*M-y*C,D=R*b-w*L,G=R*B-O*L,V=R*I-F*L,U=w*B-O*b,k=w*I-F*b,$=O*I-F*B,K=z*$-Y*k+W*U+H*V-N*G+X*D;return K?(K=1/K,this.setValues((P*$-C*k+M*U)*K,(g*k-c*$-y*U)*K,(b*X-B*N+I*H)*K,(O*N-w*X-F*H)*K,(C*V-S*$-M*G)*K,(p*$-g*V+y*G)*K,(B*W-L*X-I*Y)*K,(R*X-O*W+F*Y)*K,(S*k-P*V+M*D)*K,(c*V-p*k-y*D)*K,(L*N-b*W+I*z)*K,(w*W-R*N-F*z)*K,(P*G-S*U-C*D)*K,(p*U-c*G+g*D)*K,(b*Y-L*H-B*z)*K,(R*H-w*Y+O*z)*K)):this},adjoint:function(){var v=this.val,p=v[0],c=v[1],g=v[2],y=v[3],S=v[4],P=v[5],C=v[6],M=v[7],R=v[8],w=v[9],O=v[10],F=v[11],L=v[12],b=v[13],B=v[14],I=v[15];return this.setValues(P*(O*I-F*B)-w*(C*I-M*B)+b*(C*F-M*O),-(c*(O*I-F*B)-w*(g*I-y*B)+b*(g*F-y*O)),c*(C*I-M*B)-P*(g*I-y*B)+b*(g*M-y*C),-(c*(C*F-M*O)-P*(g*F-y*O)+w*(g*M-y*C)),-(S*(O*I-F*B)-R*(C*I-M*B)+L*(C*F-M*O)),p*(O*I-F*B)-R*(g*I-y*B)+L*(g*F-y*O),-(p*(C*I-M*B)-S*(g*I-y*B)+L*(g*M-y*C)),p*(C*F-M*O)-S*(g*F-y*O)+R*(g*M-y*C),S*(w*I-F*b)-R*(P*I-M*b)+L*(P*F-M*w),-(p*(w*I-F*b)-R*(c*I-y*b)+L*(c*F-y*w)),p*(P*I-M*b)-S*(c*I-y*b)+L*(c*M-y*P),-(p*(P*F-M*w)-S*(c*F-y*w)+R*(c*M-y*P)),-(S*(w*B-O*b)-R*(P*B-C*b)+L*(P*O-C*w)),p*(w*B-O*b)-R*(c*B-g*b)+L*(c*O-g*w),-(p*(P*B-C*b)-S*(c*B-g*b)+L*(c*C-g*P)),p*(P*O-C*w)-S*(c*O-g*w)+R*(c*C-g*P))},determinant:function(){var v=this.val,p=v[0],c=v[1],g=v[2],y=v[3],S=v[4],P=v[5],C=v[6],M=v[7],R=v[8],w=v[9],O=v[10],F=v[11],L=v[12],b=v[13],B=v[14],I=v[15],z=p*P-c*S,Y=p*C-g*S,W=p*M-y*S,H=c*C-g*P,N=c*M-y*P,X=g*M-y*C,D=R*b-w*L,G=R*B-O*L,V=R*I-F*L,U=w*B-O*b,k=w*I-F*b,$=O*I-F*B;return z*$-Y*k+W*U+H*V-N*G+X*D},multiply:function(v){var p=this.val,c=p[0],g=p[1],y=p[2],S=p[3],P=p[4],C=p[5],M=p[6],R=p[7],w=p[8],O=p[9],F=p[10],L=p[11],b=p[12],B=p[13],I=p[14],z=p[15],Y=v.val,W=Y[0],H=Y[1],N=Y[2],X=Y[3];return p[0]=W*c+H*P+N*w+X*b,p[1]=W*g+H*C+N*O+X*B,p[2]=W*y+H*M+N*F+X*I,p[3]=W*S+H*R+N*L+X*z,W=Y[4],H=Y[5],N=Y[6],X=Y[7],p[4]=W*c+H*P+N*w+X*b,p[5]=W*g+H*C+N*O+X*B,p[6]=W*y+H*M+N*F+X*I,p[7]=W*S+H*R+N*L+X*z,W=Y[8],H=Y[9],N=Y[10],X=Y[11],p[8]=W*c+H*P+N*w+X*b,p[9]=W*g+H*C+N*O+X*B,p[10]=W*y+H*M+N*F+X*I,p[11]=W*S+H*R+N*L+X*z,W=Y[12],H=Y[13],N=Y[14],X=Y[15],p[12]=W*c+H*P+N*w+X*b,p[13]=W*g+H*C+N*O+X*B,p[14]=W*y+H*M+N*F+X*I,p[15]=W*S+H*R+N*L+X*z,this},multiplyLocal:function(v){var p=this.val,c=v.val;return this.setValues(p[0]*c[0]+p[1]*c[4]+p[2]*c[8]+p[3]*c[12],p[0]*c[1]+p[1]*c[5]+p[2]*c[9]+p[3]*c[13],p[0]*c[2]+p[1]*c[6]+p[2]*c[10]+p[3]*c[14],p[0]*c[3]+p[1]*c[7]+p[2]*c[11]+p[3]*c[15],p[4]*c[0]+p[5]*c[4]+p[6]*c[8]+p[7]*c[12],p[4]*c[1]+p[5]*c[5]+p[6]*c[9]+p[7]*c[13],p[4]*c[2]+p[5]*c[6]+p[6]*c[10]+p[7]*c[14],p[4]*c[3]+p[5]*c[7]+p[6]*c[11]+p[7]*c[15],p[8]*c[0]+p[9]*c[4]+p[10]*c[8]+p[11]*c[12],p[8]*c[1]+p[9]*c[5]+p[10]*c[9]+p[11]*c[13],p[8]*c[2]+p[9]*c[6]+p[10]*c[10]+p[11]*c[14],p[8]*c[3]+p[9]*c[7]+p[10]*c[11]+p[11]*c[15],p[12]*c[0]+p[13]*c[4]+p[14]*c[8]+p[15]*c[12],p[12]*c[1]+p[13]*c[5]+p[14]*c[9]+p[15]*c[13],p[12]*c[2]+p[13]*c[6]+p[14]*c[10]+p[15]*c[14],p[12]*c[3]+p[13]*c[7]+p[14]*c[11]+p[15]*c[15])},premultiply:function(v){return this.multiplyMatrices(v,this)},multiplyMatrices:function(v,p){var c=v.val,g=p.val,y=c[0],S=c[4],P=c[8],C=c[12],M=c[1],R=c[5],w=c[9],O=c[13],F=c[2],L=c[6],b=c[10],B=c[14],I=c[3],z=c[7],Y=c[11],W=c[15],H=g[0],N=g[4],X=g[8],D=g[12],G=g[1],V=g[5],U=g[9],k=g[13],$=g[2],K=g[6],J=g[10],Q=g[14],q=g[3],_=g[7],et=g[11],tt=g[15];return this.setValues(y*H+S*G+P*$+C*q,M*H+R*G+w*$+O*q,F*H+L*G+b*$+B*q,I*H+z*G+Y*$+W*q,y*N+S*V+P*K+C*_,M*N+R*V+w*K+O*_,F*N+L*V+b*K+B*_,I*N+z*V+Y*K+W*_,y*X+S*U+P*J+C*et,M*X+R*U+w*J+O*et,F*X+L*U+b*J+B*et,I*X+z*U+Y*J+W*et,y*D+S*k+P*Q+C*tt,M*D+R*k+w*Q+O*tt,F*D+L*k+b*Q+B*tt,I*D+z*k+Y*Q+W*tt)},translate:function(v){return this.translateXYZ(v.x,v.y,v.z)},translateXYZ:function(v,p,c){var g=this.val;return g[12]=g[0]*v+g[4]*p+g[8]*c+g[12],g[13]=g[1]*v+g[5]*p+g[9]*c+g[13],g[14]=g[2]*v+g[6]*p+g[10]*c+g[14],g[15]=g[3]*v+g[7]*p+g[11]*c+g[15],this},scale:function(v){return this.scaleXYZ(v.x,v.y,v.z)},scaleXYZ:function(v,p,c){var g=this.val;return g[0]=g[0]*v,g[1]=g[1]*v,g[2]=g[2]*v,g[3]=g[3]*v,g[4]=g[4]*p,g[5]=g[5]*p,g[6]=g[6]*p,g[7]=g[7]*p,g[8]=g[8]*c,g[9]=g[9]*c,g[10]=g[10]*c,g[11]=g[11]*c,this},makeRotationAxis:function(v,p){var c=Math.cos(p),g=Math.sin(p),y=1-c,S=v.x,P=v.y,C=v.z,M=y*S,R=y*P;return this.setValues(M*S+c,M*P-g*C,M*C+g*P,0,M*P+g*C,R*P+c,R*C-g*S,0,M*C-g*P,R*C+g*S,y*C*C+c,0,0,0,0,1)},rotate:function(v,p){var c=this.val,g=p.x,y=p.y,S=p.z,P=Math.sqrt(g*g+y*y+S*S);if(Math.abs(P)<d)return this;P=1/P,g*=P,y*=P,S*=P;var C=Math.sin(v),M=Math.cos(v),R=1-M,w=c[0],O=c[1],F=c[2],L=c[3],b=c[4],B=c[5],I=c[6],z=c[7],Y=c[8],W=c[9],H=c[10],N=c[11],X=c[12],D=c[13],G=c[14],V=c[15],U=g*g*R+M,k=y*g*R+S*C,$=S*g*R-y*C,K=g*y*R-S*C,J=y*y*R+M,Q=S*y*R+g*C,q=g*S*R+y*C,_=y*S*R-g*C,et=S*S*R+M;return this.setValues(w*U+b*k+Y*$,O*U+B*k+W*$,F*U+I*k+H*$,L*U+z*k+N*$,w*K+b*J+Y*Q,O*K+B*J+W*Q,F*K+I*J+H*Q,L*K+z*J+N*Q,w*q+b*_+Y*et,O*q+B*_+W*et,F*q+I*_+H*et,L*q+z*_+N*et,X,D,G,V)},rotateX:function(v){var p=this.val,c=Math.sin(v),g=Math.cos(v),y=p[4],S=p[5],P=p[6],C=p[7],M=p[8],R=p[9],w=p[10],O=p[11];return p[4]=y*g+M*c,p[5]=S*g+R*c,p[6]=P*g+w*c,p[7]=C*g+O*c,p[8]=M*g-y*c,p[9]=R*g-S*c,p[10]=w*g-P*c,p[11]=O*g-C*c,this},rotateY:function(v){var p=this.val,c=Math.sin(v),g=Math.cos(v),y=p[0],S=p[1],P=p[2],C=p[3],M=p[8],R=p[9],w=p[10],O=p[11];return p[0]=y*g-M*c,p[1]=S*g-R*c,p[2]=P*g-w*c,p[3]=C*g-O*c,p[8]=y*c+M*g,p[9]=S*c+R*g,p[10]=P*c+w*g,p[11]=C*c+O*g,this},rotateZ:function(v){var p=this.val,c=Math.sin(v),g=Math.cos(v),y=p[0],S=p[1],P=p[2],C=p[3],M=p[4],R=p[5],w=p[6],O=p[7];return p[0]=y*g+M*c,p[1]=S*g+R*c,p[2]=P*g+w*c,p[3]=C*g+O*c,p[4]=M*g-y*c,p[5]=R*g-S*c,p[6]=w*g-P*c,p[7]=O*g-C*c,this},fromRotationTranslation:function(v,p){var c=v.x,g=v.y,y=v.z,S=v.w,P=c+c,C=g+g,M=y+y,R=c*P,w=c*C,O=c*M,F=g*C,L=g*M,b=y*M,B=S*P,I=S*C,z=S*M;return this.setValues(1-(F+b),w+z,O-I,0,w-z,1-(R+b),L+B,0,O+I,L-B,1-(R+F),0,p.x,p.y,p.z,1)},fromQuat:function(v){var p=v.x,c=v.y,g=v.z,y=v.w,S=p+p,P=c+c,C=g+g,M=p*S,R=p*P,w=p*C,O=c*P,F=c*C,L=g*C,b=y*S,B=y*P,I=y*C;return this.setValues(1-(O+L),R+I,w-B,0,R-I,1-(M+L),F+b,0,w+B,F-b,1-(M+O),0,0,0,0,1)},frustum:function(v,p,c,g,y,S){var P=1/(p-v),C=1/(g-c),M=1/(y-S);return this.setValues(y*2*P,0,0,0,0,y*2*C,0,0,(p+v)*P,(g+c)*C,(S+y)*M,-1,0,0,S*y*2*M,0)},perspective:function(v,p,c,g){var y=1/Math.tan(v/2),S=1/(c-g);return this.setValues(y/p,0,0,0,0,y,0,0,0,0,(g+c)*S,-1,0,0,2*g*c*S,0)},perspectiveLH:function(v,p,c,g){return this.setValues(2*c/v,0,0,0,0,2*c/p,0,0,0,0,-g/(c-g),1,0,0,c*g/(c-g),0)},ortho:function(v,p,c,g,y,S){var P=v-p,C=c-g,M=y-S;return P=P===0?P:1/P,C=C===0?C:1/C,M=M===0?M:1/M,this.setValues(-2*P,0,0,0,0,-2*C,0,0,0,0,2*M,0,(v+p)*P,(g+c)*C,(S+y)*M,1)},lookAtRH:function(v,p,c){var g=this.val;return a.subVectors(v,p),a.getLengthSquared()===0&&(a.z=1),a.normalize(),r.crossVectors(c,a),r.getLengthSquared()===0&&(Math.abs(c.z)===1?a.x+=1e-4:a.z+=1e-4,a.normalize(),r.crossVectors(c,a)),r.normalize(),f.crossVectors(a,r),g[0]=r.x,g[1]=r.y,g[2]=r.z,g[4]=f.x,g[5]=f.y,g[6]=f.z,g[8]=a.x,g[9]=a.y,g[10]=a.z,this},lookAt:function(v,p,c){var g=v.x,y=v.y,S=v.z,P=c.x,C=c.y,M=c.z,R=p.x,w=p.y,O=p.z;if(Math.abs(g-R)<d&&Math.abs(y-w)<d&&Math.abs(S-O)<d)return this.identity();var F=g-R,L=y-w,b=S-O,B=1/Math.sqrt(F*F+L*L+b*b);F*=B,L*=B,b*=B;var I=C*b-M*L,z=M*F-P*b,Y=P*L-C*F;B=Math.sqrt(I*I+z*z+Y*Y),B?(B=1/B,I*=B,z*=B,Y*=B):(I=0,z=0,Y=0);var W=L*Y-b*z,H=b*I-F*Y,N=F*z-L*I;return B=Math.sqrt(W*W+H*H+N*N),B?(B=1/B,W*=B,H*=B,N*=B):(W=0,H=0,N=0),this.setValues(I,W,F,0,z,H,L,0,Y,N,b,0,-(I*g+z*y+Y*S),-(W*g+H*y+N*S),-(F*g+L*y+b*S),1)},yawPitchRoll:function(v,p,c){this.zero(),h.zero(),n.zero();var g=this.val,y=h.val,S=n.val,P=Math.sin(c),C=Math.cos(c);return g[10]=1,g[15]=1,g[0]=C,g[1]=P,g[4]=-P,g[5]=C,P=Math.sin(p),C=Math.cos(p),y[0]=1,y[15]=1,y[5]=C,y[10]=C,y[9]=-P,y[6]=P,P=Math.sin(v),C=Math.cos(v),S[5]=1,S[15]=1,S[0]=C,S[2]=-P,S[8]=P,S[10]=C,this.multiplyLocal(h),this.multiplyLocal(n),this},setWorldMatrix:function(v,p,c,g,y){return this.yawPitchRoll(v.y,v.x,v.z),h.scaling(c.x,c.y,c.z),n.xyz(p.x,p.y,p.z),this.multiplyLocal(h),this.multiplyLocal(n),g&&this.multiplyLocal(g),y&&this.multiplyLocal(y),this},multiplyToMat4:function(v,p){var c=this.val,g=v.val,y=c[0],S=c[1],P=c[2],C=c[3],M=c[4],R=c[5],w=c[6],O=c[7],F=c[8],L=c[9],b=c[10],B=c[11],I=c[12],z=c[13],Y=c[14],W=c[15],H=g[0],N=g[1],X=g[2],D=g[3],G=g[4],V=g[5],U=g[6],k=g[7],$=g[8],K=g[9],J=g[10],Q=g[11],q=g[12],_=g[13],et=g[14],tt=g[15];return p.setValues(H*y+N*M+X*F+D*I,N*S+N*R+X*L+D*z,X*P+N*w+X*b+D*Y,D*C+N*O+X*B+D*W,G*y+V*M+U*F+k*I,G*S+V*R+U*L+k*z,G*P+V*w+U*b+k*Y,G*C+V*O+U*B+k*W,$*y+K*M+J*F+Q*I,$*S+K*R+J*L+Q*z,$*P+K*w+J*b+Q*Y,$*C+K*O+J*B+Q*W,q*y+_*M+et*F+tt*I,q*S+_*R+et*L+tt*z,q*P+_*w+et*b+tt*Y,q*C+_*O+et*B+tt*W)},fromRotationXYTranslation:function(v,p,c){var g=p.x,y=p.y,S=p.z,P=Math.sin(v.x),C=Math.cos(v.x),M=Math.sin(v.y),R=Math.cos(v.y),w=g,O=y,F=S,L=-P,b=0-L*M,B=0-C*M,I=L*R,z=C*R;return c||(w=R*g+M*S,O=b*g+C*y+I*S,F=B*g+P*y+z*S),this.setValues(R,b,B,0,0,C,P,0,M,I,z,0,w,O,F,1)},getMaxScaleOnAxis:function(){var v=this.val,p=v[0]*v[0]+v[1]*v[1]+v[2]*v[2],c=v[4]*v[4]+v[5]*v[5]+v[6]*v[6],g=v[8]*v[8]+v[9]*v[9]+v[10]*v[10];return Math.sqrt(Math.max(p,c,g))}}),h=new o,n=new o,r=new m,f=new m,a=new m;l.exports=o},69635:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){return Math.min(e+u,m)};l.exports=T},37394:l=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){var u=e.length;if(u===0)return 0;e.sort(function(d,o){return d-o});var m=Math.floor(u/2);return u%2===0?(e[m]+e[m-1])/2:e[m]};l.exports=T},17259:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){return Math.max(e-u,m)};l.exports=T},61820:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d){m===void 0&&(m=u+1);var o=(e-u)/(m-u);return o>1?d!==void 0?(o=(d-e)/(d-m),o<0&&(o=0)):o=1:o<0&&(o=0),o};l.exports=T},75003:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(5341),d=e(72283),o=e(70015),h=1e-6,n=new Int8Array([1,2,0]),r=new Float32Array([0,0,0]),f=new o(1,0,0),a=new o(0,1,0),v=new o,p=new m,c=new u({initialize:function(y,S,P,C){this.onChangeCallback=d,this.set(y,S,P,C)},x:{get:function(){return this._x},set:function(g){this._x=g,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(g){this._y=g,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(g){this._z=g,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(g){this._w=g,this.onChangeCallback(this)}},copy:function(g){return this.set(g)},set:function(g,y,S,P,C){return C===void 0&&(C=!0),typeof g=="object"?(this._x=g.x||0,this._y=g.y||0,this._z=g.z||0,this._w=g.w||0):(this._x=g||0,this._y=y||0,this._z=S||0,this._w=P||0),C&&this.onChangeCallback(this),this},add:function(g){return this._x+=g.x,this._y+=g.y,this._z+=g.z,this._w+=g.w,this.onChangeCallback(this),this},subtract:function(g){return this._x-=g.x,this._y-=g.y,this._z-=g.z,this._w-=g.w,this.onChangeCallback(this),this},scale:function(g){return this._x*=g,this._y*=g,this._z*=g,this._w*=g,this.onChangeCallback(this),this},length:function(){var g=this.x,y=this.y,S=this.z,P=this.w;return Math.sqrt(g*g+y*y+S*S+P*P)},lengthSq:function(){var g=this.x,y=this.y,S=this.z,P=this.w;return g*g+y*y+S*S+P*P},normalize:function(){var g=this.x,y=this.y,S=this.z,P=this.w,C=g*g+y*y+S*S+P*P;return C>0&&(C=1/Math.sqrt(C),this._x=g*C,this._y=y*C,this._z=S*C,this._w=P*C),this.onChangeCallback(this),this},dot:function(g){return this.x*g.x+this.y*g.y+this.z*g.z+this.w*g.w},lerp:function(g,y){y===void 0&&(y=0);var S=this.x,P=this.y,C=this.z,M=this.w;return this.set(S+y*(g.x-S),P+y*(g.y-P),C+y*(g.z-C),M+y*(g.w-M))},rotationTo:function(g,y){var S=g.x*y.x+g.y*y.y+g.z*y.z;return S<-.999999?(v.copy(f).cross(g).length()<h&&v.copy(a).cross(g),v.normalize(),this.setAxisAngle(v,Math.PI)):S>.999999?this.set(0,0,0,1):(v.copy(g).cross(y),this._x=v.x,this._y=v.y,this._z=v.z,this._w=1+S,this.normalize())},setAxes:function(g,y,S){var P=p.val;return P[0]=y.x,P[3]=y.y,P[6]=y.z,P[1]=S.x,P[4]=S.y,P[7]=S.z,P[2]=-g.x,P[5]=-g.y,P[8]=-g.z,this.fromMat3(p).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(g,y){y=y*.5;var S=Math.sin(y);return this.set(S*g.x,S*g.y,S*g.z,Math.cos(y))},multiply:function(g){var y=this.x,S=this.y,P=this.z,C=this.w,M=g.x,R=g.y,w=g.z,O=g.w;return this.set(y*O+C*M+S*w-P*R,S*O+C*R+P*M-y*w,P*O+C*w+y*R-S*M,C*O-y*M-S*R-P*w)},slerp:function(g,y){var S=this.x,P=this.y,C=this.z,M=this.w,R=g.x,w=g.y,O=g.z,F=g.w,L=S*R+P*w+C*O+M*F;L<0&&(L=-L,R=-R,w=-w,O=-O,F=-F);var b=1-y,B=y;if(1-L>h){var I=Math.acos(L),z=Math.sin(I);b=Math.sin((1-y)*I)/z,B=Math.sin(y*I)/z}return this.set(b*S+B*R,b*P+B*w,b*C+B*O,b*M+B*F)},invert:function(){var g=this.x,y=this.y,S=this.z,P=this.w,C=g*g+y*y+S*S+P*P,M=C?1/C:0;return this.set(-g*M,-y*M,-S*M,P*M)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(g){g*=.5;var y=this.x,S=this.y,P=this.z,C=this.w,M=Math.sin(g),R=Math.cos(g);return this.set(y*R+C*M,S*R+P*M,P*R-S*M,C*R-y*M)},rotateY:function(g){g*=.5;var y=this.x,S=this.y,P=this.z,C=this.w,M=Math.sin(g),R=Math.cos(g);return this.set(y*R-P*M,S*R+C*M,P*R+y*M,C*R-S*M)},rotateZ:function(g){g*=.5;var y=this.x,S=this.y,P=this.z,C=this.w,M=Math.sin(g),R=Math.cos(g);return this.set(y*R+S*M,S*R-y*M,P*R+C*M,C*R-P*M)},calculateW:function(){var g=this.x,y=this.y,S=this.z;return this.w=-Math.sqrt(1-g*g-y*y-S*S),this},setFromEuler:function(g,y){var S=g.x/2,P=g.y/2,C=g.z/2,M=Math.cos(S),R=Math.cos(P),w=Math.cos(C),O=Math.sin(S),F=Math.sin(P),L=Math.sin(C);switch(g.order){case"XYZ":{this.set(O*R*w+M*F*L,M*F*w-O*R*L,M*R*L+O*F*w,M*R*w-O*F*L,y);break}case"YXZ":{this.set(O*R*w+M*F*L,M*F*w-O*R*L,M*R*L-O*F*w,M*R*w+O*F*L,y);break}case"ZXY":{this.set(O*R*w-M*F*L,M*F*w+O*R*L,M*R*L+O*F*w,M*R*w-O*F*L,y);break}case"ZYX":{this.set(O*R*w-M*F*L,M*F*w+O*R*L,M*R*L-O*F*w,M*R*w+O*F*L,y);break}case"YZX":{this.set(O*R*w+M*F*L,M*F*w+O*R*L,M*R*L-O*F*w,M*R*w-O*F*L,y);break}case"XZY":{this.set(O*R*w-M*F*L,M*F*w-O*R*L,M*R*L+O*F*w,M*R*w+O*F*L,y);break}}return this},setFromRotationMatrix:function(g){var y=g.val,S=y[0],P=y[4],C=y[8],M=y[1],R=y[5],w=y[9],O=y[2],F=y[6],L=y[10],b=S+R+L,B;return b>0?(B=.5/Math.sqrt(b+1),this.set((F-w)*B,(C-O)*B,(M-P)*B,.25/B)):S>R&&S>L?(B=2*Math.sqrt(1+S-R-L),this.set(.25*B,(P+M)/B,(C+O)/B,(F-w)/B)):R>L?(B=2*Math.sqrt(1+R-S-L),this.set((P+M)/B,.25*B,(w+F)/B,(C-O)/B)):(B=2*Math.sqrt(1+L-S-R),this.set((C+O)/B,(w+F)/B,.25*B,(M-P)/B)),this},fromMat3:function(g){var y=g.val,S=y[0]+y[4]+y[8],P;if(S>0)P=Math.sqrt(S+1),this.w=.5*P,P=.5/P,this._x=(y[7]-y[5])*P,this._y=(y[2]-y[6])*P,this._z=(y[3]-y[1])*P;else{var C=0;y[4]>y[0]&&(C=1),y[8]>y[C*3+C]&&(C=2);var M=n[C],R=n[M];P=Math.sqrt(y[C*3+C]-y[M*3+M]-y[R*3+R]+1),r[C]=.5*P,P=.5/P,r[M]=(y[M*3+C]+y[C*3+M])*P,r[R]=(y[R*3+C]+y[C*3+R])*P,this._x=r[0],this._y=r[1],this._z=r[2],this._w=(y[R*3+M]-y[M*3+R])*P}return this.onChangeCallback(this),this}});l.exports=c},23701:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83392),m=function(d){return d*u.RAD_TO_DEG};l.exports=m},16906:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){u===void 0&&(u=1);var m=Math.random()*2*Math.PI;return e.x=Math.cos(m)*u,e.y=Math.sin(m)*u,e};l.exports=T},52417:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){u===void 0&&(u=1);var m=Math.random()*2*Math.PI,d=Math.random()*2-1,o=Math.sqrt(1-d*d)*u;return e.x=Math.cos(m)*o,e.y=Math.sin(m)*o,e.z=d*u,e};l.exports=T},17915:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return u===void 0&&(u=1),e.x=(Math.random()*2-1)*u,e.y=(Math.random()*2-1)*u,e.z=(Math.random()*2-1)*u,e.w=(Math.random()*2-1)*u,e};l.exports=T},52257:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){var m=e.x,d=e.y;return e.x=m*Math.cos(u)-d*Math.sin(u),e.y=m*Math.sin(u)+d*Math.cos(u),e};l.exports=T},2386:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d){var o=Math.cos(d),h=Math.sin(d),n=e.x-u,r=e.y-m;return e.x=n*o-r*h+u,e.y=n*h+r*o+m,e};l.exports=T},72395:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d,o){var h=d+Math.atan2(e.y-m,e.x-u);return e.x=u+o*Math.cos(h),e.y=m+o*Math.sin(h),e};l.exports=T},41061:l=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d,o){return e.x=u+o*Math.cos(d),e.y=m+o*Math.sin(d),e};l.exports=T},93709:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(70015),m=e(16650),d=e(75003),o=new m,h=new d,n=new u,r=function(f,a,v){return h.setAxisAngle(a,v),o.fromRotationTranslation(h,n.set(0,0,0)),f.transformMat4(o)};l.exports=r},67233:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e>0?Math.ceil(e):Math.floor(e)};l.exports=T},64333:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){u===void 0&&(u=0),m===void 0&&(m=10);var d=Math.pow(m,-u);return Math.round(e*d)/d};l.exports=T},59533:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d){u===void 0&&(u=1),m===void 0&&(m=1),d===void 0&&(d=1),d*=Math.PI/e;for(var o=[],h=[],n=0;n<e;n++)m-=u*d,u+=m*d,o[n]=m,h[n]=u;return{sin:h,cos:o,length:e}};l.exports=T},5514:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){return e<=u?0:e>=m?1:(e=(e-u)/(m-u),e*e*(3-2*e))};l.exports=T},87736:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){return e=Math.max(0,Math.min(1,(e-u)/(m-u))),e*e*e*(e*(e*6-15)+10)};l.exports=T},55805:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(93736),m=function(d,o,h,n){n===void 0&&(n=new u);var r=0,f=0,a=o*h;return d>0&&d<=a&&(d>o-1?(f=Math.floor(d/o),r=d-f*o):r=d),n.set(r,f)};l.exports=m},64462:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(93736),m=function(d,o,h,n,r,f,a,v){v===void 0&&(v=new u);var p=Math.sin(r),c=Math.cos(r),g=c*f,y=p*f,S=-p*a,P=c*a,C=1/(g*P+S*-y);return v.x=P*C*d+-S*C*o+(n*S-h*P)*C,v.y=g*C*o+-y*C*d+(-n*g+h*y)*C,v};l.exports=m},93736:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(88456),d=new u({initialize:function(h,n){this.x=0,this.y=0,typeof h=="object"?(this.x=h.x||0,this.y=h.y||0):(n===void 0&&(n=h),this.x=h||0,this.y=n||0)},clone:function(){return new d(this.x,this.y)},copy:function(o){return this.x=o.x||0,this.y=o.y||0,this},setFromObject:function(o){return this.x=o.x||0,this.y=o.y||0,this},set:function(o,h){return h===void 0&&(h=o),this.x=o,this.y=h,this},setTo:function(o,h){return this.set(o,h)},setToPolar:function(o,h){return h==null&&(h=1),this.x=Math.cos(o)*h,this.y=Math.sin(o)*h,this},equals:function(o){return this.x===o.x&&this.y===o.y},fuzzyEquals:function(o,h){return m(this.x,o.x,h)&&m(this.y,o.y,h)},angle:function(){var o=Math.atan2(this.y,this.x);return o<0&&(o+=2*Math.PI),o},setAngle:function(o){return this.setToPolar(o,this.length())},add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.x-=o.x,this.y-=o.y,this},multiply:function(o){return this.x*=o.x,this.y*=o.y,this},scale:function(o){return isFinite(o)?(this.x*=o,this.y*=o):(this.x=0,this.y=0),this},divide:function(o){return this.x/=o.x,this.y/=o.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(o){var h=o.x-this.x,n=o.y-this.y;return Math.sqrt(h*h+n*n)},distanceSq:function(o){var h=o.x-this.x,n=o.y-this.y;return h*h+n*n},length:function(){var o=this.x,h=this.y;return Math.sqrt(o*o+h*h)},setLength:function(o){return this.normalize().scale(o)},lengthSq:function(){var o=this.x,h=this.y;return o*o+h*h},normalize:function(){var o=this.x,h=this.y,n=o*o+h*h;return n>0&&(n=1/Math.sqrt(n),this.x=o*n,this.y=h*n),this},normalizeRightHand:function(){var o=this.x;return this.x=this.y*-1,this.y=o,this},normalizeLeftHand:function(){var o=this.x;return this.x=this.y,this.y=o*-1,this},dot:function(o){return this.x*o.x+this.y*o.y},cross:function(o){return this.x*o.y-this.y*o.x},lerp:function(o,h){h===void 0&&(h=0);var n=this.x,r=this.y;return this.x=n+h*(o.x-n),this.y=r+h*(o.y-r),this},transformMat3:function(o){var h=this.x,n=this.y,r=o.val;return this.x=r[0]*h+r[3]*n+r[6],this.y=r[1]*h+r[4]*n+r[7],this},transformMat4:function(o){var h=this.x,n=this.y,r=o.val;return this.x=r[0]*h+r[4]*n+r[12],this.y=r[1]*h+r[5]*n+r[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(o){var h=this.length();return h&&h>o&&this.scale(o/h),this},reflect:function(o){return o=o.clone().normalize(),this.subtract(o.scale(2*this.dot(o)))},mirror:function(o){return this.reflect(o).negate()},rotate:function(o){var h=Math.cos(o),n=Math.sin(o);return this.set(h*this.x-n*this.y,n*this.x+h*this.y)},project:function(o){var h=this.dot(o)/o.dot(o);return this.copy(o).scale(h)}});d.ZERO=new d,d.RIGHT=new d(1,0),d.LEFT=new d(-1,0),d.UP=new d(0,-1),d.DOWN=new d(0,1),d.ONE=new d(1,1),l.exports=d},70015:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=new u({initialize:function(o,h,n){this.x=0,this.y=0,this.z=0,typeof o=="object"?(this.x=o.x||0,this.y=o.y||0,this.z=o.z||0):(this.x=o||0,this.y=h||0,this.z=n||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(d){return this.x=Math.min(this.x,d.x),this.y=Math.min(this.y,d.y),this.z=Math.min(this.z,d.z),this},max:function(d){return this.x=Math.max(this.x,d.x),this.y=Math.max(this.y,d.y),this.z=Math.max(this.z,d.z),this},clone:function(){return new m(this.x,this.y,this.z)},addVectors:function(d,o){return this.x=d.x+o.x,this.y=d.y+o.y,this.z=d.z+o.z,this},crossVectors:function(d,o){var h=d.x,n=d.y,r=d.z,f=o.x,a=o.y,v=o.z;return this.x=n*v-r*a,this.y=r*f-h*v,this.z=h*a-n*f,this},equals:function(d){return this.x===d.x&&this.y===d.y&&this.z===d.z},copy:function(d){return this.x=d.x,this.y=d.y,this.z=d.z||0,this},set:function(d,o,h){return typeof d=="object"?(this.x=d.x||0,this.y=d.y||0,this.z=d.z||0):(this.x=d||0,this.y=o||0,this.z=h||0),this},setFromMatrixPosition:function(d){return this.fromArray(d.val,12)},setFromMatrixColumn:function(d,o){return this.fromArray(d.val,o*4)},fromArray:function(d,o){return o===void 0&&(o=0),this.x=d[o],this.y=d[o+1],this.z=d[o+2],this},add:function(d){return this.x+=d.x,this.y+=d.y,this.z+=d.z||0,this},addScalar:function(d){return this.x+=d,this.y+=d,this.z+=d,this},addScale:function(d,o){return this.x+=d.x*o,this.y+=d.y*o,this.z+=d.z*o||0,this},subtract:function(d){return this.x-=d.x,this.y-=d.y,this.z-=d.z||0,this},multiply:function(d){return this.x*=d.x,this.y*=d.y,this.z*=d.z||1,this},scale:function(d){return isFinite(d)?(this.x*=d,this.y*=d,this.z*=d):(this.x=0,this.y=0,this.z=0),this},divide:function(d){return this.x/=d.x,this.y/=d.y,this.z/=d.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(d){var o=d.x-this.x,h=d.y-this.y,n=d.z-this.z||0;return Math.sqrt(o*o+h*h+n*n)},distanceSq:function(d){var o=d.x-this.x,h=d.y-this.y,n=d.z-this.z||0;return o*o+h*h+n*n},length:function(){var d=this.x,o=this.y,h=this.z;return Math.sqrt(d*d+o*o+h*h)},lengthSq:function(){var d=this.x,o=this.y,h=this.z;return d*d+o*o+h*h},normalize:function(){var d=this.x,o=this.y,h=this.z,n=d*d+o*o+h*h;return n>0&&(n=1/Math.sqrt(n),this.x=d*n,this.y=o*n,this.z=h*n),this},dot:function(d){return this.x*d.x+this.y*d.y+this.z*d.z},cross:function(d){var o=this.x,h=this.y,n=this.z,r=d.x,f=d.y,a=d.z;return this.x=h*a-n*f,this.y=n*r-o*a,this.z=o*f-h*r,this},lerp:function(d,o){o===void 0&&(o=0);var h=this.x,n=this.y,r=this.z;return this.x=h+o*(d.x-h),this.y=n+o*(d.y-n),this.z=r+o*(d.z-r),this},applyMatrix3:function(d){var o=this.x,h=this.y,n=this.z,r=d.val;return this.x=r[0]*o+r[3]*h+r[6]*n,this.y=r[1]*o+r[4]*h+r[7]*n,this.z=r[2]*o+r[5]*h+r[8]*n,this},applyMatrix4:function(d){var o=this.x,h=this.y,n=this.z,r=d.val,f=1/(r[3]*o+r[7]*h+r[11]*n+r[15]);return this.x=(r[0]*o+r[4]*h+r[8]*n+r[12])*f,this.y=(r[1]*o+r[5]*h+r[9]*n+r[13])*f,this.z=(r[2]*o+r[6]*h+r[10]*n+r[14])*f,this},transformMat3:function(d){var o=this.x,h=this.y,n=this.z,r=d.val;return this.x=o*r[0]+h*r[3]+n*r[6],this.y=o*r[1]+h*r[4]+n*r[7],this.z=o*r[2]+h*r[5]+n*r[8],this},transformMat4:function(d){var o=this.x,h=this.y,n=this.z,r=d.val;return this.x=r[0]*o+r[4]*h+r[8]*n+r[12],this.y=r[1]*o+r[5]*h+r[9]*n+r[13],this.z=r[2]*o+r[6]*h+r[10]*n+r[14],this},transformCoordinates:function(d){var o=this.x,h=this.y,n=this.z,r=d.val,f=o*r[0]+h*r[4]+n*r[8]+r[12],a=o*r[1]+h*r[5]+n*r[9]+r[13],v=o*r[2]+h*r[6]+n*r[10]+r[14],p=o*r[3]+h*r[7]+n*r[11]+r[15];return this.x=f/p,this.y=a/p,this.z=v/p,this},transformQuat:function(d){var o=this.x,h=this.y,n=this.z,r=d.x,f=d.y,a=d.z,v=d.w,p=v*o+f*n-a*h,c=v*h+a*o-r*n,g=v*n+r*h-f*o,y=-r*o-f*h-a*n;return this.x=p*v+y*-r+c*-a-g*-f,this.y=c*v+y*-f+g*-r-p*-a,this.z=g*v+y*-a+p*-f-c*-r,this},project:function(d){var o=this.x,h=this.y,n=this.z,r=d.val,f=r[0],a=r[1],v=r[2],p=r[3],c=r[4],g=r[5],y=r[6],S=r[7],P=r[8],C=r[9],M=r[10],R=r[11],w=r[12],O=r[13],F=r[14],L=r[15],b=1/(o*p+h*S+n*R+L);return this.x=(o*f+h*c+n*P+w)*b,this.y=(o*a+h*g+n*C+O)*b,this.z=(o*v+h*y+n*M+F)*b,this},projectViewMatrix:function(d,o){return this.applyMatrix4(d).applyMatrix4(o)},unprojectViewMatrix:function(d,o){return this.applyMatrix4(d).applyMatrix4(o)},unproject:function(d,o){var h=d.x,n=d.y,r=d.z,f=d.w,a=this.x-h,v=f-this.y-1-n,p=this.z;return this.x=2*a/r-1,this.y=2*v/f-1,this.z=2*p-1,this.project(o)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});m.ZERO=new m,m.RIGHT=new m(1,0,0),m.LEFT=new m(-1,0,0),m.UP=new m(0,-1,0),m.DOWN=new m(0,1,0),m.FORWARD=new m(0,0,1),m.BACK=new m(0,0,-1),m.ONE=new m(1,1,1),l.exports=m},51729:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=new u({initialize:function(o,h,n,r){this.x=0,this.y=0,this.z=0,this.w=0,typeof o=="object"?(this.x=o.x||0,this.y=o.y||0,this.z=o.z||0,this.w=o.w||0):(this.x=o||0,this.y=h||0,this.z=n||0,this.w=r||0)},clone:function(){return new m(this.x,this.y,this.z,this.w)},copy:function(d){return this.x=d.x,this.y=d.y,this.z=d.z||0,this.w=d.w||0,this},equals:function(d){return this.x===d.x&&this.y===d.y&&this.z===d.z&&this.w===d.w},set:function(d,o,h,n){return typeof d=="object"?(this.x=d.x||0,this.y=d.y||0,this.z=d.z||0,this.w=d.w||0):(this.x=d||0,this.y=o||0,this.z=h||0,this.w=n||0),this},add:function(d){return this.x+=d.x,this.y+=d.y,this.z+=d.z||0,this.w+=d.w||0,this},subtract:function(d){return this.x-=d.x,this.y-=d.y,this.z-=d.z||0,this.w-=d.w||0,this},scale:function(d){return this.x*=d,this.y*=d,this.z*=d,this.w*=d,this},length:function(){var d=this.x,o=this.y,h=this.z,n=this.w;return Math.sqrt(d*d+o*o+h*h+n*n)},lengthSq:function(){var d=this.x,o=this.y,h=this.z,n=this.w;return d*d+o*o+h*h+n*n},normalize:function(){var d=this.x,o=this.y,h=this.z,n=this.w,r=d*d+o*o+h*h+n*n;return r>0&&(r=1/Math.sqrt(r),this.x=d*r,this.y=o*r,this.z=h*r,this.w=n*r),this},dot:function(d){return this.x*d.x+this.y*d.y+this.z*d.z+this.w*d.w},lerp:function(d,o){o===void 0&&(o=0);var h=this.x,n=this.y,r=this.z,f=this.w;return this.x=h+o*(d.x-h),this.y=n+o*(d.y-n),this.z=r+o*(d.z-r),this.w=f+o*(d.w-f),this},multiply:function(d){return this.x*=d.x,this.y*=d.y,this.z*=d.z||1,this.w*=d.w||1,this},divide:function(d){return this.x/=d.x,this.y/=d.y,this.z/=d.z||1,this.w/=d.w||1,this},distance:function(d){var o=d.x-this.x,h=d.y-this.y,n=d.z-this.z||0,r=d.w-this.w||0;return Math.sqrt(o*o+h*h+n*n+r*r)},distanceSq:function(d){var o=d.x-this.x,h=d.y-this.y,n=d.z-this.z||0,r=d.w-this.w||0;return o*o+h*h+n*n+r*r},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(d){var o=this.x,h=this.y,n=this.z,r=this.w,f=d.val;return this.x=f[0]*o+f[4]*h+f[8]*n+f[12]*r,this.y=f[1]*o+f[5]*h+f[9]*n+f[13]*r,this.z=f[2]*o+f[6]*h+f[10]*n+f[14]*r,this.w=f[3]*o+f[7]*h+f[11]*n+f[15]*r,this},transformQuat:function(d){var o=this.x,h=this.y,n=this.z,r=d.x,f=d.y,a=d.z,v=d.w,p=v*o+f*n-a*h,c=v*h+a*o-r*n,g=v*n+r*h-f*o,y=-r*o-f*h-a*n;return this.x=p*v+y*-r+c*-a-g*-f,this.y=c*v+y*-f+g*-r-p*-a,this.z=g*v+y*-a+p*-f-c*-r,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});m.prototype.sub=m.prototype.subtract,m.prototype.mul=m.prototype.multiply,m.prototype.div=m.prototype.divide,m.prototype.dist=m.prototype.distance,m.prototype.distSq=m.prototype.distanceSq,m.prototype.len=m.prototype.length,m.prototype.lenSq=m.prototype.lengthSq,l.exports=m},9557:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){return Math.abs(e-u)<=m};l.exports=T},1071:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){if(e>=u&&e<=m)return e;var d=m-u;return u+((e-u)%d+d)%d};l.exports=T},90447:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d){return Math.atan2(d-u,m-e)};l.exports=T},94240:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return Math.atan2(u.y-e.y,u.x-e.x)};l.exports=T},84066:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return Math.atan2(u.x-e.x,u.y-e.y)};l.exports=T},9678:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d){return Math.atan2(m-e,d-u)};l.exports=T},76861:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83392),m=function(d){return d>Math.PI&&(d-=u.PI2),Math.abs(((d+u.TAU)%u.PI2-u.PI2)%u.PI2)};l.exports=m},37570:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e=e%(2*Math.PI),e>=0?e:e+2*Math.PI};l.exports=T},87597:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61616),m=function(){return u(-Math.PI,Math.PI)};l.exports=m},74493:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61616),m=function(){return u(-180,180)};l.exports=m},19049:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(37570),m=function(d){return u(d+Math.PI)};l.exports=m},90612:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83392),m=function(d,o,h){return h===void 0&&(h=.05),d===o||(Math.abs(o-d)<=h||Math.abs(o-d)>=u.PI2-h?d=o:(Math.abs(o-d)>Math.PI&&(o<d?o+=u.PI2:o-=u.PI2),o>d?d+=h:o<d&&(d-=h))),d};l.exports=m},93954:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){var m=u-e;if(m===0)return 0;var d=Math.floor((m- -180)/360);return m-d*360};l.exports=T},35786:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(1071),m=function(d){return u(d,-Math.PI,Math.PI)};l.exports=m},62138:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(1071),m=function(d){return u(d,-180,180)};l.exports=m},22153:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Between:e(90447),BetweenPoints:e(94240),BetweenPointsY:e(84066),BetweenY:e(9678),CounterClockwise:e(76861),Normalize:e(37570),Random:e(87597),RandomDegrees:e(74493),Reverse:e(19049),RotateTo:e(90612),ShortestBetween:e(93954),Wrap:e(35786),WrapDegrees:e(62138)}},83392:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};l.exports=T},53996:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d){var o=e-m,h=u-d;return Math.sqrt(o*o+h*h)};l.exports=T},92951:l=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){var m=e.x-u.x,d=e.y-u.y;return Math.sqrt(m*m+d*d)};l.exports=T},12161:l=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){var m=e.x-u.x,d=e.y-u.y;return m*m+d*d};l.exports=T},38057:l=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d){return Math.max(Math.abs(e-m),Math.abs(u-d))};l.exports=T},33297:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d,o){return o===void 0&&(o=2),Math.sqrt(Math.pow(m-e,o)+Math.pow(d-u,o))};l.exports=T},90366:l=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d){return Math.abs(e-m)+Math.abs(u-d)};l.exports=T},35032:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d){var o=e-m,h=u-d;return o*o+h*h};l.exports=T},10130:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Between:e(53996),BetweenPoints:e(92951),BetweenPointsSquared:e(12161),Chebyshev:e(38057),Power:e(33297),Snake:e(90366),Squared:e(35032)}},35060:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25265),m=e(57428),d=e(73214),o=e(71778),h=e(36468),n=e(88258),r=e(52910),f=e(67799),a=e(74083),v=e(92284),p=e(28035),c=e(8754);l.exports={Power0:r,Power1:f.Out,Power2:o.Out,Power3:a.Out,Power4:v.Out,Linear:r,Quad:f.Out,Cubic:o.Out,Quart:a.Out,Quint:v.Out,Sine:p.Out,Expo:n.Out,Circ:d.Out,Elastic:h.Out,Back:u.Out,Bounce:m.Out,Stepped:c,"Quad.easeIn":f.In,"Cubic.easeIn":o.In,"Quart.easeIn":a.In,"Quint.easeIn":v.In,"Sine.easeIn":p.In,"Expo.easeIn":n.In,"Circ.easeIn":d.In,"Elastic.easeIn":h.In,"Back.easeIn":u.In,"Bounce.easeIn":m.In,"Quad.easeOut":f.Out,"Cubic.easeOut":o.Out,"Quart.easeOut":a.Out,"Quint.easeOut":v.Out,"Sine.easeOut":p.Out,"Expo.easeOut":n.Out,"Circ.easeOut":d.Out,"Elastic.easeOut":h.Out,"Back.easeOut":u.Out,"Bounce.easeOut":m.Out,"Quad.easeInOut":f.InOut,"Cubic.easeInOut":o.InOut,"Quart.easeInOut":a.InOut,"Quint.easeInOut":v.InOut,"Sine.easeInOut":p.InOut,"Expo.easeInOut":n.InOut,"Circ.easeInOut":d.InOut,"Elastic.easeInOut":h.InOut,"Back.easeInOut":u.InOut,"Bounce.easeInOut":m.InOut}},25860:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return u===void 0&&(u=1.70158),e*e*((u+1)*e-u)};l.exports=T},45264:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){u===void 0&&(u=1.70158);var m=u*1.525;return(e*=2)<1?.5*(e*e*((m+1)*e-m)):.5*((e-=2)*e*((m+1)*e+m)+2)};l.exports=T},36699:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return u===void 0&&(u=1.70158),--e*e*((u+1)*e+u)+1};l.exports=T},25265:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={In:e(25860),Out:e(36699),InOut:e(45264)}},62191:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e=1-e,e<.36363636363636365?1-7.5625*e*e:e<.7272727272727273?1-(7.5625*(e-=.5454545454545454)*e+.75):e<.9090909090909091?1-(7.5625*(e-=.8181818181818182)*e+.9375):1-(7.5625*(e-=.9545454545454546)*e+.984375)};l.exports=T},24799:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){var u=!1;return e<.5?(e=1-e*2,u=!0):e=e*2-1,e<.36363636363636365?e=7.5625*e*e:e<.7272727272727273?e=7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?e=7.5625*(e-=.8181818181818182)*e+.9375:e=7.5625*(e-=.9545454545454546)*e+.984375,u?(1-e)*.5:e*.5+.5};l.exports=T},60819:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375};l.exports=T},57428:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={In:e(62191),Out:e(60819),InOut:e(24799)}},86855:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return 1-Math.sqrt(1-e*e)};l.exports=T},7280:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)};l.exports=T},18058:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return Math.sqrt(1- --e*e)};l.exports=T},73214:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={In:e(86855),Out:e(18058),InOut:e(7280)}},91532:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e*e*e};l.exports=T},63180:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)};l.exports=T},16518:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return--e*e*e+1};l.exports=T},71778:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={In:e(91532),Out:e(16518),InOut:e(63180)}},24729:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){if(u===void 0&&(u=.1),m===void 0&&(m=.1),e===0)return 0;if(e===1)return 1;var d=m/4;return u<1?u=1:d=m*Math.asin(1/u)/(2*Math.PI),-(u*Math.pow(2,10*(e-=1))*Math.sin((e-d)*(2*Math.PI)/m))};l.exports=T},50325:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){if(u===void 0&&(u=.1),m===void 0&&(m=.1),e===0)return 0;if(e===1)return 1;var d=m/4;return u<1?u=1:d=m*Math.asin(1/u)/(2*Math.PI),(e*=2)<1?-.5*(u*Math.pow(2,10*(e-=1))*Math.sin((e-d)*(2*Math.PI)/m)):u*Math.pow(2,-10*(e-=1))*Math.sin((e-d)*(2*Math.PI)/m)*.5+1};l.exports=T},84074:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){if(u===void 0&&(u=.1),m===void 0&&(m=.1),e===0)return 0;if(e===1)return 1;var d=m/4;return u<1?u=1:d=m*Math.asin(1/u)/(2*Math.PI),u*Math.pow(2,-10*e)*Math.sin((e-d)*(2*Math.PI)/m)+1};l.exports=T},36468:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={In:e(24729),Out:e(84074),InOut:e(50325)}},95638:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return Math.pow(2,10*(e-1))-.001};l.exports=T},10357:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))};l.exports=T},14894:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return 1-Math.pow(2,-10*e)};l.exports=T},88258:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={In:e(95638),Out:e(14894),InOut:e(10357)}},33063:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Back:e(25265),Bounce:e(57428),Circular:e(73214),Cubic:e(71778),Elastic:e(36468),Expo:e(88258),Linear:e(52910),Quadratic:e(67799),Quartic:e(74083),Quintic:e(92284),Sine:e(28035),Stepped:e(8754)}},43927:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e};l.exports=T},52910:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports=e(43927)},77471:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e*e};l.exports=T},83863:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)};l.exports=T},44383:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e*(2-e)};l.exports=T},67799:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={In:e(77471),Out:e(44383),InOut:e(83863)}},48311:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e*e*e*e};l.exports=T},55248:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)};l.exports=T},23135:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return 1- --e*e*e*e};l.exports=T},74083:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={In:e(48311),Out:e(23135),InOut:e(55248)}},7313:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e*e*e*e*e};l.exports=T},98759:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)};l.exports=T},26670:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return--e*e*e*e*e+1};l.exports=T},92284:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={In:e(7313),Out:e(26670),InOut:e(98759)}},52929:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e===0?0:e===1?1:1-Math.cos(e*Math.PI/2)};l.exports=T},66333:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e===0?0:e===1?1:.5*(1-Math.cos(Math.PI*e))};l.exports=T},37255:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e===0?0:e===1?1:Math.sin(e*Math.PI/2)};l.exports=T},28035:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={In:e(52929),Out:e(37255),InOut:e(66333)}},52770:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return u===void 0&&(u=1),e<=0?0:e>=1?1:((u*e|0)+1)*(1/u)};l.exports=T},8754:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports=e(52770)},17247:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return u===void 0&&(u=1e-4),Math.ceil(e-u)};l.exports=T},88456:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){return m===void 0&&(m=1e-4),Math.abs(e-u)<m};l.exports=T},61824:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return u===void 0&&(u=1e-4),Math.floor(e+u)};l.exports=T},41935:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){return m===void 0&&(m=1e-4),e>u-m};l.exports=T},54726:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){return m===void 0&&(m=1e-4),e<u+m};l.exports=T},52778:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Ceil:e(17247),Equal:e(88456),Floor:e(61824),GreaterThan:e(41935),LessThan:e(54726)}},5923:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83392),m=e(98611),d={Angle:e(22153),Distance:e(10130),Easing:e(33063),Fuzzy:e(52778),Interpolation:e(48528),Pow2:e(73773),Snap:e(23679),RandomDataGenerator:e(81429),Average:e(26042),Bernstein:e(22824),Between:e(17489),CatmullRom:e(14976),CeilTo:e(89129),Clamp:e(82897),DegToRad:e(75606),Difference:e(767),Euler:e(9849),Factorial:e(8034),FloatBetween:e(61616),FloorTo:e(60679),FromPercent:e(91806),GetSpeed:e(79366),IsEven:e(43776),IsEvenStrict:e(58442),Linear:e(42798),LinearXY:e(61072),MaxAdd:e(69635),Median:e(37394),MinSub:e(17259),Percent:e(61820),RadToDeg:e(23701),RandomXY:e(16906),RandomXYZ:e(52417),RandomXYZW:e(17915),Rotate:e(52257),RotateAround:e(2386),RotateAroundDistance:e(72395),RotateTo:e(41061),RoundAwayFromZero:e(67233),RoundTo:e(64333),SinCosTableGenerator:e(59533),SmootherStep:e(87736),SmoothStep:e(5514),ToXY:e(55805),TransformXY:e(64462),Within:e(9557),Wrap:e(1071),Vector2:e(93736),Vector3:e(70015),Vector4:e(51729),Matrix3:e(5341),Matrix4:e(16650),Quaternion:e(75003),RotateVec3:e(93709)};d=m(!1,d,u),l.exports=d},63210:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(22824),m=function(d,o){for(var h=0,n=d.length-1,r=0;r<=n;r++)h+=Math.pow(1-o,n-r)*Math.pow(o,r)*d[r]*u(n,r);return h};l.exports=m},88332:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(14976),m=function(d,o){var h=d.length-1,n=h*o,r=Math.floor(n);return d[0]===d[h]?(o<0&&(r=Math.floor(n=h*(1+o))),u(n-r,d[(r-1+h)%h],d[r],d[(r+1)%h],d[(r+2)%h])):o<0?d[0]-(u(-n,d[0],d[0],d[1],d[1])-d[0]):o>1?d[h]-(u(n-h,d[h],d[h],d[h-1],d[h-1])-d[h]):u(n-r,d[r?r-1:0],d[r],d[h<r+1?h:r+1],d[h<r+2?h:r+2])};l.exports=m},34631:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(o,h){var n=1-o;return n*n*n*h}function e(o,h){var n=1-o;return 3*n*n*o*h}function u(o,h){return 3*(1-o)*o*o*h}function m(o,h){return o*o*o*h}var d=function(o,h,n,r,f){return T(o,h)+e(o,n)+u(o,r)+m(o,f)};l.exports=d},47614:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(42798),m=function(d,o){var h=d.length-1,n=h*o,r=Math.floor(n);return o<0?u(d[0],d[1],n):o>1?u(d[h],d[h-1],h-n):u(d[r],d[r+1>h?h:r+1],n-r)};l.exports=m},16252:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(d,o){var h=1-d;return h*h*o}function e(d,o){return 2*(1-d)*d*o}function u(d,o){return d*d*o}var m=function(d,o,h,n){return T(d,o)+e(d,h)+u(d,n)};l.exports=m},44521:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(5514),m=function(d,o,h){return o+(h-o)*u(d,0,1)};l.exports=m},45507:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87736),m=function(d,o,h){return o+(h-o)*u(d,0,1)};l.exports=m},48528:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Bezier:e(63210),CatmullRom:e(88332),CubicBezier:e(34631),Linear:e(47614),QuadraticBezier:e(16252),SmoothStep:e(44521),SmootherStep:e(45507)}},3504:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){var u=Math.log(e)/.6931471805599453;return 1<<Math.ceil(u)};l.exports=T},28621:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e>0&&(e&e-1)===0&&u>0&&(u&u-1)===0};l.exports=T},2018:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e>0&&(e&e-1)===0};l.exports=T},73773:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={GetNext:e(3504),IsSize:e(28621),IsValue:e(2018)}},81429:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=new u({initialize:function(o){o===void 0&&(o=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],o&&this.init(o)},rnd:function(){var d=2091639*this.s0+this.c*23283064365386963e-26;return this.c=d|0,this.s0=this.s1,this.s1=this.s2,this.s2=d-this.c,this.s2},hash:function(d){var o,h=this.n;d=d.toString();for(var n=0;n<d.length;n++)h+=d.charCodeAt(n),o=.02519603282416938*h,h=o>>>0,o-=h,o*=h,h=o>>>0,o-=h,h+=o*4294967296;return this.n=h,(h>>>0)*23283064365386963e-26},init:function(d){typeof d=="string"?this.state(d):this.sow(d)},sow:function(d){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!d)for(var o=0;o<d.length&&d[o]!=null;o++){var h=d[o];this.s0-=this.hash(h),this.s0+=~~(this.s0<0),this.s1-=this.hash(h),this.s1+=~~(this.s1<0),this.s2-=this.hash(h),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(d,o){return Math.floor(this.realInRange(0,o-d+1)+d)},between:function(d,o){return Math.floor(this.realInRange(0,o-d+1)+d)},realInRange:function(d,o){return this.frac()*(o-d)+d},normal:function(){return 1-2*this.frac()},uuid:function(){var d="",o="";for(o=d="";d++<36;o+=~d%5|d*3&4?(d^15?8^this.frac()*(d^20?16:4):4).toString(16):"-");return o},pick:function(d){return d[this.integerInRange(0,d.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(d){return d[~~(Math.pow(this.frac(),2)*(d.length-1)+.5)]},timestamp:function(d,o){return this.realInRange(d||9466848e5,o||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(d){return typeof d=="string"&&d.match(/^!rnd/)&&(d=d.split(","),this.c=parseFloat(d[1]),this.s0=parseFloat(d[2]),this.s1=parseFloat(d[3]),this.s2=parseFloat(d[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(d){for(var o=d.length-1,h=o;h>0;h--){var n=Math.floor(this.frac()*(h+1)),r=d[n];d[n]=d[h],d[h]=r}return d}});l.exports=m},82127:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d){return m===void 0&&(m=0),u===0?e:(e-=m,e=u*Math.ceil(e/u),d?(m+e)/u:m+e)};l.exports=T},84314:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d){return m===void 0&&(m=0),u===0?e:(e-=m,e=u*Math.floor(e/u),d?(m+e)/u:m+e)};l.exports=T},88462:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d){return m===void 0&&(m=0),u===0?e:(e-=m,e=u*Math.round(e/u),d?(m+e)/u:m+e)};l.exports=T},23679:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Ceil:e(82127),Floor:e(84314),To:e(88462)}},92491:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e(75205);var u=e(86459),m=e(98611),d={Actions:e(83979),Animations:e(13517),BlendModes:e(95723),Cache:e(45820),Cameras:e(44143),Core:e(80293),Class:e(56694),Create:e(84106),Curves:e(73962),Data:e(1999),Display:e(24816),DOM:e(3590),Events:e(95146),FX:e(96910),Game:e(15213),GameObjects:e(48013),Geom:e(84068),Input:e(20873),Loader:e(95695),Math:e(5923),Physics:e(53954),Plugins:e(45615),Renderer:e(42069),Scale:e(86754),ScaleModes:e(27394),Scene:e(87157),Scenes:e(20436),Structs:e(20010),Textures:e(87499),Tilemaps:e(52678),Time:e(97121),Tweens:e(75193),Utils:e(22178)};d.Sound=e(56751),d=m(!1,d,u),l.exports=d,e.g.Phaser=d},62832:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(7864),d=e(1539),o=new u({Extends:d,Mixins:[m.Acceleration,m.Angular,m.Bounce,m.Debug,m.Drag,m.Enable,m.Friction,m.Gravity,m.Immovable,m.Mass,m.Pushable,m.Size,m.Velocity],initialize:function(n,r,f,a,v){d.call(this,n,r,f,a,v),this.body=null}});l.exports=o},66150:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(75606),d=e(53996),o=e(35032),h=e(99523),n=e(72632),r=e(30657),f=e(2732),a=e(15147),v=e(91963),p=e(7599),c=e(93736),g=e(85233),y=new u({initialize:function(P){this.scene=P,this.systems=P.sys,this.config=this.getConfig(),this.world,this.add,P.sys.events.once(p.BOOT,this.boot,this),P.sys.events.on(p.START,this.start,this)},boot:function(){this.world=new g(this.scene,this.config),this.add=new h(this.world),this.systems.events.once(p.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new g(this.scene,this.config),this.add=new h(this.world));var S=this.systems.events;n(this.config,"customUpdate",!1)||S.on(p.UPDATE,this.world.update,this.world),S.on(p.POST_UPDATE,this.world.postUpdate,this.world),S.once(p.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(p.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(p.UPDATE,this.world.update,this.world)},getConfig:function(){var S=this.systems.game.config.physics,P=this.systems.settings.physics,C=r(n(P,"arcade",{}),n(S,"arcade",{}));return C},overlap:function(S,P,C,M,R){return C===void 0&&(C=null),M===void 0&&(M=null),R===void 0&&(R=C),this.world.collideObjects(S,P,C,M,R,!0)},collide:function(S,P,C,M,R){return C===void 0&&(C=null),M===void 0&&(M=null),R===void 0&&(R=C),this.world.collideObjects(S,P,C,M,R,!1)},collideTiles:function(S,P,C,M,R){return this.world.collideTiles(S,P,C,M,R)},overlapTiles:function(S,P,C,M,R){return this.world.overlapTiles(S,P,C,M,R)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(S,P,C,M,R,w){M===void 0&&(M=60);var O=Math.atan2(C-S.y,P-S.x);return S.body.acceleration.setToPolar(O,M),R!==void 0&&w!==void 0&&S.body.maxVelocity.set(R,w),O},accelerateToObject:function(S,P,C,M,R){return this.accelerateTo(S,P.x,P.y,C,M,R)},closest:function(S,P){P||(P=this.world.bodies.entries);for(var C=Number.MAX_VALUE,M=null,R=S.x,w=S.y,O=P.length,F=0;F<O;F++){var L=P[F],b=L.body||L;if(!(S===L||S===b||S===b.gameObject||S===b.center)){var B=o(R,w,b.center.x,b.center.y);B<C&&(M=L,C=B)}}return M},furthest:function(S,P){P||(P=this.world.bodies.entries);for(var C=-1,M=null,R=S.x,w=S.y,O=P.length,F=0;F<O;F++){var L=P[F],b=L.body||L;if(!(S===L||S===b||S===b.gameObject||S===b.center)){var B=o(R,w,b.center.x,b.center.y);B>C&&(M=L,C=B)}}return M},moveTo:function(S,P,C,M,R){M===void 0&&(M=60),R===void 0&&(R=0);var w=Math.atan2(C-S.y,P-S.x);return R>0&&(M=d(S.x,S.y,P,C)/(R/1e3)),S.body.velocity.setToPolar(w,M),w},moveToObject:function(S,P,C,M){return this.moveTo(S,P.x,P.y,C,M)},velocityFromAngle:function(S,P,C){return P===void 0&&(P=60),C===void 0&&(C=new c),C.setToPolar(m(S),P)},velocityFromRotation:function(S,P,C){return P===void 0&&(P=60),C===void 0&&(C=new c),C.setToPolar(S,P)},overlapRect:function(S,P,C,M,R,w){return a(this.world,S,P,C,M,R,w)},overlapCirc:function(S,P,C,M,R){return f(this.world,S,P,C,M,R)},shutdown:function(){if(this.world){var S=this.systems.events;S.off(p.UPDATE,this.world.update,this.world),S.off(p.POST_UPDATE,this.world.postUpdate,this.world),S.off(p.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null}},destroy:function(){this.shutdown(),this.scene.sys.events.off(p.START,this.start,this),this.scene=null,this.systems=null}});v.register("ArcadePhysics",y,"arcadePhysics"),l.exports=y},25084:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(7864),d=e(13747),o=new u({Extends:d,Mixins:[m.Acceleration,m.Angular,m.Bounce,m.Debug,m.Drag,m.Enable,m.Friction,m.Gravity,m.Immovable,m.Mass,m.Pushable,m.Size,m.Velocity],initialize:function(n,r,f,a,v){d.call(this,n,r,f,a,v),this.body=null}});l.exports=o},97602:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(47401),d=e(27037),o=e(23701),h=e(74118),n=e(94287),r=e(93736),f=new u({initialize:function(v,p){var c=64,g=64,y={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},S=p!==void 0;S&&p.displayWidth&&(c=p.displayWidth,g=p.displayHeight),S||(p=y),this.world=v,this.gameObject=S?p:void 0,this.isBody=!0,this.transform={x:p.x,y:p.y,rotation:p.angle,scaleX:p.scaleX,scaleY:p.scaleY,displayOriginX:p.displayOriginX,displayOriginY:p.displayOriginY},this.debugShowBody=v.defaults.debugShowBody,this.debugShowVelocity=v.defaults.debugShowVelocity,this.debugBodyColor=v.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new r,this.position=new r(p.x-p.scaleX*p.displayOriginX,p.y-p.scaleY*p.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=p.angle,this.preRotation=p.angle,this.width=c,this.height=g,this.sourceWidth=c,this.sourceHeight=g,p.frame&&(this.sourceWidth=p.frame.realWidth,this.sourceHeight=p.frame.realHeight),this.halfWidth=Math.abs(c/2),this.halfHeight=Math.abs(g/2),this.center=new r(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new r,this.newVelocity=new r,this.deltaMax=new r,this.acceleration=new r,this.allowDrag=!0,this.drag=new r,this.allowGravity=!0,this.gravity=new r,this.bounce=new r,this.worldBounce=null,this.customBoundsRectangle=v.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new r(1e4,1e4),this.maxSpeed=-1,this.friction=new r(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=m.FACING_NONE,this.immovable=!1,this.pushable=!0,this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.syncBounds=!1,this.physicsType=m.DYNAMIC_BODY,this._sx=p.scaleX,this._sy=p.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new h},updateBounds:function(){var a=this.gameObject,v=this.transform;if(a.parentContainer){var p=a.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);v.x=p.tx,v.y=p.ty,v.rotation=o(p.rotation),v.scaleX=p.scaleX,v.scaleY=p.scaleY,v.displayOriginX=a.displayOriginX,v.displayOriginY=a.displayOriginY}else v.x=a.x,v.y=a.y,v.rotation=a.angle,v.scaleX=a.scaleX,v.scaleY=a.scaleY,v.displayOriginX=a.displayOriginX,v.displayOriginY=a.displayOriginY;var c=!1;if(this.syncBounds){var g=a.getBounds(this._bounds);this.width=g.width,this.height=g.height,c=!0}else{var y=Math.abs(v.scaleX),S=Math.abs(v.scaleY);(this._sx!==y||this._sy!==S)&&(this.width=this.sourceWidth*y,this.height=this.sourceHeight*S,this._sx=y,this._sy=S,c=!0)}c&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var a=this.transform;this.position.x=a.x+a.scaleX*(this.offset.x-a.displayOriginX),this.position.y=a.y+a.scaleY*(this.offset.y-a.displayOriginY),this.updateCenter()},resetFlags:function(a){a===void 0&&(a=!1);var v=this.wasTouching,p=this.touching,c=this.blocked;a?(v.none=!0,v.up=!1,v.down=!1,v.left=!1,v.right=!1):(v.none=p.none,v.up=p.up,v.down=p.down,v.left=p.left,v.right=p.right),p.none=!0,p.up=!1,p.down=!1,p.left=!1,p.right=!1,c.none=!0,c.up=!1,c.down=!1,c.left=!1,c.right=!1,this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(a,v){a&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves&&(this.prev.x=this.position.x,this.prev.y=this.position.y,this.prevFrame.x=this.position.x,this.prevFrame.y=this.position.y),a&&this.update(v)},update:function(a){if(this.prev.x=this.position.x,this.prev.y=this.position.y,this.moves){this.world.updateMotion(this,a);var v=this.velocity.x,p=this.velocity.y;this.newVelocity.set(v*a,p*a),this.position.add(this.newVelocity),this.updateCenter(),this.angle=Math.atan2(p,v),this.speed=Math.sqrt(v*v+p*p),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds&&this.world.emit(d.WORLD_BOUNDS,this,this.blocked.up,this.blocked.down,this.blocked.left,this.blocked.right)}this._dx=this.position.x-this.prev.x,this._dy=this.position.y-this.prev.y},postUpdate:function(){var a=this.position.x-this.prevFrame.x,v=this.position.y-this.prevFrame.y,p=this.gameObject;if(this.moves){var c=this.deltaMax.x,g=this.deltaMax.y;c!==0&&a!==0&&(a<0&&a<-c?a=-c:a>0&&a>c&&(a=c)),g!==0&&v!==0&&(v<0&&v<-g?v=-g:v>0&&v>g&&(v=g)),p&&(p.x+=a,p.y+=v)}a<0?this.facing=m.FACING_LEFT:a>0&&(this.facing=m.FACING_RIGHT),v<0?this.facing=m.FACING_UP:v>0&&(this.facing=m.FACING_DOWN),this.allowRotation&&p&&(p.angle+=this.deltaZ()),this._tx=a,this._ty=v},setBoundsRectangle:function(a){return this.customBoundsRectangle=a||this.world.bounds,this},checkWorldBounds:function(){var a=this.position,v=this.customBoundsRectangle,p=this.world.checkCollision,c=this.worldBounce?-this.worldBounce.x:-this.bounce.x,g=this.worldBounce?-this.worldBounce.y:-this.bounce.y,y=!1;return a.x<v.x&&p.left?(a.x=v.x,this.velocity.x*=c,this.blocked.left=!0,y=!0):this.right>v.right&&p.right&&(a.x=v.right-this.width,this.velocity.x*=c,this.blocked.right=!0,y=!0),a.y<v.y&&p.up?(a.y=v.y,this.velocity.y*=g,this.blocked.up=!0,y=!0):this.bottom>v.bottom&&p.down&&(a.y=v.bottom-this.height,this.velocity.y*=g,this.blocked.down=!0,y=!0),y&&(this.blocked.none=!1,this.updateCenter()),y},setOffset:function(a,v){return v===void 0&&(v=a),this.offset.set(a,v),this},setGameObject:function(a,v){return v===void 0&&(v=!0),this.world.remove(this),this.gameObject&&this.gameObject.body&&(this.gameObject.body=null),this.gameObject=a,a.body&&(a.body=this),this.setSize(),this.world.add(this),this.enable=v,this},setSize:function(a,v,p){p===void 0&&(p=!0);var c=this.gameObject;if(c&&(!a&&c.frame&&(a=c.frame.realWidth),!v&&c.frame&&(v=c.frame.realHeight)),this.sourceWidth=a,this.sourceHeight=v,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),p&&c&&c.getCenter){var g=(c.width-a)/2,y=(c.height-v)/2;this.offset.set(g,y)}return this.isCircle=!1,this.radius=0,this},setCircle:function(a,v,p){return v===void 0&&(v=this.offset.x),p===void 0&&(p=this.offset.y),a>0?(this.isCircle=!0,this.radius=a,this.sourceWidth=a*2,this.sourceHeight=a*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(v,p),this.updateCenter()):this.isCircle=!1,this},reset:function(a,v){this.stop();var p=this.gameObject;p&&(p.setPosition(a,v),this.rotation=p.angle,this.preRotation=p.angle);var c=this.position;p&&p.getTopLeft?p.getTopLeft(c):c.set(a,v),this.prev.copy(c),this.prevFrame.copy(c),p&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(a){return a.x=this.x,a.y=this.y,a.right=this.right,a.bottom=this.bottom,a},hitTest:function(a,v){if(!this.isCircle)return n(this,a,v);if(this.radius>0&&a>=this.left&&a<=this.right&&v>=this.top&&v<=this.bottom){var p=(this.center.x-a)*(this.center.x-a),c=(this.center.y-v)*(this.center.y-v);return p+c<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(a){var v=this.position,p=v.x+this.halfWidth,c=v.y+this.halfHeight;this.debugShowBody&&(a.lineStyle(a.defaultStrokeWidth,this.debugBodyColor),this.isCircle?a.strokeCircle(p,c,this.width/2):(this.checkCollision.up&&a.lineBetween(v.x,v.y,v.x+this.width,v.y),this.checkCollision.right&&a.lineBetween(v.x+this.width,v.y,v.x+this.width,v.y+this.height),this.checkCollision.down&&a.lineBetween(v.x,v.y+this.height,v.x+this.width,v.y+this.height),this.checkCollision.left&&a.lineBetween(v.x,v.y,v.x,v.y+this.height))),this.debugShowVelocity&&(a.lineStyle(a.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),a.lineBetween(p,c,p+this.velocity.x/2,c+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setCollideWorldBounds:function(a,v,p,c){a===void 0&&(a=!0),this.collideWorldBounds=a;var g=v!==void 0,y=p!==void 0;return(g||y)&&(this.worldBounce||(this.worldBounce=new r),g&&(this.worldBounce.x=v),y&&(this.worldBounce.y=p)),c!==void 0&&(this.onWorldBounds=c),this},setVelocity:function(a,v){return this.velocity.set(a,v),a=this.velocity.x,v=this.velocity.y,this.speed=Math.sqrt(a*a+v*v),this},setVelocityX:function(a){return this.setVelocity(a,this.velocity.y)},setVelocityY:function(a){return this.setVelocity(this.velocity.x,a)},setMaxVelocity:function(a,v){return this.maxVelocity.set(a,v),this},setMaxVelocityX:function(a){return this.maxVelocity.x=a,this},setMaxVelocityY:function(a){return this.maxVelocity.y=a,this},setMaxSpeed:function(a){return this.maxSpeed=a,this},setBounce:function(a,v){return this.bounce.set(a,v),this},setBounceX:function(a){return this.bounce.x=a,this},setBounceY:function(a){return this.bounce.y=a,this},setAcceleration:function(a,v){return this.acceleration.set(a,v),this},setAccelerationX:function(a){return this.acceleration.x=a,this},setAccelerationY:function(a){return this.acceleration.y=a,this},setAllowDrag:function(a){return a===void 0&&(a=!0),this.allowDrag=a,this},setAllowGravity:function(a){return a===void 0&&(a=!0),this.allowGravity=a,this},setAllowRotation:function(a){return a===void 0&&(a=!0),this.allowRotation=a,this},setDrag:function(a,v){return this.drag.set(a,v),this},setDamping:function(a){return this.useDamping=a,this},setDragX:function(a){return this.drag.x=a,this},setDragY:function(a){return this.drag.y=a,this},setGravity:function(a,v){return this.gravity.set(a,v),this},setGravityX:function(a){return this.gravity.x=a,this},setGravityY:function(a){return this.gravity.y=a,this},setFriction:function(a,v){return this.friction.set(a,v),this},setFrictionX:function(a){return this.friction.x=a,this},setFrictionY:function(a){return this.friction.y=a,this},setAngularVelocity:function(a){return this.angularVelocity=a,this},setAngularAcceleration:function(a){return this.angularAcceleration=a,this},setAngularDrag:function(a){return this.angularDrag=a,this},setMass:function(a){return this.mass=a,this},setImmovable:function(a){return a===void 0&&(a=!0),this.immovable=a,this},setEnable:function(a){return a===void 0&&(a=!0),this.enable=a,this},processX:function(a,v,p,c){this.x+=a,this.updateCenter(),v!==null&&(this.velocity.x=v);var g=this.blocked;p&&(g.left=!0,g.none=!1),c&&(g.right=!0,g.none=!1)},processY:function(a,v,p,c){this.y+=a,this.updateCenter(),v!==null&&(this.velocity.y=v);var g=this.blocked;p&&(g.up=!0,g.none=!1),c&&(g.down=!0,g.none=!1)},x:{get:function(){return this.position.x},set:function(a){this.position.x=a}},y:{get:function(){return this.position.y},set:function(a){this.position.y=a}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});l.exports=f},3909:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=new u({initialize:function(o,h,n,r,f,a,v){this.world=o,this.name="",this.active=!0,this.overlapOnly=h,this.object1=n,this.object2=r,this.collideCallback=f,this.processCallback=a,this.callbackContext=v},setName:function(d){return this.name=d,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});l.exports=m},99523:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(62832),m=e(25084),d=e(97602),o=e(56694),h=e(47401),n=e(10481),r=e(66634),f=e(46346),a=new o({initialize:function(p){this.world=p,this.scene=p.scene,this.sys=p.scene.sys},collider:function(v,p,c,g,y){return this.world.addCollider(v,p,c,g,y)},overlap:function(v,p,c,g,y){return this.world.addOverlap(v,p,c,g,y)},existing:function(v,p){var c=p?h.STATIC_BODY:h.DYNAMIC_BODY;return this.world.enableBody(v,c),v},staticImage:function(v,p,c,g){var y=new u(this.scene,v,p,c,g);return this.sys.displayList.add(y),this.world.enableBody(y,h.STATIC_BODY),y},image:function(v,p,c,g){var y=new u(this.scene,v,p,c,g);return this.sys.displayList.add(y),this.world.enableBody(y,h.DYNAMIC_BODY),y},staticSprite:function(v,p,c,g){var y=new m(this.scene,v,p,c,g);return this.sys.displayList.add(y),this.sys.updateList.add(y),this.world.enableBody(y,h.STATIC_BODY),y},sprite:function(v,p,c,g){var y=new m(this.scene,v,p,c,g);return this.sys.displayList.add(y),this.sys.updateList.add(y),this.world.enableBody(y,h.DYNAMIC_BODY),y},staticGroup:function(v,p){return this.sys.updateList.add(new f(this.world,this.world.scene,v,p))},group:function(v,p){return this.sys.updateList.add(new n(this.world,this.world.scene,v,p))},body:function(v,p,c,g){var y=new d(this.world);return y.position.set(v,p),c&&g&&y.setSize(c,g),this.world.add(y,h.DYNAMIC_BODY),y},staticBody:function(v,p,c,g){var y=new r(this.world);return y.position.set(v,p),c&&g&&y.setSize(c,g),this.world.add(y,h.STATIC_BODY),y},destroy:function(){this.world=null,this.scene=null,this.sys=null}});l.exports=a},75671:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(47401),m=function(d,o,h,n){var r=0,f=d.deltaAbsX()+o.deltaAbsX()+n;return d._dx===0&&o._dx===0?(d.embedded=!0,o.embedded=!0):d._dx>o._dx?(r=d.right-o.x,r>f&&!h||d.checkCollision.right===!1||o.checkCollision.left===!1?r=0:(d.touching.none=!1,d.touching.right=!0,o.touching.none=!1,o.touching.left=!0,o.physicsType===u.STATIC_BODY&&!h&&(d.blocked.none=!1,d.blocked.right=!0),d.physicsType===u.STATIC_BODY&&!h&&(o.blocked.none=!1,o.blocked.left=!0))):d._dx<o._dx&&(r=d.x-o.width-o.x,-r>f&&!h||d.checkCollision.left===!1||o.checkCollision.right===!1?r=0:(d.touching.none=!1,d.touching.left=!0,o.touching.none=!1,o.touching.right=!0,o.physicsType===u.STATIC_BODY&&!h&&(d.blocked.none=!1,d.blocked.left=!0),d.physicsType===u.STATIC_BODY&&!h&&(o.blocked.none=!1,o.blocked.right=!0))),d.overlapX=r,o.overlapX=r,r};l.exports=m},66185:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(47401),m=function(d,o,h,n){var r=0,f=d.deltaAbsY()+o.deltaAbsY()+n;return d._dy===0&&o._dy===0?(d.embedded=!0,o.embedded=!0):d._dy>o._dy?(r=d.bottom-o.y,r>f&&!h||d.checkCollision.down===!1||o.checkCollision.up===!1?r=0:(d.touching.none=!1,d.touching.down=!0,o.touching.none=!1,o.touching.up=!0,o.physicsType===u.STATIC_BODY&&!h&&(d.blocked.none=!1,d.blocked.down=!0),d.physicsType===u.STATIC_BODY&&!h&&(o.blocked.none=!1,o.blocked.up=!0))):d._dy<o._dy&&(r=d.y-o.bottom,-r>f&&!h||d.checkCollision.up===!1||o.checkCollision.down===!1?r=0:(d.touching.none=!1,d.touching.up=!0,o.touching.none=!1,o.touching.down=!0,o.physicsType===u.STATIC_BODY&&!h&&(d.blocked.none=!1,d.blocked.up=!0),d.physicsType===u.STATIC_BODY&&!h&&(o.blocked.none=!1,o.blocked.down=!0))),d.overlapY=r,o.overlapY=r,r};l.exports=m},10481:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25084),m=e(56694),d=e(47401),o=e(72632),h=e(59192),n=e(42911),r=new m({Extends:h,initialize:function(a,v,p,c){if(!p&&!c)c={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(n(p))c=p,p=null,c.internalCreateCallback=this.createCallbackHandler,c.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(p)&&n(p[0])){c=p[0];var g=this;p.forEach(function(y){y.internalCreateCallback=g.createCallbackHandler,y.internalRemoveCallback=g.removeCallbackHandler}),p=null}else c={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=a,c.classType=o(c,"classType",u),this.physicsType=d.DYNAMIC_BODY,this.defaults={setCollideWorldBounds:o(c,"collideWorldBounds",!1),setBoundsRectangle:o(c,"customBoundsRectangle",null),setAccelerationX:o(c,"accelerationX",0),setAccelerationY:o(c,"accelerationY",0),setAllowDrag:o(c,"allowDrag",!0),setAllowGravity:o(c,"allowGravity",!0),setAllowRotation:o(c,"allowRotation",!0),setDamping:o(c,"useDamping",!1),setBounceX:o(c,"bounceX",0),setBounceY:o(c,"bounceY",0),setDragX:o(c,"dragX",0),setDragY:o(c,"dragY",0),setEnable:o(c,"enable",!0),setGravityX:o(c,"gravityX",0),setGravityY:o(c,"gravityY",0),setFrictionX:o(c,"frictionX",0),setFrictionY:o(c,"frictionY",0),setMaxSpeed:o(c,"maxSpeed",-1),setMaxVelocityX:o(c,"maxVelocityX",1e4),setMaxVelocityY:o(c,"maxVelocityY",1e4),setVelocityX:o(c,"velocityX",0),setVelocityY:o(c,"velocityY",0),setAngularVelocity:o(c,"angularVelocity",0),setAngularAcceleration:o(c,"angularAcceleration",0),setAngularDrag:o(c,"angularDrag",0),setMass:o(c,"mass",1),setImmovable:o(c,"immovable",!1)},h.call(this,v,p,c),this.type="PhysicsGroup"},createCallbackHandler:function(f){f.body||this.world.enableBody(f,d.DYNAMIC_BODY);var a=f.body;for(var v in this.defaults)a[v](this.defaults[v])},removeCallbackHandler:function(f){f.body&&this.world.disableBody(f)},setVelocity:function(f,a,v){v===void 0&&(v=0);for(var p=this.getChildren(),c=0;c<p.length;c++)p[c].body.velocity.set(f+c*v,a+c*v);return this},setVelocityX:function(f,a){a===void 0&&(a=0);for(var v=this.getChildren(),p=0;p<v.length;p++)v[p].body.velocity.x=f+p*a;return this},setVelocityY:function(f,a){a===void 0&&(a=0);for(var v=this.getChildren(),p=0;p<v.length;p++)v[p].body.velocity.y=f+p*a;return this}});l.exports=r},22916:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T,e,u,m,d,o,h,n,r,f,a,v,p,c,g,y,S,P=function(F,L,b){T=F,e=L;var B=T.velocity.x,I=e.velocity.x;return u=T.pushable,r=T._dx<0,f=T._dx>0,a=T._dx===0,g=Math.abs(T.right-e.x)<=Math.abs(e.right-T.x),h=I-B*T.bounce.x,m=e.pushable,v=e._dx<0,p=e._dx>0,c=e._dx===0,y=!g,n=B-I*e.bounce.x,S=Math.abs(b),C()},C=function(){return f&&g&&e.blocked.right?(T.processX(-S,h,!1,!0),1):r&&y&&e.blocked.left?(T.processX(S,h,!0),1):p&&y&&T.blocked.right?(e.processX(-S,n,!1,!0),2):v&&g&&T.blocked.left?(e.processX(S,n,!0),2):0},M=function(){var F=T.velocity.x,L=e.velocity.x,b=Math.sqrt(L*L*e.mass/T.mass)*(L>0?1:-1),B=Math.sqrt(F*F*T.mass/e.mass)*(F>0?1:-1),I=(b+B)*.5;return b-=I,B-=I,d=I+b*T.bounce.x,o=I+B*e.bounce.x,r&&y?R(0):v&&g?R(1):f&&g?R(2):p&&y?R(3):!1},R=function(F){if(u&&m)S*=.5,F===0||F===3?(T.processX(S,d),e.processX(-S,o)):(T.processX(-S,d),e.processX(S,o));else if(u&&!m)F===0||F===3?T.processX(S,h,!0):T.processX(-S,h,!1,!0);else if(!u&&m)F===0||F===3?e.processX(-S,n,!1,!0):e.processX(S,n,!0);else{var L=S*.5;F===0?c?(T.processX(S,0,!0),e.processX(0,null,!1,!0)):p?(T.processX(L,0,!0),e.processX(-L,0,!1,!0)):(T.processX(L,e.velocity.x,!0),e.processX(-L,null,!1,!0)):F===1?a?(T.processX(0,null,!1,!0),e.processX(S,0,!0)):f?(T.processX(-L,0,!1,!0),e.processX(L,0,!0)):(T.processX(-L,null,!1,!0),e.processX(L,T.velocity.x,!0)):F===2?c?(T.processX(-S,0,!1,!0),e.processX(0,null,!0)):v?(T.processX(-L,0,!1,!0),e.processX(L,0,!0)):(T.processX(-L,e.velocity.x,!1,!0),e.processX(L,null,!0)):F===3&&(a?(T.processX(0,null,!0),e.processX(-S,0,!1,!0)):r?(T.processX(L,0,!0),e.processX(-L,0,!1,!0)):(T.processX(L,e.velocity.y,!0),e.processX(-L,null,!1,!0)))}return!0},w=function(F){F===1?e.velocity.x=0:g?e.processX(S,n,!0):e.processX(-S,n,!1,!0),T.moves&&(e.y+=(T.y-T.prev.y)*T.friction.y,e._dy=e.y-e.prev.y)},O=function(F){F===2?T.velocity.x=0:y?T.processX(S,h,!0):T.processX(-S,h,!1,!0),e.moves&&(T.y+=(e.y-e.prev.y)*e.friction.y,T._dy=T.y-T.prev.y)};l.exports={BlockCheck:C,Check:M,Set:P,Run:R,RunImmovableBody1:w,RunImmovableBody2:O}},67050:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T,e,u,m,d,o,h,n,r,f,a,v,p,c,g,y,S,P=function(F,L,b){T=F,e=L;var B=T.velocity.y,I=e.velocity.y;return u=T.pushable,r=T._dy<0,f=T._dy>0,a=T._dy===0,g=Math.abs(T.bottom-e.y)<=Math.abs(e.bottom-T.y),h=I-B*T.bounce.y,m=e.pushable,v=e._dy<0,p=e._dy>0,c=e._dy===0,y=!g,n=B-I*e.bounce.y,S=Math.abs(b),C()},C=function(){return f&&g&&e.blocked.down?(T.processY(-S,h,!1,!0),1):r&&y&&e.blocked.up?(T.processY(S,h,!0),1):p&&y&&T.blocked.down?(e.processY(-S,n,!1,!0),2):v&&g&&T.blocked.up?(e.processY(S,n,!0),2):0},M=function(){var F=T.velocity.y,L=e.velocity.y,b=Math.sqrt(L*L*e.mass/T.mass)*(L>0?1:-1),B=Math.sqrt(F*F*T.mass/e.mass)*(F>0?1:-1),I=(b+B)*.5;return b-=I,B-=I,d=I+b*T.bounce.y,o=I+B*e.bounce.y,r&&y?R(0):v&&g?R(1):f&&g?R(2):p&&y?R(3):!1},R=function(F){if(u&&m)S*=.5,F===0||F===3?(T.processY(S,d),e.processY(-S,o)):(T.processY(-S,d),e.processY(S,o));else if(u&&!m)F===0||F===3?T.processY(S,h,!0):T.processY(-S,h,!1,!0);else if(!u&&m)F===0||F===3?e.processY(-S,n,!1,!0):e.processY(S,n,!0);else{var L=S*.5;F===0?c?(T.processY(S,0,!0),e.processY(0,null,!1,!0)):p?(T.processY(L,0,!0),e.processY(-L,0,!1,!0)):(T.processY(L,e.velocity.y,!0),e.processY(-L,null,!1,!0)):F===1?a?(T.processY(0,null,!1,!0),e.processY(S,0,!0)):f?(T.processY(-L,0,!1,!0),e.processY(L,0,!0)):(T.processY(-L,null,!1,!0),e.processY(L,T.velocity.y,!0)):F===2?c?(T.processY(-S,0,!1,!0),e.processY(0,null,!0)):v?(T.processY(-L,0,!1,!0),e.processY(L,0,!0)):(T.processY(-L,e.velocity.y,!1,!0),e.processY(L,null,!0)):F===3&&(a?(T.processY(0,null,!0),e.processY(-S,0,!1,!0)):r?(T.processY(L,0,!0),e.processY(-L,0,!1,!0)):(T.processY(L,e.velocity.y,!0),e.processY(-L,null,!1,!0)))}return!0},w=function(F){F===1?e.velocity.y=0:g?e.processY(S,n,!0):e.processY(-S,n,!1,!0),T.moves&&(e.x+=(T.x-T.prev.x)*T.friction.x,e._dx=e.x-e.prev.x)},O=function(F){F===2?T.velocity.y=0:y?T.processY(S,h,!0):T.processY(-S,h,!1,!0),e.moves&&(T.x+=(e.x-e.prev.x)*e.friction.x,T._dx=T.x-T.prev.x)};l.exports={BlockCheck:C,Check:M,Set:P,Run:R,RunImmovableBody1:w,RunImmovableBody2:O}},61777:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(75671),m=e(22916),d=function(o,h,n,r,f){f===void 0&&(f=u(o,h,n,r));var a=o.immovable,v=h.immovable;if(n||f===0||a&&v||o.customSeparateX||h.customSeparateX)return f!==0||o.embedded&&h.embedded;var p=m.Set(o,h,f);return!a&&!v?p>0?!0:m.Check():(a?m.RunImmovableBody1(p):v&&m.RunImmovableBody2(p),!0)};l.exports=d},25299:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66185),m=e(67050),d=function(o,h,n,r,f){f===void 0&&(f=u(o,h,n,r));var a=o.immovable,v=h.immovable;if(n||f===0||a&&v||o.customSeparateY||h.customSeparateY)return f!==0||o.embedded&&h.embedded;var p=m.Set(o,h,f);return!a&&!v?p>0?!0:m.Check():(a?m.RunImmovableBody1(p):v&&m.RunImmovableBody2(p),!0)};l.exports=d},66634:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(65650),m=e(56694),d=e(47401),o=e(94287),h=e(93736),n=new m({initialize:function(f,a){var v=64,p=64,c={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},g=a!==void 0;g&&a.displayWidth&&(v=a.displayWidth,p=a.displayHeight),g||(a=c),this.world=f,this.gameObject=g?a:void 0,this.isBody=!0,this.debugShowBody=f.defaults.debugShowStaticBody,this.debugBodyColor=f.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new h,this.position=new h(a.x-v*a.originX,a.y-p*a.originY),this.width=v,this.height=p,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new h(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=h.ZERO,this.allowGravity=!1,this.gravity=h.ZERO,this.bounce=h.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.physicsType=d.STATIC_BODY,this._dx=0,this._dy=0},setGameObject:function(r,f){return r&&r!==this.gameObject&&(this.gameObject.body=null,r.body=this,this.gameObject=r),f&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var r=this.gameObject;return r.getTopLeft(this.position),this.width=r.displayWidth,this.height=r.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(r,f){return f===void 0&&(f=r),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(r,f),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(r,f,a){a===void 0&&(a=!0);var v=this.gameObject;if(!r&&v.frame&&(r=v.frame.realWidth),!f&&v.frame&&(f=v.frame.realHeight),this.world.staticTree.remove(this),this.width=r,this.height=f,this.halfWidth=Math.floor(r/2),this.halfHeight=Math.floor(f/2),a&&v.getCenter){var p=v.displayWidth/2,c=v.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(p-this.halfWidth,c-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(r,f,a){return f===void 0&&(f=this.offset.x),a===void 0&&(a=this.offset.y),r>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=r,this.width=r*2,this.height=r*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(f,a),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(r,f){var a=this.gameObject;r===void 0&&(r=a.x),f===void 0&&(f=a.y),this.world.staticTree.remove(this),a.setPosition(r,f),a.getTopLeft(this.position),this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(r){return r.x=this.x,r.y=this.y,r.right=this.right,r.bottom=this.bottom,r},hitTest:function(r,f){return this.isCircle?u(this,r,f):o(this,r,f)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(r){var f=this.position,a=f.x+this.halfWidth,v=f.y+this.halfHeight;this.debugShowBody&&(r.lineStyle(r.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?r.strokeCircle(a,v,this.width/2):r.strokeRect(f.x,f.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(r){return r<=0&&(r=.1),this.mass=r,this},x:{get:function(){return this.position.x},set:function(r){this.world.staticTree.remove(this),this.position.x=r,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(r){this.world.staticTree.remove(this),this.position.y=r,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});l.exports=n},46346:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25084),m=e(56694),d=e(47401),o=e(72632),h=e(59192),n=e(42911),r=new m({Extends:h,initialize:function(a,v,p,c){!p&&!c?c={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:u}:n(p)?(c=p,p=null,c.internalCreateCallback=this.createCallbackHandler,c.internalRemoveCallback=this.removeCallbackHandler,c.createMultipleCallback=this.createMultipleCallbackHandler,c.classType=o(c,"classType",u)):Array.isArray(p)&&n(p[0])?(c=p,p=null,c.forEach(function(g){g.internalCreateCallback=this.createCallbackHandler,g.internalRemoveCallback=this.removeCallbackHandler,g.createMultipleCallback=this.createMultipleCallbackHandler,g.classType=o(g,"classType",u)})):c={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=a,this.physicsType=d.STATIC_BODY,h.call(this,v,p,c),this.type="StaticPhysicsGroup"},createCallbackHandler:function(f){f.body||this.world.enableBody(f,d.STATIC_BODY)},removeCallbackHandler:function(f){f.body&&this.world.disableBody(f)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var f=this.children.entries,a=0;a<f.length;a++)f[a].body.reset();return this}});l.exports=r},85233:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(94240),m=e(97602),d=e(82897),o=e(56694),h=e(3909),n=e(47401),r=e(53996),f=e(92951),a=e(6659),v=e(27037),p=e(88456),c=e(41935),g=e(54726),y=e(75671),S=e(66185),P=e(44662),C=e(10850),M=e(83392),R=e(74623),w=e(25163),O=e(74118),F=e(68687),L=e(27354),b=e(61777),B=e(25299),I=e(58403),z=e(66634),Y=e(28808),W=e(69360),H=e(93736),N=e(1071),X=new o({Extends:a,initialize:function(G,V){a.call(this),this.scene=G,this.bodies=new I,this.staticBodies=new I,this.pendingDestroy=new I,this.colliders=new R,this.gravity=new H(C(V,"gravity.x",0),C(V,"gravity.y",0)),this.bounds=new O(C(V,"x",0),C(V,"y",0),C(V,"width",G.sys.scale.width),C(V,"height",G.sys.scale.height)),this.checkCollision={up:C(V,"checkCollision.up",!0),down:C(V,"checkCollision.down",!0),left:C(V,"checkCollision.left",!0),right:C(V,"checkCollision.right",!0)},this.fps=C(V,"fps",60),this.fixedStep=C(V,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=C(V,"timeScale",1),this.OVERLAP_BIAS=C(V,"overlapBias",4),this.TILE_BIAS=C(V,"tileBias",16),this.forceX=C(V,"forceX",!1),this.isPaused=C(V,"isPaused",!1),this._total=0,this.drawDebug=C(V,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:C(V,"debugShowBody",!0),debugShowStaticBody:C(V,"debugShowStaticBody",!0),debugShowVelocity:C(V,"debugShowVelocity",!0),bodyDebugColor:C(V,"debugBodyColor",16711935),staticBodyDebugColor:C(V,"debugStaticBodyColor",255),velocityDebugColor:C(V,"debugVelocityColor",65280)},this.maxEntries=C(V,"maxEntries",16),this.useTree=C(V,"useTree",!0),this.tree=new F(this.maxEntries),this.staticTree=new F(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new W,this._tempMatrix2=new W,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(D,G){G===void 0&&(G=n.DYNAMIC_BODY),Array.isArray(D)||(D=[D]);for(var V=0;V<D.length;V++){var U=D[V];if(U.isParent)for(var k=U.getChildren(),$=0;$<k.length;$++){var K=k[$];K.isParent?this.enable(K,G):this.enableBody(K,G)}else this.enableBody(U,G)}},enableBody:function(D,G){return G===void 0&&(G=n.DYNAMIC_BODY),D.hasTransformComponent&&(D.body||(G===n.DYNAMIC_BODY?D.body=new m(this,D):G===n.STATIC_BODY&&(D.body=new z(this,D))),this.add(D.body)),D},add:function(D){return D.physicsType===n.DYNAMIC_BODY?this.bodies.set(D):D.physicsType===n.STATIC_BODY&&(this.staticBodies.set(D),this.staticTree.insert(D)),D.enable=!0,D},disable:function(D){Array.isArray(D)||(D=[D]);for(var G=0;G<D.length;G++){var V=D[G];if(V.isParent)for(var U=V.getChildren(),k=0;k<U.length;k++){var $=U[k];$.isParent?this.disable($):this.disableBody($.body)}else this.disableBody(V.body)}},disableBody:function(D){this.remove(D),D.enable=!1},remove:function(D){D.physicsType===n.DYNAMIC_BODY?(this.tree.remove(D),this.bodies.delete(D)):D.physicsType===n.STATIC_BODY&&(this.staticBodies.delete(D),this.staticTree.remove(D))},createDebugGraphic:function(){var D=this.scene.sys.add.graphics({x:0,y:0});return D.setDepth(Number.MAX_VALUE),this.debugGraphic=D,this.drawDebug=!0,D},setBounds:function(D,G,V,U,k,$,K,J){return this.bounds.setTo(D,G,V,U),k!==void 0&&this.setBoundsCollision(k,$,K,J),this},setBoundsCollision:function(D,G,V,U){return D===void 0&&(D=!0),G===void 0&&(G=!0),V===void 0&&(V=!0),U===void 0&&(U=!0),this.checkCollision.left=D,this.checkCollision.right=G,this.checkCollision.up=V,this.checkCollision.down=U,this},pause:function(){return this.isPaused=!0,this.emit(v.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(v.RESUME),this},addCollider:function(D,G,V,U,k){V===void 0&&(V=null),U===void 0&&(U=null),k===void 0&&(k=V);var $=new h(this,!1,D,G,V,U,k);return this.colliders.add($),$},addOverlap:function(D,G,V,U,k){V===void 0&&(V=null),U===void 0&&(U=null),k===void 0&&(k=V);var $=new h(this,!0,D,G,V,U,k);return this.colliders.add($),$},removeCollider:function(D){return this.colliders.remove(D),this},setFPS:function(D){return this.fps=D,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(D,G){if(!(this.isPaused||this.bodies.size===0)){var V,U=this._frameTime,k=this._frameTimeMS*this.timeScale;this._elapsed+=G;var $,K=this.bodies.entries,J=this._elapsed>=k;for(this.fixedStep||(U=G*.001,J=!0,this._elapsed=0),V=0;V<K.length;V++)$=K[V],$.enable&&$.preUpdate(J,U);if(J){this._elapsed-=k,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(K));var Q=this.colliders.update();for(V=0;V<Q.length;V++){var q=Q[V];q.active&&q.update()}this.emit(v.WORLD_STEP,U)}for(;this._elapsed>=k;)this._elapsed-=k,this.step(U)}},step:function(D){var G,V,U=this.bodies.entries,k=U.length;for(G=0;G<k;G++)V=U[G],V.enable&&V.update(D);this.useTree&&(this.tree.clear(),this.tree.load(U));var $=this.colliders.update();for(G=0;G<$.length;G++){var K=$[G];K.active&&K.update()}this.emit(v.WORLD_STEP,D),this.stepsLastFrame++},postUpdate:function(){var D,G,V=this.bodies.entries,U=V.length,k=this.bodies,$=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,D=0;D<U;D++)G=V[D],G.enable&&G.postUpdate();if(this.drawDebug){var K=this.debugGraphic;for(K.clear(),D=0;D<U;D++)G=V[D],G.willDrawDebug()&&G.drawDebug(K);for(V=$.entries,U=V.length,D=0;D<U;D++)G=V[D],G.willDrawDebug()&&G.drawDebug(K)}var J=this.pendingDestroy;if(J.size>0){var Q=this.tree,q=this.staticTree;for(V=J.entries,U=V.length,D=0;D<U;D++)G=V[D],G.physicsType===n.DYNAMIC_BODY?(Q.remove(G),k.delete(G)):G.physicsType===n.STATIC_BODY&&(q.remove(G),$.delete(G)),G.world=void 0,G.gameObject=void 0;J.clear()}},updateMotion:function(D,G){D.allowRotation&&this.computeAngularVelocity(D,G),this.computeVelocity(D,G)},computeAngularVelocity:function(D,G){var V=D.angularVelocity,U=D.angularAcceleration,k=D.angularDrag,$=D.maxAngular;U?V+=U*G:D.allowDrag&&k&&(k*=G,c(V-k,0,.1)?V-=k:g(V+k,0,.1)?V+=k:V=0),V=d(V,-$,$);var K=V-D.angularVelocity;D.angularVelocity+=K,D.rotation+=D.angularVelocity*G},computeVelocity:function(D,G){var V=D.velocity.x,U=D.acceleration.x,k=D.drag.x,$=D.maxVelocity.x,K=D.velocity.y,J=D.acceleration.y,Q=D.drag.y,q=D.maxVelocity.y,_=D.speed,et=D.maxSpeed,tt=D.allowDrag,rt=D.useDamping;D.allowGravity&&(V+=(this.gravity.x+D.gravity.x)*G,K+=(this.gravity.y+D.gravity.y)*G),U?V+=U*G:tt&&k&&(rt?(k=Math.pow(k,G),V*=k,_=Math.sqrt(V*V+K*K),p(_,0,.001)&&(V=0)):(k*=G,c(V-k,0,.01)?V-=k:g(V+k,0,.01)?V+=k:V=0)),J?K+=J*G:tt&&Q&&(rt?(Q=Math.pow(Q,G),K*=Q,_=Math.sqrt(V*V+K*K),p(_,0,.001)&&(K=0)):(Q*=G,c(K-Q,0,.01)?K-=Q:g(K+Q,0,.01)?K+=Q:K=0)),V=d(V,-$,$),K=d(K,-q,q),D.velocity.set(V,K),et>-1&&D.velocity.length()>et&&(D.velocity.normalize().scale(et),_=et),D.speed=_},separate:function(D,G,V,U,k){var $,K,J=!1,Q=!0;if(!D.enable||!G.enable||D.checkCollision.none||G.checkCollision.none||!this.intersects(D,G)||V&&V.call(U,D.gameObject,G.gameObject)===!1)return J;if(D.isCircle||G.isCircle){var q=this.separateCircle(D,G,k);q.result?(J=!0,Q=!1):($=q.x,K=q.y,Q=!0)}if(Q){var _=!1,et=!1,tt=this.OVERLAP_BIAS;k?(_=b(D,G,k,tt,$),et=B(D,G,k,tt,K)):this.forceX||Math.abs(this.gravity.y+D.gravity.y)<Math.abs(this.gravity.x+D.gravity.x)?(_=b(D,G,k,tt,$),this.intersects(D,G)&&(et=B(D,G,k,tt,K))):(et=B(D,G,k,tt,K),this.intersects(D,G)&&(_=b(D,G,k,tt,$))),J=_||et}return J&&(k?(D.onOverlap||G.onOverlap)&&this.emit(v.OVERLAP,D.gameObject,G.gameObject,D,G):(D.onCollide||G.onCollide)&&this.emit(v.COLLIDE,D.gameObject,G.gameObject,D,G)),J},separateCircle:function(D,G,V){y(D,G,!1,0),S(D,G,!1,0);var U=D.isCircle,k=G.isCircle,$=D.center,K=G.center,J=D.immovable,Q=G.immovable,q=D.velocity,_=G.velocity,et=0,tt=!0;if(U!==k){tt=!1;var rt=$.x,lt=$.y,dt=D.halfWidth,ut=G.position.x,st=G.position.y,ot=G.right,ht=G.bottom;k&&(rt=K.x,lt=K.y,dt=G.halfWidth,ut=D.position.x,st=D.position.y,ot=D.right,ht=D.bottom),lt<st?rt<ut?et=r(rt,lt,ut,st)-dt:rt>ot&&(et=r(rt,lt,ot,st)-dt):lt>ht&&(rt<ut?et=r(rt,lt,ut,ht)-dt:rt>ot&&(et=r(rt,lt,ot,ht)-dt)),et*=-1}else et=D.halfWidth+G.halfWidth-f($,K);D.overlapR=et,G.overlapR=et;var xt=u($,K),mt=(et+M.EPSILON)*Math.cos(xt),Gt=(et+M.EPSILON)*Math.sin(xt),wt={overlap:et,result:!1,x:mt,y:Gt};if(V&&(!tt||tt&&et!==0))return wt.result=!0,wt;if(!tt&&et===0||J&&Q||D.customSeparateX||G.customSeparateX)return wt.x=void 0,wt.y=void 0,wt;var Pt=!D.pushable&&!G.pushable;if(tt){var gt=$.x-K.x,Ot=$.y-K.y,Z=Math.sqrt(Math.pow(gt,2)+Math.pow(Ot,2)),j=(K.x-$.x)/Z||0,nt=(K.y-$.y)/Z||0,it=2*(q.x*j+q.y*nt-_.x*j-_.y*nt)/(D.mass+G.mass);(J||Q)&&(it*=2),J||(q.x=q.x-it/D.mass*j,q.y=q.y-it/D.mass*nt,q.multiply(D.bounce)),Q||(_.x=_.x+it/G.mass*j,_.y=_.y+it/G.mass*nt,_.multiply(G.bounce)),!J&&!Q&&(mt*=.5,Gt*=.5),J||(D.x-=mt,D.y-=Gt,D.updateCenter()),Q||(G.x+=mt,G.y+=Gt,G.updateCenter()),wt.result=!0}else!J||D.pushable||Pt?(D.x-=mt,D.y-=Gt,D.updateCenter()):(!Q||G.pushable||Pt)&&(G.x+=mt,G.y+=Gt,G.updateCenter()),wt.x=void 0,wt.y=void 0;return wt},intersects:function(D,G){return D===G?!1:!D.isCircle&&!G.isCircle?!(D.right<=G.left||D.bottom<=G.top||D.left>=G.right||D.top>=G.bottom):D.isCircle?G.isCircle?f(D.center,G.center)<=D.halfWidth+G.halfWidth:this.circleBodyIntersects(D,G):this.circleBodyIntersects(G,D)},circleBodyIntersects:function(D,G){var V=d(D.center.x,G.left,G.right),U=d(D.center.y,G.top,G.bottom),k=(D.center.x-V)*(D.center.x-V),$=(D.center.y-U)*(D.center.y-U);return k+$<=D.halfWidth*D.halfWidth},overlap:function(D,G,V,U,k){return V===void 0&&(V=null),U===void 0&&(U=null),k===void 0&&(k=V),this.collideObjects(D,G,V,U,k,!0)},collide:function(D,G,V,U,k){return V===void 0&&(V=null),U===void 0&&(U=null),k===void 0&&(k=V),this.collideObjects(D,G,V,U,k,!1)},collideObjects:function(D,G,V,U,k,$){var K,J;D.isParent&&(D.physicsType===void 0||G===void 0||D===G)&&(D=D.children.entries),G&&G.isParent&&G.physicsType===void 0&&(G=G.children.entries);var Q=Array.isArray(D),q=Array.isArray(G);if(this._total=0,!Q&&!q)this.collideHandler(D,G,V,U,k,$);else if(!Q&&q)for(K=0;K<G.length;K++)this.collideHandler(D,G[K],V,U,k,$);else if(Q&&!q)if(G)for(K=0;K<D.length;K++)this.collideHandler(D[K],G,V,U,k,$);else for(K=0;K<D.length;K++){var _=D[K];for(J=K+1;J<D.length;J++)K!==J&&this.collideHandler(_,D[J],V,U,k,$)}else for(K=0;K<D.length;K++)for(J=0;J<G.length;J++)this.collideHandler(D[K],G[J],V,U,k,$);return this._total>0},collideHandler:function(D,G,V,U,k,$){if(G===void 0&&D.isParent)return this.collideGroupVsGroup(D,D,V,U,k,$);if(!D||!G)return!1;if(D.body||D.isBody){if(G.body||G.isBody)return this.collideSpriteVsSprite(D,G,V,U,k,$);if(G.isParent)return this.collideSpriteVsGroup(D,G,V,U,k,$);if(G.isTilemap)return this.collideSpriteVsTilemapLayer(D,G,V,U,k,$)}else if(D.isParent){if(G.body||G.isBody)return this.collideSpriteVsGroup(G,D,V,U,k,$);if(G.isParent)return this.collideGroupVsGroup(D,G,V,U,k,$);if(G.isTilemap)return this.collideGroupVsTilemapLayer(D,G,V,U,k,$)}else if(D.isTilemap){if(G.body||G.isBody)return this.collideSpriteVsTilemapLayer(G,D,V,U,k,$);if(G.isParent)return this.collideGroupVsTilemapLayer(G,D,V,U,k,$)}},collideSpriteVsSprite:function(D,G,V,U,k,$){var K=D.isBody?D:D.body,J=G.isBody?G:G.body;return!K||!J?!1:(this.separate(K,J,U,k,$)&&(V&&V.call(k,D,G),this._total++),!0)},collideSpriteVsGroup:function(D,G,V,U,k,$){var K=D.isBody?D:D.body;if(!(G.length===0||!K||!K.enable||K.checkCollision.none)){var J,Q,q;if(this.useTree||G.physicsType===n.STATIC_BODY){var _=this.treeMinMax;_.minX=K.left,_.minY=K.top,_.maxX=K.right,_.maxY=K.bottom;var et=G.physicsType===n.DYNAMIC_BODY?this.tree.search(_):this.staticTree.search(_);for(Q=et.length,J=0;J<Q;J++)q=et[J],!(K===q||!q.enable||q.checkCollision.none||!G.contains(q.gameObject))&&this.separate(K,q,U,k,$)&&(V&&V.call(k,K.gameObject,q.gameObject),this._total++)}else{var tt=G.getChildren(),rt=G.children.entries.indexOf(D);for(Q=tt.length,J=0;J<Q;J++)q=tt[J].body,!(!q||J===rt||!q.enable)&&this.separate(K,q,U,k,$)&&(V&&V.call(k,K.gameObject,q.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(D,G,V,U,k,$){var K=D.getChildren();if(K.length===0)return!1;for(var J=!1,Q=0;Q<K.length;Q++)(K[Q].body||K[Q].isBody)&&this.collideSpriteVsTilemapLayer(K[Q],G,V,U,k,$)&&(J=!0);return J},collideTiles:function(D,G,V,U,k){return G.length===0||D.body&&!D.body.enable||D.isBody&&!D.enable?!1:this.collideSpriteVsTilesHandler(D,G,V,U,k,!1,!1)},overlapTiles:function(D,G,V,U,k){return G.length===0||D.body&&!D.body.enable||D.isBody&&!D.enable?!1:this.collideSpriteVsTilesHandler(D,G,V,U,k,!0,!1)},collideSpriteVsTilemapLayer:function(D,G,V,U,k,$){var K=D.isBody?D:D.body;if(!K.enable||K.checkCollision.none)return!1;var J=K.x,Q=K.y,q=K.width,_=K.height,et=G.layer;if(et.tileWidth>et.baseTileWidth){var tt=(et.tileWidth-et.baseTileWidth)*G.scaleX;J-=tt,q+=tt}if(et.tileHeight>et.baseTileHeight){var rt=(et.tileHeight-et.baseTileHeight)*G.scaleY;_+=rt}var lt=$?null:this.tileFilterOptions,dt=P(J,Q,q,_,lt,G.scene.cameras.main,G.layer);return dt.length===0?!1:this.collideSpriteVsTilesHandler(D,dt,V,U,k,$,!0)},collideSpriteVsTilesHandler:function(D,G,V,U,k,$,K){for(var J=D.isBody?D:D.body,Q,q={left:0,right:0,top:0,bottom:0},_,et=!1,tt=0;tt<G.length;tt++){Q=G[tt],_=Q.tilemapLayer;var rt=_.tileToWorldXY(Q.x,Q.y);q.left=rt.x,q.top=rt.y,Q.baseHeight!==Q.height&&(q.top-=(Q.height-Q.baseHeight)*_.scaleY),q.right=q.left+Q.width*_.scaleX,q.bottom=q.top+Q.height*_.scaleY,Y(q,J)&&(!U||U.call(k,D,Q))&&w(Q,D)&&($||L(tt,J,Q,q,_,this.TILE_BIAS,K))&&(this._total++,et=!0,V&&V.call(k,D,Q),$&&J.onOverlap?this.emit(v.TILE_OVERLAP,D,Q,J):J.onCollide&&this.emit(v.TILE_COLLIDE,D,Q,J))}return et},collideGroupVsGroup:function(D,G,V,U,k,$){if(!(D.length===0||G.length===0))for(var K=D.getChildren(),J=0;J<K.length;J++)this.collideSpriteVsGroup(K[J],G,V,U,k,$)},wrap:function(D,G){D.body?this.wrapObject(D,G):D.getChildren?this.wrapArray(D.getChildren(),G):Array.isArray(D)?this.wrapArray(D,G):this.wrapObject(D,G)},wrapArray:function(D,G){for(var V=0;V<D.length;V++)this.wrapObject(D[V],G)},wrapObject:function(D,G){G===void 0&&(G=0),D.x=N(D.x,this.bounds.left-G,this.bounds.right+G),D.y=N(D.y,this.bounds.top-G,this.bounds.bottom+G)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});l.exports=X},5321:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setAcceleration:function(e,u){return this.body.acceleration.set(e,u),this},setAccelerationX:function(e){return this.body.acceleration.x=e,this},setAccelerationY:function(e){return this.body.acceleration.y=e,this}};l.exports=T},29257:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setAngularVelocity:function(e){return this.body.angularVelocity=e,this},setAngularAcceleration:function(e){return this.body.angularAcceleration=e,this},setAngularDrag:function(e){return this.body.angularDrag=e,this}};l.exports=T},62122:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setBounce:function(e,u){return this.body.bounce.set(e,u),this},setBounceX:function(e){return this.body.bounce.x=e,this},setBounceY:function(e){return this.body.bounce.y=e,this},setCollideWorldBounds:function(e,u,m,d){return this.body.setCollideWorldBounds(e,u,m,d),this}};l.exports=T},99803:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setDebug:function(e,u,m){return this.debugShowBody=e,this.debugShowVelocity=u,this.debugBodyColor=m,this},setDebugBodyColor:function(e){return this.body.debugBodyColor=e,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(e){this.body.debugShowBody=e}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(e){this.body.debugShowVelocity=e}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(e){this.body.debugBodyColor=e}}};l.exports=T},87145:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setDrag:function(e,u){return this.body.drag.set(e,u),this},setDragX:function(e){return this.body.drag.x=e,this},setDragY:function(e){return this.body.drag.y=e,this},setDamping:function(e){return this.body.useDamping=e,this}};l.exports=T},96174:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={enableBody:function(e,u,m,d,o){return e&&this.body.reset(u,m),d&&(this.body.gameObject.active=!0),o&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(e,u){return e===void 0&&(e=!1),u===void 0&&(u=!1),this.body.stop(),this.body.enable=!1,e&&(this.body.gameObject.active=!1),u&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};l.exports=T},51702:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setFriction:function(e,u){return this.body.friction.set(e,u),this},setFrictionX:function(e){return this.body.friction.x=e,this},setFrictionY:function(e){return this.body.friction.y=e,this}};l.exports=T},25578:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setGravity:function(e,u){return this.body.gravity.set(e,u),this},setGravityX:function(e){return this.body.gravity.x=e,this},setGravityY:function(e){return this.body.gravity.y=e,this}};l.exports=T},72029:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setImmovable:function(e){return e===void 0&&(e=!0),this.body.immovable=e,this}};l.exports=T},34566:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setMass:function(e){return this.body.mass=e,this}};l.exports=T},2732:(l,T,e)=>{var u=e(15147),m=e(26673),d=e(22184),o=e(26535),h=function(n,r,f,a,v,p){var c=u(n,r-a,f-a,2*a,2*a,v,p);if(c.length===0)return c;for(var g=new m(r,f,a),y=new m,S=[],P=0;P<c.length;P++){var C=c[P];C.isCircle?(y.setTo(C.center.x,C.center.y,C.halfWidth),d(g,y)&&S.push(C)):o(g,C)&&S.push(C)}return S};l.exports=h},15147:l=>{var T=function(e,u,m,d,o,h,n){h===void 0&&(h=!0),n===void 0&&(n=!1);var r=[],f=[],a=e.treeMinMax;if(a.minX=u,a.minY=m,a.maxX=u+d,a.maxY=m+o,n&&(f=e.staticTree.search(a)),h&&e.useTree)r=e.tree.search(a);else if(h){var v=e.bodies,p={position:{x:u,y:m},left:u,top:m,right:u+d,bottom:m+o,isCircle:!1},c=e.intersects;v.iterate(function(g){c(g,p)&&r.push(g)})}return f.concat(r)};l.exports=T},57527:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setPushable:function(e){return e===void 0&&(e=!0),this.body.pushable=e,this}};l.exports=T},77687:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setOffset:function(e,u){return this.body.setOffset(e,u),this},setSize:function(e,u,m){return this.body.setSize(e,u,m),this},setBodySize:function(e,u,m){return this.body.setSize(e,u,m),this},setCircle:function(e,u,m){return this.body.setCircle(e,u,m),this}};l.exports=T},66536:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setVelocity:function(e,u){return this.body.setVelocity(e,u),this},setVelocityX:function(e){return this.body.setVelocityX(e),this},setVelocityY:function(e){return this.body.setVelocityY(e),this},setMaxVelocity:function(e,u){return this.body.maxVelocity.set(e,u),this}};l.exports=T},7864:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Acceleration:e(5321),Angular:e(29257),Bounce:e(62122),Debug:e(99803),Drag:e(87145),Enable:e(96174),Friction:e(51702),Gravity:e(25578),Immovable:e(72029),Mass:e(34566),OverlapCirc:e(2732),OverlapRect:e(15147),Pushable:e(57527),Size:e(77687),Velocity:e(66536)}},47401:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};l.exports=T},22346:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="collide"},95092:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="overlap"},15775:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pause"},74142:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="resume"},22825:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="tilecollide"},10851:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="tileoverlap"},7543:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="worldbounds"},1487:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="worldstep"},27037:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={COLLIDE:e(22346),OVERLAP:e(95092),PAUSE:e(15775),RESUME:e(74142),TILE_COLLIDE:e(22825),TILE_OVERLAP:e(10851),WORLD_BOUNDS:e(7543),WORLD_STEP:e(1487)}},39977:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(47401),m=e(98611),d={ArcadePhysics:e(66150),Body:e(97602),Collider:e(3909),Components:e(7864),Events:e(27037),Factory:e(99523),GetOverlapX:e(75671),GetOverlapY:e(66185),SeparateX:e(61777),SeparateY:e(25299),Group:e(10481),Image:e(62832),Sprite:e(25084),StaticBody:e(66634),StaticGroup:e(46346),Tilemap:e(8413),World:e(85233)};d=m(!1,d,u),l.exports=d},25163:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e.collisionCallback?!e.collisionCallback.call(e.collisionCallbackContext,u,e):e.layer.callbacks[e.index]?!e.layer.callbacks[e.index].callback.call(e.layer.callbacks[e.index].callbackContext,u,e):!0};l.exports=T},98209:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){u<0?(e.blocked.none=!1,e.blocked.left=!0):u>0&&(e.blocked.none=!1,e.blocked.right=!0),e.position.x-=u,e.updateCenter(),e.bounce.x===0?e.velocity.x=0:e.velocity.x=-e.velocity.x*e.bounce.x};l.exports=T},72792:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){u<0?(e.blocked.none=!1,e.blocked.up=!0):u>0&&(e.blocked.none=!1,e.blocked.down=!0),e.position.y-=u,e.updateCenter(),e.bounce.y===0?e.velocity.y=0:e.velocity.y=-e.velocity.y*e.bounce.y};l.exports=T},27354:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(14405),m=e(52926),d=e(28808),o=function(h,n,r,f,a,v,p){var c=f.left,g=f.top,y=f.right,S=f.bottom,P=r.faceLeft||r.faceRight,C=r.faceTop||r.faceBottom;if(p||(P=!0,C=!0),!P&&!C)return!1;var M=0,R=0,w=0,O=1;if(n.deltaAbsX()>n.deltaAbsY()?w=-1:n.deltaAbsX()<n.deltaAbsY()&&(O=-1),n.deltaX()!==0&&n.deltaY()!==0&&P&&C&&(w=Math.min(Math.abs(n.position.x-y),Math.abs(n.right-c)),O=Math.min(Math.abs(n.position.y-S),Math.abs(n.bottom-g))),w<O){if(P&&(M=u(n,r,c,y,v,p),M!==0&&!d(f,n)))return!0;C&&(R=m(n,r,g,S,v,p))}else{if(C&&(R=m(n,r,g,S,v,p),R!==0&&!d(f,n)))return!0;P&&(M=u(n,r,c,y,v,p))}return M!==0||R!==0};l.exports=o},14405:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(98209),m=function(d,o,h,n,r,f){var a=0,v=o.faceLeft,p=o.faceRight,c=o.collideLeft,g=o.collideRight;return f||(v=!0,p=!0,c=!0,g=!0),d.deltaX()<0&&g&&d.checkCollision.left?p&&d.x<n&&(a=d.x-n,a<-r&&(a=0)):d.deltaX()>0&&c&&d.checkCollision.right&&v&&d.right>h&&(a=d.right-h,a>r&&(a=0)),a!==0&&(d.customSeparateX?d.overlapX=a:u(d,a)),a};l.exports=m},52926:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72792),m=function(d,o,h,n,r,f){var a=0,v=o.faceTop,p=o.faceBottom,c=o.collideUp,g=o.collideDown;return f||(v=!0,p=!0,c=!0,g=!0),d.deltaY()<0&&g&&d.checkCollision.up?p&&d.y<n&&(a=d.y-n,a<-r&&(a=0)):d.deltaY()>0&&c&&d.checkCollision.down&&v&&d.bottom>h&&(a=d.bottom-h,a>r&&(a=0)),a!==0&&(d.customSeparateY?d.overlapY=a:u(d,a)),a};l.exports=m},28808:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return!(u.right<=e.left||u.bottom<=e.top||u.position.x>=e.right||u.position.y>=e.bottom)};l.exports=T},8413:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={ProcessTileCallbacks:e(25163),ProcessTileSeparationX:e(98209),ProcessTileSeparationY:e(72792),SeparateTile:e(27354),TileCheckX:e(14405),TileCheckY:e(52926),TileIntersectsBody:e(28808)};l.exports=u},53954:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Arcade:e(39977),Matter:e(45949)}},63568:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(93736),d=new u({initialize:function(){this.boundsCenter=new m,this.centerDiff=new m},parseBody:function(o){if(o=o.hasOwnProperty("body")?o.body:o,!o.hasOwnProperty("bounds")||!o.hasOwnProperty("centerOfMass"))return!1;var h=this.boundsCenter,n=this.centerDiff,r=o.bounds.max.x-o.bounds.min.x,f=o.bounds.max.y-o.bounds.min.y,a=r*o.centerOfMass.x,v=f*o.centerOfMass.y;return h.set(r/2,f/2),n.set(a-h.x,v-h.y),!0},getTopLeft:function(o,h,n){if(h===void 0&&(h=0),n===void 0&&(n=0),this.parseBody(o)){var r=this.boundsCenter,f=this.centerDiff;return new m(h+r.x+f.x,n+r.y+f.y)}return!1},getTopCenter:function(o,h,n){if(h===void 0&&(h=0),n===void 0&&(n=0),this.parseBody(o)){var r=this.boundsCenter,f=this.centerDiff;return new m(h+f.x,n+r.y+f.y)}return!1},getTopRight:function(o,h,n){if(h===void 0&&(h=0),n===void 0&&(n=0),this.parseBody(o)){var r=this.boundsCenter,f=this.centerDiff;return new m(h-(r.x-f.x),n+r.y+f.y)}return!1},getLeftCenter:function(o,h,n){if(h===void 0&&(h=0),n===void 0&&(n=0),this.parseBody(o)){var r=this.boundsCenter,f=this.centerDiff;return new m(h+r.x+f.x,n+f.y)}return!1},getCenter:function(o,h,n){if(h===void 0&&(h=0),n===void 0&&(n=0),this.parseBody(o)){var r=this.centerDiff;return new m(h+r.x,n+r.y)}return!1},getRightCenter:function(o,h,n){if(h===void 0&&(h=0),n===void 0&&(n=0),this.parseBody(o)){var r=this.boundsCenter,f=this.centerDiff;return new m(h-(r.x-f.x),n+f.y)}return!1},getBottomLeft:function(o,h,n){if(h===void 0&&(h=0),n===void 0&&(n=0),this.parseBody(o)){var r=this.boundsCenter,f=this.centerDiff;return new m(h+r.x+f.x,n-(r.y-f.y))}return!1},getBottomCenter:function(o,h,n){if(h===void 0&&(h=0),n===void 0&&(n=0),this.parseBody(o)){var r=this.boundsCenter,f=this.centerDiff;return new m(h+f.x,n-(r.y-f.y))}return!1},getBottomRight:function(o,h,n){if(h===void 0&&(h=0),n===void 0&&(n=0),this.parseBody(o)){var r=this.boundsCenter,f=this.centerDiff;return new m(h-(r.x-f.x),n-(r.y-f.y))}return!1}});l.exports=d},18171:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(16929);u.Body=e(84125),u.Composite=e(11299),u.World=e(72005),u.Collision=e(63454),u.Detector=e(13657),u.Pairs=e(91327),u.Pair=e(70584),u.Query=e(13390),u.Resolver=e(44272),u.Constraint=e(52838),u.Common=e(68758),u.Engine=e(45775),u.Events=e(39073),u.Sleeping=e(22806),u.Plugin=e(84474),u.Bodies=e(68516),u.Composites=e(56643),u.Axes=e(50658),u.Bounds=e(84091),u.Svg=e(92765),u.Vector=e(10438),u.Vertices=e(39745),u.World.add=u.Composite.add,u.World.remove=u.Composite.remove,u.World.addComposite=u.Composite.addComposite,u.World.addBody=u.Composite.addBody,u.World.addConstraint=u.Composite.addConstraint,u.World.clear=u.Composite.clear,l.exports=u},72653:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(68516),m=e(56694),d=e(56643),o=e(52838),h=e(92765),n=e(3860),r=e(7030),f=e(73658),a=e(84720),v=e(10998),p=e(72829),c=e(88596),g=e(39745),y=new m({initialize:function(P){this.world=P,this.scene=P.scene,this.sys=P.scene.sys},rectangle:function(S,P,C,M,R){var w=u.rectangle(S,P,C,M,R);return this.world.add(w),w},trapezoid:function(S,P,C,M,R,w){var O=u.trapezoid(S,P,C,M,R,w);return this.world.add(O),O},circle:function(S,P,C,M,R){var w=u.circle(S,P,C,M,R);return this.world.add(w),w},polygon:function(S,P,C,M,R){var w=u.polygon(S,P,C,M,R);return this.world.add(w),w},fromVertices:function(S,P,C,M,R,w,O){typeof C=="string"&&(C=g.fromPath(C));var F=u.fromVertices(S,P,C,M,R,w,O);return this.world.add(F),F},fromPhysicsEditor:function(S,P,C,M,R){R===void 0&&(R=!0);var w=v.parseBody(S,P,C,M);return R&&!this.world.has(w)&&this.world.add(w),w},fromSVG:function(S,P,C,M,R,w){M===void 0&&(M=1),R===void 0&&(R={}),w===void 0&&(w=!0);for(var O=C.getElementsByTagName("path"),F=[],L=0;L<O.length;L++){var b=h.pathToVertices(O[L],30);M!==1&&g.scale(b,M,M),F.push(b)}var B=u.fromVertices(S,P,F,R);return w&&this.world.add(B),B},fromJSON:function(S,P,C,M,R){M===void 0&&(M={}),R===void 0&&(R=!0);var w=p.parseBody(S,P,C,M);return w&&R&&this.world.add(w),w},imageStack:function(S,P,C,M,R,w,O,F,L){O===void 0&&(O=0),F===void 0&&(F=0),L===void 0&&(L={});var b=this.world,B=this.sys.displayList;L.addToWorld=!1;var I=d.stack(C,M,R,w,O,F,function(z,Y){var W=new r(b,z,Y,S,P,L);return B.add(W),W.body});return b.add(I),I},stack:function(S,P,C,M,R,w,O){var F=d.stack(S,P,C,M,R,w,O);return this.world.add(F),F},pyramid:function(S,P,C,M,R,w,O){var F=d.pyramid(S,P,C,M,R,w,O);return this.world.add(F),F},chain:function(S,P,C,M,R,w){return d.chain(S,P,C,M,R,w)},mesh:function(S,P,C,M,R){return d.mesh(S,P,C,M,R)},newtonsCradle:function(S,P,C,M,R){var w=d.newtonsCradle(S,P,C,M,R);return this.world.add(w),w},car:function(S,P,C,M,R){var w=d.car(S,P,C,M,R);return this.world.add(w),w},softBody:function(S,P,C,M,R,w,O,F,L,b){var B=d.softBody(S,P,C,M,R,w,O,F,L,b);return this.world.add(B),B},joint:function(S,P,C,M,R){return this.constraint(S,P,C,M,R)},spring:function(S,P,C,M,R){return this.constraint(S,P,C,M,R)},constraint:function(S,P,C,M,R){M===void 0&&(M=1),R===void 0&&(R={}),R.bodyA=S.type==="body"?S:S.body,R.bodyB=P.type==="body"?P:P.body,isNaN(C)||(R.length=C),R.stiffness=M;var w=o.create(R);return this.world.add(w),w},worldConstraint:function(S,P,C,M){C===void 0&&(C=1),M===void 0&&(M={}),M.bodyB=S.type==="body"?S:S.body,isNaN(P)||(M.length=P),M.stiffness=C;var R=o.create(M);return this.world.add(R),R},mouseSpring:function(S){return this.pointerConstraint(S)},pointerConstraint:function(S){S===void 0&&(S={}),S.hasOwnProperty("render")||(S.render={visible:!1});var P=new c(this.scene,this.world,S);return this.world.add(P.constraint),P},image:function(S,P,C,M,R){var w=new r(this.world,S,P,C,M,R);return this.sys.displayList.add(w),w},tileBody:function(S,P){return new a(this.world,S,P)},sprite:function(S,P,C,M,R){var w=new f(this.world,S,P,C,M,R);return this.sys.displayList.add(w),this.sys.updateList.add(w),w},gameObject:function(S,P,C){return n(this.world,S,P,C)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});l.exports=y},3860:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(74527),m=e(72632),d=e(93736);function o(n){return!!n.get&&typeof n.get=="function"||!!n.set&&typeof n.set=="function"}var h=function(n,r,f,a){f===void 0&&(f={}),a===void 0&&(a=!0);var v=r.x,p=r.y;r.body={temp:!0,position:{x:v,y:p}};var c=[u.Bounce,u.Collision,u.Force,u.Friction,u.Gravity,u.Mass,u.Sensor,u.SetBody,u.Sleep,u.Static,u.Transform,u.Velocity];if(c.forEach(function(y){for(var S in y)o(y[S])?Object.defineProperty(r,S,{get:y[S].get,set:y[S].set}):Object.defineProperty(r,S,{value:y[S]})}),r.world=n,r._tempVec2=new d(v,p),f.hasOwnProperty("type")&&f.type==="body")r.setExistingBody(f,a);else{var g=m(f,"shape",null);g||(g="rectangle"),f.addToWorld=a,r.setBody(g,f)}return r};l.exports=h},7030:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(74527),d=e(89980),o=e(72632),h=e(1539),n=e(58210),r=e(93736),f=new u({Extends:h,Mixins:[m.Bounce,m.Collision,m.Force,m.Friction,m.Gravity,m.Mass,m.Sensor,m.SetBody,m.Sleep,m.Static,m.Transform,m.Velocity,n],initialize:function(v,p,c,g,y,S){d.call(this,v.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(g,y),this.setSizeToFrame(),this.setOrigin(),this.world=v,this._tempVec2=new r(p,c);var P=o(S,"shape",null);P?this.setBody(P,S):this.setRectangle(this.width,this.height,S),this.setPosition(p,c),this.initPipeline(),this.initPostPipeline(!0)}});l.exports=f},50583:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(84093),m=e(50658),d=e(68516),o=e(84125),h=e(63568),n=e(84091),r=e(56694),f=e(63454),a=e(68758),v=e(11299),p=e(56643),c=e(52838),g=e(13657),y=e(53996),S=e(72653),P=e(72632),C=e(10850),M=e(1675),R=e(80391),w=e(16929),O=e(44097),F=e(30657),L=e(70584),b=e(91327),B=e(84474),I=e(91963),z=e(13390),Y=e(44272),W=e(7599),H=e(92765),N=e(10438),X=e(39745),D=e(31468);a.setDecomp(e(81084));var G=new r({initialize:function(U){this.scene=U,this.systems=U.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=o,this.composite=v,this.collision=f,this.detector=g,this.pair=L,this.pairs=b,this.query=z,this.resolver=Y,this.constraint=c,this.bodies=d,this.composites=p,this.axes=m,this.bounds=n,this.svg=H,this.vector=N,this.vertices=X,this.verts=X,this._tempVec2=N.create(),C(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),C(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),C(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),Y._restingThresh=C(this.config,"restingThresh",4),Y._restingThreshTangent=C(this.config,"restingThreshTangent",6),Y._positionDampen=C(this.config,"positionDampen",.9),Y._positionWarming=C(this.config,"positionWarming",.8),Y._frictionNormalMultiplier=C(this.config,"frictionNormalMultiplier",5),U.sys.events.once(W.BOOT,this.boot,this),U.sys.events.on(W.START,this.start,this)},boot:function(){this.world=new D(this.scene,this.config),this.add=new S(this.world),this.bodyBounds=new h,this.systems.events.once(W.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new D(this.scene,this.config),this.add=new S(this.world));var V=this.systems.events;V.on(W.UPDATE,this.world.update,this.world),V.on(W.POST_UPDATE,this.world.postUpdate,this.world),V.once(W.SHUTDOWN,this.shutdown,this)},getConfig:function(){var V=this.systems.game.config.physics,U=this.systems.settings.physics,k=F(P(U,"matter",{}),P(V,"matter",{}));return k},enableAttractorPlugin:function(){return B.register(M),B.use(w,M),this},enableWrapPlugin:function(){return B.register(O),B.use(w,O),this},enableCollisionEventsPlugin:function(){return B.register(R),B.use(w,R),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(V,U){this.world.step(V,U)},containsPoint:function(V,U,k){V=this.getMatterBodies(V);var $=N.create(U,k),K=z.point(V,$);return K.length>0},intersectPoint:function(V,U,k){k=this.getMatterBodies(k);var $=N.create(V,U),K=[],J=z.point(k,$);return J.forEach(function(Q){K.indexOf(Q)===-1&&K.push(Q)}),K},intersectRect:function(V,U,k,$,K,J){K===void 0&&(K=!1),J=this.getMatterBodies(J);var Q={min:{x:V,y:U},max:{x:V+k,y:U+$}},q=[],_=z.region(J,Q,K);return _.forEach(function(et){q.indexOf(et)===-1&&q.push(et)}),q},intersectRay:function(V,U,k,$,K,J){K===void 0&&(K=1),J=this.getMatterBodies(J);for(var Q=[],q=z.ray(J,N.create(V,U),N.create(k,$),K),_=0;_<q.length;_++)Q.push(q[_].body);return Q},intersectBody:function(V,U){U=this.getMatterBodies(U);for(var k=[],$=z.collides(V,U),K=0;K<$.length;K++){var J=$[K];J.bodyA===V?k.push(J.bodyB):k.push(J.bodyA)}return k},overlap:function(V,U,k,$,K){k===void 0&&(k=null),$===void 0&&($=null),K===void 0&&(K=k),Array.isArray(V)||(V=[V]),V=this.getMatterBodies(V),U=this.getMatterBodies(U);for(var J=!1,Q=0;Q<V.length;Q++)for(var q=V[Q],_=z.collides(q,U),et=0;et<_.length;et++){var tt=_[et],rt=tt.bodyA.id===q.id?tt.bodyB:tt.bodyA;if(!$||$.call(K,q,rt,tt)){if(J=!0,k)k.call(K,q,rt,tt);else if(!$)return!0}}return J},setCollisionCategory:function(V,U){return V=this.getMatterBodies(V),V.forEach(function(k){k.collisionFilter.category=U}),this},setCollisionGroup:function(V,U){return V=this.getMatterBodies(V),V.forEach(function(k){k.collisionFilter.group=U}),this},setCollidesWith:function(V,U){V=this.getMatterBodies(V);var k=0;if(!Array.isArray(U))k=U;else for(var $=0;$<U.length;$++)k|=U[$];return V.forEach(function(K){K.collisionFilter.mask=k}),this},getMatterBodies:function(V){if(!V)return this.world.getAllBodies();Array.isArray(V)||(V=[V]);for(var U=[],k=0;k<V.length;k++){var $=V[k].hasOwnProperty("body")?V[k].body:V[k];U.push($)}return U},setVelocity:function(V,U,k){V=this.getMatterBodies(V);var $=this._tempVec2;return $.x=U,$.y=k,V.forEach(function(K){o.setVelocity(K,$)}),this},setVelocityX:function(V,U){V=this.getMatterBodies(V);var k=this._tempVec2;return k.x=U,V.forEach(function($){k.y=$.velocity.y,o.setVelocity($,k)}),this},setVelocityY:function(V,U){V=this.getMatterBodies(V);var k=this._tempVec2;return k.y=U,V.forEach(function($){k.x=$.velocity.x,o.setVelocity($,k)}),this},setAngularVelocity:function(V,U){return V=this.getMatterBodies(V),V.forEach(function(k){o.setAngularVelocity(k,U)}),this},applyForce:function(V,U){V=this.getMatterBodies(V);var k=this._tempVec2;return V.forEach(function($){k.x=$.position.x,k.y=$.position.y,o.applyForce($,k,U)}),this},applyForceFromPosition:function(V,U,k,$){V=this.getMatterBodies(V);var K=this._tempVec2;return V.forEach(function(J){$===void 0&&($=J.angle),K.x=k*Math.cos($),K.y=k*Math.sin($),o.applyForce(J,U,K)}),this},applyForceFromAngle:function(V,U,k){V=this.getMatterBodies(V);var $=this._tempVec2;return V.forEach(function(K){k===void 0&&(k=K.angle),$.x=U*Math.cos(k),$.y=U*Math.sin(k),o.applyForce(K,{x:K.position.x,y:K.position.y},$)}),this},getConstraintLength:function(V){var U=V.pointA.x,k=V.pointA.y,$=V.pointB.x,K=V.pointB.y;return V.bodyA&&(U+=V.bodyA.position.x,k+=V.bodyA.position.y),V.bodyB&&($+=V.bodyB.position.x,K+=V.bodyB.position.y),y(U,k,$,K)},alignBody:function(V,U,k,$){V=V.hasOwnProperty("body")?V.body:V;var K;switch($){case u.TOP_LEFT:case u.LEFT_TOP:K=this.bodyBounds.getTopLeft(V,U,k);break;case u.TOP_CENTER:K=this.bodyBounds.getTopCenter(V,U,k);break;case u.TOP_RIGHT:case u.RIGHT_TOP:K=this.bodyBounds.getTopRight(V,U,k);break;case u.LEFT_CENTER:K=this.bodyBounds.getLeftCenter(V,U,k);break;case u.CENTER:K=this.bodyBounds.getCenter(V,U,k);break;case u.RIGHT_CENTER:K=this.bodyBounds.getRightCenter(V,U,k);break;case u.LEFT_BOTTOM:case u.BOTTOM_LEFT:K=this.bodyBounds.getBottomLeft(V,U,k);break;case u.BOTTOM_CENTER:K=this.bodyBounds.getBottomCenter(V,U,k);break;case u.BOTTOM_RIGHT:case u.RIGHT_BOTTOM:K=this.bodyBounds.getBottomRight(V,U,k);break}return K&&o.setPosition(V,K),this},shutdown:function(){var V=this.systems.events;this.world&&(V.off(W.UPDATE,this.world.update,this.world),V.off(W.POST_UPDATE,this.world.postUpdate,this.world)),V.off(W.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(W.START,this.start,this),this.scene=null,this.systems=null}});I.register("MatterPhysics",G,"matterPhysics"),l.exports=G},73658:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(16569),m=e(56694),d=e(74527),o=e(89980),h=e(72632),n=e(58210),r=e(13747),f=e(93736),a=new m({Extends:r,Mixins:[d.Bounce,d.Collision,d.Force,d.Friction,d.Gravity,d.Mass,d.Sensor,d.SetBody,d.Sleep,d.Static,d.Transform,d.Velocity,n],initialize:function(p,c,g,y,S,P){o.call(this,p.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new u(this),this.setTexture(y,S),this.setSizeToFrame(),this.setOrigin(),this.world=p,this._tempVec2=new f(c,g);var C=h(P,"shape",null);C?this.setBody(C,P):this.setRectangle(this.width,this.height,P),this.setPosition(c,g),this.initPipeline(),this.initPostPipeline(!0)}});l.exports=a},84720:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(68516),m=e(84125),d=e(56694),o=e(74527),h=e(28699),n=e(6659),r=e(72632),f=e(19256),a=e(39745),v=new d({Extends:n,Mixins:[o.Bounce,o.Collision,o.Friction,o.Gravity,o.Mass,o.Sensor,o.Sleep,o.Static],initialize:function(c,g,y){n.call(this),this.tile=g,this.world=c,g.physics.matterBody&&g.physics.matterBody.destroy(),g.physics.matterBody=this;var S=r(y,"body",null),P=r(y,"addToWorld",!0);if(S)this.setBody(S,P);else{var C=g.getCollisionGroup(),M=r(C,"objects",[]);M.length>0?this.setFromTileCollision(y):this.setFromTileRectangle(y)}if(g.flipX||g.flipY){var R={x:g.getCenterX(),y:g.getCenterY()},w=g.flipX?-1:1,O=g.flipY?-1:1;m.scale(S,w,O,R)}},setFromTileRectangle:function(p){p===void 0&&(p={}),f(p,"isStatic")||(p.isStatic=!0),f(p,"addToWorld")||(p.addToWorld=!0);var c=this.tile.getBounds(),g=c.x+c.width/2,y=c.y+c.height/2,S=u.rectangle(g,y,c.width,c.height,p);return this.setBody(S,p.addToWorld),this},setFromTileCollision:function(p){p===void 0&&(p={}),f(p,"isStatic")||(p.isStatic=!0),f(p,"addToWorld")||(p.addToWorld=!0);for(var c=this.tile.tilemapLayer.scaleX,g=this.tile.tilemapLayer.scaleY,y=this.tile.getLeft(),S=this.tile.getTop(),P=this.tile.getCollisionGroup(),C=r(P,"objects",[]),M=[],R=0;R<C.length;R++){var w=C[R],O=y+w.x*c,F=S+w.y*g,L=w.width*c,b=w.height*g,B=null;if(w.rectangle)B=u.rectangle(O+L/2,F+b/2,L,b,p);else if(w.ellipse)B=u.circle(O+L/2,F+b/2,L/2,p);else if(w.polygon||w.polyline){var I=w.polygon?w.polygon:w.polyline,z=I.map(function(N){return{x:N.x*c,y:N.y*g}}),Y=a.create(z),W=a.centre(Y);O+=W.x,F+=W.y,B=u.fromVertices(O,F,Y,p)}B&&M.push(B)}if(M.length===1)this.setBody(M[0],p.addToWorld);else if(M.length>1){var H=h(p);H.parts=M,this.setBody(m.create(H),H.addToWorld)}return this},setBody:function(p,c){return c===void 0&&(c=!0),this.body&&this.removeBody(),this.body=p,this.body.gameObject=this,c&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});l.exports=v},10998:(l,T,e)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(68516),m=e(84125),d=e(68758),o=e(72632),h=e(39745),n={parseBody:function(r,f,a,v){v===void 0&&(v={});for(var p=o(a,"fixtures",[]),c=[],g=0;g<p.length;g++)for(var y=this.parseFixture(p[g]),S=0;S<y.length;S++)c.push(y[S]);var P=d.clone(a,!0);d.extend(P,v,!0),delete P.fixtures,delete P.type;var C=m.create(P);return m.setParts(C,c),m.setPosition(C,{x:r,y:f}),C},parseFixture:function(r){var f=d.extend({},!1,r);delete f.circle,delete f.vertices;var a;if(r.circle){var v=o(r.circle,"x"),p=o(r.circle,"y"),c=o(r.circle,"radius");a=[u.circle(v,p,c,f)]}else r.vertices&&(a=this.parseVertices(r.vertices,f));return a},parseVertices:function(r,f){f===void 0&&(f={});for(var a=[],v=0;v<r.length;v++)h.clockwiseSort(r[v]),a.push(m.create(d.extend({position:h.centre(r[v]),vertices:r[v]},f)));return u.flagCoincidentParts(a)}};l.exports=n},72829:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(68516),m=e(84125),d={parseBody:function(o,h,n,r){r===void 0&&(r={});var f,a=n.vertices;if(a.length===1)r.vertices=a[0],f=m.create(r),u.flagCoincidentParts(f.parts);else{for(var v=[],p=0;p<a.length;p++){var c=m.create({vertices:a[p]});v.push(c)}u.flagCoincidentParts(v),r.parts=v,f=m.create(r)}return f.label=n.label,m.setPosition(f,{x:o,y:h}),f}};l.exports=d},88596:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(84091),m=e(56694),d=e(11299),o=e(52838),h=e(13657),n=e(35416),r=e(33963),f=e(30657),a=e(22806),v=e(93736),p=e(39745),c=new m({initialize:function(y,S,P){P===void 0&&(P={});var C={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=y,this.world=S,this.camera=null,this.pointer=null,this.active=!0,this.position=new v,this.body=null,this.part=null,this.constraint=o.create(f(P,C)),this.world.on(n.BEFORE_UPDATE,this.update,this),y.sys.input.on(r.POINTER_DOWN,this.onDown,this),y.sys.input.on(r.POINTER_UP,this.onUp,this)},onDown:function(g){this.pointer||(this.pointer=g,this.camera=g.camera)},onUp:function(g){g===this.pointer&&(this.pointer=null)},getBody:function(g){var y=this.position,S=this.constraint;this.camera.getWorldPoint(g.x,g.y,y);for(var P=d.allBodies(this.world.localWorld),C=0;C<P.length;C++){var M=P[C];if(!M.ignorePointer&&u.contains(M.bounds,y)&&h.canCollide(M.collisionFilter,S.collisionFilter)&&this.hitTestBody(M,y))return this.world.emit(n.DRAG_START,M,this.part,this),!0}return!1},hitTestBody:function(g,y){for(var S=this.constraint,P=g.parts.length,C=P>1?1:0,M=C;M<P;M++){var R=g.parts[M];if(p.contains(R.vertices,y))return S.pointA=y,S.pointB={x:y.x-g.position.x,y:y.y-g.position.y},S.bodyB=g,S.angleB=g.angle,a.set(g,!1),this.part=R,this.body=g,!0}return!1},update:function(){var g=this.pointer,y=this.body;if(!this.active||!g){y&&this.stopDrag();return}if(!g.isDown&&y){this.stopDrag();return}else if(g.isDown){if(!y&&!this.getBody(g))return;y=this.body;var S=this.position,P=this.constraint;this.camera.getWorldPoint(g.x,g.y,S),P.pointA.x=S.x,P.pointA.y=S.y,a.set(y,!1),this.world.emit(n.DRAG,y,this)}},stopDrag:function(){var g=this.body,y=this.constraint;y.bodyB=null,y.pointB=null,this.pointer=null,this.body=null,this.part=null,g&&this.world.emit(n.DRAG_END,g,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(n.BEFORE_UPDATE,this.update),this.scene.sys.input.off(r.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(r.POINTER_UP,this.onUp,this)}});l.exports=c},31468:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(68516),m=e(84125),d=e(56694),o=e(68758),h=e(11299),n=e(45775),r=e(6659),f=e(35416),a=e(72632),v=e(10850),p=e(84125),c=e(39073),g=e(84720),y=e(72005),S=e(10438),P=new d({Extends:r,initialize:function(M,R){r.call(this),this.scene=M,this.engine=n.create(R),this.localWorld=this.engine.world;var w=v(R,"gravity",null);w?this.setGravity(w.x,w.y,w.scale):w===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=v(R,"enabled",!0),this.getDelta=v(R,"getDelta",this.update60Hz);var O=a(R,"runner",{}),F=a(O,"fps",!1),L=a(O,"fps",60),b=a(O,"delta",1e3/L),B=a(O,"deltaMin",1e3/L),I=a(O,"deltaMax",1e3/(L*.5));F||(L=1e3/b),this.runner={fps:L,deltaSampleSize:a(O,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:a(O,"isFixed",!1),delta:b,deltaMin:B,deltaMax:I},this.autoUpdate=v(R,"autoUpdate",!0);var z=v(R,"debug",!1);if(this.drawDebug=typeof z=="object"?!0:z,this.debugGraphic,this.debugConfig={showAxes:a(z,"showAxes",!1),showAngleIndicator:a(z,"showAngleIndicator",!1),angleColor:a(z,"angleColor",15208787),showBroadphase:a(z,"showBroadphase",!1),broadphaseColor:a(z,"broadphaseColor",16757760),showBounds:a(z,"showBounds",!1),boundsColor:a(z,"boundsColor",16777215),showVelocity:a(z,"showVelocity",!1),velocityColor:a(z,"velocityColor",44783),showCollisions:a(z,"showCollisions",!1),collisionColor:a(z,"collisionColor",16094476),showSeparations:a(z,"showSeparations",!1),separationColor:a(z,"separationColor",16753920),showBody:a(z,"showBody",!0),showStaticBody:a(z,"showStaticBody",!0),showInternalEdges:a(z,"showInternalEdges",!1),renderFill:a(z,"renderFill",!1),renderLine:a(z,"renderLine",!0),fillColor:a(z,"fillColor",1075465),fillOpacity:a(z,"fillOpacity",1),lineColor:a(z,"lineColor",2678297),lineOpacity:a(z,"lineOpacity",1),lineThickness:a(z,"lineThickness",1),staticFillColor:a(z,"staticFillColor",857979),staticLineColor:a(z,"staticLineColor",1255396),showSleeping:a(z,"showSleeping",!1),staticBodySleepOpacity:a(z,"staticBodySleepOpacity",.7),sleepFillColor:a(z,"sleepFillColor",4605510),sleepLineColor:a(z,"sleepLineColor",10066585),showSensors:a(z,"showSensors",!0),sensorFillColor:a(z,"sensorFillColor",857979),sensorLineColor:a(z,"sensorLineColor",1255396),showPositions:a(z,"showPositions",!0),positionSize:a(z,"positionSize",4),positionColor:a(z,"positionColor",14697178),showJoint:a(z,"showJoint",!0),jointColor:a(z,"jointColor",14737474),jointLineOpacity:a(z,"jointLineOpacity",1),jointLineThickness:a(z,"jointLineThickness",2),pinSize:a(z,"pinSize",4),pinColor:a(z,"pinColor",4382944),springColor:a(z,"springColor",14697184),anchorColor:a(z,"anchorColor",15724527),anchorSize:a(z,"anchorSize",4),showConvexHulls:a(z,"showConvexHulls",!1),hullColor:a(z,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),a(R,"setBounds",!1)){var Y=R.setBounds;if(typeof Y=="boolean")this.setBounds();else{var W=a(Y,"x",0),H=a(Y,"y",0),N=a(Y,"width",M.sys.scale.width),X=a(Y,"height",M.sys.scale.height),D=a(Y,"thickness",64),G=a(Y,"left",!0),V=a(Y,"right",!0),U=a(Y,"top",!0),k=a(Y,"bottom",!0);this.setBounds(W,H,N,X,D,G,V,U,k)}}},setCompositeRenderStyle:function(C){var M=C.bodies,R=C.constraints,w=C.composites,O,F,L;for(O=0;O<M.length;O++)F=M[O],L=F.render,this.setBodyRenderStyle(F,L.lineColor,L.lineOpacity,L.lineThickness,L.fillColor,L.fillOpacity);for(O=0;O<R.length;O++)F=R[O],L=F.render,this.setConstraintRenderStyle(F,L.lineColor,L.lineOpacity,L.lineThickness,L.pinSize,L.anchorColor,L.anchorSize);for(O=0;O<w.length;O++)F=w[O],this.setCompositeRenderStyle(F);return this},setBodyRenderStyle:function(C,M,R,w,O,F){var L=C.render,b=this.debugConfig;return L?(M==null&&(M=C.isStatic?b.staticLineColor:b.lineColor),R==null&&(R=b.lineOpacity),w==null&&(w=b.lineThickness),O==null&&(O=C.isStatic?b.staticFillColor:b.fillColor),F==null&&(F=b.fillOpacity),M!==!1&&(L.lineColor=M),R!==!1&&(L.lineOpacity=R),w!==!1&&(L.lineThickness=w),O!==!1&&(L.fillColor=O),F!==!1&&(L.fillOpacity=F),this):this},setConstraintRenderStyle:function(C,M,R,w,O,F,L){var b=C.render,B=this.debugConfig;if(!b)return this;if(M==null){var I=b.type;I==="line"?M=B.jointColor:I==="pin"?M=B.pinColor:I==="spring"&&(M=B.springColor)}return R==null&&(R=B.jointLineOpacity),w==null&&(w=B.jointLineThickness),O==null&&(O=B.pinSize),F==null&&(F=B.anchorColor),L==null&&(L=B.anchorSize),M!==!1&&(b.lineColor=M),R!==!1&&(b.lineOpacity=R),w!==!1&&(b.lineThickness=w),O!==!1&&(b.pinSize=O),F!==!1&&(b.anchorColor=F),L!==!1&&(b.anchorSize=L),this},setEventsProxy:function(){var C=this,M=this.engine,R=this.localWorld;this.drawDebug&&(c.on(R,"compositeModified",function(w){C.setCompositeRenderStyle(w)}),c.on(R,"beforeAdd",function(w){for(var O=[].concat(w.object),F=0;F<O.length;F++){var L=O[F],b=L.render;L.type==="body"?C.setBodyRenderStyle(L,b.lineColor,b.lineOpacity,b.lineThickness,b.fillColor,b.fillOpacity):L.type==="composite"?C.setCompositeRenderStyle(L):L.type==="constraint"&&C.setConstraintRenderStyle(L,b.lineColor,b.lineOpacity,b.lineThickness,b.pinSize,b.anchorColor,b.anchorSize)}})),c.on(R,"beforeAdd",function(w){C.emit(f.BEFORE_ADD,w)}),c.on(R,"afterAdd",function(w){C.emit(f.AFTER_ADD,w)}),c.on(R,"beforeRemove",function(w){C.emit(f.BEFORE_REMOVE,w)}),c.on(R,"afterRemove",function(w){C.emit(f.AFTER_REMOVE,w)}),c.on(M,"beforeUpdate",function(w){C.emit(f.BEFORE_UPDATE,w)}),c.on(M,"afterUpdate",function(w){C.emit(f.AFTER_UPDATE,w)}),c.on(M,"collisionStart",function(w){var O=w.pairs,F,L;O.length>0&&(F=O[0].bodyA,L=O[0].bodyB),C.emit(f.COLLISION_START,w,F,L)}),c.on(M,"collisionActive",function(w){var O=w.pairs,F,L;O.length>0&&(F=O[0].bodyA,L=O[0].bodyB),C.emit(f.COLLISION_ACTIVE,w,F,L)}),c.on(M,"collisionEnd",function(w){var O=w.pairs,F,L;O.length>0&&(F=O[0].bodyA,L=O[0].bodyB),C.emit(f.COLLISION_END,w,F,L)})},setBounds:function(C,M,R,w,O,F,L,b,B){return C===void 0&&(C=0),M===void 0&&(M=0),R===void 0&&(R=this.scene.sys.scale.width),w===void 0&&(w=this.scene.sys.scale.height),O===void 0&&(O=64),F===void 0&&(F=!0),L===void 0&&(L=!0),b===void 0&&(b=!0),B===void 0&&(B=!0),this.updateWall(F,"left",C-O,M-O,O,w+O*2),this.updateWall(L,"right",C+R,M-O,O,w+O*2),this.updateWall(b,"top",C,M-O,R,O),this.updateWall(B,"bottom",C,M+w,R,O),this},updateWall:function(C,M,R,w,O,F){var L=this.walls[M];C?(L&&y.remove(this.localWorld,L),R+=O/2,w+=F/2,this.walls[M]=this.create(R,w,O,F,{isStatic:!0,friction:0,frictionStatic:0})):(L&&y.remove(this.localWorld,L),this.walls[M]=null)},createDebugGraphic:function(){var C=this.scene.sys.add.graphics({x:0,y:0});return C.setDepth(Number.MAX_VALUE),this.debugGraphic=C,this.drawDebug=!0,C},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(C,M,R){return C===void 0&&(C=0),M===void 0&&(M=1),R===void 0&&(R=.001),this.localWorld.gravity.x=C,this.localWorld.gravity.y=M,this.localWorld.gravity.scale=R,this},create:function(C,M,R,w,O){var F=u.rectangle(C,M,R,w,O);return y.add(this.localWorld,F),F},add:function(C){return y.add(this.localWorld,C),this},remove:function(C,M){Array.isArray(C)||(C=[C]);for(var R=0;R<C.length;R++){var w=C[R],O=w.body?w.body:w;h.remove(this.localWorld,O,M)}return this},removeConstraint:function(C,M){return h.remove(this.localWorld,C,M),this},convertTilemapLayer:function(C,M){var R=C.layer,w=C.getTilesWithin(0,0,R.width,R.height,{isColliding:!0});return this.convertTiles(w,M),this},convertTiles:function(C,M){if(C.length===0)return this;for(var R=0;R<C.length;R++)new g(this,C[R],M);return this},nextGroup:function(C){return p.nextGroup(C)},nextCategory:function(){return p.nextCategory()},pause:function(){return this.enabled=!1,this.emit(f.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(f.RESUME),this},update:function(C,M){if(!(!this.enabled||!this.autoUpdate)){var R=this.engine,w=this.runner,O=R.timing;w.isFixed?M=this.getDelta(C,M):(M=C-w.timePrev||w.delta,w.timePrev=C,w.deltaHistory.push(M),w.deltaHistory=w.deltaHistory.slice(-w.deltaSampleSize),M=Math.min.apply(null,w.deltaHistory),M=M<w.deltaMin?w.deltaMin:M,M=M>w.deltaMax?w.deltaMax:M,w.delta=M),w.timeScalePrev=O.timeScale,w.frameCounter+=1,C-w.counterTimestamp>=1e3&&(w.fps=w.frameCounter*((C-w.counterTimestamp)/1e3),w.counterTimestamp=C,w.frameCounter=0),n.update(R,M)}},step:function(C){n.update(this.engine,C)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(C){var M=C.hasOwnProperty("body")?C.body:C;return h.get(this.localWorld,M.id,M.type)!==null},getAllBodies:function(){return h.allBodies(this.localWorld)},getAllConstraints:function(){return h.allConstraints(this.localWorld)},getAllComposites:function(){return h.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var C=this.debugConfig,M=this.engine,R=this.debugGraphic,w=h.allBodies(this.localWorld);this.debugGraphic.clear(),C.showBroadphase&&M.broadphase.controller&&this.renderGrid(M.broadphase,R,C.broadphaseColor,.5),C.showBounds&&this.renderBodyBounds(w,R,C.boundsColor,.5),(C.showBody||C.showStaticBody)&&this.renderBodies(w),C.showJoint&&this.renderJoints(),(C.showAxes||C.showAngleIndicator)&&this.renderBodyAxes(w,R,C.showAxes,C.angleColor,.5),C.showVelocity&&this.renderBodyVelocity(w,R,C.velocityColor,1,2),C.showSeparations&&this.renderSeparations(M.pairs.list,R,C.separationColor),C.showCollisions&&this.renderCollisions(M.pairs.list,R,C.collisionColor)}},renderGrid:function(C,M,R,w){M.lineStyle(1,R,w);for(var O=o.keys(C.buckets),F=0;F<O.length;F++){var L=O[F];if(!(C.buckets[L].length<2)){var b=L.split(/C|R/);M.strokeRect(parseInt(b[1],10)*C.bucketWidth,parseInt(b[2],10)*C.bucketHeight,C.bucketWidth,C.bucketHeight)}}return this},renderSeparations:function(C,M,R){M.lineStyle(1,R,1);for(var w=0;w<C.length;w++){var O=C[w];if(O.isActive){var F=O.collision,L=F.bodyA,b=F.bodyB,B=L.position,I=b.position,z=F.penetration,Y=!L.isStatic&&!b.isStatic?4:1;b.isStatic&&(Y=0),M.lineBetween(I.x,I.y,I.x-z.x*Y,I.y-z.y*Y),Y=!L.isStatic&&!b.isStatic?4:1,L.isStatic&&(Y=0),M.lineBetween(B.x,B.y,B.x-z.x*Y,B.y-z.y*Y)}}return this},renderCollisions:function(C,M,R){M.lineStyle(1,R,.5),M.fillStyle(R,1);var w,O;for(w=0;w<C.length;w++)if(O=C[w],!!O.isActive)for(var F=0;F<O.activeContacts.length;F++){var L=O.activeContacts[F],b=L.vertex;M.fillRect(b.x-2,b.y-2,5,5)}for(w=0;w<C.length;w++)if(O=C[w],!!O.isActive){var B=O.collision,I=O.activeContacts;if(I.length>0){var z=I[0].vertex.x,Y=I[0].vertex.y;I.length===2&&(z=(I[0].vertex.x+I[1].vertex.x)/2,Y=(I[0].vertex.y+I[1].vertex.y)/2),B.bodyB===B.supports[0].body||B.bodyA.isStatic?M.lineBetween(z-B.normal.x*8,Y-B.normal.y*8,z,Y):M.lineBetween(z+B.normal.x*8,Y+B.normal.y*8,z,Y)}}return this},renderBodyBounds:function(C,M,R,w){M.lineStyle(1,R,w);for(var O=0;O<C.length;O++){var F=C[O];if(F.render.visible){var L=F.bounds;if(L)M.strokeRect(L.min.x,L.min.y,L.max.x-L.min.x,L.max.y-L.min.y);else for(var b=F.parts,B=b.length>1?1:0;B<b.length;B++){var I=b[B];M.strokeRect(I.bounds.min.x,I.bounds.min.y,I.bounds.max.x-I.bounds.min.x,I.bounds.max.y-I.bounds.min.y)}}}return this},renderBodyAxes:function(C,M,R,w,O){M.lineStyle(1,w,O);for(var F=0;F<C.length;F++){var L=C[F],b=L.parts;if(L.render.visible){var B,I,z;if(R)for(I=b.length>1?1:0;I<b.length;I++)for(B=b[I],z=0;z<B.axes.length;z++){var Y=B.axes[z];M.lineBetween(B.position.x,B.position.y,B.position.x+Y.x*20,B.position.y+Y.y*20)}else for(I=b.length>1?1:0;I<b.length;I++)for(B=b[I],z=0;z<B.axes.length;z++)M.lineBetween(B.position.x,B.position.y,(B.vertices[0].x+B.vertices[B.vertices.length-1].x)/2,(B.vertices[0].y+B.vertices[B.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(C,M,R,w,O){M.lineStyle(O,R,w);for(var F=0;F<C.length;F++){var L=C[F];L.render.visible&&M.lineBetween(L.position.x,L.position.y,L.position.x+(L.position.x-L.positionPrev.x)*2,L.position.y+(L.position.y-L.positionPrev.y)*2)}return this},renderBodies:function(C){for(var M=this.debugGraphic,R=this.debugConfig,w=R.showBody,O=R.showStaticBody,F=R.showSleeping,L=R.showInternalEdges,b=R.showConvexHulls,B=R.renderFill,I=R.renderLine,z=R.staticBodySleepOpacity,Y=R.sleepFillColor,W=R.sleepLineColor,H=R.hullColor,N=0;N<C.length;N++){var X=C[N];if(X.render.visible&&!(!O&&X.isStatic||!w&&!X.isStatic)){var D=X.render.lineColor,G=X.render.lineOpacity,V=X.render.lineThickness,U=X.render.fillColor,k=X.render.fillOpacity;F&&X.isSleeping&&(X.isStatic?(G*=z,k*=z):(D=W,U=Y)),B||(U=null),I||(D=null),this.renderBody(X,M,L,D,G,V,U,k);var $=X.parts.length;b&&$>1&&this.renderConvexHull(X,M,H,V)}}},renderBody:function(C,M,R,w,O,F,L,b){w===void 0&&(w=null),O===void 0&&(O=null),F===void 0&&(F=1),L===void 0&&(L=null),b===void 0&&(b=null);for(var B=this.debugConfig,I=B.sensorFillColor,z=B.sensorLineColor,Y=C.parts,W=Y.length,H=W>1?1:0;H<W;H++){var N=Y[H],X=N.render,D=X.opacity;if(!(!X.visible||D===0||N.isSensor&&!B.showSensors)){var G=N.circleRadius;if(M.beginPath(),N.isSensor?(L!==null&&M.fillStyle(I,b*D),w!==null&&M.lineStyle(F,z,O*D)):(L!==null&&M.fillStyle(L,b*D),w!==null&&M.lineStyle(F,w,O*D)),G)M.arc(N.position.x,N.position.y,G,0,2*Math.PI);else{var V=N.vertices,U=V.length;M.moveTo(V[0].x,V[0].y);for(var k=1;k<U;k++){var $=V[k];if(!V[k-1].isInternal||R?M.lineTo($.x,$.y):M.moveTo($.x,$.y),k<U&&$.isInternal&&!R){var K=(k+1)%U;M.moveTo(V[K].x,V[K].y)}}M.closePath()}L!==null&&M.fillPath(),w!==null&&M.strokePath()}}if(B.showPositions&&!C.isStatic){var J=C.position.x,Q=C.position.y,q=Math.ceil(B.positionSize/2);M.fillStyle(B.positionColor,1),M.fillRect(J-q,Q-q,B.positionSize,B.positionSize)}return this},renderConvexHull:function(C,M,R,w){w===void 0&&(w=1);var O=C.parts,F=O.length;if(F>1){var L=C.vertices;M.lineStyle(w,R),M.beginPath(),M.moveTo(L[0].x,L[0].y);for(var b=1;b<L.length;b++)M.lineTo(L[b].x,L[b].y);M.lineTo(L[0].x,L[0].y),M.strokePath()}return this},renderJoints:function(){for(var C=this.debugGraphic,M=h.allConstraints(this.localWorld),R=0;R<M.length;R++){var w=M[R].render,O=w.lineColor,F=w.lineOpacity,L=w.lineThickness,b=w.pinSize,B=w.anchorColor,I=w.anchorSize;this.renderConstraint(M[R],C,O,F,L,b,B,I)}},renderConstraint:function(C,M,R,w,O,F,L,b){var B=C.render;if(!B.visible||!C.pointA||!C.pointB)return this;M.lineStyle(O,R,w);var I=C.bodyA,z=C.bodyB,Y,W;if(I?Y=S.add(I.position,C.pointA):Y=C.pointA,B.type==="pin")M.strokeCircle(Y.x,Y.y,F);else{if(z?W=S.add(z.position,C.pointB):W=C.pointB,M.beginPath(),M.moveTo(Y.x,Y.y),B.type==="spring")for(var H=S.sub(W,Y),N=S.perp(S.normalise(H)),X=Math.ceil(o.clamp(C.length/5,12,20)),D,G=1;G<X;G+=1)D=G%2===0?1:-1,M.lineTo(Y.x+H.x*(G/X)+N.x*D*4,Y.y+H.y*(G/X)+N.y*D*4);M.lineTo(W.x,W.y)}return M.strokePath(),B.anchors&&b>0&&(M.fillStyle(L),M.fillCircle(Y.x,Y.y,b),M.fillCircle(W.x,W.y,b)),this},resetCollisionIDs:function(){return m._nextCollidingGroupId=1,m._nextNonCollidingGroupId=-1,m._nextCategory=1,this},shutdown:function(){c.off(this.engine),this.removeAllListeners(),y.clear(this.localWorld,!1),n.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});l.exports=P},95349:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setBounce:function(e){return this.body.restitution=e,this}};l.exports=T},70679:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setCollisionCategory:function(e){return this.body.collisionFilter.category=e,this},setCollisionGroup:function(e){return this.body.collisionFilter.group=e,this},setCollidesWith:function(e){var u=0;if(!Array.isArray(e))u=e;else for(var m=0;m<e.length;m++)u|=e[m];return this.body.collisionFilter.mask=u,this},setOnCollide:function(e){return this.body.onCollideCallback=e,this},setOnCollideEnd:function(e){return this.body.onCollideEndCallback=e,this},setOnCollideActive:function(e){return this.body.onCollideActiveCallback=e,this},setOnCollideWith:function(e,u){Array.isArray(e)||(e=[e]);for(var m=0;m<e.length;m++){var d=e[m].hasOwnProperty("body")?e[m].body:e[m];this.body.setOnCollideWith(d,u)}return this}};l.exports=T},77178:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(84125),m={applyForce:function(d){return this._tempVec2.set(this.body.position.x,this.body.position.y),u.applyForce(this.body,this._tempVec2,d),this},applyForceFrom:function(d,o){return u.applyForce(this.body,d,o),this},thrust:function(d){var o=this.body.angle;return this._tempVec2.set(d*Math.cos(o),d*Math.sin(o)),u.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(d){var o=this.body.angle-Math.PI/2;return this._tempVec2.set(d*Math.cos(o),d*Math.sin(o)),u.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(d){var o=this.body.angle+Math.PI/2;return this._tempVec2.set(d*Math.cos(o),d*Math.sin(o)),u.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(d){var o=this.body.angle-Math.PI;return this._tempVec2.set(d*Math.cos(o),d*Math.sin(o)),u.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};l.exports=m},74015:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setFriction:function(e,u,m){return this.body.friction=e,u!==void 0&&(this.body.frictionAir=u),m!==void 0&&(this.body.frictionStatic=m),this},setFrictionAir:function(e){return this.body.frictionAir=e,this},setFrictionStatic:function(e){return this.body.frictionStatic=e,this}};l.exports=T},11535:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setIgnoreGravity:function(e){return this.body.ignoreGravity=e,this}};l.exports=T},74497:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(84125),m=e(93736),d={setMass:function(o){return u.setMass(this.body,o),this},setDensity:function(o){return u.setDensity(this.body,o),this},centerOfMass:{get:function(){return new m(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};l.exports=d},75529:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setSensor:function(e){return this.body.isSensor=e,this},isSensor:function(){return this.body.isSensor}};l.exports=T},64024:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(68516),m=e(84125),d=e(88456),o=e(72632),h=e(10998),n=e(72829),r=e(39745),f={setRectangle:function(a,v,p){return this.setBody({type:"rectangle",width:a,height:v},p)},setCircle:function(a,v){return this.setBody({type:"circle",radius:a},v)},setPolygon:function(a,v,p){return this.setBody({type:"polygon",sides:v,radius:a},p)},setTrapezoid:function(a,v,p,c){return this.setBody({type:"trapezoid",width:a,height:v,slope:p},c)},setExistingBody:function(a,v){v===void 0&&(v=!0),this.body&&this.world.remove(this.body,!0),this.body=a;for(var p=0;p<a.parts.length;p++)a.parts[p].gameObject=this;var c=this;if(a.destroy=function(){c.world.remove(c.body,!0),c.body.gameObject=null},v&&(this.world.has(a)&&this.world.remove(a,!0),this.world.add(a)),this._originComponent){var g=a.render.sprite.xOffset,y=a.render.sprite.yOffset,S=a.centerOfMass.x,P=a.centerOfMass.y;if(d(S,.5)&&d(P,.5))this.setOrigin(g+.5,y+.5);else{var C=a.centerOffset.x,M=a.centerOffset.y;this.setOrigin(g+C/this.displayWidth,y+M/this.displayHeight)}}return this},setBody:function(a,v){if(!a)return this;var p;typeof a=="string"&&(a={type:a});var c=o(a,"type","rectangle"),g=o(a,"x",this._tempVec2.x),y=o(a,"y",this._tempVec2.y),S=o(a,"width",this.width),P=o(a,"height",this.height);switch(c){case"rectangle":p=u.rectangle(g,y,S,P,v);break;case"circle":var C=o(a,"radius",Math.max(S,P)/2),M=o(a,"maxSides",25);p=u.circle(g,y,C,v,M);break;case"trapezoid":var R=o(a,"slope",.5);p=u.trapezoid(g,y,S,P,R,v);break;case"polygon":var w=o(a,"sides",5),O=o(a,"radius",Math.max(S,P)/2);p=u.polygon(g,y,w,O,v);break;case"fromVertices":case"fromVerts":var F=o(a,"verts",null);if(F)if(typeof F=="string"&&(F=r.fromPath(F)),this.body&&!this.body.hasOwnProperty("temp"))m.setVertices(this.body,F),p=this.body;else{var L=o(a,"flagInternal",!1),b=o(a,"removeCollinear",.01),B=o(a,"minimumArea",10);p=u.fromVertices(g,y,F,v,L,b,B)}break;case"fromPhysicsEditor":p=h.parseBody(g,y,a,v);break;case"fromPhysicsTracer":p=n.parseBody(g,y,a,v);break}return p&&this.setExistingBody(p,a.addToWorld),this}};l.exports=f},25106:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(35416),m=e(22806),d=e(39073),o={setToSleep:function(){return m.set(this.body,!0),this},setAwake:function(){return m.set(this.body,!1),this},setSleepThreshold:function(h){return h===void 0&&(h=60),this.body.sleepThreshold=h,this},setSleepEvents:function(h,n){return this.setSleepStartEvent(h),this.setSleepEndEvent(n),this},setSleepStartEvent:function(h){if(h){var n=this.world;d.on(this.body,"sleepStart",function(r){n.emit(u.SLEEP_START,r,this)})}else d.off(this.body,"sleepStart");return this},setSleepEndEvent:function(h){if(h){var n=this.world;d.on(this.body,"sleepEnd",function(r){n.emit(u.SLEEP_END,r,this)})}else d.off(this.body,"sleepEnd");return this}};l.exports=o},82884:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(84125),m={setStatic:function(d){return u.setStatic(this.body,d),this},isStatic:function(){return this.body.isStatic}};l.exports=m},4753:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(84125),m=e(83392),d=e(35786),o=e(62138),h=4,n={x:{get:function(){return this.body.position.x},set:function(r){this._tempVec2.set(r,this.y),u.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(r){this._tempVec2.set(this.x,r),u.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(r){var f=1/this._scaleX,a=1/this._scaleY;this._scaleX=r,this._scaleX===0?this.renderFlags&=~h:this.renderFlags|=h,u.scale(this.body,f,a),u.scale(this.body,r,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(r){var f=1/this._scaleX,a=1/this._scaleY;this._scaleY=r,this._scaleY===0?this.renderFlags&=~h:this.renderFlags|=h,u.scale(this.body,f,a),u.scale(this.body,this._scaleX,r)}},angle:{get:function(){return o(this.body.angle*m.RAD_TO_DEG)},set:function(r){this.rotation=o(r)*m.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(r){this._rotation=d(r),u.setAngle(this.body,this._rotation)}},setPosition:function(r,f){return r===void 0&&(r=0),f===void 0&&(f=r),this._tempVec2.set(r,f),u.setPosition(this.body,this._tempVec2),this},setRotation:function(r){return r===void 0&&(r=0),this._rotation=d(r),u.setAngle(this.body,r),this},setFixedRotation:function(){return u.setInertia(this.body,1/0),this},setAngle:function(r){return r===void 0&&(r=0),this.angle=r,u.setAngle(this.body,this.rotation),this},setScale:function(r,f,a){r===void 0&&(r=1),f===void 0&&(f=r);var v=1/this._scaleX,p=1/this._scaleY;return this._scaleX=r,this._scaleY=f,u.scale(this.body,v,p,a),u.scale(this.body,r,f,a),this}};l.exports=n},37268:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(84125),m={setVelocityX:function(d){return this._tempVec2.set(d,this.body.velocity.y),u.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(d){return this._tempVec2.set(this.body.velocity.x,d),u.setVelocity(this.body,this._tempVec2),this},setVelocity:function(d,o){return this._tempVec2.set(d,o),u.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return u.getVelocity(this.body)},setAngularVelocity:function(d){return u.setAngularVelocity(this.body,d),this},getAngularVelocity:function(){return u.getAngularVelocity(this.body)},setAngularSpeed:function(d){return u.setAngularSpeed(this.body,d),this},getAngularSpeed:function(){return u.getAngularSpeed(this.body)}};l.exports=m},74527:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Bounce:e(95349),Collision:e(70679),Force:e(77178),Friction:e(74015),Gravity:e(11535),Mass:e(74497),Sensor:e(75529),SetBody:e(64024),Sleep:e(25106),Static:e(82884),Transform:e(4753),Velocity:e(37268)}},63201:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="afteradd"},30474:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="afterremove"},44822:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="afterupdate"},88820:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="beforeadd"},94849:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="beforeremove"},6391:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="beforeupdate"},96738:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="collisionactive"},7916:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="collisionend"},59529:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="collisionstart"},10219:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragend"},183:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="drag"},39143:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragstart"},16483:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pause"},35806:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="resume"},22106:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="sleepend"},5803:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="sleepstart"},35416:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={AFTER_ADD:e(63201),AFTER_REMOVE:e(30474),AFTER_UPDATE:e(44822),BEFORE_ADD:e(88820),BEFORE_REMOVE:e(94849),BEFORE_UPDATE:e(6391),COLLISION_ACTIVE:e(96738),COLLISION_END:e(7916),COLLISION_START:e(59529),DRAG_END:e(10219),DRAG:e(183),DRAG_START:e(39143),PAUSE:e(16483),RESUME:e(35806),SLEEP_END:e(22106),SLEEP_START:e(5803)}},45949:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={BodyBounds:e(63568),Components:e(74527),Events:e(35416),Factory:e(72653),MatterGameObject:e(3860),Image:e(7030),Matter:e(18171),MatterPhysics:e(50583),PolyDecomp:e(81084),Sprite:e(73658),TileBody:e(84720),PhysicsEditorParser:e(10998),PhysicsJSONParser:e(72829),PointerConstraint:e(88596),World:e(31468)}},84125:(l,T,e)=>{var u={};l.exports=u;var m=e(39745),d=e(10438),o=e(22806),h=e(68758),n=e(84091),r=e(50658);(function(){u._timeCorrection=!0,u._inertiaScale=4,u._nextCollidingGroupId=1,u._nextNonCollidingGroupId=-1,u._nextCategory=1,u._baseDelta=16.666666666666668,u.create=function(a){var v={id:h.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!a.hasOwnProperty("position")&&a.hasOwnProperty("vertices")?a.position=m.centre(a.vertices):a.hasOwnProperty("vertices")||(v.vertices=m.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var p=h.extend(v,a);return f(p,a),p.setOnCollideWith=function(c,g){return g?this.onCollideWith[c.id]=g:delete this.onCollideWith[c.id],this},p},u.nextGroup=function(a){return a?u._nextNonCollidingGroupId--:u._nextCollidingGroupId++},u.nextCategory=function(){return u._nextCategory=u._nextCategory<<1,u._nextCategory};var f=function(a,v){if(v=v||{},u.set(a,{bounds:a.bounds||n.create(a.vertices),positionPrev:a.positionPrev||d.clone(a.position),anglePrev:a.anglePrev||a.angle,vertices:a.vertices,parts:a.parts||[a],isStatic:a.isStatic,isSleeping:a.isSleeping,parent:a.parent||a}),m.rotate(a.vertices,a.angle,a.position),r.rotate(a.axes,a.angle),n.update(a.bounds,a.vertices,a.velocity),u.set(a,{axes:v.axes||a.axes,area:v.area||a.area,mass:v.mass||a.mass,inertia:v.inertia||a.inertia}),a.parts.length===1){var p=a.bounds,c=a.centerOfMass,g=a.centerOffset,y=p.max.x-p.min.x,S=p.max.y-p.min.y;c.x=-(p.min.x-a.position.x)/y,c.y=-(p.min.y-a.position.y)/S,g.x=y*c.x,g.y=S*c.y}};u.set=function(a,v,p){var c;typeof v=="string"&&(c=v,v={},v[c]=p);for(c in v)if(Object.prototype.hasOwnProperty.call(v,c))switch(p=v[c],c){case"isStatic":u.setStatic(a,p);break;case"isSleeping":o.set(a,p);break;case"mass":u.setMass(a,p);break;case"density":u.setDensity(a,p);break;case"inertia":u.setInertia(a,p);break;case"vertices":u.setVertices(a,p);break;case"position":u.setPosition(a,p);break;case"angle":u.setAngle(a,p);break;case"velocity":u.setVelocity(a,p);break;case"angularVelocity":u.setAngularVelocity(a,p);break;case"speed":u.setSpeed(a,p);break;case"angularSpeed":u.setAngularSpeed(a,p);break;case"parts":u.setParts(a,p);break;case"centre":u.setCentre(a,p);break;default:a[c]=p}},u.setStatic=function(a,v){for(var p=0;p<a.parts.length;p++){var c=a.parts[p];v?(c.isStatic||(c._original={restitution:c.restitution,friction:c.friction,mass:c.mass,inertia:c.inertia,density:c.density,inverseMass:c.inverseMass,inverseInertia:c.inverseInertia}),c.restitution=0,c.friction=1,c.mass=c.inertia=c.density=1/0,c.inverseMass=c.inverseInertia=0,c.positionPrev.x=c.position.x,c.positionPrev.y=c.position.y,c.anglePrev=c.angle,c.angularVelocity=0,c.speed=0,c.angularSpeed=0,c.motion=0):c._original&&(c.restitution=c._original.restitution,c.friction=c._original.friction,c.mass=c._original.mass,c.inertia=c._original.inertia,c.density=c._original.density,c.inverseMass=c._original.inverseMass,c.inverseInertia=c._original.inverseInertia,c._original=null),c.isStatic=v}},u.setMass=function(a,v){var p=a.inertia/(a.mass/6);a.inertia=p*(v/6),a.inverseInertia=1/a.inertia,a.mass=v,a.inverseMass=1/a.mass,a.density=a.mass/a.area},u.setDensity=function(a,v){u.setMass(a,v*a.area),a.density=v},u.setInertia=function(a,v){a.inertia=v,a.inverseInertia=1/a.inertia},u.setVertices=function(a,v){v[0].body===a?a.vertices=v:a.vertices=m.create(v,a),a.axes=r.fromVertices(a.vertices),a.area=m.area(a.vertices),u.setMass(a,a.density*a.area);var p=m.centre(a.vertices);m.translate(a.vertices,p,-1),u.setInertia(a,u._inertiaScale*m.inertia(a.vertices,a.mass)),m.translate(a.vertices,a.position),n.update(a.bounds,a.vertices,a.velocity)},u.setParts=function(a,v,p){var c;for(v=v.slice(0),a.parts.length=0,a.parts.push(a),a.parent=a,c=0;c<v.length;c++){var g=v[c];g!==a&&(g.parent=a,a.parts.push(g))}if(a.parts.length!==1){if(p=typeof p<"u"?p:!0,p){var y=[];for(c=0;c<v.length;c++)y=y.concat(v[c].vertices);m.clockwiseSort(y);var S=m.hull(y),P=m.centre(S);u.setVertices(a,S),m.translate(a.vertices,P)}var C=u._totalProperties(a),M=C.centre.x,R=C.centre.y,w=a.bounds,O=a.centerOfMass,F=a.centerOffset;n.update(w,a.vertices,a.velocity),O.x=-(w.min.x-M)/(w.max.x-w.min.x),O.y=-(w.min.y-R)/(w.max.y-w.min.y),F.x=M,F.y=R,a.area=C.area,a.parent=a,a.position.x=M,a.position.y=R,a.positionPrev.x=M,a.positionPrev.y=R,u.setMass(a,C.mass),u.setInertia(a,C.inertia),u.setPosition(a,C.centre)}},u.setCentre=function(a,v,p){p?(a.positionPrev.x+=v.x,a.positionPrev.y+=v.y,a.position.x+=v.x,a.position.y+=v.y):(a.positionPrev.x=v.x-(a.position.x-a.positionPrev.x),a.positionPrev.y=v.y-(a.position.y-a.positionPrev.y),a.position.x=v.x,a.position.y=v.y)},u.setPosition=function(a,v,p){var c=d.sub(v,a.position);p?(a.positionPrev.x=a.position.x,a.positionPrev.y=a.position.y,a.velocity.x=c.x,a.velocity.y=c.y,a.speed=d.magnitude(c)):(a.positionPrev.x+=c.x,a.positionPrev.y+=c.y);for(var g=0;g<a.parts.length;g++){var y=a.parts[g];y.position.x+=c.x,y.position.y+=c.y,m.translate(y.vertices,c),n.update(y.bounds,y.vertices,a.velocity)}},u.setAngle=function(a,v,p){var c=v-a.angle;p?(a.anglePrev=a.angle,a.angularVelocity=c,a.angularSpeed=Math.abs(c)):a.anglePrev+=c;for(var g=0;g<a.parts.length;g++){var y=a.parts[g];y.angle+=c,m.rotate(y.vertices,c,a.position),r.rotate(y.axes,c),n.update(y.bounds,y.vertices,a.velocity),g>0&&d.rotateAbout(y.position,c,a.position,y.position)}},u.setVelocity=function(a,v){var p=a.deltaTime/u._baseDelta;a.positionPrev.x=a.position.x-v.x*p,a.positionPrev.y=a.position.y-v.y*p,a.velocity.x=(a.position.x-a.positionPrev.x)/p,a.velocity.y=(a.position.y-a.positionPrev.y)/p,a.speed=d.magnitude(a.velocity)},u.getVelocity=function(a){var v=u._baseDelta/a.deltaTime;return{x:(a.position.x-a.positionPrev.x)*v,y:(a.position.y-a.positionPrev.y)*v}},u.getSpeed=function(a){return d.magnitude(u.getVelocity(a))},u.setSpeed=function(a,v){u.setVelocity(a,d.mult(d.normalise(u.getVelocity(a)),v))},u.setAngularVelocity=function(a,v){var p=a.deltaTime/u._baseDelta;a.anglePrev=a.angle-v*p,a.angularVelocity=(a.angle-a.anglePrev)/p,a.angularSpeed=Math.abs(a.angularVelocity)},u.getAngularVelocity=function(a){return(a.angle-a.anglePrev)*u._baseDelta/a.deltaTime},u.getAngularSpeed=function(a){return Math.abs(u.getAngularVelocity(a))},u.setAngularSpeed=function(a,v){u.setAngularVelocity(a,h.sign(u.getAngularVelocity(a))*v)},u.translate=function(a,v,p){u.setPosition(a,d.add(a.position,v),p)},u.rotate=function(a,v,p,c){if(!p)u.setAngle(a,a.angle+v,c);else{var g=Math.cos(v),y=Math.sin(v),S=a.position.x-p.x,P=a.position.y-p.y;u.setPosition(a,{x:p.x+(S*g-P*y),y:p.y+(S*y+P*g)},c),u.setAngle(a,a.angle+v,c)}},u.scale=function(a,v,p,c){var g=0,y=0;c=c||a.position;for(var S=0;S<a.parts.length;S++){var P=a.parts[S];P.scale.x=v,P.scale.y=p,m.scale(P.vertices,v,p,c),P.axes=r.fromVertices(P.vertices),P.area=m.area(P.vertices),u.setMass(P,a.density*P.area),m.translate(P.vertices,{x:-P.position.x,y:-P.position.y}),u.setInertia(P,u._inertiaScale*m.inertia(P.vertices,P.mass)),m.translate(P.vertices,{x:P.position.x,y:P.position.y}),S>0&&(g+=P.area,y+=P.inertia),P.position.x=c.x+(P.position.x-c.x)*v,P.position.y=c.y+(P.position.y-c.y)*p,n.update(P.bounds,P.vertices,a.velocity)}a.parts.length>1&&(a.area=g,a.isStatic||(u.setMass(a,a.density*g),u.setInertia(a,y))),a.circleRadius&&(v===p?a.circleRadius*=v:a.circleRadius=null)},u.update=function(a,v){v=(typeof v<"u"?v:16.666666666666668)*a.timeScale;var p=v*v,c=u._timeCorrection?v/(a.deltaTime||v):1,g=1-a.frictionAir*(v/h._baseDelta),y=(a.position.x-a.positionPrev.x)*c,S=(a.position.y-a.positionPrev.y)*c;a.velocity.x=y*g+a.force.x/a.mass*p,a.velocity.y=S*g+a.force.y/a.mass*p,a.positionPrev.x=a.position.x,a.positionPrev.y=a.position.y,a.position.x+=a.velocity.x,a.position.y+=a.velocity.y,a.deltaTime=v,a.angularVelocity=(a.angle-a.anglePrev)*g*c+a.torque/a.inertia*p,a.anglePrev=a.angle,a.angle+=a.angularVelocity,a.speed=d.magnitude(a.velocity),a.angularSpeed=Math.abs(a.angularVelocity);for(var P=0;P<a.parts.length;P++){var C=a.parts[P];m.translate(C.vertices,a.velocity),P>0&&(C.position.x+=a.velocity.x,C.position.y+=a.velocity.y),a.angularVelocity!==0&&(m.rotate(C.vertices,a.angularVelocity,a.position),r.rotate(C.axes,a.angularVelocity),P>0&&d.rotateAbout(C.position,a.angularVelocity,a.position,C.position)),n.update(C.bounds,C.vertices,a.velocity)}},u.updateVelocities=function(a){var v=u._baseDelta/a.deltaTime,p=a.velocity;p.x=(a.position.x-a.positionPrev.x)*v,p.y=(a.position.y-a.positionPrev.y)*v,a.speed=Math.sqrt(p.x*p.x+p.y*p.y),a.angularVelocity=(a.angle-a.anglePrev)*v,a.angularSpeed=Math.abs(a.angularVelocity)},u.applyForce=function(a,v,p){var c={x:v.x-a.position.x,y:v.y-a.position.y};a.force.x+=p.x,a.force.y+=p.y,a.torque+=c.x*p.y-c.y*p.x},u._totalProperties=function(a){for(var v={mass:0,area:0,inertia:0,centre:{x:0,y:0}},p=a.parts.length===1?0:1;p<a.parts.length;p++){var c=a.parts[p],g=c.mass!==1/0?c.mass:1;v.mass+=g,v.area+=c.area,v.inertia+=c.inertia,v.centre=d.add(v.centre,d.mult(c.position,g))}return v.centre=d.div(v.centre,v.mass),v}})()},11299:(l,T,e)=>{var u={};l.exports=u;var m=e(39073),d=e(68758),o=e(84091),h=e(84125);(function(){u.create=function(n){return d.extend({id:d.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},n)},u.setModified=function(n,r,f,a){if(m.trigger(n,"compositeModified",n),n.isModified=r,r&&n.cache&&(n.cache.allBodies=null,n.cache.allConstraints=null,n.cache.allComposites=null),f&&n.parent&&u.setModified(n.parent,r,f,a),a)for(var v=0;v<n.composites.length;v++){var p=n.composites[v];u.setModified(p,r,f,a)}},u.add=function(n,r){var f=[].concat(r);m.trigger(n,"beforeAdd",{object:r});for(var a=0;a<f.length;a++){var v=f[a];switch(v.type){case"body":if(v.parent!==v){d.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}u.addBody(n,v);break;case"constraint":u.addConstraint(n,v);break;case"composite":u.addComposite(n,v);break;case"mouseConstraint":u.addConstraint(n,v.constraint);break}}return m.trigger(n,"afterAdd",{object:r}),n},u.remove=function(n,r,f){var a=[].concat(r);m.trigger(n,"beforeRemove",{object:r});for(var v=0;v<a.length;v++){var p=a[v];switch(p.type){case"body":u.removeBody(n,p,f);break;case"constraint":u.removeConstraint(n,p,f);break;case"composite":u.removeComposite(n,p,f);break;case"mouseConstraint":u.removeConstraint(n,p.constraint);break}}return m.trigger(n,"afterRemove",{object:r}),n},u.addComposite=function(n,r){return n.composites.push(r),r.parent=n,u.setModified(n,!0,!0,!1),n},u.removeComposite=function(n,r,f){var a=d.indexOf(n.composites,r);if(a!==-1&&u.removeCompositeAt(n,a),f)for(var v=0;v<n.composites.length;v++)u.removeComposite(n.composites[v],r,!0);return n},u.removeCompositeAt=function(n,r){return n.composites.splice(r,1),u.setModified(n,!0,!0,!1),n},u.addBody=function(n,r){return n.bodies.push(r),u.setModified(n,!0,!0,!1),n},u.removeBody=function(n,r,f){var a=d.indexOf(n.bodies,r);if(a!==-1&&u.removeBodyAt(n,a),f)for(var v=0;v<n.composites.length;v++)u.removeBody(n.composites[v],r,!0);return n},u.removeBodyAt=function(n,r){return n.bodies.splice(r,1),u.setModified(n,!0,!0,!1),n},u.addConstraint=function(n,r){return n.constraints.push(r),u.setModified(n,!0,!0,!1),n},u.removeConstraint=function(n,r,f){var a=d.indexOf(n.constraints,r);if(a!==-1&&u.removeConstraintAt(n,a),f)for(var v=0;v<n.composites.length;v++)u.removeConstraint(n.composites[v],r,!0);return n},u.removeConstraintAt=function(n,r){return n.constraints.splice(r,1),u.setModified(n,!0,!0,!1),n},u.clear=function(n,r,f){if(f)for(var a=0;a<n.composites.length;a++)u.clear(n.composites[a],r,!0);return r?n.bodies=n.bodies.filter(function(v){return v.isStatic}):n.bodies.length=0,n.constraints.length=0,n.composites.length=0,u.setModified(n,!0,!0,!1),n},u.allBodies=function(n){if(n.cache&&n.cache.allBodies)return n.cache.allBodies;for(var r=[].concat(n.bodies),f=0;f<n.composites.length;f++)r=r.concat(u.allBodies(n.composites[f]));return n.cache&&(n.cache.allBodies=r),r},u.allConstraints=function(n){if(n.cache&&n.cache.allConstraints)return n.cache.allConstraints;for(var r=[].concat(n.constraints),f=0;f<n.composites.length;f++)r=r.concat(u.allConstraints(n.composites[f]));return n.cache&&(n.cache.allConstraints=r),r},u.allComposites=function(n){if(n.cache&&n.cache.allComposites)return n.cache.allComposites;for(var r=[].concat(n.composites),f=0;f<n.composites.length;f++)r=r.concat(u.allComposites(n.composites[f]));return n.cache&&(n.cache.allComposites=r),r},u.get=function(n,r,f){var a,v;switch(f){case"body":a=u.allBodies(n);break;case"constraint":a=u.allConstraints(n);break;case"composite":a=u.allComposites(n).concat(n);break}return a?(v=a.filter(function(p){return p.id.toString()===r.toString()}),v.length===0?null:v[0]):null},u.move=function(n,r,f){return u.remove(n,r),u.add(f,r),n},u.rebase=function(n){for(var r=u.allBodies(n).concat(u.allConstraints(n)).concat(u.allComposites(n)),f=0;f<r.length;f++)r[f].id=d.nextId();return n},u.translate=function(n,r,f){for(var a=f?u.allBodies(n):n.bodies,v=0;v<a.length;v++)h.translate(a[v],r);return n},u.rotate=function(n,r,f,a){for(var v=Math.cos(r),p=Math.sin(r),c=a?u.allBodies(n):n.bodies,g=0;g<c.length;g++){var y=c[g],S=y.position.x-f.x,P=y.position.y-f.y;h.setPosition(y,{x:f.x+(S*v-P*p),y:f.y+(S*p+P*v)}),h.rotate(y,r)}return n},u.scale=function(n,r,f,a,v){for(var p=v?u.allBodies(n):n.bodies,c=0;c<p.length;c++){var g=p[c],y=g.position.x-a.x,S=g.position.y-a.y;h.setPosition(g,{x:a.x+y*r,y:a.y+S*f}),h.scale(g,r,f)}return n},u.bounds=function(n){for(var r=u.allBodies(n),f=[],a=0;a<r.length;a+=1){var v=r[a];f.push(v.bounds.min,v.bounds.max)}return o.create(f)}})()},72005:(l,T,e)=>{var u={};l.exports=u;var m=e(11299);(function(){u.create=m.create,u.add=m.add,u.remove=m.remove,u.clear=m.clear,u.addComposite=m.addComposite,u.addBody=m.addBody,u.addConstraint=m.addConstraint})()},63454:(l,T,e)=>{var u={};l.exports=u;var m=e(39745),d=e(70584);(function(){var o=[],h={overlap:0,axis:null},n={overlap:0,axis:null};u.create=function(r,f){return{pair:null,collided:!1,bodyA:r,bodyB:f,parentA:r.parent,parentB:f.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},u.collides=function(r,f,a){if(u._overlapAxes(h,r.vertices,f.vertices,r.axes),h.overlap<=0||(u._overlapAxes(n,f.vertices,r.vertices,f.axes),n.overlap<=0))return null;var v=a&&a.table[d.id(r,f)],p;v?p=v.collision:(p=u.create(r,f),p.collided=!0,p.bodyA=r.id<f.id?r:f,p.bodyB=r.id<f.id?f:r,p.parentA=p.bodyA.parent,p.parentB=p.bodyB.parent),r=p.bodyA,f=p.bodyB;var c;h.overlap<n.overlap?c=h:c=n;var g=p.normal,y=p.supports,S=c.axis,P=S.x,C=S.y;P*(f.position.x-r.position.x)+C*(f.position.y-r.position.y)<0?(g.x=P,g.y=C):(g.x=-P,g.y=-C),p.tangent.x=-g.y,p.tangent.y=g.x,p.depth=c.overlap,p.penetration.x=g.x*p.depth,p.penetration.y=g.y*p.depth;var M=u._findSupports(r,f,g,1),R=0;if(m.contains(r.vertices,M[0])&&(y[R++]=M[0]),m.contains(r.vertices,M[1])&&(y[R++]=M[1]),R<2){var w=u._findSupports(f,r,g,-1);m.contains(f.vertices,w[0])&&(y[R++]=w[0]),R<2&&m.contains(f.vertices,w[1])&&(y[R++]=w[1])}return R===0&&(y[R++]=M[0]),y.length=R,p},u._overlapAxes=function(r,f,a,v){var p=f.length,c=a.length,g=f[0].x,y=f[0].y,S=a[0].x,P=a[0].y,C=v.length,M=Number.MAX_VALUE,R=0,w,O,F,L,b,B;for(b=0;b<C;b++){var I=v[b],z=I.x,Y=I.y,W=g*z+y*Y,H=S*z+P*Y,N=W,X=H;for(B=1;B<p;B+=1)L=f[B].x*z+f[B].y*Y,L>N?N=L:L<W&&(W=L);for(B=1;B<c;B+=1)L=a[B].x*z+a[B].y*Y,L>X?X=L:L<H&&(H=L);if(O=N-H,F=X-W,w=O<F?O:F,w<M&&(M=w,R=b,w<=0))break}r.axis=v[R],r.overlap=M},u._projectToAxis=function(r,f,a){for(var v=f[0].x*a.x+f[0].y*a.y,p=v,c=1;c<f.length;c+=1){var g=f[c].x*a.x+f[c].y*a.y;g>p?p=g:g<v&&(v=g)}r.min=v,r.max=p},u._findSupports=function(r,f,a,v){var p=f.vertices,c=p.length,g=r.position.x,y=r.position.y,S=a.x*v,P=a.y*v,C=Number.MAX_VALUE,M,R,w,O,F;for(F=0;F<c;F+=1)R=p[F],O=S*(g-R.x)+P*(y-R.y),O<C&&(C=O,M=R);return w=p[(c+M.index-1)%c],C=S*(g-w.x)+P*(y-w.y),R=p[(M.index+1)%c],S*(g-R.x)+P*(y-R.y)<C?(o[0]=M,o[1]=R,o):(o[0]=M,o[1]=w,o)}})()},17319:l=>{var T={};l.exports=T,function(){T.create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}}()},13657:(l,T,e)=>{var u={};l.exports=u;var m=e(68758),d=e(63454);(function(){u.create=function(o){var h={bodies:[],pairs:null};return m.extend(h,o)},u.setBodies=function(o,h){o.bodies=h.slice(0)},u.clear=function(o){o.bodies=[]},u.collisions=function(o){var h=[],n=o.pairs,r=o.bodies,f=r.length,a=u.canCollide,v=d.collides,p,c;for(r.sort(u._compareBoundsX),p=0;p<f;p++){var g=r[p],y=g.bounds,S=g.bounds.max.x,P=g.bounds.max.y,C=g.bounds.min.y,M=g.isStatic||g.isSleeping,R=g.parts.length,w=R===1;for(c=p+1;c<f;c++){var O=r[c],F=O.bounds;if(F.min.x>S)break;if(!(P<F.min.y||C>F.max.y)&&!(M&&(O.isStatic||O.isSleeping))&&a(g.collisionFilter,O.collisionFilter)){var L=O.parts.length;if(w&&L===1){var b=v(g,O,n);b&&h.push(b)}else for(var B=R>1?1:0,I=L>1?1:0,z=B;z<R;z++)for(var Y=g.parts[z],y=Y.bounds,W=I;W<L;W++){var H=O.parts[W],F=H.bounds;if(!(y.min.x>F.max.x||y.max.x<F.min.x||y.max.y<F.min.y||y.min.y>F.max.y)){var b=v(Y,H,n);b&&h.push(b)}}}}}return h},u.canCollide=function(o,h){return o.group===h.group&&o.group!==0?o.group>0:(o.mask&h.category)!==0&&(h.mask&o.category)!==0},u._compareBoundsX=function(o,h){return o.bounds.min.x-h.bounds.min.x}})()},70584:(l,T,e)=>{var u={};l.exports=u;var m=e(17319);(function(){u.create=function(d,o){var h=d.bodyA,n=d.bodyB,r={id:u.id(h,n),bodyA:h,bodyB:n,collision:d,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:h.isSensor||n.isSensor,timeCreated:o,timeUpdated:o,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return u.update(r,d,o),r},u.update=function(d,o,h){var n=d.contacts,r=o.supports,f=d.activeContacts,a=o.parentA,v=o.parentB,p=a.vertices.length;d.isActive=!0,d.timeUpdated=h,d.collision=o,d.separation=o.depth,d.inverseMass=a.inverseMass+v.inverseMass,d.friction=a.friction<v.friction?a.friction:v.friction,d.frictionStatic=a.frictionStatic>v.frictionStatic?a.frictionStatic:v.frictionStatic,d.restitution=a.restitution>v.restitution?a.restitution:v.restitution,d.slop=a.slop>v.slop?a.slop:v.slop,o.pair=d,f.length=0;for(var c=0;c<r.length;c++){var g=r[c],y=g.body===a?g.index:p+g.index,S=n[y];S?f.push(S):f.push(n[y]=m.create(g))}},u.setActive=function(d,o,h){o?(d.isActive=!0,d.timeUpdated=h):(d.isActive=!1,d.activeContacts.length=0)},u.id=function(d,o){return d.id<o.id?"A"+d.id+"B"+o.id:"A"+o.id+"B"+d.id}})()},91327:(l,T,e)=>{var u={};l.exports=u;var m=e(70584),d=e(68758);(function(){u.create=function(o){return d.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},o)},u.update=function(o,h,n){var r=o.list,f=r.length,a=o.table,v=h.length,p=o.collisionStart,c=o.collisionEnd,g=o.collisionActive,y,S,P,C;for(p.length=0,c.length=0,g.length=0,C=0;C<f;C++)r[C].confirmedActive=!1;for(C=0;C<v;C++)y=h[C],P=y.pair,P?(P.isActive?g.push(P):p.push(P),m.update(P,y,n),P.confirmedActive=!0):(P=m.create(y,n),a[P.id]=P,p.push(P),r.push(P));var M=[];for(f=r.length,C=0;C<f;C++)P=r[C],P.confirmedActive||(m.setActive(P,!1,n),c.push(P),!P.collision.bodyA.isSleeping&&!P.collision.bodyB.isSleeping&&M.push(C));for(C=0;C<M.length;C++)S=M[C]-C,P=r[S],r.splice(S,1),delete a[P.id]},u.clear=function(o){return o.table={},o.list.length=0,o.collisionStart.length=0,o.collisionActive.length=0,o.collisionEnd.length=0,o}})()},13390:(l,T,e)=>{var u={};l.exports=u;var m=e(10438),d=e(63454),o=e(84091),h=e(68516),n=e(39745);(function(){u.collides=function(r,f){for(var a=[],v=f.length,p=r.bounds,c=d.collides,g=o.overlaps,y=0;y<v;y++){var S=f[y],P=S.parts.length,C=P===1?0:1;if(r!==S&&g(S.bounds,p))for(var M=C;M<P;M++){var R=S.parts[M];if(g(R.bounds,p)){var w=c(R,r);if(w){a.push(w);break}}}}return a},u.ray=function(r,f,a,v){v=v||1e-100;for(var p=m.angle(f,a),c=m.magnitude(m.sub(f,a)),g=(a.x+f.x)*.5,y=(a.y+f.y)*.5,S=h.rectangle(g,y,c,v,{angle:p}),P=u.collides(S,r),C=0;C<P.length;C+=1){var M=P[C];M.body=M.bodyB=M.bodyA}return P},u.region=function(r,f,a){for(var v=[],p=0;p<r.length;p++){var c=r[p],g=o.overlaps(c.bounds,f);(g&&!a||!g&&a)&&v.push(c)}return v},u.point=function(r,f){for(var a=[],v=0;v<r.length;v++){var p=r[v];if(o.contains(p.bounds,f))for(var c=p.parts.length===1?0:1;c<p.parts.length;c++){var g=p.parts[c];if(o.contains(g.bounds,f)&&n.contains(g.vertices,f)){a.push(p);break}}}return a}})()},44272:(l,T,e)=>{var u={};l.exports=u;var m=e(39745),d=e(68758),o=e(84091);(function(){u._restingThresh=2,u._restingThreshTangent=Math.sqrt(6),u._positionDampen=.9,u._positionWarming=.8,u._frictionNormalMultiplier=5,u._frictionMaxStatic=Number.MAX_VALUE,u.preSolvePosition=function(h){var n,r,f,a=h.length;for(n=0;n<a;n++)r=h[n],r.isActive&&(f=r.activeContacts.length,r.collision.parentA.totalContacts+=f,r.collision.parentB.totalContacts+=f)},u.solvePosition=function(h,n,r){var f,a,v,p,c,g,y,S,P=u._positionDampen*(r||1),C=d.clamp(n/d._baseDelta,0,1),M=h.length;for(f=0;f<M;f++)a=h[f],!(!a.isActive||a.isSensor)&&(v=a.collision,p=v.parentA,c=v.parentB,g=v.normal,a.separation=g.x*(c.positionImpulse.x+v.penetration.x-p.positionImpulse.x)+g.y*(c.positionImpulse.y+v.penetration.y-p.positionImpulse.y));for(f=0;f<M;f++)a=h[f],!(!a.isActive||a.isSensor)&&(v=a.collision,p=v.parentA,c=v.parentB,g=v.normal,S=a.separation-a.slop*C,(p.isStatic||c.isStatic)&&(S*=2),p.isStatic||p.isSleeping||(y=P/p.totalContacts,p.positionImpulse.x+=g.x*S*y,p.positionImpulse.y+=g.y*S*y),c.isStatic||c.isSleeping||(y=P/c.totalContacts,c.positionImpulse.x-=g.x*S*y,c.positionImpulse.y-=g.y*S*y))},u.postSolvePosition=function(h){for(var n=u._positionWarming,r=h.length,f=m.translate,a=o.update,v=0;v<r;v++){var p=h[v],c=p.positionImpulse,g=c.x,y=c.y,S=p.velocity;if(p.totalContacts=0,g!==0||y!==0){for(var P=0;P<p.parts.length;P++){var C=p.parts[P];f(C.vertices,c),a(C.bounds,C.vertices,S),C.position.x+=g,C.position.y+=y}p.positionPrev.x+=g,p.positionPrev.y+=y,g*S.x+y*S.y<0?(c.x=0,c.y=0):(c.x*=n,c.y*=n)}}},u.preSolveVelocity=function(h){var n=h.length,r,f;for(r=0;r<n;r++){var a=h[r];if(!(!a.isActive||a.isSensor)){var v=a.activeContacts,p=v.length,c=a.collision,g=c.parentA,y=c.parentB,S=c.normal,P=c.tangent;for(f=0;f<p;f++){var C=v[f],M=C.vertex,R=C.normalImpulse,w=C.tangentImpulse;if(R!==0||w!==0){var O=S.x*R+P.x*w,F=S.y*R+P.y*w;g.isStatic||g.isSleeping||(g.positionPrev.x+=O*g.inverseMass,g.positionPrev.y+=F*g.inverseMass,g.anglePrev+=g.inverseInertia*((M.x-g.position.x)*F-(M.y-g.position.y)*O)),y.isStatic||y.isSleeping||(y.positionPrev.x-=O*y.inverseMass,y.positionPrev.y-=F*y.inverseMass,y.anglePrev-=y.inverseInertia*((M.x-y.position.x)*F-(M.y-y.position.y)*O))}}}}},u.solveVelocity=function(h,n){var r=n/d._baseDelta,f=r*r,a=f*r,v=-u._restingThresh*r,p=u._restingThreshTangent,c=u._frictionNormalMultiplier*r,g=u._frictionMaxStatic,y=h.length,S,P,C,M;for(C=0;C<y;C++){var R=h[C];if(!(!R.isActive||R.isSensor)){var w=R.collision,O=w.parentA,F=w.parentB,L=O.velocity,b=F.velocity,B=w.normal.x,I=w.normal.y,z=w.tangent.x,Y=w.tangent.y,W=R.activeContacts,H=W.length,N=1/H,X=O.inverseMass+F.inverseMass,D=R.friction*R.frictionStatic*c;for(L.x=O.position.x-O.positionPrev.x,L.y=O.position.y-O.positionPrev.y,b.x=F.position.x-F.positionPrev.x,b.y=F.position.y-F.positionPrev.y,O.angularVelocity=O.angle-O.anglePrev,F.angularVelocity=F.angle-F.anglePrev,M=0;M<H;M++){var G=W[M],V=G.vertex,U=V.x-O.position.x,k=V.y-O.position.y,$=V.x-F.position.x,K=V.y-F.position.y,J=L.x-k*O.angularVelocity,Q=L.y+U*O.angularVelocity,q=b.x-K*F.angularVelocity,_=b.y+$*F.angularVelocity,et=J-q,tt=Q-_,rt=B*et+I*tt,lt=z*et+Y*tt,dt=R.separation+rt,ut=Math.min(dt,1);ut=dt<0?0:ut;var st=ut*D;lt<-st||lt>st?(P=lt>0?lt:-lt,S=R.friction*(lt>0?1:-1)*a,S<-P?S=-P:S>P&&(S=P)):(S=lt,P=g);var ot=U*I-k*B,ht=$*I-K*B,xt=N/(X+O.inverseInertia*ot*ot+F.inverseInertia*ht*ht),mt=(1+R.restitution)*rt*xt;if(S*=xt,rt<v)G.normalImpulse=0;else{var Gt=G.normalImpulse;G.normalImpulse+=mt,G.normalImpulse>0&&(G.normalImpulse=0),mt=G.normalImpulse-Gt}if(lt<-p||lt>p)G.tangentImpulse=0;else{var wt=G.tangentImpulse;G.tangentImpulse+=S,G.tangentImpulse<-P&&(G.tangentImpulse=-P),G.tangentImpulse>P&&(G.tangentImpulse=P),S=G.tangentImpulse-wt}var Pt=B*mt+z*S,gt=I*mt+Y*S;O.isStatic||O.isSleeping||(O.positionPrev.x+=Pt*O.inverseMass,O.positionPrev.y+=gt*O.inverseMass,O.anglePrev+=(U*gt-k*Pt)*O.inverseInertia),F.isStatic||F.isSleeping||(F.positionPrev.x-=Pt*F.inverseMass,F.positionPrev.y-=gt*F.inverseMass,F.anglePrev-=($*gt-K*Pt)*F.inverseInertia)}}}}})()},52838:(l,T,e)=>{var u={};l.exports=u;var m=e(39745),d=e(10438),o=e(22806),h=e(84091),n=e(50658),r=e(68758);(function(){u._warming=.4,u._torqueDampen=1,u._minLength=1e-6,u.create=function(f){var a=f;a.bodyA&&!a.pointA&&(a.pointA={x:0,y:0}),a.bodyB&&!a.pointB&&(a.pointB={x:0,y:0});var v=a.bodyA?d.add(a.bodyA.position,a.pointA):a.pointA,p=a.bodyB?d.add(a.bodyB.position,a.pointB):a.pointB,c=d.magnitude(d.sub(v,p));a.length=typeof a.length<"u"?a.length:c,a.id=a.id||r.nextId(),a.label=a.label||"Constraint",a.type="constraint",a.stiffness=a.stiffness||(a.length>0?1:.7),a.damping=a.damping||0,a.angularStiffness=a.angularStiffness||0,a.angleA=a.bodyA?a.bodyA.angle:a.angleA,a.angleB=a.bodyB?a.bodyB.angle:a.angleB,a.plugin={};var g={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return a.length===0&&a.stiffness>.1?(g.type="pin",g.anchors=!1):a.stiffness<.9&&(g.type="spring"),a.render=r.extend(g,a.render),a},u.preSolveAll=function(f){for(var a=0;a<f.length;a+=1){var v=f[a],p=v.constraintImpulse;v.isStatic||p.x===0&&p.y===0&&p.angle===0||(v.position.x+=p.x,v.position.y+=p.y,v.angle+=p.angle)}},u.solveAll=function(f,a){for(var v=r.clamp(a/r._baseDelta,0,1),p=0;p<f.length;p+=1){var c=f[p],g=!c.bodyA||c.bodyA&&c.bodyA.isStatic,y=!c.bodyB||c.bodyB&&c.bodyB.isStatic;(g||y)&&u.solve(f[p],v)}for(p=0;p<f.length;p+=1)c=f[p],g=!c.bodyA||c.bodyA&&c.bodyA.isStatic,y=!c.bodyB||c.bodyB&&c.bodyB.isStatic,!g&&!y&&u.solve(f[p],v)},u.solve=function(f,a){var v=f.bodyA,p=f.bodyB,c=f.pointA,g=f.pointB;if(!(!v&&!p)){v&&!v.isStatic&&(d.rotate(c,v.angle-f.angleA,c),f.angleA=v.angle),p&&!p.isStatic&&(d.rotate(g,p.angle-f.angleB,g),f.angleB=p.angle);var y=c,S=g;if(v&&(y=d.add(v.position,c)),p&&(S=d.add(p.position,g)),!(!y||!S)){var P=d.sub(y,S),C=d.magnitude(P);C<u._minLength&&(C=u._minLength);var M=(C-f.length)/C,R=f.stiffness>=1||f.length===0,w=R?f.stiffness*a:f.stiffness*a*a,O=f.damping*a,F=d.mult(P,M*w),L=(v?v.inverseMass:0)+(p?p.inverseMass:0),b=(v?v.inverseInertia:0)+(p?p.inverseInertia:0),B=L+b,I,z,Y,W,H;if(O>0){var N=d.create();Y=d.div(P,C),H=d.sub(p&&d.sub(p.position,p.positionPrev)||N,v&&d.sub(v.position,v.positionPrev)||N),W=d.dot(Y,H)}v&&!v.isStatic&&(z=v.inverseMass/L,v.constraintImpulse.x-=F.x*z,v.constraintImpulse.y-=F.y*z,v.position.x-=F.x*z,v.position.y-=F.y*z,O>0&&(v.positionPrev.x-=O*Y.x*W*z,v.positionPrev.y-=O*Y.y*W*z),I=d.cross(c,F)/B*u._torqueDampen*v.inverseInertia*(1-f.angularStiffness),v.constraintImpulse.angle-=I,v.angle-=I),p&&!p.isStatic&&(z=p.inverseMass/L,p.constraintImpulse.x+=F.x*z,p.constraintImpulse.y+=F.y*z,p.position.x+=F.x*z,p.position.y+=F.y*z,O>0&&(p.positionPrev.x+=O*Y.x*W*z,p.positionPrev.y+=O*Y.y*W*z),I=d.cross(g,F)/B*u._torqueDampen*p.inverseInertia*(1-f.angularStiffness),p.constraintImpulse.angle+=I,p.angle+=I)}}},u.postSolveAll=function(f){for(var a=0;a<f.length;a++){var v=f[a],p=v.constraintImpulse;if(!(v.isStatic||p.x===0&&p.y===0&&p.angle===0)){o.set(v,!1);for(var c=0;c<v.parts.length;c++){var g=v.parts[c];m.translate(g.vertices,p),c>0&&(g.position.x+=p.x,g.position.y+=p.y),p.angle!==0&&(m.rotate(g.vertices,p.angle,v.position),n.rotate(g.axes,p.angle),c>0&&d.rotateAbout(g.position,p.angle,v.position,g.position)),h.update(g.bounds,g.vertices,v.velocity)}p.angle*=u._warming,p.x*=u._warming,p.y*=u._warming}}},u.pointAWorld=function(f){return{x:(f.bodyA?f.bodyA.position.x:0)+(f.pointA?f.pointA.x:0),y:(f.bodyA?f.bodyA.position.y:0)+(f.pointA?f.pointA.y:0)}},u.pointBWorld=function(f){return{x:(f.bodyB?f.bodyB.position.x:0)+(f.pointB?f.pointB.x:0),y:(f.bodyB?f.bodyB.position.y:0)+(f.pointB?f.pointB.y:0)}},u.currentLength=function(f){var a=(f.bodyA?f.bodyA.position.x:0)+(f.pointA?f.pointA.x:0),v=(f.bodyA?f.bodyA.position.y:0)+(f.pointA?f.pointA.y:0),p=(f.bodyB?f.bodyB.position.x:0)+(f.pointB?f.pointB.x:0),c=(f.bodyB?f.bodyB.position.y:0)+(f.pointB?f.pointB.y:0),g=a-p,y=v-c;return Math.sqrt(g*g+y*y)}})()},68758:(l,T,e)=>{var u={};l.exports=u,function(){u._baseDelta=16.666666666666668,u._nextId=0,u._seed=0,u._nowStartTime=+new Date,u._warnedOnce={},u._decomp=null,u.extend=function(d,o){var h,n;typeof o=="boolean"?(h=2,n=o):(h=1,n=!0);for(var r=h;r<arguments.length;r++){var f=arguments[r];if(f)for(var a in f)n&&f[a]&&f[a].constructor===Object&&(!d[a]||d[a].constructor===Object)?(d[a]=d[a]||{},u.extend(d[a],n,f[a])):d[a]=f[a]}return d},u.clone=function(d,o){return u.extend({},o,d)},u.keys=function(d){if(Object.keys)return Object.keys(d);var o=[];for(var h in d)o.push(h);return o},u.values=function(d){var o=[];if(Object.keys){for(var h=Object.keys(d),n=0;n<h.length;n++)o.push(d[h[n]]);return o}for(var r in d)o.push(d[r]);return o},u.get=function(d,o,h,n){o=o.split(".").slice(h,n);for(var r=0;r<o.length;r+=1)d=d[o[r]];return d},u.set=function(d,o,h,n,r){var f=o.split(".").slice(n,r);return u.get(d,o,0,-1)[f[f.length-1]]=h,h},u.shuffle=function(d){for(var o=d.length-1;o>0;o--){var h=Math.floor(u.random()*(o+1)),n=d[o];d[o]=d[h],d[h]=n}return d},u.choose=function(d){return d[Math.floor(u.random()*d.length)]},u.isElement=function(d){return typeof HTMLElement<"u"?d instanceof HTMLElement:!!(d&&d.nodeType&&d.nodeName)},u.isArray=function(d){return Object.prototype.toString.call(d)==="[object Array]"},u.isFunction=function(d){return typeof d=="function"},u.isPlainObject=function(d){return typeof d=="object"&&d.constructor===Object},u.isString=function(d){return toString.call(d)==="[object String]"},u.clamp=function(d,o,h){return d<o?o:d>h?h:d},u.sign=function(d){return d<0?-1:1},u.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-u._nowStartTime},u.random=function(d,o){return d=typeof d<"u"?d:0,o=typeof o<"u"?o:1,d+m()*(o-d)};var m=function(){return u._seed=(u._seed*9301+49297)%233280,u._seed/233280};u.colorToNumber=function(d){return d=d.replace("#",""),d.length==3&&(d=d.charAt(0)+d.charAt(0)+d.charAt(1)+d.charAt(1)+d.charAt(2)+d.charAt(2)),parseInt(d,16)},u.logLevel=1,u.log=function(){console&&u.logLevel>0&&u.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.info=function(){console&&u.logLevel>0&&u.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.warn=function(){console&&u.logLevel>0&&u.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.warnOnce=function(){var d=Array.prototype.slice.call(arguments).join(" ");u._warnedOnce[d]||(u.warn(d),u._warnedOnce[d]=!0)},u.deprecated=function(d,o,h){d[o]=u.chain(function(){u.warnOnce("🔅 deprecated 🔅",h)},d[o])},u.nextId=function(){return u._nextId++},u.indexOf=function(d,o){if(d.indexOf)return d.indexOf(o);for(var h=0;h<d.length;h++)if(d[h]===o)return h;return-1},u.map=function(d,o){if(d.map)return d.map(o);for(var h=[],n=0;n<d.length;n+=1)h.push(o(d[n]));return h},u.topologicalSort=function(d){var o=[],h=[],n=[];for(var r in d)!h[r]&&!n[r]&&u._topologicalSort(r,h,n,d,o);return o},u._topologicalSort=function(d,o,h,n,r){var f=n[d]||[];h[d]=!0;for(var a=0;a<f.length;a+=1){var v=f[a];h[v]||o[v]||u._topologicalSort(v,o,h,n,r)}h[d]=!1,o[d]=!0,r.push(d)},u.chain=function(){for(var d=[],o=0;o<arguments.length;o+=1){var h=arguments[o];h._chained?d.push.apply(d,h._chained):d.push(h)}var n=function(){for(var r,f=new Array(arguments.length),a=0,v=arguments.length;a<v;a++)f[a]=arguments[a];for(a=0;a<d.length;a+=1){var p=d[a].apply(r,f);typeof p<"u"&&(r=p)}return r};return n._chained=d,n},u.chainPathBefore=function(d,o,h){return u.set(d,o,u.chain(h,u.get(d,o)))},u.chainPathAfter=function(d,o,h){return u.set(d,o,u.chain(u.get(d,o),h))},u.setDecomp=function(d){u._decomp=d},u.getDecomp=function(){var d=u._decomp;try{!d&&typeof window<"u"&&(d=window.decomp),!d&&typeof e.g<"u"&&(d=e.g.decomp)}catch{d=null}return d}}()},45775:(l,T,e)=>{var u={};l.exports=u;var m=e(22806),d=e(44272),o=e(13657),h=e(91327),n=e(39073),r=e(11299),f=e(52838),a=e(68758),v=e(84125);(function(){u.create=function(p){p=p||{};var c={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},g=a.extend(c,p);return g.world=p.world||r.create({label:"World"}),g.pairs=p.pairs||h.create(),g.detector=p.detector||o.create(),g.grid={buckets:[]},g.world.gravity=g.gravity,g.broadphase=g.grid,g.metrics={},g},u.update=function(p,c){var g=a.now(),y=p.world,S=p.detector,P=p.pairs,C=p.timing,M=C.timestamp,R;c=typeof c<"u"?c:a._baseDelta,c*=C.timeScale,C.timestamp+=c,C.lastDelta=c;var w={timestamp:C.timestamp,delta:c};n.trigger(p,"beforeUpdate",w);var O=r.allBodies(y),F=r.allConstraints(y);for(y.isModified&&(o.setBodies(S,O),r.setModified(y,!1,!1,!0)),p.enableSleeping&&m.update(O,c),u._bodiesApplyGravity(O,p.gravity),c>0&&u._bodiesUpdate(O,c),n.trigger(p,"beforeSolve",w),f.preSolveAll(O),R=0;R<p.constraintIterations;R++)f.solveAll(F,c);f.postSolveAll(O),S.pairs=p.pairs;var L=o.collisions(S);h.update(P,L,M),p.enableSleeping&&m.afterCollisions(P.list),P.collisionStart.length>0&&n.trigger(p,"collisionStart",{pairs:P.collisionStart,timestamp:C.timestamp,delta:c});var b=a.clamp(20/p.positionIterations,0,1);for(d.preSolvePosition(P.list),R=0;R<p.positionIterations;R++)d.solvePosition(P.list,c,b);for(d.postSolvePosition(O),f.preSolveAll(O),R=0;R<p.constraintIterations;R++)f.solveAll(F,c);for(f.postSolveAll(O),d.preSolveVelocity(P.list),R=0;R<p.velocityIterations;R++)d.solveVelocity(P.list,c);return u._bodiesUpdateVelocities(O),P.collisionActive.length>0&&n.trigger(p,"collisionActive",{pairs:P.collisionActive,timestamp:C.timestamp,delta:c}),P.collisionEnd.length>0&&n.trigger(p,"collisionEnd",{pairs:P.collisionEnd,timestamp:C.timestamp,delta:c}),u._bodiesClearForces(O),n.trigger(p,"afterUpdate",w),p.timing.lastElapsed=a.now()-g,p},u.merge=function(p,c){if(a.extend(p,c),c.world){p.world=c.world,u.clear(p);for(var g=r.allBodies(p.world),y=0;y<g.length;y++){var S=g[y];m.set(S,!1),S.id=a.nextId()}}},u.clear=function(p){h.clear(p.pairs),o.clear(p.detector)},u._bodiesClearForces=function(p){for(var c=p.length,g=0;g<c;g++){var y=p[g];y.force.x=0,y.force.y=0,y.torque=0}},u._bodiesApplyGravity=function(p,c){var g=typeof c.scale<"u"?c.scale:.001,y=p.length;if(!(c.x===0&&c.y===0||g===0))for(var S=0;S<y;S++){var P=p[S];P.isStatic||P.isSleeping||(P.force.y+=P.mass*c.y*g,P.force.x+=P.mass*c.x*g)}},u._bodiesUpdate=function(p,c){for(var g=p.length,y=0;y<g;y++){var S=p[y];S.isStatic||S.isSleeping||v.update(S,c)}},u._bodiesUpdateVelocities=function(p){for(var c=p.length,g=0;g<c;g++)v.updateVelocities(p[g])}})()},39073:(l,T,e)=>{var u={};l.exports=u;var m=e(68758);(function(){u.on=function(d,o,h){for(var n=o.split(" "),r,f=0;f<n.length;f++)r=n[f],d.events=d.events||{},d.events[r]=d.events[r]||[],d.events[r].push(h);return h},u.off=function(d,o,h){if(!o){d.events={};return}typeof o=="function"&&(h=o,o=m.keys(d.events).join(" "));for(var n=o.split(" "),r=0;r<n.length;r++){var f=d.events[n[r]],a=[];if(h&&f)for(var v=0;v<f.length;v++)f[v]!==h&&a.push(f[v]);d.events[n[r]]=a}},u.trigger=function(d,o,h){var n,r,f,a,v=d.events;if(v&&m.keys(v).length>0){h||(h={}),n=o.split(" ");for(var p=0;p<n.length;p++)if(r=n[p],f=v[r],f){a=m.clone(h,!1),a.name=r,a.source=d;for(var c=0;c<f.length;c++)f[c].apply(d,[a])}}}})()},16929:(l,T,e)=>{var u={};l.exports=u;var m=e(84474),d=e(68758);(function(){u.name="matter-js",u.version="0.19.0",u.uses=[],u.used=[],u.use=function(){m.use(u,Array.prototype.slice.call(arguments))},u.before=function(o,h){return o=o.replace(/^Matter./,""),d.chainPathBefore(u,o,h)},u.after=function(o,h){return o=o.replace(/^Matter./,""),d.chainPathAfter(u,o,h)}})()},84474:(l,T,e)=>{var u={};l.exports=u;var m=e(68758);(function(){u._registry={},u.register=function(d){if(u.isPlugin(d)||m.warn("Plugin.register:",u.toString(d),"does not implement all required fields."),d.name in u._registry){var o=u._registry[d.name],h=u.versionParse(d.version).number,n=u.versionParse(o.version).number;h>n?(m.warn("Plugin.register:",u.toString(o),"was upgraded to",u.toString(d)),u._registry[d.name]=d):h<n?m.warn("Plugin.register:",u.toString(o),"can not be downgraded to",u.toString(d)):d!==o&&m.warn("Plugin.register:",u.toString(d),"is already registered to different plugin object")}else u._registry[d.name]=d;return d},u.resolve=function(d){return u._registry[u.dependencyParse(d).name]},u.toString=function(d){return typeof d=="string"?d:(d.name||"anonymous")+"@"+(d.version||d.range||"0.0.0")},u.isPlugin=function(d){return d&&d.name&&d.version&&d.install},u.isUsed=function(d,o){return d.used.indexOf(o)>-1},u.isFor=function(d,o){var h=d.for&&u.dependencyParse(d.for);return!d.for||o.name===h.name&&u.versionSatisfies(o.version,h.range)},u.use=function(d,o){if(d.uses=(d.uses||[]).concat(o||[]),d.uses.length===0){m.warn("Plugin.use:",u.toString(d),"does not specify any dependencies to install.");return}for(var h=u.dependencies(d),n=m.topologicalSort(h),r=[],f=0;f<n.length;f+=1)if(n[f]!==d.name){var a=u.resolve(n[f]);if(!a){r.push("❌ "+n[f]);continue}u.isUsed(d,a.name)||(u.isFor(a,d)||(m.warn("Plugin.use:",u.toString(a),"is for",a.for,"but installed on",u.toString(d)+"."),a._warned=!0),a.install?a.install(d):(m.warn("Plugin.use:",u.toString(a),"does not specify an install function."),a._warned=!0),a._warned?(r.push("🔶 "+u.toString(a)),delete a._warned):r.push("✅ "+u.toString(a)),d.used.push(a.name))}r.length>0&&!a.silent&&m.info(r.join("  "))},u.dependencies=function(d,o){var h=u.dependencyParse(d),n=h.name;if(o=o||{},!(n in o)){d=u.resolve(d)||d,o[n]=m.map(d.uses||[],function(f){u.isPlugin(f)&&u.register(f);var a=u.dependencyParse(f),v=u.resolve(f);return v&&!u.versionSatisfies(v.version,a.range)?(m.warn("Plugin.dependencies:",u.toString(v),"does not satisfy",u.toString(a),"used by",u.toString(h)+"."),v._warned=!0,d._warned=!0):v||(m.warn("Plugin.dependencies:",u.toString(f),"used by",u.toString(h),"could not be resolved."),d._warned=!0),a.name});for(var r=0;r<o[n].length;r+=1)u.dependencies(o[n][r],o);return o}},u.dependencyParse=function(d){if(m.isString(d)){var o=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return o.test(d)||m.warn("Plugin.dependencyParse:",d,"is not a valid dependency string."),{name:d.split("@")[0],range:d.split("@")[1]||"*"}}return{name:d.name,range:d.range||d.version}},u.versionParse=function(d){var o=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;o.test(d)||m.warn("Plugin.versionParse:",d,"is not a valid version or range.");var h=o.exec(d),n=Number(h[4]),r=Number(h[5]),f=Number(h[6]);return{isRange:!!(h[1]||h[2]),version:h[3],range:d,operator:h[1]||h[2]||"",major:n,minor:r,patch:f,parts:[n,r,f],prerelease:h[7],number:n*1e8+r*1e4+f}},u.versionSatisfies=function(d,o){o=o||"*";var h=u.versionParse(o),n=u.versionParse(d);if(h.isRange){if(h.operator==="*"||d==="*")return!0;if(h.operator===">")return n.number>h.number;if(h.operator===">=")return n.number>=h.number;if(h.operator==="~")return n.major===h.major&&n.minor===h.minor&&n.patch>=h.patch;if(h.operator==="^")return h.major>0?n.major===h.major&&n.number>=h.number:h.minor>0?n.minor===h.minor&&n.patch>=h.patch:n.patch===h.patch}return d===o||d==="*"}})()},22806:(l,T,e)=>{var u={};l.exports=u;var m=e(84125),d=e(39073),o=e(68758);(function(){u._motionWakeThreshold=.18,u._motionSleepThreshold=.08,u._minBias=.9,u.update=function(h,n){for(var r=n/o._baseDelta,f=u._motionSleepThreshold,a=0;a<h.length;a++){var v=h[a],p=m.getSpeed(v),c=m.getAngularSpeed(v),g=p*p+c*c;if(v.force.x!==0||v.force.y!==0){u.set(v,!1);continue}var y=Math.min(v.motion,g),S=Math.max(v.motion,g);v.motion=u._minBias*y+(1-u._minBias)*S,v.sleepThreshold>0&&v.motion<f?(v.sleepCounter+=1,v.sleepCounter>=v.sleepThreshold/r&&u.set(v,!0)):v.sleepCounter>0&&(v.sleepCounter-=1)}},u.afterCollisions=function(h){for(var n=u._motionSleepThreshold,r=0;r<h.length;r++){var f=h[r];if(f.isActive){var a=f.collision,v=a.bodyA.parent,p=a.bodyB.parent;if(!(v.isSleeping&&p.isSleeping||v.isStatic||p.isStatic)&&(v.isSleeping||p.isSleeping)){var c=v.isSleeping&&!v.isStatic?v:p,g=c===v?p:v;!c.isStatic&&g.motion>n&&u.set(c,!1)}}}},u.set=function(h,n){var r=h.isSleeping;n?(h.isSleeping=!0,h.sleepCounter=h.sleepThreshold,h.positionImpulse.x=0,h.positionImpulse.y=0,h.positionPrev.x=h.position.x,h.positionPrev.y=h.position.y,h.anglePrev=h.angle,h.speed=0,h.angularSpeed=0,h.motion=0,r||d.trigger(h,"sleepStart")):(h.isSleeping=!1,h.sleepCounter=0,r&&d.trigger(h,"sleepEnd"))}})()},68516:(l,T,e)=>{var u={};l.exports=u;var m=e(39745),d=e(68758),o=e(84125),h=e(84091),n=e(10438);(function(){u.rectangle=function(r,f,a,v,p){p=p||{};var c={label:"Rectangle Body",position:{x:r,y:f},vertices:m.fromPath("L 0 0 L "+a+" 0 L "+a+" "+v+" L 0 "+v)};if(p.chamfer){var g=p.chamfer;c.vertices=m.chamfer(c.vertices,g.radius,g.quality,g.qualityMin,g.qualityMax),delete p.chamfer}return o.create(d.extend({},c,p))},u.trapezoid=function(r,f,a,v,p,c){c=c||{},p*=.5;var g=(1-p*2)*a,y=a*p,S=y+g,P=S+y,C;p<.5?C="L 0 0 L "+y+" "+-v+" L "+S+" "+-v+" L "+P+" 0":C="L 0 0 L "+S+" "+-v+" L "+P+" 0";var M={label:"Trapezoid Body",position:{x:r,y:f},vertices:m.fromPath(C)};if(c.chamfer){var R=c.chamfer;M.vertices=m.chamfer(M.vertices,R.radius,R.quality,R.qualityMin,R.qualityMax),delete c.chamfer}return o.create(d.extend({},M,c))},u.circle=function(r,f,a,v,p){v=v||{};var c={label:"Circle Body",circleRadius:a};p=p||25;var g=Math.ceil(Math.max(10,Math.min(p,a)));return g%2===1&&(g+=1),u.polygon(r,f,g,a,d.extend({},c,v))},u.polygon=function(r,f,a,v,p){if(p=p||{},a<3)return u.circle(r,f,v,p);for(var c=2*Math.PI/a,g="",y=c*.5,S=0;S<a;S+=1){var P=y+S*c,C=Math.cos(P)*v,M=Math.sin(P)*v;g+="L "+C.toFixed(3)+" "+M.toFixed(3)+" "}var R={label:"Polygon Body",position:{x:r,y:f},vertices:m.fromPath(g)};if(p.chamfer){var w=p.chamfer;R.vertices=m.chamfer(R.vertices,w.radius,w.quality,w.qualityMin,w.qualityMax),delete p.chamfer}return o.create(d.extend({},R,p))},u.fromVertices=function(r,f,a,v,p,c,g,y){var S=d.getDecomp(),P,C,M,R,w,O,F,L,b,B,I;for(P=!!(S&&S.quickDecomp),v=v||{},M=[],p=typeof p<"u"?p:!1,c=typeof c<"u"?c:.01,g=typeof g<"u"?g:10,y=typeof y<"u"?y:.01,d.isArray(a[0])||(a=[a]),B=0;B<a.length;B+=1)if(O=a[B],R=m.isConvex(O),w=!R,w&&!P&&d.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),R||!P)R?O=m.clockwiseSort(O):O=m.hull(O),M.push({position:{x:r,y:f},vertices:O});else{var z=O.map(function($){return[$.x,$.y]});S.makeCCW(z),c!==!1&&S.removeCollinearPoints(z,c),y!==!1&&S.removeDuplicatePoints&&S.removeDuplicatePoints(z,y);var Y=S.quickDecomp(z);for(F=0;F<Y.length;F++){var W=Y[F],H=W.map(function($){return{x:$[0],y:$[1]}});g>0&&m.area(H)<g||M.push({position:m.centre(H),vertices:H})}}for(F=0;F<M.length;F++)M[F]=o.create(d.extend(M[F],v));if(p){var N=5;for(F=0;F<M.length;F++){var X=M[F];for(L=F+1;L<M.length;L++){var D=M[L];if(h.overlaps(X.bounds,D.bounds)){var G=X.vertices,V=D.vertices;for(b=0;b<X.vertices.length;b++)for(I=0;I<D.vertices.length;I++){var U=n.magnitudeSquared(n.sub(G[(b+1)%G.length],V[I])),k=n.magnitudeSquared(n.sub(G[b],V[(I+1)%V.length]));U<N&&k<N&&(G[b].isInternal=!0,V[I].isInternal=!0)}}}}}return M.length>1?(C=o.create(d.extend({parts:M.slice(0)},v)),o.setPosition(C,{x:r,y:f}),C):M[0]},u.flagCoincidentParts=function(r,f){f===void 0&&(f=5);for(var a=0;a<r.length;a++)for(var v=r[a],p=a+1;p<r.length;p++){var c=r[p];if(h.overlaps(v.bounds,c.bounds))for(var g=v.vertices,y=c.vertices,S=0;S<v.vertices.length;S++)for(var P=0;P<c.vertices.length;P++){var C=n.magnitudeSquared(n.sub(g[(S+1)%g.length],y[P])),M=n.magnitudeSquared(n.sub(g[S],y[(P+1)%y.length]));C<f&&M<f&&(g[S].isInternal=!0,y[P].isInternal=!0)}}return r}})()},56643:(l,T,e)=>{var u={};l.exports=u;var m=e(11299),d=e(52838),o=e(68758),h=e(84125),n=e(68516);(function(){u.stack=function(r,f,a,v,p,c,g){for(var y=m.create({label:"Stack"}),S=r,P=f,C,M=0,R=0;R<v;R++){for(var w=0,O=0;O<a;O++){var F=g(S,P,O,R,C,M);if(F){var L=F.bounds.max.y-F.bounds.min.y,b=F.bounds.max.x-F.bounds.min.x;L>w&&(w=L),h.translate(F,{x:b*.5,y:L*.5}),S=F.bounds.max.x+p,m.addBody(y,F),C=F,M+=1}else S+=p}P+=w+c,S=r}return y},u.chain=function(r,f,a,v,p,c){for(var g=r.bodies,y=1;y<g.length;y++){var S=g[y-1],P=g[y],C=S.bounds.max.y-S.bounds.min.y,M=S.bounds.max.x-S.bounds.min.x,R=P.bounds.max.y-P.bounds.min.y,w=P.bounds.max.x-P.bounds.min.x,O={bodyA:S,pointA:{x:M*f,y:C*a},bodyB:P,pointB:{x:w*v,y:R*p}},F=o.extend(O,c);m.addConstraint(r,d.create(F))}return r.label+=" Chain",r},u.mesh=function(r,f,a,v,p){var c=r.bodies,g,y,S,P,C;for(g=0;g<a;g++){for(y=1;y<f;y++)S=c[y-1+g*f],P=c[y+g*f],m.addConstraint(r,d.create(o.extend({bodyA:S,bodyB:P},p)));if(g>0)for(y=0;y<f;y++)S=c[y+(g-1)*f],P=c[y+g*f],m.addConstraint(r,d.create(o.extend({bodyA:S,bodyB:P},p))),v&&y>0&&(C=c[y-1+(g-1)*f],m.addConstraint(r,d.create(o.extend({bodyA:C,bodyB:P},p)))),v&&y<f-1&&(C=c[y+1+(g-1)*f],m.addConstraint(r,d.create(o.extend({bodyA:C,bodyB:P},p))))}return r.label+=" Mesh",r},u.pyramid=function(r,f,a,v,p,c,g){return u.stack(r,f,a,v,p,c,function(y,S,P,C,M,R){var w=Math.min(v,Math.ceil(a/2)),O=M?M.bounds.max.x-M.bounds.min.x:0;if(!(C>w)){C=w-C;var F=C,L=a-1-C;if(!(P<F||P>L)){R===1&&h.translate(M,{x:(P+(a%2===1?1:-1))*O,y:0});var b=M?P*O:0;return g(r+b+P*p,S,P,C,M,R)}}})},u.newtonsCradle=function(r,f,a,v,p){for(var c=m.create({label:"Newtons Cradle"}),g=0;g<a;g++){var y=1.9,S=n.circle(r+g*(v*y),f+p,v,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),P=d.create({pointA:{x:r+g*(v*y),y:f},bodyB:S});m.addBody(c,S),m.addConstraint(c,P)}return c},u.car=function(r,f,a,v,p){var c=h.nextGroup(!0),g=20,y=-a*.5+g,S=a*.5-g,P=0,C=m.create({label:"Car"}),M=n.rectangle(r,f,a,v,{collisionFilter:{group:c},chamfer:{radius:v*.5},density:2e-4}),R=n.circle(r+y,f+P,p,{collisionFilter:{group:c},friction:.8}),w=n.circle(r+S,f+P,p,{collisionFilter:{group:c},friction:.8}),O=d.create({bodyB:M,pointB:{x:y,y:P},bodyA:R,stiffness:1,length:0}),F=d.create({bodyB:M,pointB:{x:S,y:P},bodyA:w,stiffness:1,length:0});return m.addBody(C,M),m.addBody(C,R),m.addBody(C,w),m.addConstraint(C,O),m.addConstraint(C,F),C},u.softBody=function(r,f,a,v,p,c,g,y,S,P){S=o.extend({inertia:1/0},S),P=o.extend({stiffness:.2,render:{type:"line",anchors:!1}},P);var C=u.stack(r,f,a,v,p,c,function(M,R){return n.circle(M,R,y,S)});return u.mesh(C,a,v,g,P),C.label="Soft Body",C}})()},50658:(l,T,e)=>{var u={};l.exports=u;var m=e(10438),d=e(68758);(function(){u.fromVertices=function(o){for(var h={},n=0;n<o.length;n++){var r=(n+1)%o.length,f=m.normalise({x:o[r].y-o[n].y,y:o[n].x-o[r].x}),a=f.y===0?1/0:f.x/f.y;a=a.toFixed(3).toString(),h[a]=f}return d.values(h)},u.rotate=function(o,h){if(h!==0)for(var n=Math.cos(h),r=Math.sin(h),f=0;f<o.length;f++){var a=o[f],v;v=a.x*n-a.y*r,a.y=a.x*r+a.y*n,a.x=v}}})()},84091:l=>{var T={};l.exports=T,function(){T.create=function(e){var u={min:{x:0,y:0},max:{x:0,y:0}};return e&&T.update(u,e),u},T.update=function(e,u,m){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var d=0;d<u.length;d++){var o=u[d];o.x>e.max.x&&(e.max.x=o.x),o.x<e.min.x&&(e.min.x=o.x),o.y>e.max.y&&(e.max.y=o.y),o.y<e.min.y&&(e.min.y=o.y)}m&&(m.x>0?e.max.x+=m.x:e.min.x+=m.x,m.y>0?e.max.y+=m.y:e.min.y+=m.y)},T.contains=function(e,u){return u.x>=e.min.x&&u.x<=e.max.x&&u.y>=e.min.y&&u.y<=e.max.y},T.overlaps=function(e,u){return e.min.x<=u.max.x&&e.max.x>=u.min.x&&e.max.y>=u.min.y&&e.min.y<=u.max.y},T.translate=function(e,u){e.min.x+=u.x,e.max.x+=u.x,e.min.y+=u.y,e.max.y+=u.y},T.shift=function(e,u){var m=e.max.x-e.min.x,d=e.max.y-e.min.y;e.min.x=u.x,e.max.x=u.x+m,e.min.y=u.y,e.max.y=u.y+d}}()},92765:(l,T,e)=>{var u={};l.exports=u,e(84091);var m=e(68758);(function(){u.pathToVertices=function(d,o){typeof window<"u"&&!("SVGPathSeg"in window)&&m.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var h,n,r,f,a,v,p,c,g,y,S=[],P,C,M=0,R=0,w=0;o=o||15;var O=function(L,b,B){var I=B%2===1&&B>1;if(!g||L!=g.x||b!=g.y){g&&I?(P=g.x,C=g.y):(P=0,C=0);var z={x:P+L,y:C+b};(I||!g)&&(g=z),S.push(z),R=P+L,w=C+b}},F=function(L){var b=L.pathSegTypeAsLetter.toUpperCase();if(b!=="Z"){switch(b){case"M":case"L":case"T":case"C":case"S":case"Q":R=L.x,w=L.y;break;case"H":R=L.x;break;case"V":w=L.y;break}O(R,w,L.pathSegType)}};for(u._svgPathToAbsolute(d),r=d.getTotalLength(),v=[],h=0;h<d.pathSegList.numberOfItems;h+=1)v.push(d.pathSegList.getItem(h));for(p=v.concat();M<r;){if(y=d.getPathSegAtLength(M),a=v[y],a!=c){for(;p.length&&p[0]!=a;)F(p.shift());c=a}switch(a.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":f=d.getPointAtLength(M),O(f.x,f.y,0);break}M+=o}for(h=0,n=p.length;h<n;++h)F(p[h]);return S},u._svgPathToAbsolute=function(d){for(var o,h,n,r,f,a,v=d.pathSegList,p=0,c=0,g=v.numberOfItems,y=0;y<g;++y){var S=v.getItem(y),P=S.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(P))"x"in S&&(p=S.x),"y"in S&&(c=S.y);else switch("x1"in S&&(n=p+S.x1),"x2"in S&&(f=p+S.x2),"y1"in S&&(r=c+S.y1),"y2"in S&&(a=c+S.y2),"x"in S&&(p+=S.x),"y"in S&&(c+=S.y),P){case"m":v.replaceItem(d.createSVGPathSegMovetoAbs(p,c),y);break;case"l":v.replaceItem(d.createSVGPathSegLinetoAbs(p,c),y);break;case"h":v.replaceItem(d.createSVGPathSegLinetoHorizontalAbs(p),y);break;case"v":v.replaceItem(d.createSVGPathSegLinetoVerticalAbs(c),y);break;case"c":v.replaceItem(d.createSVGPathSegCurvetoCubicAbs(p,c,n,r,f,a),y);break;case"s":v.replaceItem(d.createSVGPathSegCurvetoCubicSmoothAbs(p,c,f,a),y);break;case"q":v.replaceItem(d.createSVGPathSegCurvetoQuadraticAbs(p,c,n,r),y);break;case"t":v.replaceItem(d.createSVGPathSegCurvetoQuadraticSmoothAbs(p,c),y);break;case"a":v.replaceItem(d.createSVGPathSegArcAbs(p,c,S.r1,S.r2,S.angle,S.largeArcFlag,S.sweepFlag),y);break;case"z":case"Z":p=o,c=h;break}(P=="M"||P=="m")&&(o=p,h=c)}}})()},10438:l=>{var T={};l.exports=T,function(){T.create=function(e,u){return{x:e||0,y:u||0}},T.clone=function(e){return{x:e.x,y:e.y}},T.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},T.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},T.rotate=function(e,u,m){var d=Math.cos(u),o=Math.sin(u);m||(m={});var h=e.x*d-e.y*o;return m.y=e.x*o+e.y*d,m.x=h,m},T.rotateAbout=function(e,u,m,d){var o=Math.cos(u),h=Math.sin(u);d||(d={});var n=m.x+((e.x-m.x)*o-(e.y-m.y)*h);return d.y=m.y+((e.x-m.x)*h+(e.y-m.y)*o),d.x=n,d},T.normalise=function(e){var u=T.magnitude(e);return u===0?{x:0,y:0}:{x:e.x/u,y:e.y/u}},T.dot=function(e,u){return e.x*u.x+e.y*u.y},T.cross=function(e,u){return e.x*u.y-e.y*u.x},T.cross3=function(e,u,m){return(u.x-e.x)*(m.y-e.y)-(u.y-e.y)*(m.x-e.x)},T.add=function(e,u,m){return m||(m={}),m.x=e.x+u.x,m.y=e.y+u.y,m},T.sub=function(e,u,m){return m||(m={}),m.x=e.x-u.x,m.y=e.y-u.y,m},T.mult=function(e,u){return{x:e.x*u,y:e.y*u}},T.div=function(e,u){return{x:e.x/u,y:e.y/u}},T.perp=function(e,u){return u=u===!0?-1:1,{x:u*-e.y,y:u*e.x}},T.neg=function(e){return{x:-e.x,y:-e.y}},T.angle=function(e,u){return Math.atan2(u.y-e.y,u.x-e.x)},T._temp=[T.create(),T.create(),T.create(),T.create(),T.create(),T.create()]}()},39745:(l,T,e)=>{var u={};l.exports=u;var m=e(10438),d=e(68758);(function(){u.create=function(o,h){for(var n=[],r=0;r<o.length;r++){var f=o[r],a={x:f.x,y:f.y,index:r,body:h,isInternal:!1};n.push(a)}return n},u.fromPath=function(o,h){var n=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,r=[];return o.replace(n,function(f,a,v){r.push({x:parseFloat(a),y:parseFloat(v)})}),u.create(r,h)},u.centre=function(o){for(var h=u.area(o,!0),n={x:0,y:0},r,f,a,v=0;v<o.length;v++)a=(v+1)%o.length,r=m.cross(o[v],o[a]),f=m.mult(m.add(o[v],o[a]),r),n=m.add(n,f);return m.div(n,6*h)},u.mean=function(o){for(var h={x:0,y:0},n=0;n<o.length;n++)h.x+=o[n].x,h.y+=o[n].y;return m.div(h,o.length)},u.area=function(o,h){for(var n=0,r=o.length-1,f=0;f<o.length;f++)n+=(o[r].x-o[f].x)*(o[r].y+o[f].y),r=f;return h?n/2:Math.abs(n)/2},u.inertia=function(o,h){for(var n=0,r=0,f=o,a,v,p=0;p<f.length;p++)v=(p+1)%f.length,a=Math.abs(m.cross(f[v],f[p])),n+=a*(m.dot(f[v],f[v])+m.dot(f[v],f[p])+m.dot(f[p],f[p])),r+=a;return h/6*(n/r)},u.translate=function(o,h,n){n=typeof n<"u"?n:1;var r=o.length,f=h.x*n,a=h.y*n,v;for(v=0;v<r;v++)o[v].x+=f,o[v].y+=a;return o},u.rotate=function(o,h,n){if(h!==0){var r=Math.cos(h),f=Math.sin(h),a=n.x,v=n.y,p=o.length,c,g,y,S;for(S=0;S<p;S++)c=o[S],g=c.x-a,y=c.y-v,c.x=a+(g*r-y*f),c.y=v+(g*f+y*r);return o}},u.contains=function(o,h){for(var n=h.x,r=h.y,f=o.length,a=o[f-1],v,p=0;p<f;p++){if(v=o[p],(n-a.x)*(v.y-a.y)+(r-a.y)*(a.x-v.x)>0)return!1;a=v}return!0},u.scale=function(o,h,n,r){if(h===1&&n===1)return o;r=r||u.centre(o);for(var f,a,v=0;v<o.length;v++)f=o[v],a=m.sub(f,r),o[v].x=r.x+a.x*h,o[v].y=r.y+a.y*n;return o},u.chamfer=function(o,h,n,r,f){typeof h=="number"?h=[h]:h=h||[8],n=typeof n<"u"?n:-1,r=r||2,f=f||14;for(var a=[],v=0;v<o.length;v++){var p=o[v-1>=0?v-1:o.length-1],c=o[v],g=o[(v+1)%o.length],y=h[v<h.length?v:h.length-1];if(y===0){a.push(c);continue}var S=m.normalise({x:c.y-p.y,y:p.x-c.x}),P=m.normalise({x:g.y-c.y,y:c.x-g.x}),C=Math.sqrt(2*Math.pow(y,2)),M=m.mult(d.clone(S),y),R=m.normalise(m.mult(m.add(S,P),.5)),w=m.sub(c,m.mult(R,C)),O=n;n===-1&&(O=Math.pow(y,.32)*1.75),O=d.clamp(O,r,f),O%2===1&&(O+=1);for(var F=Math.acos(m.dot(S,P)),L=F/O,b=0;b<O;b++)a.push(m.add(m.rotate(M,L*b),w))}return a},u.clockwiseSort=function(o){var h=u.mean(o);return o.sort(function(n,r){return m.angle(h,n)-m.angle(h,r)}),o},u.isConvex=function(o){var h=0,n=o.length,r,f,a,v;if(n<3)return null;for(r=0;r<n;r++)if(f=(r+1)%n,a=(r+2)%n,v=(o[f].x-o[r].x)*(o[a].y-o[f].y),v-=(o[f].y-o[r].y)*(o[a].x-o[f].x),v<0?h|=1:v>0&&(h|=2),h===3)return!1;return h!==0?!0:null},u.hull=function(o){var h=[],n=[],r,f;for(o=o.slice(0),o.sort(function(a,v){var p=a.x-v.x;return p!==0?p:a.y-v.y}),f=0;f<o.length;f+=1){for(r=o[f];n.length>=2&&m.cross3(n[n.length-2],n[n.length-1],r)<=0;)n.pop();n.push(r)}for(f=o.length-1;f>=0;f-=1){for(r=o[f];h.length>=2&&m.cross3(h[h.length-2],h[h.length-1],r)<=0;)h.pop();h.push(r)}return h.pop(),n.pop(),h.concat(n)}})()},1675:(l,T,e)=>{var u=e(18171),m={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.19.0",silent:!0,install:function(d){d.after("Body.create",function(){m.Body.init(this)}),d.before("Engine.update",function(o){m.Engine.update(o)})},Body:{init:function(d){d.plugin.attractors=d.plugin.attractors||[]}},Engine:{update:function(d){for(var o=u.Composite.allBodies(d.world),h=0;h<o.length;h++){var n=o[h],r=n.plugin.attractors;if(r&&r.length>0)for(var f=0;f<o.length;f++){var a=o[f];if(h!==f)for(var v=0;v<r.length;v++){var p=r[v],c=p;u.Common.isFunction(p)&&(c=p(n,a)),c&&u.Body.applyForce(a,a.position,c)}}}}},Attractors:{gravityConstant:.001,gravity:function(d,o){var h=u.Vector.sub(o.position,d.position),n=u.Vector.magnitudeSquared(h)||1e-4,r=u.Vector.normalise(h),f=-m.Attractors.gravityConstant*(d.mass*o.mass/n),a=u.Vector.mult(r,f);u.Body.applyForce(d,d.position,u.Vector.neg(a)),u.Body.applyForce(o,o.position,a)}}};l.exports=m},80391:l=>{/**
 * @author       @dxu https://github.com/dxu/matter-collision-events
 * @author       Richard Davey <rich@photonstorm.com>
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.19.0",silent:!0,install:function(e){e.after("Engine.create",function(){e.Events.on(this,"collisionStart",function(u){u.pairs.map(function(m){var d=m.bodyA,o=m.bodyB;d.gameObject&&d.gameObject.emit("collide",d,o,m),o.gameObject&&o.gameObject.emit("collide",o,d,m),e.Events.trigger(d,"onCollide",{pair:m}),e.Events.trigger(o,"onCollide",{pair:m}),d.onCollideCallback&&d.onCollideCallback(m),o.onCollideCallback&&o.onCollideCallback(m),d.onCollideWith[o.id]&&d.onCollideWith[o.id](o,m),o.onCollideWith[d.id]&&o.onCollideWith[d.id](d,m)})}),e.Events.on(this,"collisionActive",function(u){u.pairs.map(function(m){var d=m.bodyA,o=m.bodyB;d.gameObject&&d.gameObject.emit("collideActive",d,o,m),o.gameObject&&o.gameObject.emit("collideActive",o,d,m),e.Events.trigger(d,"onCollideActive",{pair:m}),e.Events.trigger(o,"onCollideActive",{pair:m}),d.onCollideActiveCallback&&d.onCollideActiveCallback(m),o.onCollideActiveCallback&&o.onCollideActiveCallback(m)})}),e.Events.on(this,"collisionEnd",function(u){u.pairs.map(function(m){var d=m.bodyA,o=m.bodyB;d.gameObject&&d.gameObject.emit("collideEnd",d,o,m),o.gameObject&&o.gameObject.emit("collideEnd",o,d,m),e.Events.trigger(d,"onCollideEnd",{pair:m}),e.Events.trigger(o,"onCollideEnd",{pair:m}),d.onCollideEndCallback&&d.onCollideEndCallback(m),o.onCollideEndCallback&&o.onCollideEndCallback(m)})})})}};l.exports=T},44097:(l,T,e)=>{var u=e(18171),m={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.19.0",silent:!0,install:function(d){d.after("Engine.update",function(){m.Engine.update(this)})},Engine:{update:function(d){for(var o=d.world,h=u.Composite.allBodies(o),n=u.Composite.allComposites(o),r=0;r<h.length;r+=1){var f=h[r];f.plugin.wrap&&m.Body.wrap(f,f.plugin.wrap)}for(r=0;r<n.length;r+=1){var a=n[r];a.plugin.wrap&&m.Composite.wrap(a,a.plugin.wrap)}}},Bounds:{wrap:function(d,o){var h=null,n=null;if(typeof o.min.x<"u"&&typeof o.max.x<"u"&&(d.min.x>o.max.x?h=o.min.x-d.max.x:d.max.x<o.min.x&&(h=o.max.x-d.min.x)),typeof o.min.y<"u"&&typeof o.max.y<"u"&&(d.min.y>o.max.y?n=o.min.y-d.max.y:d.max.y<o.min.y&&(n=o.max.y-d.min.y)),h!==null||n!==null)return{x:h||0,y:n||0}}},Body:{wrap:function(d,o){var h=m.Bounds.wrap(d.bounds,o);return h&&u.Body.translate(d,h),h}},Composite:{bounds:function(d){for(var o=u.Composite.allBodies(d),h=[],n=0;n<o.length;n+=1){var r=o[n];h.push(r.bounds.min,r.bounds.max)}return u.Bounds.create(h)},wrap:function(d,o){var h=m.Bounds.wrap(m.Composite.bounds(d),o);return h&&u.Composite.translate(d,h),h}}};l.exports=m},81084:l=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={decomp:F,quickDecomp:I,isSimple:b,removeCollinearPoints:z,removeDuplicatePoints:Y,makeCCW:g};function T(N,X,D){D=D||0;var G=[0,0],V,U,k,$,K,J,Q;return V=N[1][1]-N[0][1],U=N[0][0]-N[1][0],k=V*N[0][0]+U*N[0][1],$=X[1][1]-X[0][1],K=X[0][0]-X[1][0],J=$*X[0][0]+K*X[0][1],Q=V*K-$*U,W(Q,0,D)||(G[0]=(K*k-U*J)/Q,G[1]=(V*J-$*k)/Q),G}function e(N,X,D,G){var V=X[0]-N[0],U=X[1]-N[1],k=G[0]-D[0],$=G[1]-D[1];if(k*U-$*V===0)return!1;var K=(V*(D[1]-N[1])+U*(N[0]-D[0]))/(k*U-$*V),J=(k*(N[1]-D[1])+$*(D[0]-N[0]))/($*V-k*U);return K>=0&&K<=1&&J>=0&&J<=1}function u(N,X,D){return(X[0]-N[0])*(D[1]-N[1])-(D[0]-N[0])*(X[1]-N[1])}function m(N,X,D){return u(N,X,D)>0}function d(N,X,D){return u(N,X,D)>=0}function o(N,X,D){return u(N,X,D)<0}function h(N,X,D){return u(N,X,D)<=0}var n=[],r=[];function f(N,X,D,G){if(G){var V=n,U=r;V[0]=X[0]-N[0],V[1]=X[1]-N[1],U[0]=D[0]-X[0],U[1]=D[1]-X[1];var k=V[0]*U[0]+V[1]*U[1],$=Math.sqrt(V[0]*V[0]+V[1]*V[1]),K=Math.sqrt(U[0]*U[0]+U[1]*U[1]),J=Math.acos(k/($*K));return J<G}else return u(N,X,D)===0}function a(N,X){var D=X[0]-N[0],G=X[1]-N[1];return D*D+G*G}function v(N,X){var D=N.length;return N[X<0?X%D+D:X%D]}function p(N){N.length=0}function c(N,X,D,G){for(var V=D;V<G;V++)N.push(X[V])}function g(N){for(var X=0,D=N,G=1;G<N.length;++G)(D[G][1]<D[X][1]||D[G][1]===D[X][1]&&D[G][0]>D[X][0])&&(X=G);return m(v(N,X-1),v(N,X),v(N,X+1))?!1:(y(N),!0)}function y(N){for(var X=[],D=N.length,G=0;G!==D;G++)X.push(N.pop());for(var G=0;G!==D;G++)N[G]=X[G]}function S(N,X){return o(v(N,X-1),v(N,X),v(N,X+1))}var P=[],C=[];function M(N,X,D){var G,V,U=P,k=C;if(d(v(N,X+1),v(N,X),v(N,D))&&h(v(N,X-1),v(N,X),v(N,D)))return!1;V=a(v(N,X),v(N,D));for(var $=0;$!==N.length;++$)if(!(($+1)%N.length===X||$===X)&&d(v(N,X),v(N,D),v(N,$+1))&&h(v(N,X),v(N,D),v(N,$))&&(U[0]=v(N,X),U[1]=v(N,D),k[0]=v(N,$),k[1]=v(N,$+1),G=T(U,k),a(v(N,X),G)<V))return!1;return!0}function R(N,X,D){for(var G=0;G!==N.length;++G)if(!(G===X||G===D||(G+1)%N.length===X||(G+1)%N.length===D)&&e(v(N,X),v(N,D),v(N,G),v(N,G+1)))return!1;return!0}function w(N,X,D,G){var V=G||[];if(p(V),X<D)for(var U=X;U<=D;U++)V.push(N[U]);else{for(var U=0;U<=D;U++)V.push(N[U]);for(var U=X;U<N.length;U++)V.push(N[U])}return V}function O(N){for(var X=[],D=[],G=[],V=[],U=Number.MAX_VALUE,k=0;k<N.length;++k)if(S(N,k)){for(var $=0;$<N.length;++$)if(M(N,k,$)){D=O(w(N,k,$,V)),G=O(w(N,$,k,V));for(var K=0;K<G.length;K++)D.push(G[K]);D.length<U&&(X=D,U=D.length,X.push([v(N,k),v(N,$)]))}}return X}function F(N){var X=O(N);return X.length>0?L(N,X):[N]}function L(N,X){if(X.length===0)return[N];if(X instanceof Array&&X.length&&X[0]instanceof Array&&X[0].length===2&&X[0][0]instanceof Array){for(var D=[N],G=0;G<X.length;G++)for(var V=X[G],U=0;U<D.length;U++){var k=D[U],$=L(k,V);if($){D.splice(U,1),D.push($[0],$[1]);break}}return D}else{var V=X,G=N.indexOf(V[0]),U=N.indexOf(V[1]);return G!==-1&&U!==-1?[w(N,G,U),w(N,U,G)]:!1}}function b(N){var X=N,D;for(D=0;D<X.length-1;D++)for(var G=0;G<D-1;G++)if(e(X[D],X[D+1],X[G],X[G+1]))return!1;for(D=1;D<X.length-2;D++)if(e(X[0],X[X.length-1],X[D],X[D+1]))return!1;return!0}function B(N,X,D,G,V){V=V||0;var U=X[1]-N[1],k=N[0]-X[0],$=U*N[0]+k*N[1],K=G[1]-D[1],J=D[0]-G[0],Q=K*D[0]+J*D[1],q=U*J-K*k;return W(q,0,V)?[0,0]:[(J*$-k*Q)/q,(U*Q-K*$)/q]}function I(N,X,D,G,V,U,k){U=U||100,k=k||0,V=V||25,X=typeof X<"u"?X:[],D=D||[],G=G||[];var $=[0,0],K=[0,0],J=[0,0],Q=0,q=0,_=0,et=0,tt=0,rt=0,lt=0,dt=[],ut=[],st=N,ot=N;if(ot.length<3)return X;if(k++,k>U)return console.warn("quickDecomp: max level ("+U+") reached."),X;for(var ht=0;ht<N.length;++ht)if(S(st,ht)){D.push(st[ht]),Q=q=Number.MAX_VALUE;for(var xt=0;xt<N.length;++xt)m(v(st,ht-1),v(st,ht),v(st,xt))&&h(v(st,ht-1),v(st,ht),v(st,xt-1))&&(J=B(v(st,ht-1),v(st,ht),v(st,xt),v(st,xt-1)),o(v(st,ht+1),v(st,ht),J)&&(_=a(st[ht],J),_<q&&(q=_,K=J,rt=xt))),m(v(st,ht+1),v(st,ht),v(st,xt+1))&&h(v(st,ht+1),v(st,ht),v(st,xt))&&(J=B(v(st,ht+1),v(st,ht),v(st,xt),v(st,xt+1)),m(v(st,ht-1),v(st,ht),J)&&(_=a(st[ht],J),_<Q&&(Q=_,$=J,tt=xt)));if(rt===(tt+1)%N.length)J[0]=(K[0]+$[0])/2,J[1]=(K[1]+$[1])/2,G.push(J),ht<tt?(c(dt,st,ht,tt+1),dt.push(J),ut.push(J),rt!==0&&c(ut,st,rt,st.length),c(ut,st,0,ht+1)):(ht!==0&&c(dt,st,ht,st.length),c(dt,st,0,tt+1),dt.push(J),ut.push(J),c(ut,st,rt,ht+1));else{if(rt>tt&&(tt+=N.length),et=Number.MAX_VALUE,tt<rt)return X;for(var xt=rt;xt<=tt;++xt)d(v(st,ht-1),v(st,ht),v(st,xt))&&h(v(st,ht+1),v(st,ht),v(st,xt))&&(_=a(v(st,ht),v(st,xt)),_<et&&R(st,ht,xt)&&(et=_,lt=xt%N.length));ht<lt?(c(dt,st,ht,lt+1),lt!==0&&c(ut,st,lt,ot.length),c(ut,st,0,ht+1)):(ht!==0&&c(dt,st,ht,ot.length),c(dt,st,0,lt+1),c(ut,st,lt,ht+1))}return dt.length<ut.length?(I(dt,X,D,G,V,U,k),I(ut,X,D,G,V,U,k)):(I(ut,X,D,G,V,U,k),I(dt,X,D,G,V,U,k)),X}return X.push(N),X}function z(N,X){for(var D=0,G=N.length-1;N.length>3&&G>=0;--G)f(v(N,G-1),v(N,G),v(N,G+1),X)&&(N.splice(G%N.length,1),D++);return D}function Y(N,X){for(var D=N.length-1;D>=1;--D)for(var G=N[D],V=D-1;V>=0;--V)if(H(G,N[V],X)){N.splice(D,1);continue}}function W(N,X,D){return D=D||0,Math.abs(N-X)<=D}function H(N,X,D){return W(N[0],X[0],D)&&W(N[1],X[1],D)}},88257:(l,T,e)=>{/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2013-2023 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var u=e(56694),m=new u({initialize:function(o){this.pluginManager=o,this.game=o.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});l.exports=m},18360:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};l.exports=T},91963:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={},e={},u={};u.register=function(m,d,o,h){h===void 0&&(h=!1),T[m]={plugin:d,mapping:o,custom:h}},u.registerCustom=function(m,d,o,h){e[m]={plugin:d,mapping:o,data:h}},u.hasCore=function(m){return T.hasOwnProperty(m)},u.hasCustom=function(m){return e.hasOwnProperty(m)},u.getCore=function(m){return T[m]},u.getCustom=function(m){return e[m]},u.getCustomClass=function(m){return e.hasOwnProperty(m)?e[m].plugin:null},u.remove=function(m){T.hasOwnProperty(m)&&delete T[m]},u.removeCustom=function(m){e.hasOwnProperty(m)&&delete e[m]},u.destroyCorePlugins=function(){for(var m in T)T.hasOwnProperty(m)&&delete T[m]},u.destroyCustomPlugins=function(){for(var m in e)e.hasOwnProperty(m)&&delete e[m]},l.exports=u},49274:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(97081),d=e(6659),o=e(76846),h=e(99325),n=e(61286),r=e(72632),f=e(91963),a=e(66458),v=new u({Extends:d,initialize:function(c){d.call(this),this.game=c,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],c.isBooted?this.boot():c.events.once(m.BOOT,this.boot,this)},boot:function(){var p,c,g,y,S,P,C,M=this.game.config,R=M.installGlobalPlugins;for(R=R.concat(this._pendingGlobal),p=0;p<R.length;p++)c=R[p],g=r(c,"key",null),y=r(c,"plugin",null),S=r(c,"start",!1),P=r(c,"mapping",null),C=r(c,"data",null),g&&(y?this.install(g,y,S,P,C):console.warn("Missing `plugin` for key: "+g));for(R=M.installScenePlugins,R=R.concat(this._pendingScene),p=0;p<R.length;p++)c=R[p],g=r(c,"key",null),y=r(c,"plugin",null),P=r(c,"mapping",null),g&&(y?this.installScenePlugin(g,y,P):console.warn("Missing `plugin` for key: "+g));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(m.DESTROY,this.destroy,this)},addToScene:function(p,c,g){var y,S,P,C=this.game,M=p.scene,R=p.settings.map,w=p.settings.isBooted;for(y=0;y<c.length;y++)S=c[y],C[S]?(p[S]=C[S],R.hasOwnProperty(S)&&(M[R[S]]=p[S])):S==="game"&&R.hasOwnProperty(S)&&(M[R[S]]=C);for(var O=0;O<g.length;O++)for(P=g[O],y=0;y<P.length;y++)if(S=P[y],!!f.hasCore(S)){var F=f.getCore(S),L=F.mapping,b=new F.plugin(M,this,L);p[L]=b,F.custom?M[L]=b:R.hasOwnProperty(L)&&(M[R[L]]=b),w&&b.boot()}for(P=this.plugins,y=0;y<P.length;y++){var B=P[y];B.mapping&&(M[B.mapping]=B.plugin)}},getDefaultScenePlugins:function(){var p=this.game.config.defaultPlugins;return p=p.concat(this.scenePlugins),p},installScenePlugin:function(p,c,g,y,S){if(S===void 0&&(S=!1),typeof c!="function"){console.warn("Invalid Scene Plugin: "+p);return}if(f.hasCore(p)||f.register(p,c,g,!0),this.scenePlugins.indexOf(p)===-1)this.scenePlugins.push(p);else if(!S&&f.hasCore(p)){console.warn("Scene Plugin key in use: "+p);return}if(y){var P=new c(y,this,p);y.sys[p]=P,g&&g!==""&&(y[g]=P),P.boot()}},install:function(p,c,g,y,S){if(g===void 0&&(g=!1),y===void 0&&(y=null),S===void 0&&(S=null),typeof c!="function")return console.warn("Invalid Plugin: "+p),null;if(f.hasCustom(p))return console.warn("Plugin key in use: "+p),null;if(y!==null&&(g=!0),!this.game.isBooted)this._pendingGlobal.push({key:p,plugin:c,start:g,mapping:y,data:S});else if(f.registerCustom(p,c,y,S),g)return this.start(p);return null},getIndex:function(p){for(var c=this.plugins,g=0;g<c.length;g++){var y=c[g];if(y.key===p)return g}return-1},getEntry:function(p){var c=this.getIndex(p);if(c!==-1)return this.plugins[c]},isActive:function(p){var c=this.getEntry(p);return c&&c.active},start:function(p,c){c===void 0&&(c=p);var g=this.getEntry(c);return g&&!g.active?(g.active=!0,g.plugin.start()):g||(g=this.createEntry(p,c)),g?g.plugin:null},createEntry:function(p,c){var g=f.getCustom(p);if(g){var y=new g.plugin(this);g={key:c,plugin:y,active:!0,mapping:g.mapping,data:g.data},this.plugins.push(g),y.init(g.data),y.start()}return g},stop:function(p){var c=this.getEntry(p);return c&&c.active&&(c.active=!1,c.plugin.stop()),this},get:function(p,c){c===void 0&&(c=!0);var g=this.getEntry(p);if(g)return g.plugin;var y=this.getClass(p);return y&&c?(g=this.createEntry(p,p),g?g.plugin:null):y||null},getClass:function(p){return f.getCustomClass(p)},removeGlobalPlugin:function(p){var c=this.getEntry(p);c&&a(this.plugins,c),f.removeCustom(p)},removeScenePlugin:function(p){a(this.scenePlugins,p),f.remove(p)},registerGameObject:function(p,c,g){return c&&n.register(p,c),g&&h.register(p,g),this},removeGameObject:function(p,c,g){return c===void 0&&(c=!0),g===void 0&&(g=!0),c&&n.remove(p),g&&h.remove(p),this},registerFileType:function(p,c,g){o.register(p,c),g&&g.sys.load&&(g.sys.load[p]=c)},destroy:function(){for(var p=0;p<this.plugins.length;p++)this.plugins[p].plugin.destroy();f.destroyCustomPlugins(),this.game.noReturn&&f.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});l.exports=v},39283:(l,T,e)=>{/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2013-2023 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var u=e(88257),m=e(56694),d=e(7599),o=new m({Extends:u,initialize:function(n,r,f){u.call(this,r),this.scene=n,this.systems=n.sys,this.pluginKey=f,n.sys.events.once(d.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});l.exports=o},45615:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={BasePlugin:e(88257),DefaultPlugins:e(18360),PluginCache:e(91963),PluginManager:e(49274),ScenePlugin:e(39283)}},75205:()=>{!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(l){const T=performance.now(),e=this.getVideoPlaybackQuality(),u=this.mozPresentedFrames||this.mozPaintedFrames||e.totalVideoFrames-e.droppedVideoFrames,m=(d,o)=>{const h=this.getVideoPlaybackQuality(),n=this.mozPresentedFrames||this.mozPaintedFrames||h.totalVideoFrames-h.droppedVideoFrames;if(n>u){const r=this.mozFrameDelay||h.totalFrameDelay-e.totalFrameDelay||0,f=o-d;l(o,{presentationTime:o+r*1e3,expectedDisplayTime:o+f,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+f/1e3,presentedFrames:n,processingDuration:r}),delete this._rvfcpolyfillmap[T]}else this._rvfcpolyfillmap[T]=requestAnimationFrame(r=>m(o,r))};return this._rvfcpolyfillmap[T]=requestAnimationFrame(d=>m(T,d)),T},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(l){cancelAnimationFrame(this._rvfcpolyfillmap[l]),delete this._rvfcpolyfillmap[l]})},95723:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},27394:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={DEFAULT:0,LINEAR:0,NEAREST:1};l.exports=T},91135:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(89787),m=e(61840),d=e(56694),o=e(86459),h=e(6659),n=e(81044),r=e(32834),f=e(40444),a=e(38203),v=e(69360),p=new d({Extends:h,initialize:function(g){h.call(this);var y=g.config;this.config={clearBeforeRender:y.clearBeforeRender,backgroundColor:y.backgroundColor,antialias:y.antialias,roundPixels:y.roundPixels},this.game=g,this.type=o.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=g.canvas;var S={alpha:g.config.transparent,desynchronized:g.config.desynchronized,willReadFrequently:!1};this.gameContext=y.context?y.context:this.gameCanvas.getContext("2d",S),this.currentContext=this.gameContext,this.antialias=g.config.antialias,this.blendModes=r(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new v,this._tempMatrix2=new v,this._tempMatrix3=new v,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(a.READY,this.boot,this)},boot:function(){var c=this.game,g=c.scale.baseSize;this.width=g.width,this.height=g.height,this.isBooted=!0,c.scale.on(f.RESIZE,this.onResize,this),this.resize(g.width,g.height)},onResize:function(c,g){(g.width!==this.width||g.height!==this.height)&&this.resize(g.width,g.height)},resize:function(c,g){this.width=c,this.height=g,this.emit(n.RESIZE,c,g)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(c){return this.currentContext.globalCompositeOperation=c,this},setContext:function(c){return this.currentContext=c||this.gameContext,this},setAlpha:function(c){return this.currentContext.globalAlpha=c,this},preRender:function(){var c=this.gameContext,g=this.config,y=this.width,S=this.height;c.globalAlpha=1,c.globalCompositeOperation="source-over",c.setTransform(1,0,0,1,0,0),g.clearBeforeRender&&(c.clearRect(0,0,y,S),g.transparent||(c.fillStyle=g.backgroundColor.rgba,c.fillRect(0,0,y,S))),c.save(),this.drawCount=0,this.emit(n.PRE_RENDER)},render:function(c,g,y){var S=g.length;this.emit(n.RENDER,c,y);var P=y.x,C=y.y,M=y.width,R=y.height,w=y.renderToTexture?y.context:c.sys.context;w.save(),this.game.scene.customViewports&&(w.beginPath(),w.rect(P,C,M,R),w.clip()),y.emit(u.PRE_RENDER,y),this.currentContext=w;var O=y.mask;O&&O.preRenderCanvas(this,null,y._maskCamera),y.transparent||(w.fillStyle=y.backgroundColor.rgba,w.fillRect(P,C,M,R)),w.globalAlpha=y.alpha,w.globalCompositeOperation="source-over",this.drawCount+=S,y.renderToTexture&&y.emit(u.PRE_RENDER,y),y.matrix.copyToContext(w);for(var F=0;F<S;F++){var L=g[F];L.mask&&L.mask.preRenderCanvas(this,L,y),L.renderCanvas(this,L,y),L.mask&&L.mask.postRenderCanvas(this,L,y)}w.setTransform(1,0,0,1,0,0),w.globalCompositeOperation="source-over",w.globalAlpha=1,y.flashEffect.postRenderCanvas(w),y.fadeEffect.postRenderCanvas(w),y.dirty=!1,O&&O.postRenderCanvas(this),w.restore(),y.renderToTexture&&(y.emit(u.POST_RENDER,y),y.renderToGame&&c.sys.context.drawImage(y.canvas,P,C)),y.emit(u.POST_RENDER,y)},postRender:function(){var c=this.gameContext;c.restore(),this.emit(n.POST_RENDER);var g=this.snapshotState;g.callback&&(m(this.gameCanvas,g),g.callback=null)},snapshotCanvas:function(c,g,y,S,P,C,M,R,w){y===void 0&&(y=!1),this.snapshotArea(S,P,C,M,g,R,w);var O=this.snapshotState;return O.getPixel=y,m(c,O),O.callback=null,this},snapshot:function(c,g,y){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,c,g,y)},snapshotArea:function(c,g,y,S,P,C,M){var R=this.snapshotState;return R.callback=P,R.type=C,R.encoder=M,R.getPixel=!1,R.x=c,R.y=g,R.width=Math.min(y,this.gameCanvas.width),R.height=Math.min(S,this.gameCanvas.height),this},snapshotPixel:function(c,g,y){return this.snapshotArea(c,g,1,1,y),this.snapshotState.getPixel=!0,this},batchSprite:function(c,g,y,S){var P=y.alpha*c.alpha;if(P!==0){var C=this.currentContext,M=this._tempMatrix1,R=this._tempMatrix2,w=g.canvasData,O=w.x,F=w.y,L=g.cutWidth,b=g.cutHeight,B=g.customPivot,I=g.source.resolution,z=c.displayOriginX,Y=c.displayOriginY,W=-z+g.x,H=-Y+g.y;if(c.isCropped){var N=c._crop;(N.flipX!==c.flipX||N.flipY!==c.flipY)&&g.updateCropUVs(N,c.flipX,c.flipY),L=N.cw,b=N.ch,O=N.cx,F=N.cy,W=-z+N.x,H=-Y+N.y,c.flipX&&(W>=0?W=-(W+L):W<0&&(W=Math.abs(W)-L)),c.flipY&&(H>=0?H=-(H+b):H<0&&(H=Math.abs(H)-b))}var X=1,D=1;c.flipX&&(B||(W+=-g.realWidth+z*2),X=-1),c.flipY&&(B||(H+=-g.realHeight+Y*2),D=-1);var G=c.x,V=c.y;y.roundPixels&&(G=Math.floor(G),V=Math.floor(V)),R.applyITRS(G,V,c.rotation,c.scaleX*X,c.scaleY*D),M.copyFrom(y.matrix),S?(M.multiplyWithOffset(S,-y.scrollX*c.scrollFactorX,-y.scrollY*c.scrollFactorY),R.e=G,R.f=V):(R.e-=y.scrollX*c.scrollFactorX,R.f-=y.scrollY*c.scrollFactorY),M.multiply(R),y.roundPixels&&(M.e=Math.round(M.e),M.f=Math.round(M.f)),C.save(),M.setToContext(C),C.globalCompositeOperation=this.blendModes[c.blendMode],C.globalAlpha=P,C.imageSmoothingEnabled=!g.source.scaleMode,c.mask&&c.mask.preRenderCanvas(this,c,y),L>0&&b>0&&C.drawImage(g.source.image,O,F,L,b,W,H,L/I,b/I),c.mask&&c.mask.postRenderCanvas(this,c,y),C.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});l.exports=p},6046:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={CanvasRenderer:e(91135),GetBlendModes:e(32834),SetTransform:e(49584)}},32834:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(95723),m=e(98581),d=function(){var o=[],h=m.supportNewBlendModes,n="source-over";return o[u.NORMAL]=n,o[u.ADD]="lighter",o[u.MULTIPLY]=h?"multiply":n,o[u.SCREEN]=h?"screen":n,o[u.OVERLAY]=h?"overlay":n,o[u.DARKEN]=h?"darken":n,o[u.LIGHTEN]=h?"lighten":n,o[u.COLOR_DODGE]=h?"color-dodge":n,o[u.COLOR_BURN]=h?"color-burn":n,o[u.HARD_LIGHT]=h?"hard-light":n,o[u.SOFT_LIGHT]=h?"soft-light":n,o[u.DIFFERENCE]=h?"difference":n,o[u.EXCLUSION]=h?"exclusion":n,o[u.HUE]=h?"hue":n,o[u.SATURATION]=h?"saturation":n,o[u.COLOR]=h?"color":n,o[u.LUMINOSITY]=h?"luminosity":n,o[u.ERASE]="destination-out",o[u.SOURCE_IN]="source-in",o[u.SOURCE_OUT]="source-out",o[u.SOURCE_ATOP]="source-atop",o[u.DESTINATION_OVER]="destination-over",o[u.DESTINATION_IN]="destination-in",o[u.DESTINATION_OUT]="destination-out",o[u.DESTINATION_ATOP]="destination-atop",o[u.LIGHTER]="lighter",o[u.COPY]="copy",o[u.XOR]="xor",o};l.exports=d},49584:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(73329),m=function(d,o,h,n,r){var f=n.alpha*h.alpha;if(f<=0)return!1;var a=u(h,n,r).calc;return o.globalCompositeOperation=d.blendModes[h.blendMode],o.globalAlpha=f,o.save(),a.setToContext(o),o.imageSmoothingEnabled=h.frame?!h.frame.source.scaleMode:d.antialias,!0};l.exports=m},70936:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="postrender"},99298:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="prerender"},7743:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="render"},99519:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="resize"},81044:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={POST_RENDER:e(70936),PRE_RENDER:e(99298),RENDER:e(7743),RESIZE:e(99519)}},42069:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Canvas:e(6046),Events:e(81044),Snapshot:e(95528),WebGL:e(55478)}},61840:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61068),m=e(27119),d=e(72632),o=function(h,n){var r=d(n,"callback"),f=d(n,"type","image/png"),a=d(n,"encoder",.92),v=Math.abs(Math.round(d(n,"x",0))),p=Math.abs(Math.round(d(n,"y",0))),c=Math.floor(d(n,"width",h.width)),g=Math.floor(d(n,"height",h.height)),y=d(n,"getPixel",!1);if(y){var S=h.getContext("2d",{willReadFrequently:!1}),P=S.getImageData(v,p,1,1),C=P.data;r.call(null,new m(C[0],C[1],C[2],C[3]))}else if(v!==0||p!==0||c!==h.width||g!==h.height){var M=u.createWebGL(this,c,g),R=M.getContext("2d",{willReadFrequently:!0});c>0&&g>0&&R.drawImage(h,v,p,c,g,0,0,c,g);var w=new Image;w.onerror=function(){r.call(null),u.remove(M)},w.onload=function(){r.call(null,w),u.remove(M)},w.src=M.toDataURL(f,a)}else{var O=new Image;O.onerror=function(){r.call(null)},O.onload=function(){r.call(null,O)},O.src=h.toDataURL(f,a)}};l.exports=o},1217:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61068),m=e(27119),d=e(72632),o=function(h,n){var r=h,f=d(n,"callback"),a=d(n,"type","image/png"),v=d(n,"encoder",.92),p=Math.abs(Math.round(d(n,"x",0))),c=Math.abs(Math.round(d(n,"y",0))),g=d(n,"getPixel",!1),y=d(n,"isFramebuffer",!1),S=y?d(n,"bufferWidth",1):r.drawingBufferWidth,P=y?d(n,"bufferHeight",1):r.drawingBufferHeight;if(g){var C=new Uint8Array(4),M=y?c:P-c;r.readPixels(p,M,1,1,r.RGBA,r.UNSIGNED_BYTE,C),f.call(null,new m(C[0],C[1],C[2],C[3]))}else{var R=Math.floor(d(n,"width",S)),w=Math.floor(d(n,"height",P)),O=R*w*4,F=new Uint8Array(O);r.readPixels(p,P-c-w,R,w,r.RGBA,r.UNSIGNED_BYTE,F);for(var L=u.createWebGL(this,R,w),b=L.getContext("2d",{willReadFrequently:!0}),B=b.getImageData(0,0,R,w),I=B.data,z=0;z<w;z++)for(var Y=0;Y<R;Y++){var W=((w-z-1)*R+Y)*4,H=y?O-(z*R+(R-Y))*4:(z*R+Y)*4;I[H+0]=F[W+0],I[H+1]=F[W+1],I[H+2]=F[W+2],I[H+3]=F[W+3]}b.putImageData(B,0,0);var N=new Image;N.onerror=function(){f.call(null),u.remove(L)},N.onload=function(){f.call(null,N),u.remove(L)},N.src=L.toDataURL(a,v)}};l.exports=o},95528:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Canvas:e(61840),WebGL:e(1217)}},35217:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(65641),d=e(33885),o=e(77290),h=e(72632),n=e(37410),r=e(82127),f=e(5583),a=e(58136),v=e(47406),p=e(81828),c=e(66901),g=e(71264),y=e(77310),S=e(10919),P=e(21213),C=e(51212),M=e(60848),R=new u({initialize:function(O){this.game=O.game,this.renderer=O,this.classes=new d([[m.UTILITY_PIPELINE,M],[m.MULTI_PIPELINE,y],[m.BITMAPMASK_PIPELINE,f],[m.SINGLE_PIPELINE,C],[m.ROPE_PIPELINE,P],[m.LIGHT_PIPELINE,c],[m.POINTLIGHT_PIPELINE,S],[m.MOBILE_PIPELINE,g],[m.FX_PIPELINE,p]]),this.postPipelineClasses=new d([[String(v.BARREL),a.Barrel],[String(v.BLOOM),a.Bloom],[String(v.BLUR),a.Blur],[String(v.BOKEH),a.Bokeh],[String(v.CIRCLE),a.Circle],[String(v.COLOR_MATRIX),a.ColorMatrix],[String(v.DISPLACEMENT),a.Displacement],[String(v.GLOW),a.Glow],[String(v.GRADIENT),a.Gradient],[String(v.PIXELATE),a.Pixelate],[String(v.SHADOW),a.Shadow],[String(v.SHINE),a.Shine],[String(v.VIGNETTE),a.Vignette],[String(v.WIPE),a.Wipe]]),this.pipelines=new d,this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(w,O,F){var L=this.renderer,b=this.renderTargets;this.frameInc=Math.floor(h(w,"frameInc",32));for(var B=L.width,I=L.height,z=Math.min(B,I),Y=Math.ceil(z/this.frameInc),W=1;W<Y;W++){var H=W*this.frameInc;b.push(new n(L,H,H)),b.push(new n(L,H,H)),b.push(new n(L,H,H)),this.maxDimension=H}b.push(new n(L,B,I,1,0,!0,!0)),b.push(new n(L,B,I,1,0,!0,!0)),b.push(new n(L,B,I,1,0,!0,!0));var N,X,D=this,G=this.game;if(this.classes.each(function(U,k){N=D.add(U,new k({game:G})),U===m.UTILITY_PIPELINE&&(D.UTILITY_PIPELINE=N,D.fullFrame1=N.fullFrame1,D.fullFrame2=N.fullFrame2,D.halfFrame1=N.halfFrame1,D.halfFrame2=N.halfFrame2)}),this.MULTI_PIPELINE=this.get(m.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(m.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(m.MOBILE_PIPELINE),this.FX_PIPELINE=this.get(m.FX_PIPELINE),w)for(X in w){var V=w[X];N=new V(G),N.name=X,N.isPostFX?this.postPipelineClasses.set(X,V):this.has(X)||(this.classes.set(X,V),this.add(X,N))}this.default=this.get(O),F&&!o.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(w){var O=this.get(w);return O&&(this.default=O),O},add:function(w,O){if(O.isPostFX){console.warn(w+" is a Post Pipeline. Use `addPostPipeline` instead");return}var F=this.pipelines,L=this.renderer;return F.has(w)?console.warn("Pipeline exists: "+w):(O.name=w,O.manager=this,F.set(w,O)),O.hasBooted||O.boot(),L.width!==0&&L.height!==0&&!O.isPreFX&&O.resize(L.width,L.height),O},addPostPipeline:function(w,O){this.postPipelineClasses.has(w)||this.postPipelineClasses.set(w,O)},flush:function(){this.current&&this.current.flush()},has:function(w){var O=this.pipelines;return typeof w=="string"?O.has(w):!!O.contains(w)},get:function(w){var O=this.pipelines;if(typeof w=="string")return O.get(w);if(O.contains(w))return w},getPostPipeline:function(w,O,F){var L=this.postPipelineClasses,b,B="",I=typeof w;if(I==="string"||I==="number"?(b=L.get(w),B=w):I==="function"?(L.contains(w)&&(b=w),B=w.name):I==="object"&&(b=L.get(w.name),B=w.name),b){var z=new b(this.game,F);return z.name=B,O&&(z.gameObject=O),z}},remove:function(w,O,F){O===void 0&&(O=!0),F===void 0&&(F=!0),this.pipelines.delete(w),O&&this.classes.delete(w),F&&this.postPipelineClasses.delete(w)},set:function(w,O,F){if(!w.isPostFX)return this.isCurrent(w,F)||(this.flush(),this.current&&this.current.unbind(),this.current=w,w.bind(F)),w.updateProjectionMatrix(),w.onBind(O),w},preBatch:function(w){if(w.hasPostPipeline){this.flush();for(var O=w.postPipelines,F=O.length-1;F>=0;F--){var L=O[F];L.active&&L.preBatch(w)}}},postBatch:function(w){if(w.hasPostPipeline){this.flush();for(var O=w.postPipelines,F=0;F<O.length;F++){var L=O[F];L.active&&L.postBatch(w)}}},preBatchCamera:function(w){if(w.hasPostPipeline){this.flush();for(var O=w.postPipelines,F=O.length-1;F>=0;F--){var L=O[F];L.active&&L.preBatch(w)}}},postBatchCamera:function(w){if(w.hasPostPipeline){this.flush();for(var O=w.postPipelines,F=0;F<O.length;F++){var L=O[F];L.active&&L.postBatch(w)}}},isCurrent:function(w,O){var F=this.renderer,L=this.current;return L&&!O&&(O=L.currentShader),!(L!==w||O.program!==F.currentProgram)},copyFrame:function(w,O,F,L,b){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(w,O,F,L,b),this},copyToGame:function(w){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(w),this},drawFrame:function(w,O,F,L){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(w,O,F,L),this},blendFrames:function(w,O,F,L,b){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(w,O,F,L,b),this},blendFramesAdditive:function(w,O,F,L,b){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(w,O,F,L,b),this},clearFrame:function(w,O){return this.UTILITY_PIPELINE.clearFrame(w,O),this},blitFrame:function(w,O,F,L,b,B){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(w,O,F,L,b,B),this},copyFrameRect:function(w,O,F,L,b,B,I,z){return this.UTILITY_PIPELINE.copyFrameRect(w,O,F,L,b,B,I,z),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(w){return this.UTILITY_PIPELINE.bind(w)},setFX:function(){return this.set(this.FX_PIPELINE)},rebind:function(w){w===void 0&&this.previous&&(w=this.previous);var O=this.renderer,F=O.gl;F.disable(F.DEPTH_TEST),F.disable(F.CULL_FACE),O.hasActiveStencilMask()?F.clear(F.DEPTH_BUFFER_BIT):(F.disable(F.STENCIL_TEST),F.clear(F.DEPTH_BUFFER_BIT|F.STENCIL_BUFFER_BIT)),F.viewport(0,0,O.width,O.height),O.currentProgram=null,O.setBlendMode(0,!0);var L=O.vaoExtension;L&&L.bindVertexArrayOES(null);var b=this.pipelines.entries;for(var B in b)b[B].glReset=!0;w&&(this.current=w,w.rebind())},clear:function(){var w=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,w.currentProgram=null,w.setBlendMode(0,!0);var O=w.vaoExtension;O&&O.bindVertexArrayOES(null)},getRenderTarget:function(w){var O=this.renderTargets,F=3;if(w>this.maxDimension)return this.targetIndex=O.length-F,O[this.targetIndex];var L=(r(w,this.frameInc,0,!0)-1)*F;return this.targetIndex=L,O[L]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});l.exports=R},37410:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(81044),d=new u({initialize:function(h,n,r,f,a,v,p,c,g){f===void 0&&(f=1),a===void 0&&(a=0),v===void 0&&(v=!0),p===void 0&&(p=!1),c===void 0&&(c=!0),g===void 0&&(g=!0),this.renderer=h,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=f,this.minFilter=a,this.autoClear=v,this.autoResize=!0,this.hasDepthBuffer=c,this.forceClamp=g,this.resize(n,r),p?this.setAutoResize(!0):this.autoResize=!1},setAutoResize:function(o){return o&&!this.autoResize?(this.renderer.on(m.RESIZE,this.resize,this),this.autoResize=!0):!o&&this.autoResize&&(this.renderer.off(m.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(o,h){var n=o*this.scale,r=h*this.scale;if(this.autoResize&&(n!==this.width||r!==this.height)){var f=this.renderer;f.deleteFramebuffer(this.framebuffer),f.deleteTexture(this.texture),o*=this.scale,h*=this.scale,o=Math.round(o),h=Math.round(h),o<=0&&(o=1),h<=0&&(h=1),this.texture=f.createTextureFromSource(null,o,h,this.minFilter,this.forceClamp),this.framebuffer=f.createFramebuffer(o,h,this.texture,this.hasDepthBuffer),this.width=o,this.height=h}return this},bind:function(o,h,n){o===void 0&&(o=!1);var r=this.renderer;if(o&&r.flush(),h&&n&&this.resize(h,n),r.pushFramebuffer(this.framebuffer,!1,!1),o&&this.adjustViewport(),this.autoClear){var f=this.renderer.gl;f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT)}r.clearStencilMask()},adjustViewport:function(){var o=this.renderer.gl;o.viewport(0,0,this.width,this.height),o.disable(o.SCISSOR_TEST)},clear:function(){var o=this.renderer,h=o.gl;o.pushFramebuffer(this.framebuffer),h.disable(h.SCISSOR_TEST),h.clearColor(0,0,0,0),h.clear(h.COLOR_BUFFER_BIT),o.popFramebuffer(),o.resetScissor()},unbind:function(o){o===void 0&&(o=!1);var h=this.renderer;return o&&h.flush(),h.popFramebuffer()},destroy:function(){var o=this.renderer;o.deleteFramebuffer(this.framebuffer),o.deleteTexture(this.texture),o.off(m.RESIZE,this.resize,this),this.renderer=null,this.framebuffer=null,this.texture=null}});l.exports=d},75512:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={getTintFromFloats:function(T,e,u,m){var d=(T*255|0)&255,o=(e*255|0)&255,h=(u*255|0)&255,n=(m*255|0)&255;return(n<<24|d<<16|o<<8|h)>>>0},getTintAppendFloatAlpha:function(T,e){var u=(e*255|0)&255;return(u<<24|T)>>>0},getTintAppendFloatAlphaAndSwap:function(T,e){var u=(T>>16|0)&255,m=(T>>8|0)&255,d=(T|0)&255,o=(e*255|0)&255;return(o<<24|d<<16|m<<8|u)>>>0},getFloatsFromUintRGB:function(T){var e=(T>>16|0)&255,u=(T>>8|0)&255,m=(T|0)&255;return[e/255,u/255,m/255]},checkShaderMax:function(T,e){var u=Math.min(16,T.getParameter(T.MAX_TEXTURE_IMAGE_UNITS));return!e||e===-1?u:Math.min(u,e)},parseFragmentShaderMaxTextures:function(T,e){if(!T)return"";for(var u="",m=0;m<e;m++)m>0&&(u+=`
	else `),m<e-1&&(u+="if (outTexId < "+m+".5)"),u+=`
	{`,u+=`
		texture = texture2D(uMainSampler[`+m+"], outTexCoord);",u+=`
	}`;return T=T.replace(/%count%/gi,e.toString()),T.replace(/%forloop%/gi,u)},setGlowQuality:function(T,e,u,m){return u===void 0&&(u=e.config.glowFXQuality),m===void 0&&(m=e.config.glowFXDistance),T=T.replace(/__SIZE__/gi,(1/u/m).toFixed(7)),T=T.replace(/__DIST__/gi,m.toFixed(0)+".0"),T}}},44775:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(28699),d=e(6659),o=e(18970),h=e(72632),n=e(16650),r=e(81044),f=e(37410),a=e(75512),v=e(71305),p=new u({Extends:d,initialize:function(g){d.call(this);var y=g.game,S=y.renderer,P=S.gl;this.name=h(g,"name","WebGLPipeline"),this.game=y,this.renderer=S,this.manager,this.gl=P,this.view=y.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=h(g,"topology",P.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=h(g,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=g,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[]},boot:function(){var c,g=this.gl,y=this.config,S=this.renderer;this.isPostFX||(this.projectionMatrix=new n().identity());var P=this.renderTargets,C=h(y,"renderTarget",!1);typeof C=="boolean"&&C&&(C=1);var M=S.width,R=S.height;if(typeof C=="number")for(c=0;c<C;c++)P.push(new f(S,M,R,1,0,!0));else if(Array.isArray(C))for(c=0;c<C.length;c++){var w=h(C[c],"scale",1),O=h(C[c],"minFilter",0),F=h(C[c],"autoClear",1),L=h(C[c],"width",null),b=h(C[c],"height",L);L?P.push(new f(S,L,b,1,O,F)):P.push(new f(S,M,R,w,O,F))}P.length&&(this.currentRenderTarget=P[0]),this.setShadersFromConfig(y);var B=this.shaders,I=0;for(c=0;c<B.length;c++)B[c].vertexSize>I&&(I=B[c].vertexSize);var z=h(y,"batchSize",S.config.batchSize);this.vertexCapacity=z*6;var Y=new ArrayBuffer(this.vertexCapacity*I);this.vertexData=Y,this.bytes=new Uint8Array(Y),this.vertexViewF32=new Float32Array(Y),this.vertexViewU32=new Uint32Array(Y);var W=h(y,"vertices",null);for(W?(this.vertexViewF32.set(W),this.vertexBuffer=S.createVertexBuffer(Y,g.STATIC_DRAW)):this.vertexBuffer=S.createVertexBuffer(Y.byteLength,g.DYNAMIC_DRAW),this.setVertexBuffer(),c=B.length-1;c>=0;c--)B[c].rebind();this.hasBooted=!0,S.on(r.RESIZE,this.resize,this),S.on(r.PRE_RENDER,this.onPreRender,this),S.on(r.RENDER,this.onRender,this),S.on(r.POST_RENDER,this.onPostRender,this),this.emit(o.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(c,g,y){var S=this.renderer;if(c!==this.currentShader||S.currentProgram!==this.currentShader.program){this.flush();var P=this.setVertexBuffer(y);P&&!g&&(g=!0),c.bind(g,!1),this.currentShader=c}return this},getShaderByName:function(c){for(var g=this.shaders,y=0;y<g.length;y++)if(g[y].name===c)return g[y]},setShadersFromConfig:function(c){var g,y=this.shaders,S=this.renderer;for(g=0;g<y.length;g++)y[g].destroy();var P="vertShader",C="fragShader",M="attributes",R=h(c,P,null),w=a.parseFragmentShaderMaxTextures(h(c,C,null),S.maxTextures),O=h(c,M,null),F=h(c,"shaders",[]),L=F.length;if(L===0)R&&w&&(this.shaders=[new v(this,"default",R,w,m(O))]);else{var b=[];for(g=0;g<L;g++){var B=F[g],I,z,Y,W;if(typeof B=="string"?(I="default",z=R,Y=a.parseFragmentShaderMaxTextures(B,S.maxTextures),W=O):(I=h(B,"name","default"),z=h(B,P,R),Y=a.parseFragmentShaderMaxTextures(h(B,C,w),S.maxTextures),W=h(B,M,O)),I==="default"){var H=Y.split(`
`),N=H[0].trim();N.indexOf("#define SHADER_NAME")>-1&&(I=N.substring(20))}z&&Y&&b.push(new v(this,I,z,Y,m(W)))}this.shaders=b}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(c){return this.currentBatch={start:this.vertexCount,count:0,texture:[c],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=c,this.batch.push(this.currentBatch),0},addTextureToBatch:function(c){var g=this.currentBatch;g&&(g.texture.push(c),g.unit++,g.maxUnit++)},pushBatch:function(c){if(!this.currentBatch||this.forceZero&&c!==this.currentTexture)return this.createBatch(c);if(c===this.currentTexture)return this.currentUnit;var g=this.currentBatch,y=g.texture.indexOf(c);return y===-1?g.texture.length===this.renderer.maxTextures?this.createBatch(c):(g.unit++,g.maxUnit++,g.texture.push(c),this.currentUnit=g.unit,this.currentTexture=c,g.unit):(this.currentUnit=y,this.currentTexture=c,y)},setGameObject:function(c,g){return g===void 0&&(g=c.frame),this.pushBatch(g.source.glTexture)},shouldFlush:function(c){return c===void 0&&(c=0),this.vertexCount+c>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(c,g){(c!==this.width||g!==this.height)&&this.flush(),this.width=c,this.height=g;for(var y=this.renderTargets,S=0;S<y.length;S++)y[S].resize(c,g);return this.setProjectionMatrix(c,g),this.emit(o.RESIZE,c,g,this),this.onResize(c,g),this},setProjectionMatrix:function(c,g){var y=this.projectionMatrix;if(!y)return this;this.projectionWidth=c,this.projectionHeight=g,y.ortho(0,c,g,0,-1e3,1e3);for(var S=this.shaders,P="uProjectionMatrix",C=0;C<S.length;C++){var M=S[C];M.hasUniform(P)&&(M.resetUniform(P),M.setMatrix4fv(P,!1,y.val,M))}return this},flipProjectionMatrix:function(c){c===void 0&&(c=!0);var g=this.projectionMatrix;if(!g)return this;var y=this.projectionWidth,S=this.projectionHeight;c?g.ortho(0,y,0,S,-1e3,1e3):g.ortho(0,y,S,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,g.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var c=this.renderer.projectionWidth,g=this.renderer.projectionHeight;(this.projectionWidth!==c||this.projectionHeight!==g)&&this.setProjectionMatrix(c,g)}},bind:function(c){if(c===void 0&&(c=this.currentShader),this.glReset)return this.rebind(c);var g=!1,y=this.gl;return y.getParameter(y.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(y.bindBuffer(y.ARRAY_BUFFER,this.vertexBuffer),this.activeBuffer=this.vertexBuffer,g=!0),c.bind(g),this.currentShader=c,this.activeTextures.length=0,this.emit(o.BIND,this,c),this.onActive(c),this},rebind:function(c){this.activeBuffer=null,this.setVertexBuffer();for(var g=this.shaders,y=g.length-1;y>=0;y--){var S=g[y].rebind();(!c||S===c)&&(this.currentShader=S)}return this.activeTextures.length=0,this.emit(o.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},setVertexBuffer:function(c){if(c===void 0&&(c=this.vertexBuffer),c!==this.activeBuffer){var g=this.gl;return this.gl.bindBuffer(g.ARRAY_BUFFER,c),this.activeBuffer=c,!0}return!1},preBatch:function(c){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(c),this},postBatch:function(c){return this.onDraw(this.currentRenderTarget),this.onPostBatch(c),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(c){if(c===void 0&&(c=!1),this.vertexCount>0){this.emit(o.BEFORE_FLUSH,this,c),this.onBeforeFlush(c);var g=this.gl,y=this.vertexCount,S=this.currentShader.vertexSize,P=this.topology;if(this.active){this.setVertexBuffer(),y===this.vertexCapacity?g.bufferData(g.ARRAY_BUFFER,this.vertexData,g.DYNAMIC_DRAW):g.bufferSubData(g.ARRAY_BUFFER,0,this.bytes.subarray(0,y*S));var C,M,R,w=this.batch,O=this.activeTextures;if(this.forceZero)for(O[0]||g.activeTexture(g.TEXTURE0),C=0;C<w.length;C++)M=w[C],R=M.texture[0],O[0]!==R&&(g.bindTexture(g.TEXTURE_2D,R),O[0]=R),g.drawArrays(P,M.start,M.count);else for(C=0;C<w.length;C++){M=w[C];for(var F=0;F<=M.maxUnit;F++)R=M.texture[F],O[F]!==R&&(g.activeTexture(g.TEXTURE0+F),g.bindTexture(g.TEXTURE_2D,R),O[F]=R);g.drawArrays(P,M.start,M.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(o.AFTER_FLUSH,this,c),this.onAfterFlush(c)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(c,g,y,S,P,C,M){var R=this.vertexViewF32,w=this.vertexViewU32,O=this.vertexCount*this.currentShader.vertexComponentCount-1;R[++O]=c,R[++O]=g,R[++O]=y,R[++O]=S,R[++O]=P,R[++O]=C,w[++O]=M,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(c,g,y,S,P,C,M,R,w,O,F,L,b,B,I,z,Y,W,H,N){N===void 0&&(N=this.currentUnit);var X=!1;this.shouldFlush(6)&&(this.flush(),X=!0),this.currentBatch||(N=this.setTexture2D(H));var D=this.vertexViewF32,G=this.vertexViewU32,V=this.vertexCount*this.currentShader.vertexComponentCount-1;return D[++V]=g,D[++V]=y,D[++V]=O,D[++V]=F,D[++V]=N,D[++V]=W,G[++V]=B,D[++V]=S,D[++V]=P,D[++V]=O,D[++V]=b,D[++V]=N,D[++V]=W,G[++V]=z,D[++V]=C,D[++V]=M,D[++V]=L,D[++V]=b,D[++V]=N,D[++V]=W,G[++V]=Y,D[++V]=g,D[++V]=y,D[++V]=O,D[++V]=F,D[++V]=N,D[++V]=W,G[++V]=B,D[++V]=C,D[++V]=M,D[++V]=L,D[++V]=b,D[++V]=N,D[++V]=W,G[++V]=Y,D[++V]=R,D[++V]=w,D[++V]=L,D[++V]=F,D[++V]=N,D[++V]=W,G[++V]=I,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(c),X},batchTri:function(c,g,y,S,P,C,M,R,w,O,F,L,b,B,I,z,Y){Y===void 0&&(Y=this.currentUnit);var W=!1;this.shouldFlush(3)&&(this.flush(),W=!0),this.currentBatch||(Y=this.setTexture2D(z));var H=this.vertexViewF32,N=this.vertexViewU32,X=this.vertexCount*this.currentShader.vertexComponentCount-1;return H[++X]=g,H[++X]=y,H[++X]=R,H[++X]=w,H[++X]=Y,H[++X]=I,N[++X]=L,H[++X]=S,H[++X]=P,H[++X]=R,H[++X]=F,H[++X]=Y,H[++X]=I,N[++X]=b,H[++X]=C,H[++X]=M,H[++X]=O,H[++X]=F,H[++X]=Y,H[++X]=I,N[++X]=B,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(c),W},drawFillRect:function(c,g,y,S,P,C,M,R){M===void 0&&(M=this.renderer.whiteTexture),R===void 0&&(R=!0),c=Math.floor(c),g=Math.floor(g);var w=Math.floor(c+y),O=Math.floor(g+S),F=this.setTexture2D(M),L=a.getTintAppendFloatAlphaAndSwap(P,C),b=0,B=0,I=1,z=1;R&&(B=1,z=0),this.batchQuad(null,c,g,c,O,w,O,w,g,b,B,I,z,L,L,L,L,0,M,F)},setTexture2D:function(c){return c===void 0&&(c=this.renderer.whiteTexture),this.pushBatch(c)},bindTexture:function(c,g){g===void 0&&(g=0);var y=this.gl;return y.activeTexture(y.TEXTURE0+g),y.bindTexture(y.TEXTURE_2D,c),this},bindRenderTarget:function(c,g){return this.bindTexture(c.texture,g)},setTime:function(c,g){return this.set1f(c,this.game.loop.getDuration(),g),this},setBoolean:function(c,g,y){return y===void 0&&(y=this.currentShader),y.setBoolean(c,g),this},set1f:function(c,g,y){return y===void 0&&(y=this.currentShader),y.set1f(c,g),this},set2f:function(c,g,y,S){return S===void 0&&(S=this.currentShader),S.set2f(c,g,y),this},set3f:function(c,g,y,S,P){return P===void 0&&(P=this.currentShader),P.set3f(c,g,y,S),this},set4f:function(c,g,y,S,P,C){return C===void 0&&(C=this.currentShader),C.set4f(c,g,y,S,P),this},set1fv:function(c,g,y){return y===void 0&&(y=this.currentShader),y.set1fv(c,g),this},set2fv:function(c,g,y){return y===void 0&&(y=this.currentShader),y.set2fv(c,g),this},set3fv:function(c,g,y){return y===void 0&&(y=this.currentShader),y.set3fv(c,g),this},set4fv:function(c,g,y){return y===void 0&&(y=this.currentShader),y.set4fv(c,g),this},set1iv:function(c,g,y){return y===void 0&&(y=this.currentShader),y.set1iv(c,g),this},set2iv:function(c,g,y){return y===void 0&&(y=this.currentShader),y.set2iv(c,g),this},set3iv:function(c,g,y){return y===void 0&&(y=this.currentShader),y.set3iv(c,g),this},set4iv:function(c,g,y){return y===void 0&&(y=this.currentShader),y.set4iv(c,g),this},set1i:function(c,g,y){return y===void 0&&(y=this.currentShader),y.set1i(c,g),this},set2i:function(c,g,y,S){return S===void 0&&(S=this.currentShader),S.set2i(c,g,y),this},set3i:function(c,g,y,S,P){return P===void 0&&(P=this.currentShader),P.set3i(c,g,y,S),this},set4i:function(c,g,y,S,P,C){return C===void 0&&(C=this.currentShader),C.set4i(c,g,y,S,P),this},setMatrix2fv:function(c,g,y,S){return S===void 0&&(S=this.currentShader),S.setMatrix2fv(c,g,y),this},setMatrix3fv:function(c,g,y,S){return S===void 0&&(S=this.currentShader),S.setMatrix3fv(c,g,y),this},setMatrix4fv:function(c,g,y,S){return S===void 0&&(S=this.currentShader),S.setMatrix4fv(c,g,y),this},destroy:function(){this.emit(o.DESTROY,this);var c,g=this.shaders;for(c=0;c<g.length;c++)g[c].destroy();var y=this.renderTargets;for(c=0;c<y.length;c++)y[c].destroy();this.gl.deleteBuffer(this.vertexBuffer);var S=this.renderer;return S.off(r.RESIZE,this.resize,this),S.off(r.PRE_RENDER,this.onPreRender,this),S.off(r.RENDER,this.onRender,this),S.off(r.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});l.exports=p},11857:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66458),m=e(89787),d=e(56694),o=e(86459),h=e(6659),n=e(81044),r=e(28621),f=e(16650),a=e(72283),v=e(35217),p=e(37410),c=e(40444),g=e(38203),y=e(75512),S=e(1217),P=new d({Extends:h,initialize:function(M){h.call(this);var R=M.config,w={alpha:R.transparent,desynchronized:R.desynchronized,depth:!0,antialias:R.antialiasGL,premultipliedAlpha:R.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:R.failIfMajorPerformanceCaveat,powerPreference:R.powerPreference,preserveDrawingBuffer:R.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:R.clearBeforeRender,antialias:R.antialias,backgroundColor:R.backgroundColor,contextCreation:w,roundPixels:R.roundPixels,maxTextures:R.maxTextures,maxTextureSize:R.maxTextureSize,batchSize:R.batchSize,maxLights:R.maxLights,mipmapFilter:R.mipmapFilter},this.game=M,this.type=o.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=M.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=a,this.contextRestoredHandler=a,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(C){var M,R=this.game,w=this.canvas,O=C.backgroundColor;if(R.config.context?M=R.config.context:M=w.getContext("webgl",C.contextCreation)||w.getContext("experimental-webgl",C.contextCreation),!M||M.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=M;var F=this;this.contextLostHandler=function(W){F.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),W.preventDefault()},w.addEventListener("webglcontextlost",this.contextLostHandler,!1),R.context=M;for(var L=0;L<=27;L++)this.blendModes.push({func:[M.ONE,M.ONE_MINUS_SRC_ALPHA],equation:M.FUNC_ADD});this.blendModes[1].func=[M.ONE,M.DST_ALPHA],this.blendModes[2].func=[M.DST_COLOR,M.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[M.ONE,M.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[M.ZERO,M.ONE_MINUS_SRC_ALPHA],equation:M.FUNC_REVERSE_SUBTRACT},this.glFormats=[M.BYTE,M.SHORT,M.UNSIGNED_BYTE,M.UNSIGNED_SHORT,M.FLOAT],this.glFuncMap={mat2:{func:M.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:M.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:M.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:M.uniform1f,length:1},"1fv":{func:M.uniform1fv,length:1},"1i":{func:M.uniform1i,length:1},"1iv":{func:M.uniform1iv,length:1},"2f":{func:M.uniform2f,length:2},"2fv":{func:M.uniform2fv,length:1},"2i":{func:M.uniform2i,length:2},"2iv":{func:M.uniform2iv,length:1},"3f":{func:M.uniform3f,length:3},"3fv":{func:M.uniform3fv,length:1},"3i":{func:M.uniform3i,length:3},"3iv":{func:M.uniform3iv,length:1},"4f":{func:M.uniform4f,length:4},"4fv":{func:M.uniform4fv,length:1},"4i":{func:M.uniform4i,length:4},"4iv":{func:M.uniform4iv,length:1}};var b=M.getSupportedExtensions();(!C.maxTextures||C.maxTextures===-1)&&(C.maxTextures=M.getParameter(M.MAX_TEXTURE_IMAGE_UNITS)),C.maxTextureSize||(C.maxTextureSize=M.getParameter(M.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),this.supportedExtensions=b;var B="ANGLE_instanced_arrays";this.instancedArraysExtension=b.indexOf(B)>-1?M.getExtension(B):null;var I="OES_vertex_array_object";this.vaoExtension=b.indexOf(I)>-1?M.getExtension(I):null,M.disable(M.DEPTH_TEST),M.disable(M.CULL_FACE),M.enable(M.BLEND),M.clearColor(O.redGL,O.greenGL,O.blueGL,O.alphaGL),C.mipmapFilter!==""&&(this.mipmapFilter=M[C.mipmapFilter]),this.maxTextures=y.checkShaderMax(M,C.maxTextures),this.textureIndexes=[];for(var z=0;z<this.maxTextures;z++){var Y=M.createTexture();M.activeTexture(M.TEXTURE0+z),M.bindTexture(M.TEXTURE_2D,Y),M.texImage2D(M.TEXTURE_2D,0,M.RGBA,1,1,0,M.RGBA,M.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(z)}return this.pipelines=new v(this),this.setBlendMode(o.BlendModes.NORMAL),this.projectionMatrix=new f().identity(),R.textures.once(g.READY,this.boot,this),this},boot:function(){var C=this.game,M=this.pipelines,R=C.scale.baseSize,w=R.width,O=R.height;this.width=w,this.height=O,this.isBooted=!0,this.renderTarget=new p(this,w,O,1,0,!0,!0),this.maskTarget=new p(this,w,O,1,0,!0,!0),this.maskSource=new p(this,w,O,1,0,!0,!0);var F=C.config;M.boot(F.pipeline,F.defaultPipeline,F.autoMobilePipeline),this.blankTexture=C.textures.getFrame("__DEFAULT").glTexture,this.whiteTexture=C.textures.getFrame("__WHITE").glTexture;var L=this.gl;L.bindFramebuffer(L.FRAMEBUFFER,null),L.enable(L.SCISSOR_TEST),C.scale.on(c.RESIZE,this.onResize,this),this.resize(w,O)},captureFrame:function(C,M){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(C,M,R){},stopCapture:function(){},onCapture:function(C){},onResize:function(C,M){(M.width!==this.width||M.height!==this.height)&&this.resize(M.width,M.height)},beginCapture:function(C,M){C===void 0&&(C=this.width),M===void 0&&(M=this.height),this.renderTarget.bind(!0,C,M),this.setProjectionMatrix(C,M)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(C,M){var R=this.gl;return this.width=C,this.height=M,this.setProjectionMatrix(C,M),R.viewport(0,0,C,M),this.drawingBufferHeight=R.drawingBufferHeight,R.scissor(0,R.drawingBufferHeight-M,C,M),this.defaultScissor[2]=C,this.defaultScissor[3]=M,this.emit(n.RESIZE,C,M),this},getCompressedTextures:function(){var C="WEBGL_compressed_texture_",M="WEBKIT_"+C,R=function(O,F){var L=O.getExtension(C+F)||O.getExtension(M+F);if(L){var b={};for(var B in L)b[L[B]]=B;return b}},w=this.gl;return{ETC:R(w,"etc"),ETC1:R(w,"etc1"),ATC:R(w,"atc"),ASTC:R(w,"astc"),BPTC:R(w,"bptc"),RGTC:R(w,"rgtc"),PVRTC:R(w,"pvrtc"),S3TC:R(w,"s3tc"),S3TCSRGB:R(w,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(C,M){var R=this.compression[C.toUpperCase()];if(M in R)return R[M]},supportsCompressedTexture:function(C,M){var R=this.compression[C.toUpperCase()];return R?M?M in R:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(C,M){return(C!==this.projectionWidth||M!==this.projectionHeight)&&(this.projectionWidth=C,this.projectionHeight=M,this.projectionMatrix.ortho(0,C,M,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(C){return this.supportedExtensions?this.supportedExtensions.indexOf(C):!1},getExtension:function(C){return this.hasExtension(C)?(C in this.extensions||(this.extensions[C]=this.gl.getExtension(C)),this.extensions[C]):null},flush:function(){this.pipelines.flush()},pushScissor:function(C,M,R,w,O){O===void 0&&(O=this.drawingBufferHeight);var F=this.scissorStack,L=[C,M,R,w];return F.push(L),this.setScissor(C,M,R,w,O),this.currentScissor=L,L},setScissor:function(C,M,R,w,O){O===void 0&&(O=this.drawingBufferHeight);var F=this.gl,L=this.currentScissor,b=R>0&&w>0;if(L&&b){var B=L[0],I=L[1],z=L[2],Y=L[3];b=B!==C||I!==M||z!==R||Y!==w}b&&(this.flush(),F.scissor(C,O-M-w,R,w))},resetScissor:function(){var C=this.gl;C.enable(C.SCISSOR_TEST);var M=this.currentScissor;if(M){var R=M[0],w=M[1],O=M[2],F=M[3];O>0&&F>0&&C.scissor(R,this.drawingBufferHeight-w-F,O,F)}},popScissor:function(){var C=this.scissorStack;C.pop();var M=C[C.length-1];M&&this.setScissor(M[0],M[1],M[2],M[3]),this.currentScissor=M},hasActiveStencilMask:function(){var C=this.currentMask.mask,M=this.currentCameraMask.mask;return C&&C.isStencil||M&&M.isStencil},resetViewport:function(){var C=this.gl;C.viewport(0,0,this.width,this.height),this.drawingBufferHeight=C.drawingBufferHeight},setBlendMode:function(C,M){M===void 0&&(M=!1);var R=this.gl,w=this.blendModes[C];return M||C!==o.BlendModes.SKIP_CHECK&&this.currentBlendMode!==C?(this.flush(),R.enable(R.BLEND),R.blendEquation(w.equation),w.func.length>2?R.blendFuncSeparate(w.func[0],w.func[1],w.func[2],w.func[3]):R.blendFunc(w.func[0],w.func[1]),this.currentBlendMode=C,!0):!1},addBlendMode:function(C,M){var R=this.blendModes.push({func:C,equation:M});return R-1},updateBlendMode:function(C,M,R){return this.blendModes[C]&&(this.blendModes[C].func=M,R&&(this.blendModes[C].equation=R)),this},removeBlendMode:function(C){return C>17&&this.blendModes[C]&&this.blendModes.splice(C,1),this},pushFramebuffer:function(C,M,R,w,O){return C===this.currentFramebuffer?this:(this.fboStack.push(C),this.setFramebuffer(C,M,R,w,O))},setFramebuffer:function(C,M,R,w,O){if(M===void 0&&(M=!1),R===void 0&&(R=!0),w===void 0&&(w=null),O===void 0&&(O=!1),C===this.currentFramebuffer)return this;var F=this.gl,L=this.width,b=this.height;return C&&C.renderTexture&&R?(L=C.renderTexture.width,b=C.renderTexture.height):this.flush(),F.bindFramebuffer(F.FRAMEBUFFER,C),R&&F.viewport(0,0,L,b),w&&F.framebufferTexture2D(F.FRAMEBUFFER,F.COLOR_ATTACHMENT0,F.TEXTURE_2D,w,0),O&&(F.clearColor(0,0,0,0),F.clear(F.COLOR_BUFFER_BIT)),M&&(C?(this.drawingBufferHeight=b,this.pushScissor(0,0,L,b)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=C,this},popFramebuffer:function(C,M){C===void 0&&(C=!1),M===void 0&&(M=!0);var R=this.fboStack;R.pop();var w=R[R.length-1];return w||(w=null),this.setFramebuffer(w,C,M),w},restoreFramebuffer:function(C,M){C===void 0&&(C=!1),M===void 0&&(M=!0);var R=this.fboStack,w=R[R.length-1];w||(w=null),this.currentFramebuffer=null,this.setFramebuffer(w,C,M)},setProgram:function(C){return C!==this.currentProgram?(this.flush(),this.gl.useProgram(C),this.currentProgram=C,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram),this},createTextureFromSource:function(C,M,R,w,O){O===void 0&&(O=!1);var F=this.gl,L=F.NEAREST,b=F.NEAREST,B=F.CLAMP_TO_EDGE,I=null;M=C?C.width:M,R=C?C.height:R;var z=r(M,R);return z&&!O&&(B=F.REPEAT),w===o.ScaleModes.LINEAR&&this.config.antialias&&(L=z&&this.mipmapFilter?this.mipmapFilter:F.LINEAR,b=F.LINEAR),C&&C.compressed&&(L=F.LINEAR,b=F.LINEAR),!C&&typeof M=="number"&&typeof R=="number"?I=this.createTexture2D(0,L,b,B,B,F.RGBA,null,M,R):I=this.createTexture2D(0,L,b,B,B,F.RGBA,C),I},createTexture2D:function(C,M,R,w,O,F,L,b,B,I,z,Y){I=I??!0,z===void 0&&(z=!1),Y===void 0&&(Y=!1);var W=this.gl,H=W.createTexture();W.activeTexture(W.TEXTURE0);var N=W.getParameter(W.TEXTURE_BINDING_2D);W.bindTexture(W.TEXTURE_2D,H),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MIN_FILTER,M),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MAG_FILTER,R),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_WRAP_S,O),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_WRAP_T,w),W.pixelStorei(W.UNPACK_PREMULTIPLY_ALPHA_WEBGL,I),Y&&W.pixelStorei(W.UNPACK_FLIP_Y_WEBGL,!0);var X=!1;if(L==null)W.texImage2D(W.TEXTURE_2D,C,F,b,B,0,F,W.UNSIGNED_BYTE,null),X=r(b,B);else if(L.compressed){b=L.width,B=L.height,X=L.generateMipmap;for(var D=0;D<L.mipmaps.length;D++)W.compressedTexImage2D(W.TEXTURE_2D,D,L.internalFormat,L.mipmaps[D].width,L.mipmaps[D].height,0,L.mipmaps[D].data)}else z||(b=L.width,B=L.height),W.texImage2D(W.TEXTURE_2D,C,F,F,W.UNSIGNED_BYTE,L),X=r(b,B);return X&&W.generateMipmap(W.TEXTURE_2D),N&&W.bindTexture(W.TEXTURE_2D,N),H.isAlphaPremultiplied=I,H.isRenderTexture=!1,H.width=b,H.height=B,H},createFramebuffer:function(C,M,R,w){w===void 0&&(w=!0);var O=this.gl,F=O.createFramebuffer(),L=0;if(this.setFramebuffer(F),R.isRenderTexture=!0,R.isAlphaPremultiplied=!1,O.framebufferTexture2D(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0,O.TEXTURE_2D,R,0),L=O.checkFramebufferStatus(O.FRAMEBUFFER),L!==O.FRAMEBUFFER_COMPLETE){var b={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"};throw new Error("Framebuffer status: "+(b[L]||L))}if(F.renderTexture=R,w){var B=O.createRenderbuffer();O.bindRenderbuffer(O.RENDERBUFFER,B),O.renderbufferStorage(O.RENDERBUFFER,O.DEPTH_STENCIL,C,M),O.framebufferRenderbuffer(O.FRAMEBUFFER,O.DEPTH_STENCIL_ATTACHMENT,O.RENDERBUFFER,B)}return this.setFramebuffer(null),F},beginBitmapMask:function(C,M){var R=this.gl;R&&(this.flush(),this.maskTarget.bind(),this.currentCameraMask.mask!==C&&(this.currentMask.mask=C,this.currentMask.camera=M))},drawBitmapMask:function(C,M,R){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),C.renderWebGL(this,C,M),this.maskSource.unbind(!0),this.maskTarget.unbind();var w=this.gl,O=this.getCurrentStencilMask();O?(w.enable(w.STENCIL_TEST),O.mask.applyStencil(this,O.camera,!0)):this.currentMask.mask=null,this.pipelines.set(R),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,this.maskTarget.texture),w.activeTexture(w.TEXTURE1),w.bindTexture(w.TEXTURE_2D,this.maskSource.texture)},createProgram:function(C,M){var R=this.gl,w=R.createProgram(),O=R.createShader(R.VERTEX_SHADER),F=R.createShader(R.FRAGMENT_SHADER);R.shaderSource(O,C),R.shaderSource(F,M),R.compileShader(O),R.compileShader(F);var L=`Shader failed:
`;if(!R.getShaderParameter(O,R.COMPILE_STATUS))throw new Error("Vertex "+L+R.getShaderInfoLog(O));if(!R.getShaderParameter(F,R.COMPILE_STATUS))throw new Error("Fragment "+L+R.getShaderInfoLog(F));if(R.attachShader(w,O),R.attachShader(w,F),R.linkProgram(w),!R.getProgramParameter(w,R.LINK_STATUS))throw new Error("Link "+L+R.getProgramInfoLog(w));return R.useProgram(w),w},createVertexBuffer:function(C,M){var R=this.gl,w=R.createBuffer();return R.bindBuffer(R.ARRAY_BUFFER,w),R.bufferData(R.ARRAY_BUFFER,C,M),R.bindBuffer(R.ARRAY_BUFFER,null),w},createIndexBuffer:function(C,M){var R=this.gl,w=R.createBuffer();return R.bindBuffer(R.ELEMENT_ARRAY_BUFFER,w),R.bufferData(R.ELEMENT_ARRAY_BUFFER,C,M),R.bindBuffer(R.ELEMENT_ARRAY_BUFFER,null),w},deleteTexture:function(C){return C&&this.gl.deleteTexture(C),this},deleteFramebuffer:function(C){if(C){var M=this.gl;M.bindFramebuffer(M.FRAMEBUFFER,C);var R=M.getParameter(M.RENDERBUFFER_BINDING);R&&M.deleteRenderbuffer(R),M.bindFramebuffer(M.FRAMEBUFFER,null),M.deleteFramebuffer(C),u(this.fboStack,C),this.currentFramebuffer===C&&(this.currentFramebuffer=null)}return this},deleteProgram:function(C){return C&&this.gl.deleteProgram(C),this},deleteBuffer:function(C){return this.gl.deleteBuffer(C),this},preRenderCamera:function(C){var M=C.x,R=C.y,w=C.width,O=C.height,F=C.backgroundColor;if(C.emit(m.PRE_RENDER,C),this.pipelines.preBatchCamera(C),this.pushScissor(M,R,w,O),C.mask&&(this.currentCameraMask.mask=C.mask,this.currentCameraMask.camera=C._maskCamera,C.mask.preRenderWebGL(this,C,C._maskCamera)),F.alphaGL>0){var L=this.pipelines.setMulti();L.drawFillRect(M,R,w,O,y.getTintFromFloats(F.blueGL,F.greenGL,F.redGL,1),F.alphaGL)}},getCurrentStencilMask:function(){var C=null,M=this.maskStack,R=this.currentCameraMask;return M.length>0?C=M[M.length-1]:R.mask&&R.mask.isStencil&&(C=R),C},postRenderCamera:function(C){var M=C.flashEffect,R=C.fadeEffect;if(M.isRunning||R.isRunning||R.isComplete){var w=this.pipelines.setMulti();M.postRenderWebGL(w,y.getTintFromFloats),R.postRenderWebGL(w,y.getTintFromFloats)}C.dirty=!1,this.popScissor(),C.mask&&(this.currentCameraMask.mask=null,C.mask.postRenderWebGL(this,C._maskCamera)),this.pipelines.postBatchCamera(C),C.emit(m.POST_RENDER,C)},preRender:function(){if(!this.contextLost){var C=this.gl;if(C.bindFramebuffer(C.FRAMEBUFFER,null),this.config.clearBeforeRender){var M=this.config.backgroundColor;C.clearColor(M.redGL,M.greenGL,M.blueGL,M.alphaGL),C.clear(C.COLOR_BUFFER_BIT|C.DEPTH_BUFFER_BIT|C.STENCIL_BUFFER_BIT)}C.enable(C.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&C.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(n.PRE_RENDER)}},render:function(C,M,R){if(!this.contextLost){var w=M.length;if(this.emit(n.RENDER,C,R),this.preRenderCamera(R),w===0){this.setBlendMode(o.BlendModes.NORMAL),this.postRenderCamera(R);return}this.currentType="";for(var O=this.currentMask,F=0;F<w;F++){this.finalType=F===w-1;var L=M[F],b=L.mask;O=this.currentMask,O.mask&&O.mask!==b&&O.mask.postRenderWebGL(this,O.camera),b&&O.mask!==b&&b.preRenderWebGL(this,L,R),L.blendMode!==this.currentBlendMode&&this.setBlendMode(L.blendMode);var B=L.type;B!==this.currentType&&(this.newType=!0,this.currentType=B),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=M[F+1].type===this.currentType,L.renderWebGL(this,L,R),this.newType=!1}O=this.currentMask,O.mask&&O.mask.postRenderWebGL(this,O.camera),this.setBlendMode(o.BlendModes.NORMAL),this.postRenderCamera(R)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(n.POST_RENDER);var C=this.snapshotState;C.callback&&(S(this.gl,C),C.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var C=this.gl,M=this.getCurrentStencilMask();if(M){var R=M.mask;C.enable(C.STENCIL_TEST),R.invertAlpha?C.stencilFunc(C.NOTEQUAL,R.level,255):C.stencilFunc(C.EQUAL,R.level,255)}},snapshot:function(C,M,R){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,C,M,R)},snapshotArea:function(C,M,R,w,O,F,L){var b=this.snapshotState;return b.callback=O,b.type=F,b.encoder=L,b.getPixel=!1,b.x=C,b.y=M,b.width=R,b.height=w,this},snapshotPixel:function(C,M,R){return this.snapshotArea(C,M,1,1,R),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(C,M,R,w,O,F,L,b,B,I,z){O===void 0&&(O=!1),F===void 0&&(F=0),L===void 0&&(L=0),b===void 0&&(b=M),B===void 0&&(B=R),I==="pixel"&&(O=!0,I="image/png");var Y=this.currentFramebuffer;this.snapshotArea(F,L,b,B,w,I,z);var W=this.snapshotState;return W.getPixel=O,W.isFramebuffer=!0,W.bufferWidth=M,W.bufferHeight=R,W.width=Math.min(W.width,M),W.height=Math.min(W.height,R),this.setFramebuffer(C),S(this.gl,W),this.setFramebuffer(Y),W.callback=null,W.isFramebuffer=!1,this},canvasToTexture:function(C,M,R,w){return R===void 0&&(R=!1),w===void 0&&(w=!1),M?this.updateCanvasTexture(C,M,w):this.createCanvasTexture(C,R,w)},createCanvasTexture:function(C,M,R){M===void 0&&(M=!1),R===void 0&&(R=!1);var w=this.gl,O=w.NEAREST,F=w.NEAREST,L=C.width,b=C.height,B=w.CLAMP_TO_EDGE,I=r(L,b);return!M&&I&&(B=w.REPEAT),this.config.antialias&&(O=I&&this.mipmapFilter?this.mipmapFilter:w.LINEAR,F=w.LINEAR),this.createTexture2D(0,O,F,B,B,w.RGBA,C,L,b,!0,!1,R)},updateCanvasTexture:function(C,M,R){R===void 0&&(R=!1);var w=this.gl,O=C.width,F=C.height;if(O>0&&F>0){w.activeTexture(w.TEXTURE0);var L=w.getParameter(w.TEXTURE_BINDING_2D);w.bindTexture(w.TEXTURE_2D,M),R&&w.pixelStorei(w.UNPACK_FLIP_Y_WEBGL,!0),w.pixelStorei(w.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),w.texImage2D(w.TEXTURE_2D,0,w.RGBA,w.RGBA,w.UNSIGNED_BYTE,C),M.width=O,M.height=F,L&&w.bindTexture(w.TEXTURE_2D,L)}return M},createVideoTexture:function(C,M,R){M===void 0&&(M=!1),R===void 0&&(R=!1);var w=this.gl,O=w.NEAREST,F=w.NEAREST,L=C.videoWidth,b=C.videoHeight,B=w.CLAMP_TO_EDGE,I=r(L,b);return!M&&I&&(B=w.REPEAT),this.config.antialias&&(O=I&&this.mipmapFilter?this.mipmapFilter:w.LINEAR,F=w.LINEAR),this.createTexture2D(0,O,F,B,B,w.RGBA,C,L,b,!0,!0,R)},updateVideoTexture:function(C,M,R){R===void 0&&(R=!1);var w=this.gl,O=C.videoWidth,F=C.videoHeight;if(O>0&&F>0){w.activeTexture(w.TEXTURE0);var L=w.getParameter(w.TEXTURE_BINDING_2D);w.bindTexture(w.TEXTURE_2D,M),w.pixelStorei(w.UNPACK_FLIP_Y_WEBGL,R),w.texImage2D(w.TEXTURE_2D,0,w.RGBA,w.RGBA,w.UNSIGNED_BYTE,C),M.width=O,M.height=F,L&&w.bindTexture(w.TEXTURE_2D,L)}return M},setTextureFilter:function(C,M){var R=this.gl,w=[R.LINEAR,R.NEAREST][M];R.activeTexture(R.TEXTURE0);var O=R.getParameter(R.TEXTURE_BINDING_2D);return R.bindTexture(R.TEXTURE_2D,C),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_MIN_FILTER,w),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_MAG_FILTER,w),O&&R.bindTexture(R.TEXTURE_2D,O),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});l.exports=P},71305:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(72632),d=e(71402),o=new u({initialize:function(n,r,f,a,v){this.pipeline=n,this.name=r,this.renderer=n.renderer,this.gl=this.renderer.gl,this.fragSrc=a,this.vertSrc=f,this.program=this.renderer.createProgram(f,a),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(v),this.createUniforms()},createAttributes:function(h){var n=0,r=0,f=[];this.vertexComponentCount=0;for(var a=0;a<h.length;a++){var v=h[a],p=v.name,c=m(v,"size",1),g=m(v,"type",d.FLOAT),y=g.enum,S=g.size,P=!!v.normalized;f.push({name:p,size:c,type:y,normalized:P,offset:r,enabled:!1,location:-1}),S===4?n+=c:n++,r+=c*S}this.vertexSize=r,this.vertexComponentCount=n,this.attributes=f},bind:function(h,n){return h===void 0&&(h=!1),n===void 0&&(n=!1),n&&this.pipeline.flush(),this.renderer.setProgram(this.program),h&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(h){h===void 0&&(h=!1);for(var n=this.gl,r=this.vertexSize,f=this.attributes,a=this.program,v=0;v<f.length;v++){var p=f[v],c=p.size,g=p.type,y=p.offset,S=p.enabled,P=p.location,C=!!p.normalized;if(h){var M=n.getAttribLocation(a,p.name);M>=0?(n.enableVertexAttribArray(M),n.vertexAttribPointer(M,c,g,C,r,y),p.enabled=!0,p.location=M):M!==-1&&n.disableVertexAttribArray(M)}else S?n.vertexAttribPointer(P,c,g,C,r,y):!S&&P>-1&&(n.disableVertexAttribArray(P),p.location=-1)}return this},createUniforms:function(){var h=this.gl,n=this.program,r=this.uniforms,f,a,v,p=h.getProgramParameter(n,h.ACTIVE_UNIFORMS);for(f=0;f<p;f++){var c=h.getActiveUniform(n,f);if(c){a=c.name,v=h.getUniformLocation(n,a),v!==null&&(r[a]={name:a,location:v,value1:null,value2:null,value3:null,value4:null});var g=a.indexOf("[");g>0&&(a=a.substr(0,g),r.hasOwnProperty(a)||(v=h.getUniformLocation(n,a),v!==null&&(r[a]={name:a,location:v,value1:null,value2:null,value3:null,value4:null})))}}return this},hasUniform:function(h){return this.uniforms.hasOwnProperty(h)},resetUniform:function(h){var n=this.uniforms[h];return n&&(n.value1=null,n.value2=null,n.value3=null,n.value4=null),this},setUniform1:function(h,n,r,f){var a=this.uniforms[n];return a?((f||a.value1!==r)&&(a.value1=r,this.renderer.setProgram(this.program),h.call(this.gl,a.location,r),this.pipeline.currentShader=this),this):this},setUniform2:function(h,n,r,f,a){var v=this.uniforms[n];return v?((a||v.value1!==r||v.value2!==f)&&(v.value1=r,v.value2=f,this.renderer.setProgram(this.program),h.call(this.gl,v.location,r,f),this.pipeline.currentShader=this),this):this},setUniform3:function(h,n,r,f,a,v){var p=this.uniforms[n];return p?((v||p.value1!==r||p.value2!==f||p.value3!==a)&&(p.value1=r,p.value2=f,p.value3=a,this.renderer.setProgram(this.program),h.call(this.gl,p.location,r,f,a),this.pipeline.currentShader=this),this):this},setUniform4:function(h,n,r,f,a,v,p){var c=this.uniforms[n];return c?((p||c.value1!==r||c.value2!==f||c.value3!==a||c.value4!==v)&&(c.value1=r,c.value2=f,c.value3=a,c.value4=v,this.renderer.setProgram(this.program),h.call(this.gl,c.location,r,f,a,v),this.pipeline.currentShader=this),this):this},setBoolean:function(h,n){return this.setUniform1(this.gl.uniform1i,h,Number(n))},set1f:function(h,n){return this.setUniform1(this.gl.uniform1f,h,n)},set2f:function(h,n,r){return this.setUniform2(this.gl.uniform2f,h,n,r)},set3f:function(h,n,r,f){return this.setUniform3(this.gl.uniform3f,h,n,r,f)},set4f:function(h,n,r,f,a){return this.setUniform4(this.gl.uniform4f,h,n,r,f,a)},set1fv:function(h,n){return this.setUniform1(this.gl.uniform1fv,h,n,!0)},set2fv:function(h,n){return this.setUniform1(this.gl.uniform2fv,h,n,!0)},set3fv:function(h,n){return this.setUniform1(this.gl.uniform3fv,h,n,!0)},set4fv:function(h,n){return this.setUniform1(this.gl.uniform4fv,h,n,!0)},set1iv:function(h,n){return this.setUniform1(this.gl.uniform1iv,h,n,!0)},set2iv:function(h,n){return this.setUniform1(this.gl.uniform2iv,h,n,!0)},set3iv:function(h,n){return this.setUniform1(this.gl.uniform3iv,h,n,!0)},set4iv:function(h,n){return this.setUniform1(this.gl.uniform4iv,h,n,!0)},set1i:function(h,n){return this.setUniform1(this.gl.uniform1i,h,n)},set2i:function(h,n,r){return this.setUniform2(this.gl.uniform2i,h,n,r)},set3i:function(h,n,r,f){return this.setUniform3(this.gl.uniform3i,h,n,r,f)},set4i:function(h,n,r,f,a){return this.setUniform4(this.gl.uniform4i,h,n,r,f,a)},setMatrix2fv:function(h,n,r){return this.setUniform2(this.gl.uniformMatrix2fv,h,n,r,!0)},setMatrix3fv:function(h,n,r){return this.setUniform2(this.gl.uniformMatrix3fv,h,n,r,!0)},setMatrix4fv:function(h,n,r){return this.setUniform2(this.gl.uniformMatrix4fv,h,n,r,!0)},createProgram:function(h,n){h===void 0&&(h=this.vertSrc),n===void 0&&(n=this.fragSrc);var r=this.gl;return this.program&&r.deleteProgram(this.program),this.vertSrc=h,this.fragSrc=n,this.program=this.renderer.createProgram(h,n),this.createUniforms(),this.rebind()},destroy:function(){this.gl.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null,this.attributes=null,this.uniforms=null}});l.exports=o},71402:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};l.exports=T},55478:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(71402),m=e(98611),d={PipelineManager:e(35217),Pipelines:e(62253),RenderTarget:e(37410),Utils:e(75512),WebGLPipeline:e(44775),WebGLRenderer:e(11857),WebGLShader:e(71305)};d=m(!1,d,u),l.exports=d},5583:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(72632),d=e(91679),o=e(89053),h=e(71402),n=e(44775),r=new u({Extends:n,initialize:function(a){a.fragShader=m(a,"fragShader",d),a.vertShader=m(a,"vertShader",o),a.batchSize=m(a,"batchSize",1),a.vertices=m(a,"vertices",[-1,1,-1,-7,7,1]),a.attributes=m(a,"attributes",[{name:"inPosition",size:2,type:h.FLOAT}]),n.call(this,a)},boot:function(){n.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(f,a){n.prototype.resize.call(this,f,a),this.set2f("uResolution",f,a)},beginMask:function(f,a,v){this.renderer.beginBitmapMask(f,v)},endMask:function(f,a,v){var p=this.gl,c=this.renderer,g=f.bitmapMask;g&&p&&(c.drawBitmapMask(g,a,this),v&&this.set2f("uResolution",v.width,v.height),this.set1i("uInvertMaskAlpha",f.invertAlpha),p.drawArrays(this.topology,0,3),v&&this.set2f("uResolution",this.width,this.height),p.bindTexture(p.TEXTURE_2D,null))}});l.exports=r},81828:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(58136),d=e(47406),o=e(72632),h=e(87228),n=e(92462),r=e(75512),f=new u({Extends:h,initialize:function(v){v.shaders=[r.setGlowQuality(n.FXGlowFrag,v.game),n.FXShadowFrag,n.FXPixelateFrag,n.FXVignetteFrag,n.FXShineFrag,n.FXBlurLowFrag,n.FXBlurMedFrag,n.FXBlurHighFrag,n.FXGradientFrag,n.FXBloomFrag,n.ColorMatrixFrag,n.FXCircleFrag,n.FXBarrelFrag,n.FXDisplacementFrag,n.FXWipeFrag,n.FXBokehFrag],h.call(this,v);var p=this.game;this.glow=new m.Glow(p),this.shadow=new m.Shadow(p),this.pixelate=new m.Pixelate(p),this.vignette=new m.Vignette(p),this.shine=new m.Shine(p),this.gradient=new m.Gradient(p),this.circle=new m.Circle(p),this.barrel=new m.Barrel(p),this.wipe=new m.Wipe(p),this.bokeh=new m.Bokeh(p);var c=[];c[d.GLOW]=this.onGlow,c[d.SHADOW]=this.onShadow,c[d.PIXELATE]=this.onPixelate,c[d.VIGNETTE]=this.onVignette,c[d.SHINE]=this.onShine,c[d.BLUR]=this.onBlur,c[d.GRADIENT]=this.onGradient,c[d.BLOOM]=this.onBloom,c[d.COLOR_MATRIX]=this.onColorMatrix,c[d.CIRCLE]=this.onCircle,c[d.BARREL]=this.onBarrel,c[d.DISPLACEMENT]=this.onDisplacement,c[d.WIPE]=this.onWipe,c[d.BOKEH]=this.onBokeh,this.fxHandlers=c,this.source,this.target,this.swap},onDraw:function(a,v,p){this.source=a,this.target=v,this.swap=p;var c=a.width,g=a.height,y=this.tempSprite,S=this.fxHandlers;if(y&&y.preFX)for(var P=y.preFX.list,C=0;C<P.length;C++){var M=P[C];M.active&&S[M.type].call(this,M,c,g)}this.drawToGame(this.source)},runDraw:function(){var a=this.source,v=this.target;this.copy(a,v),this.source=v,this.target=a},onGlow:function(a,v,p){var c=this.shaders[d.GLOW];this.setShader(c),this.glow.onPreRender(a,c,v,p),this.runDraw()},onShadow:function(a){var v=this.shaders[d.SHADOW];this.setShader(v),this.shadow.onPreRender(a,v),this.runDraw()},onPixelate:function(a,v,p){var c=this.shaders[d.PIXELATE];this.setShader(c),this.pixelate.onPreRender(a,c,v,p),this.runDraw()},onVignette:function(a){var v=this.shaders[d.VIGNETTE];this.setShader(v),this.vignette.onPreRender(a,v),this.runDraw()},onShine:function(a,v,p){var c=this.shaders[d.SHINE];this.setShader(c),this.shine.onPreRender(a,c,v,p),this.runDraw()},onBlur:function(a,v,p){var c=o(a,"quality"),g=this.shaders[d.BLUR+c];this.setShader(g),this.set1i("uMainSampler",0),this.set2f("resolution",v,p),this.set1f("strength",o(a,"strength")),this.set3fv("color",o(a,"glcolor"));for(var y=o(a,"x"),S=o(a,"y"),P=o(a,"steps"),C=0;C<P;C++)this.set2f("offset",y,0),this.runDraw(),this.set2f("offset",0,S),this.runDraw()},onGradient:function(a){var v=this.shaders[d.GRADIENT];this.setShader(v),this.gradient.onPreRender(a,v),this.runDraw()},onBloom:function(a,v,p){var c=this.shaders[d.BLOOM];this.copySprite(this.source,this.swap),this.setShader(c),this.set1i("uMainSampler",0),this.set1f("strength",o(a,"blurStrength")),this.set3fv("color",o(a,"glcolor"));for(var g=2/v*o(a,"offsetX"),y=2/p*o(a,"offsetY"),S=o(a,"steps"),P=0;P<S;P++)this.set2f("offset",g,0),this.runDraw(),this.set2f("offset",0,y),this.runDraw();this.blendFrames(this.swap,this.source,this.target,o(a,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(a){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",a.getData()),this.set1f("uAlpha",a.alpha),this.runDraw()},onCircle:function(a,v,p){var c=this.shaders[d.CIRCLE];this.setShader(c),this.circle.onPreRender(a,c,v,p),this.runDraw()},onBarrel:function(a){var v=this.shaders[d.BARREL];this.setShader(v),this.barrel.onPreRender(a,v),this.runDraw()},onDisplacement:function(a){this.setShader(this.shaders[d.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",a.x,a.y),this.bindTexture(a.glTexture,1),this.runDraw()},onWipe:function(a){var v=this.shaders[d.WIPE];this.setShader(v),this.wipe.onPreRender(a,v),this.runDraw()},onBokeh:function(a,v,p){var c=this.shaders[d.BOKEH];this.setShader(c),this.bokeh.onPreRender(a,c,v,p),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,h.prototype.destroy.call(this),this}});l.exports=f},66901:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(72632),d=e(65045),o=e(77310),h=e(69360),n=e(93736),r=e(44775),f=new u({Extends:o,initialize:function(v){var p=m(v,"fragShader",d);v.fragShader=p.replace("%LIGHT_COUNT%",v.game.renderer.config.maxLights),o.call(this,v),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.defaultNormalMap,this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new n,this._tempMatrix=new h,this._tempMatrix2=new h},boot:function(){r.prototype.boot.call(this);var a=this.gl,v=a.createTexture();a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,v),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,new Uint8Array([127,127,255,255])),this.defaultNormalMap={glTexture:v}},onRender:function(a,v){var p=a.sys.lights;if(this.lightsActive=!1,!(!p||!p.active)){var c=p.getLights(v),g=c.length;this.lightsActive=!0;var y,S=this.renderer,P=S.height,C=v.matrix,M=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",v.x,v.y,v.rotation,v.zoom),this.set3f("uAmbientLightColor",p.ambientColor.r,p.ambientColor.g,p.ambientColor.b),this.set1i("uLightCount",g),y=0;y<g;y++){var R=c[y].light,w=R.color,O="uLights["+y+"].";C.transformPoint(R.x,R.y,M),this.set2f(O+"position",M.x-v.scrollX*R.scrollFactorX*v.zoom,P-(M.y-v.scrollY*R.scrollFactorY*v.zoom)),this.set3f(O+"color",w.r,w.g,w.b),this.set1f(O+"intensity",R.intensity),this.set1f(O+"radius",R.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(a){if(a!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var v=this.inverseRotationMatrix;if(a){var p=-a,c=Math.cos(p),g=Math.sin(p);v[1]=g,v[3]=-g,v[0]=v[4]=c}else v[0]=v[4]=1,v[1]=v[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,v),this.currentNormalMapRotation=a}},setTexture2D:function(a,v){var p=this.renderer;a===void 0&&(a=p.whiteTexture);var c=this.getNormalMap(v);this.isNewNormalMap(a,c)&&(this.flush(),this.createBatch(a),this.addTextureToBatch(c),this.currentNormalMap=c);var g=0;if(v&&v.parentContainer){var y=v.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);g=y.rotationNormalized}else v&&(g=v.rotation);return this.setNormalMapRotation(g),0},setGameObject:function(a,v){v===void 0&&(v=a.frame);var p=v.glTexture,c=this.getNormalMap(a);if(this.isNewNormalMap(p,c)&&(this.flush(),this.createBatch(p),this.addTextureToBatch(c),this.currentNormalMap=c),a.parentContainer){var g=a.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(g.rotationNormalized)}else this.setNormalMapRotation(a.rotation);return 0},isNewNormalMap:function(a,v){return this.currentTexture!==a||this.currentNormalMap!==v},getNormalMap:function(a){var v;return a?a.displayTexture?v=a.displayTexture.dataSource[a.displayFrame.sourceIndex]:a.texture?v=a.texture.dataSource[a.frame.sourceIndex]:a.tileset&&(Array.isArray(a.tileset)?v=a.tileset[0].image.dataSource[0]:v=a.tileset.image.dataSource[0]):v=this.defaultNormalMap,v||(v=this.defaultNormalMap),v.glTexture},batchSprite:function(a,v,p){this.lightsActive&&o.prototype.batchSprite.call(this,a,v,p)},batchTexture:function(a,v,p,c,g,y,S,P,C,M,R,w,O,F,L,b,B,I,z,Y,W,H,N,X,D,G,V,U,k,$,K,J){this.lightsActive&&o.prototype.batchTexture.call(this,a,v,p,c,g,y,S,P,C,M,R,w,O,F,L,b,B,I,z,Y,W,H,N,X,D,G,V,U,k,$,K,J)},batchTextureFrame:function(a,v,p,c,g,y,S){this.lightsActive&&o.prototype.batchTextureFrame.call(this,a,v,p,c,g,y,S)}});l.exports=f},71264:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(72632),d=e(77310),o=e(85060),h=e(18166),n=e(71402),r=e(44775),f=new u({Extends:d,initialize:function(v){v.fragShader=m(v,"fragShader",o),v.vertShader=m(v,"vertShader",h),v.attributes=m(v,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:n.UNSIGNED_BYTE,normalized:!0}]),v.forceZero=!0,d.call(this,v)},boot:function(){r.prototype.boot.call(this),this.set1i("uMainSampler",0)}});l.exports=f},77310:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(11117),d=e(72632),o=e(53787),h=e(15968),n=e(69360),r=e(75512),f=e(71402),a=e(44775),v=new u({Extends:a,initialize:function(c){var g=c.game.renderer,y=d(c,"fragShader",o);c.fragShader=r.parseFragmentShaderMaxTextures(y,g.maxTextures),c.vertShader=d(c,"vertShader",h),c.attributes=d(c,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:f.UNSIGNED_BYTE,normalized:!0}]),a.call(this,c),this._tempMatrix1=new n,this._tempMatrix2=new n,this._tempMatrix3=new n,this.calcMatrix=new n,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){a.prototype.boot.call(this),this.currentShader.set1iv("uMainSampler",this.renderer.textureIndexes)},batchSprite:function(p,c,g){this.manager.set(this,p);var y=this._tempMatrix1,S=this._tempMatrix2,P=this._tempMatrix3,C=p.frame,M=C.glTexture,R=C.u0,w=C.v0,O=C.u1,F=C.v1,L=C.x,b=C.y,B=C.cutWidth,I=C.cutHeight,z=C.customPivot,Y=p.displayOriginX,W=p.displayOriginY,H=-Y+L,N=-W+b;if(p.isCropped){var X=p._crop;(X.flipX!==p.flipX||X.flipY!==p.flipY)&&C.updateCropUVs(X,p.flipX,p.flipY),R=X.u0,w=X.v0,O=X.u1,F=X.v1,B=X.width,I=X.height,L=X.x,b=X.y,H=-Y+L,N=-W+b}var D=1,G=1;p.flipX&&(z||(H+=-C.realWidth+Y*2),D=-1),(p.flipY||C.source.isGLTexture&&!M.flipY)&&(z||(N+=-C.realHeight+W*2),G=-1);var V=p.x,U=p.y;S.applyITRS(V,U,p.rotation,p.scaleX*D,p.scaleY*G),y.copyFrom(c.matrix),g?(y.multiplyWithOffset(g,-c.scrollX*p.scrollFactorX,-c.scrollY*p.scrollFactorY),S.e=V,S.f=U):(S.e-=c.scrollX*p.scrollFactorX,S.f-=c.scrollY*p.scrollFactorY),y.multiply(S,P);var k=P.setQuad(H,N,H+B,N+I,c.roundPixels),$=r.getTintAppendFloatAlpha,K=c.alpha,J=$(p.tintTopLeft,K*p._alphaTL),Q=$(p.tintTopRight,K*p._alphaTR),q=$(p.tintBottomLeft,K*p._alphaBL),_=$(p.tintBottomRight,K*p._alphaBR);this.shouldFlush(6)&&this.flush();var et=this.setGameObject(p,C);this.manager.preBatch(p),this.batchQuad(p,k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7],R,w,O,F,J,Q,q,_,p.tintFill,M,et),this.manager.postBatch(p)},batchTexture:function(p,c,g,y,S,P,C,M,R,w,O,F,L,b,B,I,z,Y,W,H,N,X,D,G,V,U,k,$,K,J,Q,q){this.manager.set(this,p);var _=this._tempMatrix1,et=this._tempMatrix2,tt=this._tempMatrix3,rt=Y/g+k,lt=W/y+$,dt=(Y+H)/g+k,ut=(W+N)/y+$,st=C,ot=M,ht=-I,xt=-z;if(p.isCropped){var mt=p._crop,Gt=mt.width,wt=mt.height;st=Gt,ot=wt,C=Gt,M=wt,Y=mt.x,W=mt.y;var Pt=Y,gt=W;F&&(Pt=H-mt.x-Gt),L&&(gt=N-mt.y-wt),rt=Pt/g+k,lt=gt/y+$,dt=(Pt+Gt)/g+k,ut=(gt+wt)/y+$,ht=-I+Y,xt=-z+W}L=L^(!Q&&c.isRenderTexture?1:0),F&&(st*=-1,ht+=C),L&&(ot*=-1,xt+=M),et.applyITRS(S,P,O,R,w),_.copyFrom(K.matrix),J?(_.multiplyWithOffset(J,-K.scrollX*b,-K.scrollY*B),et.e=S,et.f=P):(et.e-=K.scrollX*b,et.f-=K.scrollY*B),_.multiply(et,tt);var Ot=tt.setQuad(ht,xt,ht+st,xt+ot,K.roundPixels);q===void 0&&(q=this.setTexture2D(c)),p&&this.manager.preBatch(p),this.batchQuad(p,Ot[0],Ot[1],Ot[2],Ot[3],Ot[4],Ot[5],Ot[6],Ot[7],rt,lt,dt,ut,X,D,G,V,U,c,q),p&&this.manager.postBatch(p)},batchTextureFrame:function(p,c,g,y,S,P,C){this.manager.set(this);var M=this._tempMatrix1.copyFrom(P),R=this._tempMatrix2;C?M.multiply(C,R):R=M;var w=R.setQuad(c,g,c+p.width,g+p.height,!1),O=this.setTexture2D(p.source.glTexture);y=r.getTintAppendFloatAlpha(y,S),this.batchQuad(null,w[0],w[1],w[2],w[3],w[4],w[5],w[6],w[7],p.u0,p.v0,p.u1,p.v1,y,y,y,y,0,p.glTexture,O)},batchFillRect:function(p,c,g,y,S,P){this.renderer.pipelines.set(this);var C=this.calcMatrix;P&&P.multiply(S,C);var M=C.setQuad(p,c,p+g,c+y,!1),R=this.fillTint;this.batchQuad(null,M[0],M[1],M[2],M[3],M[4],M[5],M[6],M[7],0,0,1,1,R.TL,R.TR,R.BL,R.BR,2)},batchFillTriangle:function(p,c,g,y,S,P,C,M){this.renderer.pipelines.set(this);var R=this.calcMatrix;M&&M.multiply(C,R);var w=R.getX(p,c),O=R.getY(p,c),F=R.getX(g,y),L=R.getY(g,y),b=R.getX(S,P),B=R.getY(S,P),I=this.fillTint;this.batchTri(null,w,O,F,L,b,B,0,0,1,1,I.TL,I.TR,I.BL,2)},batchStrokeTriangle:function(p,c,g,y,S,P,C,M,R){var w=this.tempTriangle;w[0].x=p,w[0].y=c,w[0].width=C,w[1].x=g,w[1].y=y,w[1].width=C,w[2].x=S,w[2].y=P,w[2].width=C,w[3].x=p,w[3].y=c,w[3].width=C,this.batchStrokePath(w,C,!1,M,R)},batchFillPath:function(p,c,g){this.renderer.pipelines.set(this);var y=this.calcMatrix;g&&g.multiply(c,y);for(var S=p.length,P=this.polygonCache,C,M,R=this.fillTint.TL,w=this.fillTint.TR,O=this.fillTint.BL,F=0;F<S;++F)M=p[F],P.push(M.x,M.y);C=m(P),S=C.length;for(var L=0;L<S;L+=3){var b=C[L+0]*2,B=C[L+1]*2,I=C[L+2]*2,z=P[b+0],Y=P[b+1],W=P[B+0],H=P[B+1],N=P[I+0],X=P[I+1],D=y.getX(z,Y),G=y.getY(z,Y),V=y.getX(W,H),U=y.getY(W,H),k=y.getX(N,X),$=y.getY(N,X);this.batchTri(null,D,G,V,U,k,$,0,0,1,1,R,w,O,2)}P.length=0},batchStrokePath:function(p,c,g,y,S){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var P=p.length-1,C=0;C<P;C++){var M=p[C],R=p[C+1];this.batchLine(M.x,M.y,R.x,R.y,M.width/2,R.width/2,c,C,!g&&C===P-1,y,S)}},batchLine:function(p,c,g,y,S,P,C,M,R,w,O){this.renderer.pipelines.set(this);var F=this.calcMatrix;O&&O.multiply(w,F);var L=g-p,b=y-c,B=Math.sqrt(L*L+b*b);if(B!==0){var I=S*(y-c)/B,z=S*(p-g)/B,Y=P*(y-c)/B,W=P*(p-g)/B,H=g-Y,N=y-W,X=p-I,D=c-z,G=g+Y,V=y+W,U=p+I,k=c+z,$=F.getX(H,N),K=F.getY(H,N),J=F.getX(X,D),Q=F.getY(X,D),q=F.getX(G,V),_=F.getY(G,V),et=F.getX(U,k),tt=F.getY(U,k),rt=this.strokeTint,lt=rt.TL,dt=rt.TR,ut=rt.BL,st=rt.BR;if(this.batchQuad(null,et,tt,J,Q,$,K,q,_,0,0,1,1,lt,dt,ut,st,2),!(C<=2)){var ot=this.prevQuad,ht=this.firstQuad;M>0&&ot[4]?this.batchQuad(null,et,tt,J,Q,ot[0],ot[1],ot[2],ot[3],0,0,1,1,lt,dt,ut,st,2):(ht[0]=et,ht[1]=tt,ht[2]=J,ht[3]=Q,ht[4]=1),R&&ht[4]?this.batchQuad(null,$,K,q,_,ht[0],ht[1],ht[2],ht[3],0,0,1,1,lt,dt,ut,st,2):(ot[0]=$,ot[1]=K,ot[2]=q,ot[3]=_,ot[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,a.prototype.destroy.call(this),this}});l.exports=v},10919:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(72632),d=e(83327),o=e(54677),h=e(44775),n=new u({Extends:h,initialize:function(f){f.vertShader=m(f,"vertShader",o),f.fragShader=m(f,"fragShader",d),f.attributes=m(f,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),h.call(this,f)},onRender:function(r,f){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",f.zoom)},batchPointLight:function(r,f,a,v,p,c,g,y,S,P,C,M){var R=r.color,w=r.intensity,O=r.radius,F=r.attenuation,L=R.r*w,b=R.g*w,B=R.b*w,I=f.alpha*r.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(a,v,C,M,O,F,L,b,B,I),this.batchLightVert(p,c,C,M,O,F,L,b,B,I),this.batchLightVert(g,y,C,M,O,F,L,b,B,I),this.batchLightVert(a,v,C,M,O,F,L,b,B,I),this.batchLightVert(g,y,C,M,O,F,L,b,B,I),this.batchLightVert(S,P,C,M,O,F,L,b,B,I),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(r,f,a,v,p,c,g,y,S,P){var C=this.vertexViewF32,M=this.vertexCount*this.currentShader.vertexComponentCount-1;C[++M]=r,C[++M]=f,C[++M]=a,C[++M]=v,C[++M]=p,C[++M]=c,C[++M]=g,C[++M]=y,C[++M]=S,C[++M]=P,this.vertexCount++}});l.exports=n},80486:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(65246),d=e(72632),o=e(12569),h=e(99365),n=e(44775),r=new u({Extends:n,initialize:function(a){a.renderTarget=d(a,"renderTarget",1),a.fragShader=d(a,"fragShader",o),a.vertShader=d(a,"vertShader",h),a.attributes=d(a,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),a.batchSize=1,a.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],n.call(this,a),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new m,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){n.prototype.boot.call(this);var f=this.manager.UTILITY_PIPELINE;this.fullFrame1=f.fullFrame1,this.fullFrame2=f.fullFrame2,this.halfFrame1=f.halfFrame1,this.halfFrame2=f.halfFrame2,this.set1i("uMainSampler",0)},onDraw:function(f){this.bindAndDraw(f)},getController:function(f){return f!==void 0?f:this.controller?this.controller:this},copySprite:function(f,a,v){v===void 0&&(v=!1);var p=this.gl;p.activeTexture(p.TEXTURE0),p.bindTexture(p.TEXTURE_2D,f.texture);var c=p.getParameter(p.FRAMEBUFFER_BINDING);p.bindFramebuffer(p.FRAMEBUFFER,a.framebuffer),p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,a.texture,0),p.clearColor(0,0,0,0),p.clear(p.COLOR_BUFFER_BIT),p.bufferData(p.ARRAY_BUFFER,this.vertexData,p.STATIC_DRAW),p.drawArrays(p.TRIANGLES,0,6),v&&(p.bindTexture(p.TEXTURE_2D,null),p.bindFramebuffer(p.FRAMEBUFFER,c))},copyFrame:function(f,a,v,p,c){this.manager.copyFrame(f,a,v,p,c)},copyToGame:function(f){this.manager.copyToGame(f)},drawFrame:function(f,a,v){this.manager.drawFrame(f,a,v,this.colorMatrix)},blendFrames:function(f,a,v,p,c){this.manager.blendFrames(f,a,v,p,c)},blendFramesAdditive:function(f,a,v,p,c){this.manager.blendFramesAdditive(f,a,v,p,c)},clearFrame:function(f,a){this.manager.clearFrame(f,a)},blitFrame:function(f,a,v,p,c,g){this.manager.blitFrame(f,a,v,p,c,g)},copyFrameRect:function(f,a,v,p,c,g,y,S){this.manager.copyFrameRect(f,a,v,p,c,g,y,S)},bindAndDraw:function(f,a,v,p,c){v===void 0&&(v=!0),p===void 0&&(p=!0);var g=this.gl,y=this.renderer;this.bind(c),this.set1i("uMainSampler",0),a?(g.viewport(0,0,a.width,a.height),g.bindFramebuffer(g.FRAMEBUFFER,a.framebuffer),g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,a.texture,0),v&&(p?g.clearColor(0,0,0,0):g.clearColor(0,0,0,1),g.clear(g.COLOR_BUFFER_BIT))):(y.popFramebuffer(!1,!1),y.currentFramebuffer||g.viewport(0,0,y.width,y.height)),y.restoreStencilMask(),g.activeTexture(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,f.texture),g.bufferData(g.ARRAY_BUFFER,this.vertexData,g.STATIC_DRAW),g.drawArrays(g.TRIANGLES,0,6),a&&(g.bindTexture(g.TEXTURE_2D,null),g.bindFramebuffer(g.FRAMEBUFFER,y.currentFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,n.prototype.destroy.call(this),this}});l.exports=r},87228:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(95723),m=e(79993),d=e(56694),o=e(37486),h=e(72632),n=e(77310),r=e(12569),f=e(74118),a=e(37410),v=e(85060),p=e(18166),c=e(44775),g=new d({Extends:n,initialize:function(S){var P=h(S,"fragShader",r),C=h(S,"vertShader",p),M=h(S,"drawShader",r),R=[{name:"DrawSprite",fragShader:v,vertShader:p},{name:"CopySprite",fragShader:P,vertShader:C},{name:"DrawGame",fragShader:M,vertShader:p},{name:"ColorMatrix",fragShader:o}],w=h(S,"shaders",[]);S.shaders=R.concat(w),S.vertShader||(S.vertShader=C),S.batchSize=1,n.call(this,S),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new f,this.targetBounds=new f,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){c.prototype.boot.call(this);var y=this.shaders,S=this.renderer;this.drawSpriteShader=y[0],this.copyShader=y[1],this.gameShader=y[2],this.colorMatrixShader=y[3],this.fsTarget=new a(S,S.width,S.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var P=new ArrayBuffer(168);this.quadVertexData=P,this.quadVertexViewF32=new Float32Array(P),this.quadVertexBuffer=S.createVertexBuffer(P,this.gl.STATIC_DRAW),this.onResize(S.width,S.height),this.currentShader=this.copyShader},onResize:function(y,S){var P=this.quadVertexViewF32;P[1]=S,P[22]=S,P[14]=y,P[28]=y,P[35]=y,P[36]=S},batchQuad:function(y,S,P,C,M,R,w,O,F,L,b,B,I,z,Y,W,H,N,X){var D=Math.min(S,C,R,O),G=Math.min(P,M,w,F),V=Math.max(S,C,R,O),U=Math.max(P,M,w,F),k=V-D,$=U-G,K=this.spriteBounds.setTo(D,G,k,$),J=y?y.preFX.padding:0,Q=k+J*2,q=$+J*2,_=Math.abs(Math.max(Q,q)),et=this.manager.getRenderTarget(_),tt=this.targetBounds.setTo(0,0,et.width,et.height);m(tt,K.centerX,K.centerY),this.tempSprite=y;var rt=this.gl,lt=this.renderer;lt.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.flipProjectionMatrix(!0),y&&(this.onDrawSprite(y,et),y.preFX.onFX(this));var dt=this.fsTarget;return this.flush(),rt.viewport(0,0,lt.width,lt.height),rt.bindFramebuffer(rt.FRAMEBUFFER,dt.framebuffer),rt.framebufferTexture2D(rt.FRAMEBUFFER,rt.COLOR_ATTACHMENT0,rt.TEXTURE_2D,dt.texture,0),rt.clearColor(0,0,0,0),rt.clear(rt.COLOR_BUFFER_BIT),this.setTexture2D(X),this.batchVert(S,P,L,b,0,N,z),this.batchVert(C,M,L,I,0,N,W),this.batchVert(R,w,B,I,0,N,H),this.batchVert(S,P,L,b,0,N,z),this.batchVert(R,w,B,I,0,N,H),this.batchVert(O,F,B,b,0,N,Y),this.flush(),this.flipProjectionMatrix(!1),rt.activeTexture(rt.TEXTURE0),rt.bindTexture(rt.TEXTURE_2D,et.texture),rt.copyTexSubImage2D(rt.TEXTURE_2D,0,0,0,tt.x,tt.y,tt.width,tt.height),rt.bindFramebuffer(rt.FRAMEBUFFER,null),rt.bindTexture(rt.TEXTURE_2D,null),this.onBatch(y),this.currentShader=this.copyShader,this.onDraw(et,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(y,S,P,C,M,R,w){P===void 0&&(P=!0),C===void 0&&(C=!0),M===void 0&&(M=!1),w===void 0&&(w=this.copyShader);var O=this.gl,F=this.tempSprite;R&&(w=this.colorMatrixShader),this.currentShader=w;var L=this.setVertexBuffer(this.quadVertexBuffer);if(w.bind(L,!1),this.set1i("uMainSampler",0),F.preFX.onFXCopy(this),this.onCopySprite(y,S,F),R&&(this.set1fv("uColorMatrix",R.getData()),this.set1f("uAlpha",R.alpha)),O.activeTexture(O.TEXTURE0),O.bindTexture(O.TEXTURE_2D,y.texture),y.height>S.height)O.viewport(0,0,y.width,y.height),this.setTargetUVs(y,S);else{var b=S.height-y.height;O.viewport(0,b,y.width,y.height),this.resetUVs()}if(O.bindFramebuffer(O.FRAMEBUFFER,S.framebuffer),O.framebufferTexture2D(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0,O.TEXTURE_2D,S.texture,0),P&&(O.clearColor(0,0,0,+!C),O.clear(O.COLOR_BUFFER_BIT)),M){var B=this.renderer.currentBlendMode;this.renderer.setBlendMode(u.ERASE)}O.bufferData(O.ARRAY_BUFFER,this.quadVertexData,O.STATIC_DRAW),O.drawArrays(O.TRIANGLES,0,6),M&&this.renderer.setBlendMode(B),O.bindFramebuffer(O.FRAMEBUFFER,null)},copy:function(y,S){var P=this.gl;this.set1i("uMainSampler",0),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,y.texture),P.viewport(0,0,y.width,y.height),this.setUVs(0,0,0,1,1,1,1,0),P.bindFramebuffer(P.FRAMEBUFFER,S.framebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,S.texture,0),P.clearColor(0,0,0,0),P.clear(P.COLOR_BUFFER_BIT),P.bufferData(P.ARRAY_BUFFER,this.quadVertexData,P.STATIC_DRAW),P.drawArrays(P.TRIANGLES,0,6),P.bindFramebuffer(P.FRAMEBUFFER,null)},blendFrames:function(y,S,P,C,M){this.manager.blendFrames(y,S,P,C,M)},blendFramesAdditive:function(y,S,P,C,M){this.manager.blendFramesAdditive(y,S,P,C,M)},drawToGame:function(y){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(y)},copyToGame:function(y){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(y)},bindAndDraw:function(y){var S=this.gl,P=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(y.texture);var C=this._tempMatrix1.loadIdentity(),M=this.targetBounds.x,R=this.targetBounds.y,w=M+y.width,O=R+y.height,F=C.getX(M,R),L=C.getX(M,O),b=C.getX(w,O),B=C.getX(w,R),I=C.getY(M,R),z=C.getY(M,O),Y=C.getY(w,O),W=C.getY(w,R),H=16777215;this.batchVert(F,I,0,0,0,0,H),this.batchVert(L,z,0,1,0,0,H),this.batchVert(b,Y,1,1,0,0,H),this.batchVert(F,I,0,0,0,0,H),this.batchVert(b,Y,1,1,0,0,H),this.batchVert(B,W,1,0,0,0,H),P.restoreFramebuffer(!1,!0),P.currentFramebuffer||S.viewport(0,0,P.width,P.height),P.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(y){this.drawToGame(y)},setUVs:function(y,S,P,C,M,R,w,O){var F=this.quadVertexViewF32;F[2]=y,F[3]=S,F[9]=P,F[10]=C,F[16]=M,F[17]=R,F[23]=y,F[24]=S,F[30]=M,F[31]=R,F[37]=w,F[38]=O},setTargetUVs:function(y,S){var P=S.height/y.height;P>.5?P=.5-(P-.5):P=.5+(.5-P),this.setUVs(0,P,0,1+P,1,1+P,1,P)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.gl.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,n.prototype.destroy.call(this),this}});l.exports=g},21213:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(72632),d=e(77310),o=new u({Extends:d,initialize:function(n){n.topology=5,n.batchSize=m(n,"batchSize",256),d.call(this,n)}});l.exports=o},51212:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(72632),d=e(77310),o=e(85060),h=e(18166),n=e(44775),r=new u({Extends:d,initialize:function(a){a.fragShader=m(a,"fragShader",o),a.vertShader=m(a,"vertShader",h),a.forceZero=!0,d.call(this,a)},boot:function(){n.prototype.boot.call(this),this.set1i("uMainSampler",0)}});l.exports=r},60848:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2529),m=e(95723),d=e(56694),o=e(65246),h=e(37486),n=e(79060),r=e(72632),f=e(98921),a=e(99365),v=e(44775),p=new d({Extends:v,initialize:function(g){g.renderTarget=r(g,"renderTarget",[{scale:1},{scale:1},{scale:.5},{scale:.5}]),g.vertShader=r(g,"vertShader",a),g.shaders=r(g,"shaders",[{name:"Copy",fragShader:n},{name:"AddBlend",fragShader:u},{name:"LinearBlend",fragShader:f},{name:"ColorMatrix",fragShader:h}]),g.attributes=r(g,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),g.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],g.batchSize=1,v.call(this,g),this.colorMatrix=new o,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){v.prototype.boot.call(this);var c=this.shaders,g=this.renderTargets;this.copyShader=c[0],this.addShader=c[1],this.linearShader=c[2],this.colorMatrixShader=c[3],this.fullFrame1=g[0],this.fullFrame2=g[1],this.halfFrame1=g[2],this.halfFrame2=g[3]},copyFrame:function(c,g,y,S,P){y===void 0&&(y=1),S===void 0&&(S=!0),P===void 0&&(P=!0);var C=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",y),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,c.texture),g?(C.viewport(0,0,g.width,g.height),C.bindFramebuffer(C.FRAMEBUFFER,g.framebuffer),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,g.texture,0)):C.viewport(0,0,c.width,c.height),S&&(P?C.clearColor(0,0,0,0):C.clearColor(0,0,0,1),C.clear(C.COLOR_BUFFER_BIT)),C.bufferData(C.ARRAY_BUFFER,this.vertexData,C.STATIC_DRAW),C.drawArrays(C.TRIANGLES,0,6),C.bindFramebuffer(C.FRAMEBUFFER,null),C.bindTexture(C.TEXTURE_2D,null)},blitFrame:function(c,g,y,S,P,C,M){y===void 0&&(y=1),S===void 0&&(S=!0),P===void 0&&(P=!0),C===void 0&&(C=!1),M===void 0&&(M=!1);var R=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",y),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,c.texture),c.height>g.height)R.viewport(0,0,c.width,c.height),this.setTargetUVs(c,g);else{var w=g.height-c.height;R.viewport(0,w,c.width,c.height)}if(R.bindFramebuffer(R.FRAMEBUFFER,g.framebuffer),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,g.texture,0),S&&(P?R.clearColor(0,0,0,0):R.clearColor(0,0,0,1),R.clear(R.COLOR_BUFFER_BIT)),C){var O=this.renderer.currentBlendMode;this.renderer.setBlendMode(m.ERASE)}M&&this.flipY(),R.bufferData(R.ARRAY_BUFFER,this.vertexData,R.STATIC_DRAW),R.drawArrays(R.TRIANGLES,0,6),C&&this.renderer.setBlendMode(O),R.bindFramebuffer(R.FRAMEBUFFER,null),R.bindTexture(R.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(c,g,y,S,P,C,M,R){M===void 0&&(M=!0),R===void 0&&(R=!0);var w=this.gl;w.bindFramebuffer(w.FRAMEBUFFER,c.framebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,c.texture,0),M&&(R?w.clearColor(0,0,0,0):w.clearColor(0,0,0,1),w.clear(w.COLOR_BUFFER_BIT)),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,g.texture),w.copyTexSubImage2D(w.TEXTURE_2D,0,0,0,y,S,P,C),w.bindFramebuffer(w.FRAMEBUFFER,null),w.bindTexture(w.TEXTURE_2D,null)},copyToGame:function(c){var g=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),g.activeTexture(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,c.texture),g.bufferData(g.ARRAY_BUFFER,this.vertexData,g.STATIC_DRAW),g.drawArrays(g.TRIANGLES,0,6)},drawFrame:function(c,g,y,S){y===void 0&&(y=!0),S===void 0&&(S=this.colorMatrix);var P=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",S.getData()),this.set1f("uAlpha",S.alpha),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,c.texture),g?(P.viewport(0,0,g.width,g.height),P.bindFramebuffer(P.FRAMEBUFFER,g.framebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,g.texture,0)):P.viewport(0,0,c.width,c.height),y?P.clearColor(0,0,0,0):P.clearColor(0,0,0,1),P.clear(P.COLOR_BUFFER_BIT),P.bufferData(P.ARRAY_BUFFER,this.vertexData,P.STATIC_DRAW),P.drawArrays(P.TRIANGLES,0,6),P.bindFramebuffer(P.FRAMEBUFFER,null),P.bindTexture(P.TEXTURE_2D,null)},blendFrames:function(c,g,y,S,P,C){S===void 0&&(S=1),P===void 0&&(P=!0),C===void 0&&(C=this.linearShader);var M=this.gl;this.setShader(C),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",S),M.activeTexture(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,c.texture),M.activeTexture(M.TEXTURE1),M.bindTexture(M.TEXTURE_2D,g.texture),y?(M.bindFramebuffer(M.FRAMEBUFFER,y.framebuffer),M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,y.texture,0),M.viewport(0,0,y.width,y.height)):M.viewport(0,0,c.width,c.height),P?M.clearColor(0,0,0,0):M.clearColor(0,0,0,1),M.clear(M.COLOR_BUFFER_BIT),M.bufferData(M.ARRAY_BUFFER,this.vertexData,M.STATIC_DRAW),M.drawArrays(M.TRIANGLES,0,6),M.bindFramebuffer(M.FRAMEBUFFER,null),M.bindTexture(M.TEXTURE_2D,null)},blendFramesAdditive:function(c,g,y,S,P){this.blendFrames(c,g,y,S,P,this.addShader)},clearFrame:function(c,g){g===void 0&&(g=!0);var y=this.gl;y.viewport(0,0,c.width,c.height),y.bindFramebuffer(y.FRAMEBUFFER,c.framebuffer),g?y.clearColor(0,0,0,0):y.clearColor(0,0,0,1),y.clear(y.COLOR_BUFFER_BIT);var S=this.renderer.currentFramebuffer;y.bindFramebuffer(y.FRAMEBUFFER,S)},setUVs:function(c,g,y,S,P,C,M,R){var w=this.vertexViewF32;w[2]=c,w[3]=g,w[6]=y,w[7]=S,w[10]=P,w[11]=C,w[14]=c,w[15]=g,w[18]=P,w[19]=C,w[22]=M,w[23]=R},setTargetUVs:function(c,g){var y=g.height/c.height;y>.5?y=.5-(y-.5):y=.5+(.5-y),this.setUVs(0,y,0,1+y,1,1+y,1,y)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});l.exports=p},65641:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};l.exports=T},68726:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pipelineafterflush"},67186:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pipelinebeforeflush"},22709:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pipelinebind"},74469:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pipelineboot"},93953:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pipelinedestroy"},51687:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pipelinerebind"},25034:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pipelineresize"},18970:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={AFTER_FLUSH:e(68726),BEFORE_FLUSH:e(67186),BIND:e(22709),BOOT:e(74469),DESTROY:e(93953),REBIND:e(51687),RESIZE:e(25034)}},32469:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(87751),d=e(80486),o=new u({Extends:d,initialize:function(n){d.call(this,{game:n,fragShader:m}),this.amount=1},onPreRender:function(h,n){h=this.getController(h),this.set1f("amount",h.amount,n)}});l.exports=o},2134:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(88222),d=e(80486),o=new u({Extends:d,initialize:function(n){d.call(this,{game:n,fragShader:m}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(h){h=this.getController(h),this.set1f("strength",h.blurStrength),this.set3fv("color",h.glcolor)},onDraw:function(h){var n=this.getController(),r=this.fullFrame1,f=this.fullFrame2;this.copyFrame(h,f);for(var a=2/h.width*n.offsetX,v=2/h.height*n.offsetY,p=0;p<n.steps;p++)this.set2f("offset",a,0),this.copySprite(h,r),this.set2f("offset",0,v),this.copySprite(r,h);this.blendFrames(f,h,r,n.strength),this.copyToGame(r)}});l.exports=o},63377:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(35491),d=e(75568),o=e(44481),h=e(80486),n=new u({Extends:h,initialize:function(f){h.call(this,{game:f,shaders:[{name:"Gaussian5",fragShader:m},{name:"Gaussian9",fragShader:d},{name:"Gaussian13",fragShader:o}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(r){var f=this.getController(),a=this.gl,v=this.fullFrame1,p=a.getParameter(a.FRAMEBUFFER_BINDING);this.bind(this.activeShader),a.activeTexture(a.TEXTURE0),a.viewport(0,0,r.width,r.height),this.set1i("uMainSampler",0),this.set2f("resolution",r.width,r.height),this.set1f("strength",f.strength),this.set3fv("color",f.glcolor);for(var c=0;c<f.steps;c++)this.set2f("offset",f.x,0),this.copySprite(r,v),this.set2f("offset",0,f.y),this.copySprite(v,r);a.bindFramebuffer(a.FRAMEBUFFER,p),a.bindTexture(a.TEXTURE_2D,null),this.copyToGame(r)}});l.exports=n},49745:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(69960),d=e(80486),o=new u({Extends:d,initialize:function(n){d.call(this,{game:n,fragShader:m}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(h,n,r,f){h=this.getController(h),this.set1f("radius",h.radius,n),this.set1f("amount",h.amount,n),this.set1f("contrast",h.contrast,n),this.set1f("strength",h.strength,n),this.set2f("blur",h.blurX,h.blurY,n),this.setBoolean("isTiltShift",h.isTiltShift,n),r&&f&&this.set2f("resolution",r,f,n)},onDraw:function(h){this.set2f("resolution",h.width,h.height),this.bindAndDraw(h)}});l.exports=o},4323:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(33754),d=e(80486),o=new u({Extends:d,initialize:function(n){d.call(this,{game:n,fragShader:m}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(h,n,r,f){h=this.getController(h),this.set1f("scale",h.scale,n),this.set1f("feather",h.feather,n),this.set1f("thickness",h.thickness,n),this.set3fv("color",h.glcolor,n),this.set4fv("backgroundColor",h.glcolor2,n),r&&f&&this.set2f("resolution",r,f,n)},onDraw:function(h){this.set2f("resolution",h.width,h.height),this.bindAndDraw(h)}});l.exports=o},92066:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(80486),d=new u({Extends:m,initialize:function(h){m.call(this,{game:h})},onDraw:function(o){var h=this.fullFrame1;this.controller?this.manager.drawFrame(o,h,!0,this.controller):this.drawFrame(o,h),this.copyToGame(h)}});l.exports=d},89581:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(35668),d=e(80486),o=new u({Extends:d,initialize:function(n){d.call(this,{game:n,fragShader:m}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(h){var n=this.game.textures.getFrame(h);n&&(this.glTexture=n.glTexture)},onDraw:function(h){var n=this.getController(),r=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",n.x,n.y),this.bindTexture(n.glTexture,1),this.copySprite(h,r),this.copyToGame(r)}});l.exports=o},55084:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(72632),d=e(69675),o=e(80486),h=e(75512),n=new u({Extends:o,initialize:function(f,a){var v=m(a,"quality",.1),p=m(a,"distance",10);o.call(this,{game:f,fragShader:h.setGlowQuality(d,f,v,p)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(r,f,a,v){r=this.getController(r),this.set1f("outerStrength",r.outerStrength,f),this.set1f("innerStrength",r.innerStrength,f),this.set4fv("glowColor",r.glcolor,f),this.setBoolean("knockout",r.knockout,f),a&&v&&this.set2f("resolution",a,v,f)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});l.exports=n},41653:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(90993),d=e(80486),o=new u({Extends:d,initialize:function(n){d.call(this,{game:n,fragShader:m}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(h,n){h=this.getController(h),this.set1f("alpha",h.alpha,n),this.set1i("size",h.size,n),this.set3fv("color1",h.glcolor1,n),this.set3fv("color2",h.glcolor2,n),this.set2f("positionFrom",h.fromX,h.fromY,n),this.set2f("positionTo",h.toX,h.toY,n)}});l.exports=o},73416:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(37945),d=e(80486),o=new u({Extends:d,initialize:function(n){d.call(this,{game:n,fragShader:m}),this.amount=1},onPreRender:function(h,n,r,f){h=this.getController(h),this.set1f("amount",h.amount,n),r&&f&&this.set2f("resolution",r,f,n)},onDraw:function(h){this.set2f("resolution",h.width,h.height),this.bindAndDraw(h)}});l.exports=o},58049:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(85718),d=e(80486),o=new u({Extends:d,initialize:function(n){d.call(this,{game:n,fragShader:m}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(h,n){h=this.getController(h);var r=h.samples;this.set1i("samples",r,n),this.set1f("intensity",h.intensity,n),this.set1f("decay",h.decay,n),this.set1f("power",h.power/r,n),this.set2f("lightPosition",h.x,h.y,n),this.set4fv("color",h.glcolor,n)}});l.exports=o},18026:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(13740),d=e(80486),o=new u({Extends:d,initialize:function(n){d.call(this,{game:n,fragShader:m}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(h,n,r,f){h=this.getController(h),this.setTime("time",n),this.set1f("speed",h.speed,n),this.set1f("lineWidth",h.lineWidth,n),this.set1f("gradient",h.gradient,n),this.setBoolean("reveal",h.reveal,n),r&&f&&this.set2f("resolution",r,f,n)},onDraw:function(h){this.set2f("resolution",h.width,h.height),this.bindAndDraw(h)}});l.exports=o},72381:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(80617),d=e(80486),o=new u({Extends:d,initialize:function(n){d.call(this,{game:n,fragShader:m}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(h,n){h=this.getController(h),this.set1f("radius",h.radius,n),this.set1f("strength",h.strength,n),this.set2f("position",h.x,h.y,n)}});l.exports=o},80542:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(62879),d=e(80486),o=new u({Extends:d,initialize:function(n){d.call(this,{game:n,fragShader:m}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(h,n){h=this.getController(h);var r=h.progress,f=h.wipeWidth,a=h.direction,v=h.axis;this.set4f("config",r,f,a,v,n),this.setBoolean("reveal",h.reveal,n)}});l.exports=o},58136:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={Barrel:e(32469),Bloom:e(2134),Blur:e(63377),Bokeh:e(49745),Circle:e(4323),ColorMatrix:e(92066),Displacement:e(89581),Glow:e(55084),Gradient:e(41653),Pixelate:e(73416),Shadow:e(58049),Shine:e(18026),Vignette:e(72381),Wipe:e(80542)};l.exports=u},62253:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(65641),m=e(98611),d={FX:e(58136),BitmapMaskPipeline:e(5583),Events:e(18970),FXPipeline:e(81828),LightPipeline:e(66901),MobilePipeline:e(71264),MultiPipeline:e(77310),PointLightPipeline:e(10919),PostFXPipeline:e(80486),PreFXPipeline:e(87228),RopePipeline:e(21213),SinglePipeline:e(51212),UtilityPipeline:e(60848)};d=m(!1,d,u),l.exports=d},2529:l=>{l.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},91679:l=>{l.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},89053:l=>{l.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},37486:l=>{l.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},79060:l=>{l.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},87751:l=>{l.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},88222:l=>{l.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},44481:l=>{l.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},35491:l=>{l.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},75568:l=>{l.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},69960:l=>{l.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},33754:l=>{l.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},35668:l=>{l.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},69675:l=>{l.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},90993:l=>{l.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},37945:l=>{l.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},85718:l=>{l.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},13740:l=>{l.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},80617:l=>{l.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},62879:l=>{l.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},65045:l=>{l.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},98921:l=>{l.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},25005:l=>{l.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},94914:l=>{l.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},11263:l=>{l.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},51852:l=>{l.exports=["#define SHADER_NAME PHASER_MOBILE_VS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},53787:l=>{l.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},15968:l=>{l.exports=["#define SHADER_NAME PHASER_MULTI_VS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},83327:l=>{l.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},54677:l=>{l.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},12569:l=>{l.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},99365:l=>{l.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},85060:l=>{l.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},18166:l=>{l.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},92462:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={AddBlendFrag:e(2529),BitmapMaskFrag:e(91679),BitmapMaskVert:e(89053),ColorMatrixFrag:e(37486),CopyFrag:e(79060),FXBarrelFrag:e(87751),FXBloomFrag:e(88222),FXBlurHighFrag:e(44481),FXBlurLowFrag:e(35491),FXBlurMedFrag:e(75568),FXBokehFrag:e(69960),FXCircleFrag:e(33754),FXDisplacementFrag:e(35668),FXGlowFrag:e(69675),FXGradientFrag:e(90993),FXPixelateFrag:e(37945),FXShadowFrag:e(85718),FXShineFrag:e(13740),FXVignetteFrag:e(80617),FXWipeFrag:e(62879),LightFrag:e(65045),LinearBlendFrag:e(98921),MeshFrag:e(25005),MeshVert:e(94914),MobileFrag:e(11263),MobileVert:e(51852),MultiFrag:e(53787),MultiVert:e(15968),PointLightFrag:e(83327),PointLightVert:e(54677),PostFXFrag:e(12569),QuadVert:e(99365),SingleFrag:e(85060),SingleVert:e(18166)}},756:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(55301),m=e(56694),d=e(6659),o=e(40444),h=e(97081),n=e(74181),r=e(2893),f=e(9229),a=e(72283),v=e(74118),p=e(90881),c=e(84314),g=e(93736),y=e(47751),S=new m({Extends:d,initialize:function(C){d.call(this),this.game=C,this.canvas,this.canvasBounds=new v,this.parent=null,this.parentIsWindow=!1,this.parentSize=new p,this.gameSize=new p,this.baseSize=new p,this.displaySize=new p,this.scaleMode=u.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new g(1,1),this.autoRound=!1,this.autoCenter=u.CENTER.NO_CENTER,this.orientation=u.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:a,windowResize:a,fullScreenChange:a,fullScreenError:a}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(h.BOOT,this.boot,this)},boot:function(){var P=this.game;this.canvas=P.canvas,this.fullscreen=P.device.fullscreen,this.scaleMode!==u.SCALE_MODE.RESIZE&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===u.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),P.events.on(h.PRE_STEP,this.step,this),P.events.once(h.READY,this.refresh,this),P.events.once(h.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(P){this.getParent(P),this.getParentBounds();var C=P.width,M=P.height,R=P.scaleMode,w=P.zoom,O=P.autoRound;if(typeof C=="string"){var F=this.parentSize.width;F===0&&(F=window.innerWidth);var L=parseInt(C,10)/100;C=Math.floor(F*L)}if(typeof M=="string"){var b=this.parentSize.height;b===0&&(b=window.innerHeight);var B=parseInt(M,10)/100;M=Math.floor(b*B)}this.scaleMode=R,this.autoRound=O,this.autoCenter=P.autoCenter,this.resizeInterval=P.resizeInterval,O&&(C=Math.floor(C),M=Math.floor(M)),this.gameSize.setSize(C,M),w===u.ZOOM.MAX_ZOOM&&(w=this.getMaxZoom()),this.zoom=w,w!==1&&(this._resetZoom=!0),this.baseSize.setSize(C,M),O&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),P.minWidth>0&&this.displaySize.setMin(P.minWidth*w,P.minHeight*w),P.maxWidth>0&&this.displaySize.setMax(P.maxWidth*w,P.maxHeight*w),this.displaySize.setSize(C,M),this.orientation=f(C,M)},getParent:function(P){var C=P.parent;if(C!==null){if(this.parent=r(C),this.parentIsWindow=this.parent===document.body,P.expandParent&&P.scaleMode!==u.SCALE_MODE.NONE){var M=this.parent.getBoundingClientRect();(this.parentIsWindow||M.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",M=this.parent.getBoundingClientRect(),!this.parentIsWindow&&M.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}P.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=r(P.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var P=this.parentSize,C=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(C.height=n(!0));var M=C.width,R=C.height;if(P.width!==M||P.height!==R)return P.setSize(M,R),!0;if(this.canvas){var w=this.canvasBounds,O=this.canvas.getBoundingClientRect();if(O.x!==w.x||O.y!==w.y)return!0}return!1},lockOrientation:function(P){var C=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return C?C.call(screen,P):!1},setParentSize:function(P,C){return this.parentSize.setSize(P,C),this.refresh()},setGameSize:function(P,C){var M=this.autoRound;M&&(P=Math.floor(P),C=Math.floor(C));var R=this.width,w=this.height;return this.gameSize.resize(P,C),this.baseSize.resize(P,C),M&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(P/C),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(R,w)},resize:function(P,C){var M=this.zoom,R=this.autoRound;R&&(P=Math.floor(P),C=Math.floor(C));var w=this.width,O=this.height;this.gameSize.resize(P,C),this.baseSize.resize(P,C),R&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(P*M,C*M),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var F=this.canvas.style,L=P*M,b=C*M;return R&&(L=Math.floor(L),b=Math.floor(b)),(L!==P||b!==C)&&(F.width=L+"px",F.height=b+"px"),this.refresh(w,O)},setZoom:function(P){return this.zoom=P,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},refresh:function(P,C){P===void 0&&(P=this.width),C===void 0&&(C=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var M=this.game.domContainer;if(M){this.baseSize.setCSS(M);var R=this.canvas.style,w=M.style;w.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",w.marginLeft=R.marginLeft,w.marginTop=R.marginTop}return this.emit(o.RESIZE,this.gameSize,this.baseSize,this.displaySize,P,C),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var P=f(this.width,this.height);P!==this.orientation&&(this.orientation=P,this.emit(o.ORIENTATION_CHANGE,P))}},updateScale:function(){var P=this.canvas.style,C=this.gameSize.width,M=this.gameSize.height,R,w,O=this.zoom,F=this.autoRound;this.scaleMode===u.SCALE_MODE.NONE?(this.displaySize.setSize(C*O,M*O),R=this.displaySize.width,w=this.displaySize.height,F&&(R=Math.floor(R),w=Math.floor(w)),this._resetZoom&&(P.width=R+"px",P.height=w+"px",this._resetZoom=!1)):this.scaleMode===u.SCALE_MODE.RESIZE?(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),R=this.displaySize.width,w=this.displaySize.height,F&&(R=Math.floor(R),w=Math.floor(w)),this.canvas.width=R,this.canvas.height=w):(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),R=this.displaySize.width,w=this.displaySize.height,F&&(R=Math.floor(R),w=Math.floor(w)),P.width=R+"px",P.height=w+"px"),this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var P=c(this.parentSize.width,this.gameSize.width,0,!0),C=c(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(P,C),1)},updateCenter:function(){var P=this.autoCenter;if(P!==u.CENTER.NO_CENTER){var C=this.canvas,M=C.style,R=C.getBoundingClientRect(),w=R.width,O=R.height,F=Math.floor((this.parentSize.width-w)/2),L=Math.floor((this.parentSize.height-O)/2);P===u.CENTER.CENTER_HORIZONTALLY?L=0:P===u.CENTER.CENTER_VERTICALLY&&(F=0),M.marginLeft=F+"px",M.marginTop=L+"px"}},updateBounds:function(){var P=this.canvasBounds,C=this.canvas.getBoundingClientRect();P.x=C.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),P.y=C.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),P.width=C.width,P.height=C.height},transformX:function(P){return(P-this.canvasBounds.left)*this.displayScale.x},transformY:function(P){return(P-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(P){P===void 0&&(P={navigationUI:"hide"});var C=this.fullscreen;if(!C.available){this.emit(o.FULLSCREEN_UNSUPPORTED);return}if(!C.active){var M=this.getFullscreenTarget();C.keyboard?M[C.request](Element.ALLOW_KEYBOARD_INPUT):M[C.request](P)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(o.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(P){this.removeFullscreenTarget(),this.emit(o.FULLSCREEN_FAILED,P)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var P=document.createElement("div");P.style.margin="0",P.style.padding="0",P.style.width="100%",P.style.height="100%",this.fullscreenTarget=P,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var C=this.canvas.parentNode;C.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var P=this.fullscreenTarget;if(P&&P.parentNode){var C=P.parentNode;C.insertBefore(this.canvas,P),C.removeChild(P)}}},stopFullscreen:function(){var P=this.fullscreen;if(!P.available)return this.emit(o.FULLSCREEN_UNSUPPORTED),!1;P.active&&document[P.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(o.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(P){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(P)},startListeners:function(){var P=this,C=this.domlisteners;if(C.orientationChange=function(){P.updateBounds(),P._checkOrientation=!0,P.dirty=!0},C.windowResize=function(){P.updateBounds(),P.dirty=!0},window.addEventListener("orientationchange",C.orientationChange,!1),window.addEventListener("resize",C.windowResize,!1),this.fullscreen.available){C.fullScreenChange=function(R){return P.onFullScreenChange(R)},C.fullScreenError=function(R){return P.onFullScreenError(R)};var M=["webkit","moz",""];M.forEach(function(R){document.addEventListener(R+"fullscreenchange",C.fullScreenChange,!1),document.addEventListener(R+"fullscreenerror",C.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",C.fullScreenChange,!1),document.addEventListener("MSFullscreenError",C.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(P,C){P instanceof y||(C=P,P=void 0),C===void 0&&(C=new v);var M=this.baseSize,R=this.parentSize,w=this.canvasBounds,O=this.displayScale,F=w.x>=0?0:-(w.x*O.x),L=w.y>=0?0:-(w.y*O.y),b;R.width>=w.width?b=M.width:b=M.width-(w.width-R.width)*O.x;var B;return R.height>=w.height?B=M.height:B=M.height-(w.height-R.height)*O.y,C.setTo(F,L,b,B),P&&(C.width/=P.zoomX,C.height/=P.zoomY,C.centerX=P.centerX+P.scrollX,C.centerY=P.centerY+P.scrollY),C},step:function(P,C){this.parent&&(this._lastCheck+=C,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var P=this.domlisteners;window.removeEventListener("orientationchange",P.orientationChange,!1),window.removeEventListener("resize",P.windowResize,!1);var C=["webkit","moz",""];C.forEach(function(M){document.removeEventListener(M+"fullscreenchange",P.fullScreenChange,!1),document.removeEventListener(M+"fullscreenerror",P.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",P.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",P.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===u.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===u.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});l.exports=S},35098:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},53539:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},12637:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5}},10217:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},55301:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={CENTER:e(35098),ORIENTATION:e(53539),SCALE_MODE:e(12637),ZOOM:e(10217)};l.exports=u},82085:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="enterfullscreen"},11826:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="fullscreenfailed"},56691:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="fullscreenunsupported"},34739:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="leavefullscreen"},26681:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="orientationchange"},11428:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="resize"},40444:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ENTER_FULLSCREEN:e(82085),FULLSCREEN_FAILED:e(11826),FULLSCREEN_UNSUPPORTED:e(56691),LEAVE_FULLSCREEN:e(34739),ORIENTATION_CHANGE:e(26681),RESIZE:e(11428)}},86754:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(98611),m=e(55301),d={Center:e(35098),Events:e(40444),Orientation:e(53539),ScaleManager:e(756),ScaleModes:e(12637),Zoom:e(10217)};d=u(!1,d,m.CENTER),d=u(!1,d,m.ORIENTATION),d=u(!1,d,m.SCALE_MODE),d=u(!1,d,m.ZOOM),l.exports=d},47736:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72632),m=e(40587),d=function(o){var h=o.game.config.defaultPhysicsSystem,n=u(o.settings,"physics",!1);if(!(!h&&!n)){var r=[];if(h&&r.push(m(h+"Physics")),n)for(var f in n)f=m(f.concat("Physics")),r.indexOf(f)===-1&&r.push(f);return r}};l.exports=d},91088:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72632),m=function(d){var o=d.plugins.getDefaultScenePlugins(),h=u(d.settings,"plugins",!1);return Array.isArray(h)?h:o||[]};l.exports=m},90415:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};l.exports=T},87157:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(63946),d=new u({initialize:function(h){this.sys=new m(this,h),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});l.exports=d},13553:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(92980),d=e(7599),o=e(97081),h=e(10850),n=e(683),r=e(72283),f=e(87157),a=e(63946),v=new u({initialize:function(c,g){if(this.game=c,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,g){Array.isArray(g)||(g=[g]);for(var y=0;y<g.length;y++)this._pending.push({key:"default",scene:g[y],autoStart:y===0,data:{}})}c.events.once(o.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new f);var p,c,g,y;for(p=0;p<this._pending.length;p++){c=this._pending[p],g=c.key,y=c.scene;var S;y instanceof f?S=this.createSceneFromInstance(g,y):typeof y=="object"?S=this.createSceneFromObject(g,y):typeof y=="function"&&(S=this.createSceneFromFunction(g,y)),g=S.sys.settings.key,this.keys[g]=S,this.scenes.push(S),this._data[g]&&(S.sys.settings.data=this._data[g].data,this._data[g].autoStart&&(c.autoStart=!0)),(c.autoStart||S.sys.settings.active)&&this._start.push(g)}for(this._pending.length=0,this._data={},this.isBooted=!0,p=0;p<this._start.length;p++)c=this._start[p],this.start(c);this._start.length=0}},processQueue:function(){var p=this._pending.length,c=this._queue.length;if(!(p===0&&c===0)){var g,y;if(p){for(g=0;g<p;g++)y=this._pending[g],this.add(y.key,y.scene,y.autoStart,y.data);for(g=0;g<this._start.length;g++)y=this._start[g],this.start(y);this._start.length=0,this._pending.length=0}for(g=0;g<this._queue.length;g++)y=this._queue[g],this[y.op](y.keyA,y.keyB);this._queue.length=0}},add:function(p,c,g,y){if(g===void 0&&(g=!1),y===void 0&&(y={}),this.isProcessing||!this.isBooted)return this._pending.push({key:p,scene:c,autoStart:g,data:y}),this.isBooted||(this._data[p]={data:y}),null;p=this.getKey(p,c);var S;return c instanceof f?S=this.createSceneFromInstance(p,c):typeof c=="object"?(c.key=p,S=this.createSceneFromObject(p,c)):typeof c=="function"&&(S=this.createSceneFromFunction(p,c)),S.sys.settings.data=y,p=S.sys.settings.key,this.keys[p]=S,this.scenes.push(S),(g||S.sys.settings.active)&&(this._pending.length?this._start.push(p):this.start(p)),S},remove:function(p){if(this.isProcessing)this._queue.push({op:"remove",keyA:p,keyB:null});else{var c=this.getScene(p);if(!c||c.sys.isTransitioning())return this;var g=this.scenes.indexOf(c),y=c.sys.settings.key;g>-1&&(delete this.keys[y],this.scenes.splice(g,1),this._start.indexOf(y)>-1&&(g=this._start.indexOf(y),this._start.splice(g,1)),c.sys.destroy())}return this},bootScene:function(p){var c=p.sys,g=c.settings;c.sceneUpdate=r,p.init&&(p.init.call(p,g.data),g.status=m.INIT,g.isTransition&&c.events.emit(d.TRANSITION_INIT,g.transitionFrom,g.transitionDuration));var y;c.load&&(y=c.load,y.reset()),y&&p.preload?(p.preload.call(p),g.status=m.LOADING,y.once(n.COMPLETE,this.loadComplete,this),y.start()):this.create(p)},loadComplete:function(p){this.game.sound&&this.game.sound.onBlurPausedSounds&&this.game.sound.unlock(),this.create(p.scene)},payloadComplete:function(p){this.bootScene(p.scene)},update:function(p,c){this.processQueue(),this.isProcessing=!0;for(var g=this.scenes.length-1;g>=0;g--){var y=this.scenes[g].sys;y.settings.status>m.START&&y.settings.status<=m.RUNNING&&y.step(p,c),y.scenePlugin._target&&y.scenePlugin.step(p,c)}},render:function(p){for(var c=0;c<this.scenes.length;c++){var g=this.scenes[c].sys;g.settings.visible&&g.settings.status>=m.LOADING&&g.settings.status<m.SLEEPING&&g.render(p)}this.isProcessing=!1},create:function(p){var c=p.sys,g=c.settings;p.create&&(g.status=m.CREATING,p.create.call(p,g.data),g.status===m.DESTROYED)||(g.isTransition&&c.events.emit(d.TRANSITION_START,g.transitionFrom,g.transitionDuration),p.update&&(c.sceneUpdate=p.update),g.status=m.RUNNING,c.events.emit(d.CREATE,p))},createSceneFromFunction:function(p,c){var g=new c;if(g instanceof f){var y=g.sys.settings.key;if(y!==""&&(p=y),this.keys.hasOwnProperty(p))throw new Error("Cannot add a Scene with duplicate key: "+p);return this.createSceneFromInstance(p,g)}else return g.sys=new a(g),g.sys.settings.key=p,g.sys.init(this.game),g},createSceneFromInstance:function(p,c){var g=c.sys.settings.key;return g===""&&(c.sys.settings.key=p),c.sys.init(this.game),c},createSceneFromObject:function(p,c){var g=new f(c),y=g.sys.settings.key;y!==""?p=y:g.sys.settings.key=p,g.sys.init(this.game);for(var S=["init","preload","create","update","render"],P=0;P<S.length;P++){var C=h(c,S[P],null);C&&(g[S[P]]=C)}if(c.hasOwnProperty("extend")){for(var M in c.extend)if(c.extend.hasOwnProperty(M)){var R=c.extend[M];M==="data"&&g.hasOwnProperty("data")&&typeof R=="object"?g.data.merge(R):M!=="sys"&&(g[M]=R)}}return g},getKey:function(p,c){if(p||(p="default"),typeof c=="function")return p;if(c instanceof f?p=c.sys.settings.key:typeof c=="object"&&c.hasOwnProperty("key")&&(p=c.key),this.keys.hasOwnProperty(p))throw new Error("Cannot add a Scene with duplicate key: "+p);return p},getScenes:function(p,c){p===void 0&&(p=!0),c===void 0&&(c=!1);for(var g=[],y=this.scenes,S=0;S<y.length;S++){var P=y[S];P&&(!p||p&&P.sys.isActive())&&g.push(P)}return c?g.reverse():g},getScene:function(p){if(typeof p=="string"){if(this.keys[p])return this.keys[p]}else for(var c=0;c<this.scenes.length;c++)if(p===this.scenes[c])return p;return null},isActive:function(p){var c=this.getScene(p);return c?c.sys.isActive():null},isPaused:function(p){var c=this.getScene(p);return c?c.sys.isPaused():null},isVisible:function(p){var c=this.getScene(p);return c?c.sys.isVisible():null},isSleeping:function(p){var c=this.getScene(p);return c?c.sys.isSleeping():null},pause:function(p,c){var g=this.getScene(p);return g&&g.sys.pause(c),this},resume:function(p,c){var g=this.getScene(p);return g&&g.sys.resume(c),this},sleep:function(p,c){var g=this.getScene(p);return g&&!g.sys.isTransitioning()&&g.sys.sleep(c),this},wake:function(p,c){var g=this.getScene(p);return g&&g.sys.wake(c),this},run:function(p,c){var g=this.getScene(p);if(!g){for(var y=0;y<this._pending.length;y++)if(this._pending[y].key===p){this.queueOp("start",p,c);break}return this}g.sys.isSleeping()?g.sys.wake(c):g.sys.isPaused()?g.sys.resume(c):this.start(p,c)},start:function(p,c){if(!this.isBooted)return this._data[p]={autoStart:!0,data:c},this;var g=this.getScene(p);if(!g)return console.warn("Scene not found for key: "+p),this;var y=g.sys,S=y.settings.status;if(S>=m.START&&S<=m.CREATING)return this;if(S>=m.RUNNING&&S<=m.SLEEPING)y.shutdown(),y.sceneUpdate=r,y.start(c);else{y.sceneUpdate=r,y.start(c);var P;if(y.load&&(P=y.load),P&&y.settings.hasOwnProperty("pack")&&(P.reset(),P.addPack({payload:y.settings.pack})))return y.settings.status=m.LOADING,P.once(n.COMPLETE,this.payloadComplete,this),P.start(),this}return this.bootScene(g),this},stop:function(p,c){var g=this.getScene(p);if(g&&!g.sys.isTransitioning()&&g.sys.settings.status!==m.SHUTDOWN){var y=g.sys.load;y&&(y.off(n.COMPLETE,this.loadComplete,this),y.off(n.COMPLETE,this.payloadComplete,this)),g.sys.shutdown(c)}return this},switch:function(p,c){var g=this.getScene(p),y=this.getScene(c);return g&&y&&g!==y&&(this.sleep(p),this.isSleeping(c)?this.wake(c):this.start(c)),this},getAt:function(p){return this.scenes[p]},getIndex:function(p){var c=this.getScene(p);return this.scenes.indexOf(c)},bringToTop:function(p){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:p,keyB:null});else{var c=this.getIndex(p);if(c!==-1&&c<this.scenes.length){var g=this.getScene(p);this.scenes.splice(c,1),this.scenes.push(g)}}return this},sendToBack:function(p){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:p,keyB:null});else{var c=this.getIndex(p);if(c!==-1&&c>0){var g=this.getScene(p);this.scenes.splice(c,1),this.scenes.unshift(g)}}return this},moveDown:function(p){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:p,keyB:null});else{var c=this.getIndex(p);if(c>0){var g=c-1,y=this.getScene(p),S=this.getAt(g);this.scenes[c]=S,this.scenes[g]=y}}return this},moveUp:function(p){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:p,keyB:null});else{var c=this.getIndex(p);if(c<this.scenes.length-1){var g=c+1,y=this.getScene(p),S=this.getAt(g);this.scenes[c]=S,this.scenes[g]=y}}return this},moveAbove:function(p,c){if(p===c)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:p,keyB:c});else{var g=this.getIndex(p),y=this.getIndex(c);if(g!==-1&&y!==-1&&y<g){var S=this.getAt(y);this.scenes.splice(y,1),this.scenes.splice(g+(y>g),0,S)}}return this},moveBelow:function(p,c){if(p===c)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:p,keyB:c});else{var g=this.getIndex(p),y=this.getIndex(c);if(g!==-1&&y!==-1&&y>g){var S=this.getAt(y);this.scenes.splice(y,1),g===0?this.scenes.unshift(S):this.scenes.splice(g-(y<g),0,S)}}return this},queueOp:function(p,c,g){return this._queue.push({op:p,keyA:c,keyB:g}),this},swapPosition:function(p,c){if(p===c)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:p,keyB:c});else{var g=this.getIndex(p),y=this.getIndex(c);if(g!==y&&g!==-1&&y!==-1){var S=this.getAt(g);this.scenes[g]=this.scenes[y],this.scenes[y]=S}}return this},dump:function(){for(var p=[],c=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],g=0;g<this.scenes.length;g++){var y=this.scenes[g].sys,S=y.settings.visible&&(y.settings.status===m.RUNNING||y.settings.status===m.PAUSED)?"[*] ":"[-] ";S+=y.settings.key+" ("+c[y.settings.status]+")",p.push(S)}console.log(p.join(`
`))},destroy:function(){for(var p=0;p<this.scenes.length;p++){var c=this.scenes[p].sys;c.destroy()}this.systemScene.sys.destroy(),this.update=r,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});l.exports=v},64051:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82897),m=e(56694),d=e(7599),o=e(72632),h=e(91963),n=new m({initialize:function(f){this.scene=f,this.systems=f.sys,this.settings=f.sys.settings,this.key=f.sys.settings.key,this.manager=f.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,f.sys.events.once(d.BOOT,this.boot,this),f.sys.events.on(d.START,this.pluginStart,this)},boot:function(){this.systems.events.once(d.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(d.SHUTDOWN,this.shutdown,this)},start:function(r,f){return r===void 0&&(r=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",r,f),this},restart:function(r){var f=this.key;return this.manager.queueOp("stop",f),this.manager.queueOp("start",f,r),this},transition:function(r){r===void 0&&(r={});var f=o(r,"target",!1),a=this.manager.getScene(f);if(!f||!this.checkValidTransition(a))return!1;var v=o(r,"duration",1e3);this._elapsed=0,this._target=a,this._duration=v,this._willSleep=o(r,"sleep",!1),this._willRemove=o(r,"remove",!1);var p=o(r,"onUpdate",null);p&&(this._onUpdate=p,this._onUpdateScope=o(r,"onUpdateScope",this.scene));var c=o(r,"allowInput",!1);this.settings.transitionAllowInput=c;var g=a.sys.settings;g.isTransition=!0,g.transitionFrom=this.scene,g.transitionDuration=v,g.transitionAllowInput=c,o(r,"moveAbove",!1)?this.manager.moveAbove(this.key,f):o(r,"moveBelow",!1)&&this.manager.moveBelow(this.key,f),a.sys.isSleeping()?a.sys.wake(o(r,"data")):this.manager.start(f,o(r,"data"));var y=o(r,"onStart",null),S=o(r,"onStartScope",this.scene);return y&&y.call(S,this.scene,a,v),this.systems.events.emit(d.TRANSITION_OUT,a,v),!0},checkValidTransition:function(r){return!(!r||r.sys.isActive()||r.sys.isTransitioning()||r===this.scene||this.systems.isTransitioning())},step:function(r,f){this._elapsed+=f,this.transitionProgress=u(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var r=this._target.sys,f=this._target.sys.settings;r.events.emit(d.TRANSITION_COMPLETE,this.scene),f.isTransition=!1,f.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(r,f,a,v){return this.manager.add(r,f,a,v)},launch:function(r,f){return r&&r!==this.key&&this.manager.queueOp("start",r,f),this},run:function(r,f){return r&&r!==this.key&&this.manager.queueOp("run",r,f),this},pause:function(r,f){return r===void 0&&(r=this.key),this.manager.queueOp("pause",r,f),this},resume:function(r,f){return r===void 0&&(r=this.key),this.manager.queueOp("resume",r,f),this},sleep:function(r,f){return r===void 0&&(r=this.key),this.manager.queueOp("sleep",r,f),this},wake:function(r,f){return r===void 0&&(r=this.key),this.manager.queueOp("wake",r,f),this},switch:function(r){return r!==this.key&&this.manager.queueOp("switch",this.key,r),this},stop:function(r,f){return r===void 0&&(r=this.key),this.manager.queueOp("stop",r,f),this},setActive:function(r,f,a){f===void 0&&(f=this.key);var v=this.manager.getScene(f);return v&&v.sys.setActive(r,a),this},setVisible:function(r,f){f===void 0&&(f=this.key);var a=this.manager.getScene(f);return a&&a.sys.setVisible(r),this},isSleeping:function(r){return r===void 0&&(r=this.key),this.manager.isSleeping(r)},isActive:function(r){return r===void 0&&(r=this.key),this.manager.isActive(r)},isPaused:function(r){return r===void 0&&(r=this.key),this.manager.isPaused(r)},isVisible:function(r){return r===void 0&&(r=this.key),this.manager.isVisible(r)},swapPosition:function(r,f){return f===void 0&&(f=this.key),r!==f&&this.manager.swapPosition(r,f),this},moveAbove:function(r,f){return f===void 0&&(f=this.key),r!==f&&this.manager.moveAbove(r,f),this},moveBelow:function(r,f){return f===void 0&&(f=this.key),r!==f&&this.manager.moveBelow(r,f),this},remove:function(r){return r===void 0&&(r=this.key),this.manager.remove(r),this},moveUp:function(r){return r===void 0&&(r=this.key),this.manager.moveUp(r),this},moveDown:function(r){return r===void 0&&(r=this.key),this.manager.moveDown(r),this},bringToTop:function(r){return r===void 0&&(r=this.key),this.manager.bringToTop(r),this},sendToBack:function(r){return r===void 0&&(r=this.key),this.manager.sendToBack(r),this},get:function(r){return this.manager.getScene(r)},getStatus:function(r){var f=this.manager.getScene(r);if(f)return f.sys.getStatus()},getIndex:function(r){return r===void 0&&(r=this.key),this.manager.getIndex(r)},shutdown:function(){var r=this.systems.events;r.off(d.SHUTDOWN,this.shutdown,this),r.off(d.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(d.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});h.register("ScenePlugin",n,"scenePlugin"),l.exports=n},36765:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(92980),m=e(10850),d=e(30657),o=e(90415),h={create:function(n){return typeof n=="string"?n={key:n}:n===void 0&&(n={}),{status:u.PENDING,key:m(n,"key",""),active:m(n,"active",!1),visible:m(n,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:m(n,"pack",!1),cameras:m(n,"cameras",null),map:m(n,"map",d(o,m(n,"mapAdd",{}))),physics:m(n,"physics",{}),loader:m(n,"loader",{}),plugins:m(n,"plugins",!1),input:m(n,"input",{})}}};l.exports=h},63946:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(92980),d=e(18360),o=e(7599),h=e(47736),n=e(91088),r=e(72283),f=e(36765),a=new u({initialize:function(p,c){this.scene=p,this.game,this.renderer,this.config=c,this.settings=f.create(c),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=r},init:function(v){this.settings.status=m.INIT,this.sceneUpdate=r,this.game=v,this.renderer=v.renderer,this.canvas=v.canvas,this.context=v.context;var p=v.plugins;this.plugins=p,p.addToScene(this,d.Global,[d.CoreScene,n(this),h(this)]),this.events.emit(o.BOOT,this),this.settings.isBooted=!0},step:function(v,p){var c=this.events;c.emit(o.PRE_UPDATE,v,p),c.emit(o.UPDATE,v,p),this.sceneUpdate.call(this.scene,v,p),c.emit(o.POST_UPDATE,v,p)},render:function(v){var p=this.displayList;p.depthSort(),this.events.emit(o.PRE_RENDER,v),this.cameras.render(v,p),this.events.emit(o.RENDER,v)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(v){var p=this.settings,c=this.getStatus();return c!==m.CREATING&&c!==m.RUNNING?console.warn("Cannot pause non-running Scene",p.key):this.settings.active&&(p.status=m.PAUSED,p.active=!1,this.events.emit(o.PAUSE,this,v)),this},resume:function(v){var p=this.events,c=this.settings;return this.settings.active||(c.status=m.RUNNING,c.active=!0,p.emit(o.RESUME,this,v)),this},sleep:function(v){var p=this.settings,c=this.getStatus();return c!==m.CREATING&&c!==m.RUNNING?console.warn("Cannot sleep non-running Scene",p.key):(p.status=m.SLEEPING,p.active=!1,p.visible=!1,this.events.emit(o.SLEEP,this,v)),this},wake:function(v){var p=this.events,c=this.settings;return c.status=m.RUNNING,c.active=!0,c.visible=!0,p.emit(o.WAKE,this,v),c.isTransition&&p.emit(o.TRANSITION_WAKE,c.transitionFrom,c.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var v=this.settings.status;return v>m.PENDING&&v<=m.RUNNING},isSleeping:function(){return this.settings.status===m.SLEEPING},isActive:function(){return this.settings.status===m.RUNNING},isPaused:function(){return this.settings.status===m.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(v){return this.settings.visible=v,this},setActive:function(v,p){return v?this.resume(p):this.pause(p)},start:function(v){var p=this.events,c=this.settings;v&&(c.data=v),c.status=m.START,c.active=!0,c.visible=!0,p.emit(o.START,this),p.emit(o.READY,this,v)},shutdown:function(v){var p=this.events,c=this.settings;p.off(o.TRANSITION_INIT),p.off(o.TRANSITION_START),p.off(o.TRANSITION_COMPLETE),p.off(o.TRANSITION_OUT),c.status=m.SHUTDOWN,c.active=!1,c.visible=!1,p.emit(o.SHUTDOWN,this,v)},destroy:function(){var v=this.events,p=this.settings;p.status=m.DESTROYED,p.active=!1,p.visible=!1,v.emit(o.DESTROY,this),v.removeAllListeners();for(var c=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],g=0;g<c.length;g++)this[c[g]]=null}});l.exports=a},92980:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};l.exports=T},31803:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="addedtoscene"},94817:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="boot"},28977:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="create"},91959:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="destroy"},363:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pause"},15643:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="postupdate"},17058:l=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="prerender"},77125:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="preupdate"},76018:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="ready"},28620:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="removedfromscene"},41538:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="render"},34268:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="resume"},2342:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="shutdown"},96541:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="sleep"},74244:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="start"},17046:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="transitioncomplete"},13637:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="transitioninit"},14733:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="transitionout"},33899:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="transitionstart"},52418:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="transitionwake"},31735:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="update"},8470:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="wake"},7599:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ADDED_TO_SCENE:e(31803),BOOT:e(94817),CREATE:e(28977),DESTROY:e(91959),PAUSE:e(363),POST_UPDATE:e(15643),PRE_RENDER:e(17058),PRE_UPDATE:e(77125),READY:e(76018),REMOVED_FROM_SCENE:e(28620),RENDER:e(41538),RESUME:e(34268),SHUTDOWN:e(2342),SLEEP:e(96541),START:e(74244),TRANSITION_COMPLETE:e(17046),TRANSITION_INIT:e(13637),TRANSITION_OUT:e(14733),TRANSITION_START:e(33899),TRANSITION_WAKE:e(52418),UPDATE:e(31735),WAKE:e(8470)}},20436:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(92980),m=e(98611),d={Events:e(7599),GetPhysicsPlugins:e(47736),GetScenePlugins:e(91088),SceneManager:e(13553),ScenePlugin:e(64051),Settings:e(36765),Systems:e(63946)};d=m(!1,d,u),l.exports=d},25798:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(6659),d=e(76038),o=e(98611),h=e(72283),n=new u({Extends:m,initialize:function(f,a,v){m.call(this),this.manager=f,this.key=a,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=o(this.config,v),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(r){return!r||!r.name||typeof r.name!="string"?!1:this.markers[r.name]?(console.error("addMarker "+r.name+" already exists in Sound"),!1):(r=o(!0,{name:"",start:0,duration:this.totalDuration-(r.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},r),this.markers[r.name]=r,!0)},updateMarker:function(r){return!r||!r.name||typeof r.name!="string"?!1:this.markers[r.name]?(this.markers[r.name]=o(!0,this.markers[r.name],r),!0):(console.warn("Audio Marker: "+r.name+" missing in Sound: "+this.key),!1)},removeMarker:function(r){var f=this.markers[r];return f?(this.markers[r]=null,f):null},play:function(r,f){if(r===void 0&&(r=""),typeof r=="object"&&(f=r,r=""),typeof r!="string")return!1;if(!r)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[r])return console.warn("Marker: "+r+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[r],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=o(this.currentConfig,f),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:h,calculateRate:function(){var r=1.0005777895065548,f=this.currentConfig.detune+this.manager.detune,a=Math.pow(r,f);this.totalRate=this.currentConfig.rate*this.manager.rate*a},destroy:function(){this.pendingRemove||(this.emit(d.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});l.exports=n},12486:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(32742),d=e(6659),o=e(76038),h=e(97081),n=e(71608),r=e(51463),f=e(72283),a=e(93736),v=new u({Extends:d,initialize:function(c){d.call(this),this.game=c,this.jsonCache=c.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new a,c.events.on(h.BLUR,this.onGameBlur,this),c.events.on(h.FOCUS,this.onGameFocus,this),c.events.on(h.PRE_STEP,this.update,this),c.events.once(h.DESTROY,this.destroy,this)},add:f,addAudioSprite:function(p,c){c===void 0&&(c={});var g=this.add(p,c);g.spritemap=this.jsonCache.get(p).spritemap;for(var y in g.spritemap)if(g.spritemap.hasOwnProperty(y)){var S=m(c),P=g.spritemap[y];S.loop=P.hasOwnProperty("loop")?P.loop:!1,g.addMarker({name:y,start:P.start,duration:P.end-P.start,config:S})}return g},get:function(p){return r(this.sounds,"key",p)},getAll:function(p){return p?n(this.sounds,"key",p):n(this.sounds)},getAllPlaying:function(){return n(this.sounds,"isPlaying",!0)},play:function(p,c){var g=this.add(p);return g.once(o.COMPLETE,g.destroy,g),c?c.name?(g.addMarker(c),g.play(c.name)):g.play(c):g.play()},playAudioSprite:function(p,c,g){var y=this.addAudioSprite(p);return y.once(o.COMPLETE,y.destroy,y),y.play(c,g)},remove:function(p){var c=this.sounds.indexOf(p);return c!==-1?(p.destroy(),this.sounds.splice(c,1),!0):!1},removeAll:function(){this.sounds.forEach(function(p){p.destroy()}),this.sounds.length=0},removeByKey:function(p){for(var c=0,g=this.sounds.length-1;g>=0;g--){var y=this.sounds[g];y.key===p&&(y.destroy(),this.sounds.splice(g,1),c++)}return c},pauseAll:function(){this.forEachActiveSound(function(p){p.pause()}),this.emit(o.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(p){p.resume()}),this.emit(o.RESUME_ALL,this)},setListenerPosition:f,stopAll:function(){this.forEachActiveSound(function(p){p.stop()}),this.emit(o.STOP_ALL,this)},stopByKey:function(p){var c=0;return this.getAll(p).forEach(function(g){g.stop()&&c++}),c},unlock:f,onBlur:f,onFocus:f,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(p,c){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(o.UNLOCKED,this));for(var g=this.sounds.length-1;g>=0;g--)this.sounds[g].pendingRemove&&this.sounds.splice(g,1);this.sounds.forEach(function(y){y.update(p,c)})},destroy:function(){this.game.events.off(h.BLUR,this.onGameBlur,this),this.game.events.off(h.FOCUS,this.onGameFocus,this),this.game.events.off(h.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(p,c){var g=this;this.sounds.forEach(function(y,S){y&&!y.pendingRemove&&p.call(c||g,y,S,g.sounds)})},setRate:function(p){return this.rate=p,this},rate:{get:function(){return this._rate},set:function(p){this._rate=p,this.forEachActiveSound(function(c){c.calculateRate()}),this.emit(o.GLOBAL_RATE,this,p)}},setDetune:function(p){return this.detune=p,this},detune:{get:function(){return this._detune},set:function(p){this._detune=p,this.forEachActiveSound(function(c){c.calculateRate()}),this.emit(o.GLOBAL_DETUNE,this,p)}}});l.exports=v},84191:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(27622),m=e(17546),d=e(55491),o={create:function(h){var n=h.config.audio,r=h.device.audio;return n.noAudio||!r.webAudio&&!r.audioData?new m(h):r.webAudio&&!n.disableWebAudio?new d(h):new u(h)}};l.exports=o},77578:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="complete"},19679:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="decodedall"},56951:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="decoded"},16436:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="destroy"},55154:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="detune"},57818:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="detune"},57890:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="mute"},83022:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="rate"},99170:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="volume"},64289:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="looped"},67214:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="loop"},53128:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="mute"},73078:l=>{/**
 * @author       pi-kei
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pan"},76763:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pauseall"},88426:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pause"},13765:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="play"},80291:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="rate"},11124:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="resumeall"},55382:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="resume"},71157:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="seek"},31776:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="stopall"},39450:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="stop"},21939:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="unlocked"},33019:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="volume"},76038:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={COMPLETE:e(77578),DECODED:e(56951),DECODED_ALL:e(19679),DESTROY:e(16436),DETUNE:e(55154),GLOBAL_DETUNE:e(57818),GLOBAL_MUTE:e(57890),GLOBAL_RATE:e(83022),GLOBAL_VOLUME:e(99170),LOOP:e(67214),LOOPED:e(64289),MUTE:e(53128),PAN:e(73078),PAUSE_ALL:e(76763),PAUSE:e(88426),PLAY:e(13765),RATE:e(80291),RESUME_ALL:e(11124),RESUME:e(55382),SEEK:e(71157),STOP_ALL:e(31776),STOP:e(39450),UNLOCKED:e(21939),VOLUME:e(33019)}},34350:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25798),m=e(56694),d=e(76038),o=e(82897),h=new m({Extends:u,initialize:function(r,f,a){if(a===void 0&&(a={}),this.tags=r.game.cache.audio.get(f),!this.tags)throw new Error('No cached audio asset with key "'+f);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,u.call(this,r,f,a)},play:function(n,r){return this.manager.isLocked(this,"play",[n,r])||!u.prototype.play.call(this,n,r)||!this.pickAndPlayAudioTag()?!1:(this.emit(d.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!u.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(d.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!u.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(d.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!u.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(d.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var n=this.currentConfig.seek,r=this.currentConfig.delay,f=(this.currentMarker?this.currentMarker.start:0)+n;return this.previousTime=f,this.audio.currentTime=f,this.applyConfig(),r===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+r*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var n=0;n<this.tags.length;n++){var r=this.tags[n];if(r.dataset.used==="false")return r.dataset.used="true",this.audio=r,!0}if(!this.manager.override)return!1;var f=[];this.manager.forEachActiveSound(function(v){v.key===this.key&&v.audio&&f.push(v)},this),f.sort(function(v,p){return v.loop===p.loop?p.seek/p.duration-v.seek/v.duration:v.loop?1:-1});var a=f[0];return this.audio=a.audio,a.reset(),a.audio=null,a.startTime=0,a.previousTime=0,!0},playCatchPromise:function(){var n=this.audio.play();n&&n.catch(function(r){console.warn(r)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){u.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(n){if(this.isPlaying){if(this.startTime>0){this.startTime<n-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,n-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var r=this.currentMarker?this.currentMarker.start:0,f=r+this.duration,a=this.audio.currentTime;if(this.currentConfig.loop)a>=f-this.manager.loopEndOffset?(this.audio.currentTime=r+Math.max(0,a-f),a=this.audio.currentTime):a<r&&(this.audio.currentTime+=r,a=this.audio.currentTime),a<this.previousTime&&this.emit(d.LOOPED,this);else if(a>=f){this.reset(),this.stopAndReleaseAudioTag(),this.emit(d.COMPLETE,this);return}this.previousTime=a}},destroy:function(){u.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=o(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){u.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(n){this.currentConfig.mute=n,!this.manager.isLocked(this,"mute",n)&&(this.updateMute(),this.emit(d.MUTE,this,n))}},setMute:function(n){return this.mute=n,this},volume:{get:function(){return this.currentConfig.volume},set:function(n){this.currentConfig.volume=n,!this.manager.isLocked(this,"volume",n)&&(this.updateVolume(),this.emit(d.VOLUME,this,n))}},setVolume:function(n){return this.volume=n,this},rate:{get:function(){return this.currentConfig.rate},set:function(n){this.currentConfig.rate=n,!this.manager.isLocked(this,d.RATE,n)&&(this.calculateRate(),this.emit(d.RATE,this,n))}},setRate:function(n){return this.rate=n,this},detune:{get:function(){return this.currentConfig.detune},set:function(n){this.currentConfig.detune=n,!this.manager.isLocked(this,d.DETUNE,n)&&(this.calculateRate(),this.emit(d.DETUNE,this,n))}},setDetune:function(n){return this.detune=n,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(n){this.manager.isLocked(this,"seek",n)||this.startTime>0||(this.isPlaying||this.isPaused)&&(n=Math.min(Math.max(0,n),this.duration),this.isPlaying?(this.previousTime=n,this.audio.currentTime=n):this.isPaused&&(this.currentConfig.seek=n),this.emit(d.SEEK,this,n))}},setSeek:function(n){return this.seek=n,this},loop:{get:function(){return this.currentConfig.loop},set:function(n){this.currentConfig.loop=n,!this.manager.isLocked(this,"loop",n)&&(this.audio&&(this.audio.loop=n),this.emit(d.LOOP,this,n))}},setLoop:function(n){return this.loop=n,this},pan:{get:function(){return this.currentConfig.pan},set:function(n){this.currentConfig.pan=n,this.emit(d.PAN,this,n)}},setPan:function(n){return this.pan=n,this}});l.exports=h},27622:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(12486),m=e(56694),d=e(76038),o=e(34350),h=new m({Extends:u,initialize:function(r){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,u.call(this,r)},add:function(n,r){var f=new o(this,n,r);return this.sounds.push(f),f},unlock:function(){this.locked=!1;var n=this;if(this.game.cache.audio.entries.each(function(v,p){for(var c=0;c<p.length;c++)if(p[c].dataset.locked==="true")return n.locked=!0,!1;return!0}),!!this.locked){var r=!1,f=function(){r=!0},a=function(){if(r){r=!1;return}document.body.removeEventListener("touchmove",f),document.body.removeEventListener("touchend",a);var v=[];if(n.game.cache.audio.entries.each(function(c,g){for(var y=0;y<g.length;y++){var S=g[y];S.dataset.locked==="true"&&v.push(S)}return!0}),v.length!==0){var p=v[v.length-1];p.oncanplaythrough=function(){p.oncanplaythrough=null,v.forEach(function(c){c.dataset.locked="false"}),n.unlocked=!0},v.forEach(function(c){c.load()})}};this.once(d.UNLOCKED,function(){for(this.forEachActiveSound(function(p){p.currentMarker===null&&p.duration===0&&(p.duration=p.tags[0].duration),p.totalDuration=p.tags[0].duration});this.lockedActionsQueue.length;){var v=this.lockedActionsQueue.shift();v.sound[v.prop].apply?v.sound[v.prop].apply(v.sound,v.value||[]):v.sound[v.prop]=v.value}},this),document.body.addEventListener("touchmove",f,!1),document.body.addEventListener("touchend",a,!1)}},onBlur:function(){this.forEachActiveSound(function(n){n.isPlaying&&(this.onBlurPausedSounds.push(n),n.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(n){n.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){u.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(n,r,f){return n.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:n,prop:r,value:f}),!0):!1},setMute:function(n){return this.mute=n,this},mute:{get:function(){return this._mute},set:function(n){this._mute=n,this.forEachActiveSound(function(r){r.updateMute()}),this.emit(d.GLOBAL_MUTE,this,n)}},setVolume:function(n){return this.volume=n,this},volume:{get:function(){return this._volume},set:function(n){this._volume=n,this.forEachActiveSound(function(r){r.updateVolume()}),this.emit(d.GLOBAL_VOLUME,this,n)}}});l.exports=h},56751:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={SoundManagerCreator:e(84191),Events:e(76038),BaseSound:e(25798),BaseSoundManager:e(12486),WebAudioSound:e(96008),WebAudioSoundManager:e(55491),HTML5AudioSound:e(34350),HTML5AudioSoundManager:e(27622),NoAudioSound:e(38662),NoAudioSoundManager:e(17546)}},38662:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25798),m=e(56694),d=e(6659),o=e(98611),h=e(72283),n=function(){return!1},r=function(){return null},f=function(){return this},a=new m({Extends:d,initialize:function(p,c,g){g===void 0&&(g={}),d.call(this),this.manager=p,this.key=c,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=o({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},g),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:n,updateMarker:n,removeMarker:r,play:n,pause:n,resume:n,stop:n,setMute:f,setVolume:f,setRate:f,setDetune:f,setSeek:f,setLoop:f,setPan:f,applyConfig:r,resetConfig:r,update:h,calculateRate:r,destroy:function(){u.prototype.destroy.call(this)}});l.exports=a},17546:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(12486),m=e(56694),d=e(6659),o=e(38662),h=e(72283),n=new m({Extends:d,initialize:function(f){d.call(this),this.game=f,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(r,f){var a=new o(this,r,f);return this.sounds.push(a),a},addAudioSprite:function(r,f){var a=this.add(r,f);return a.spritemap={},a},get:function(r){return u.prototype.get.call(this,r)},getAll:function(r){return u.prototype.getAll.call(this,r)},play:function(r,f){return!1},playAudioSprite:function(r,f,a){return!1},remove:function(r){return u.prototype.remove.call(this,r)},removeAll:function(){return u.prototype.removeAll.call(this)},removeByKey:function(r){return u.prototype.removeByKey.call(this,r)},stopByKey:function(r){return u.prototype.stopByKey.call(this,r)},onBlur:h,onFocus:h,onGameBlur:h,onGameFocus:h,pauseAll:h,resumeAll:h,stopAll:h,update:h,setRate:h,setDetune:h,setMute:h,setVolume:h,unlock:h,forEachActiveSound:function(r,f){u.prototype.forEachActiveSound.call(this,r,f)},destroy:function(){u.prototype.destroy.call(this)}});l.exports=n},96008:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25798),m=e(56694),d=e(76038),o=e(72632),h=new m({Extends:u,initialize:function(r,f,a){if(a===void 0&&(a={}),this.audioBuffer=r.game.cache.audio.get(f),!this.audioBuffer)throw new Error('Audio key "'+f+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=r.context.createGain(),this.volumeNode=r.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),r.context.createPanner&&(this.spatialNode=r.context.createPanner(),this.volumeNode.connect(this.spatialNode)),r.context.createStereoPanner?(this.pannerNode=r.context.createStereoPanner(),r.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(r.destination)):r.context.createPanner?this.spatialNode.connect(r.destination):this.volumeNode.connect(r.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,u.call(this,r,f,a)},play:function(n,r){return u.prototype.play.call(this,n,r)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(d.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!u.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(d.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!u.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(d.RESUME,this),!0)},stop:function(){return u.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(d.STOP,this),!0):!1},createAndStartBufferSource:function(){var n=this.currentConfig.seek,r=this.currentConfig.delay,f=this.manager.context.currentTime+r,a=(this.currentMarker?this.currentMarker.start:0)+n,v=this.duration-n;this.playTime=f-n,this.startTime=f,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,f),Math.max(0,a),Math.max(0,v)),this.resetConfig()},createAndStartLoopBufferSource:function(){var n=this.getLoopTime(),r=this.currentMarker?this.currentMarker.start:0,f=this.duration;this.loopTime=n,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,n),Math.max(0,r),Math.max(0,f))},createBufferSource:function(){var n=this,r=this.manager.context.createBufferSource();return r.buffer=this.audioBuffer,r.connect(this.muteNode),r.onended=function(f){f.target===n.source&&(n.currentConfig.loop?n.hasLooped=!0:n.hasEnded=!0)},r},stopAndRemoveBufferSource:function(){this.source&&(this.source.stop(),this.source.disconnect(),this.source=null),this.playTime=0,this.startTime=0,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var n=this.currentConfig.source;if(n&&this.manager.context.createPanner){var r=this.spatialNode;r.panningModel=o(n,"panningModel","equalpower"),r.distanceModel=o(n,"distanceModel","inverse"),r.orientationX.value=o(n,"orientationX",0),r.orientationY.value=o(n,"orientationY",0),r.orientationZ.value=o(n,"orientationZ",-1),r.refDistance=o(n,"refDistance",1),r.maxDistance=o(n,"maxDistance",1e4),r.rolloffFactor=o(n,"rolloffFactor",1),r.coneInnerAngle=o(n,"coneInnerAngle",360),r.coneOuterAngle=o(n,"coneOuterAngle",0),r.coneOuterGain=o(n,"coneOuterGain",0),this.spatialSource=o(n,"follow",null),this.spatialSource||(r.positionX.value=o(n,"x",0),r.positionY.value=o(n,"y",0),r.positionZ.value=o(n,"z",0))}u.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(n){this.spatialNode&&(this.spatialNode.positionX.value=n)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(n){this.spatialNode&&(this.spatialNode.positionY.value=n)}},update:function(){if(this.isPlaying&&this.spatialSource){var n=o(this.spatialSource,"x",null),r=o(this.spatialSource,"y",null);n&&n!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=n),r&&r!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=r)}this.hasEnded?(this.hasEnded=!1,u.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(d.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(d.LOOPED,this))},destroy:function(){this.pendingRemove||(u.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){u.prototype.calculateRate.call(this);var n=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,n),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,n)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var n=0,r=0;r<this.rateUpdates.length;r++){var f=0;r<this.rateUpdates.length-1?f=this.rateUpdates[r+1].time:f=this.manager.context.currentTime-this.playTime,n+=(f-this.rateUpdates[r].time)*this.rateUpdates[r].rate}return n},getLoopTime:function(){for(var n=0,r=0;r<this.rateUpdates.length-1;r++)n+=(this.rateUpdates[r+1].time-this.rateUpdates[r].time)*this.rateUpdates[r].rate;var f=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+f.time+(this.duration-n)/f.rate},rate:{get:function(){return this.currentConfig.rate},set:function(n){this.currentConfig.rate=n,this.calculateRate(),this.emit(d.RATE,this,n)}},setRate:function(n){return this.rate=n,this},detune:{get:function(){return this.currentConfig.detune},set:function(n){this.currentConfig.detune=n,this.calculateRate(),this.emit(d.DETUNE,this,n)}},setDetune:function(n){return this.detune=n,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(n){this.currentConfig.mute=n,this.muteNode.gain.setValueAtTime(n?0:1,0),this.emit(d.MUTE,this,n)}},setMute:function(n){return this.mute=n,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(n){this.currentConfig.volume=n,this.volumeNode.gain.setValueAtTime(n,0),this.emit(d.VOLUME,this,n)}},setVolume:function(n){return this.volume=n,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(n){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(n=Math.min(Math.max(0,n),this.duration),this.currentConfig.seek=n,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(d.SEEK,this,n))}},setSeek:function(n){return this.seek=n,this},loop:{get:function(){return this.currentConfig.loop},set:function(n){this.currentConfig.loop=n,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),n&&this.createAndStartLoopBufferSource()),this.emit(d.LOOP,this,n)}},setLoop:function(n){return this.loop=n,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(n){this.currentConfig.pan=n,this.pannerNode&&this.pannerNode.pan.setValueAtTime(n,this.manager.context.currentTime),this.emit(d.PAN,this,n)}},setPan:function(n){return this.pan=n,this}});l.exports=h},55491:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82329),m=e(12486),d=e(56694),o=e(76038),h=e(97081),n=e(96008),r=e(72632),f=new d({Extends:m,initialize:function(v){this.context=this.createAudioContext(v),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),m.call(this,v),this.locked&&v.isBooted?this.unlock():v.events.once(h.BOOT,this.unlock,this)},createAudioContext:function(a){var v=a.config.audio;if(v.context)return v.context.resume(),v.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(a){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=a,this.masterMuteNode=a.createGain(),this.masterVolumeNode=a.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(a.destination),this.destination=this.masterMuteNode,this},add:function(a,v){var p=new n(this,a,v);return this.sounds.push(p),p},decodeAudio:function(a,v){var p;Array.isArray(a)?p=a:p=[{key:a,data:v}];for(var c=this.game.cache.audio,g=p.length,y=0;y<p.length;y++){var S=p[y],P=S.key,C=S.data;typeof C=="string"&&(C=u(C));var M=(function(w,O){c.add(w,O),this.emit(o.DECODED,w),g--,g===0&&this.emit(o.DECODED_ALL)}).bind(this,P),R=(function(w,O){console.error("Error decoding audio: "+w+" - ",O?O.message:""),g--,g===0&&this.emit(o.DECODED_ALL)}).bind(this,P);this.context.decodeAudioData(C,M,R)}},setListenerPosition:function(a,v){return a===void 0&&(a=this.game.scale.width/2),v===void 0&&(v=this.game.scale.height/2),this.listenerPosition.set(a,v),this},unlock:function(){var a=this,v=document.body,p=function c(){if(a.context&&v){var g=v.removeEventListener;a.context.resume().then(function(){g("touchstart",c),g("touchend",c),g("click",c),g("keydown",c),a.unlocked=!0},function(){g("touchstart",c),g("touchend",c),g("click",c),g("keydown",c)})}};v&&(v.addEventListener("touchstart",p,!1),v.addEventListener("touchend",p,!1),v.addEventListener("click",p,!1),v.addEventListener("keydown",p,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var a=this.context;a&&!this.locked&&(a.state==="suspended"||a.state==="interrupted")&&a.resume()},update:function(a,v){var p=this.context.listener;if(p&&p.positionX!==void 0){var c=r(this.listenerPosition,"x",null),g=r(this.listenerPosition,"y",null);c&&c!==this._spatialx&&(this._spatialx=p.positionX.value=c),g&&g!==this._spatialy&&(this._spatialy=p.positionY.value=g)}m.prototype.update.call(this,a,v),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var a=this;this.context.close().then(function(){a.context=null})}m.prototype.destroy.call(this)},setMute:function(a){return this.mute=a,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(a){this.masterMuteNode.gain.setValueAtTime(a?0:1,0),this.emit(o.GLOBAL_MUTE,this,a)}},setVolume:function(a){return this.volume=a,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(a){this.masterVolumeNode.gain.setValueAtTime(a,0),this.emit(o.GLOBAL_VOLUME,this,a)}}});l.exports=f},71207:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(59959),m=e(56694),d=e(72283),o=e(17922),h=new m({initialize:function(r){this.parent=r,this.list=[],this.position=0,this.addCallback=d,this.removeCallback=d,this._sortKey=""},add:function(n,r){return r?u.Add(this.list,n):u.Add(this.list,n,0,this.addCallback,this)},addAt:function(n,r,f){return f?u.AddAt(this.list,n,r):u.AddAt(this.list,n,r,0,this.addCallback,this)},getAt:function(n){return this.list[n]},getIndex:function(n){return this.list.indexOf(n)},sort:function(n,r){return n?(r===void 0&&(r=function(f,a){return f[n]-a[n]}),o(this.list,r),this):this},getByName:function(n){return u.GetFirst(this.list,"name",n)},getRandom:function(n,r){return u.GetRandom(this.list,n,r)},getFirst:function(n,r,f,a){return u.GetFirst(this.list,n,r,f,a)},getAll:function(n,r,f,a){return u.GetAll(this.list,n,r,f,a)},count:function(n,r){return u.CountAllMatching(this.list,n,r)},swap:function(n,r){u.Swap(this.list,n,r)},moveTo:function(n,r){return u.MoveTo(this.list,n,r)},moveAbove:function(n,r){return u.MoveAbove(this.list,n,r)},moveBelow:function(n,r){return u.MoveBelow(this.list,n,r)},remove:function(n,r){return r?u.Remove(this.list,n):u.Remove(this.list,n,this.removeCallback,this)},removeAt:function(n,r){return r?u.RemoveAt(this.list,n):u.RemoveAt(this.list,n,this.removeCallback,this)},removeBetween:function(n,r,f){return f?u.RemoveBetween(this.list,n,r):u.RemoveBetween(this.list,n,r,this.removeCallback,this)},removeAll:function(n){for(var r=this.list.length;r--;)this.remove(this.list[r],n);return this},bringToTop:function(n){return u.BringToTop(this.list,n)},sendToBack:function(n){return u.SendToBack(this.list,n)},moveUp:function(n){return u.MoveUp(this.list,n),n},moveDown:function(n){return u.MoveDown(this.list,n),n},reverse:function(){return this.list.reverse(),this},shuffle:function(){return u.Shuffle(this.list),this},replace:function(n,r){return u.Replace(this.list,n,r)},exists:function(n){return this.list.indexOf(n)>-1},setAll:function(n,r,f,a){return u.SetAll(this.list,n,r,f,a),this},each:function(n,r){for(var f=[null],a=2;a<arguments.length;a++)f.push(arguments[a]);for(a=0;a<this.list.length;a++)f[0]=this.list[a],n.apply(r,f)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});l.exports=h},33885:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=new u({initialize:function(o){if(this.entries={},this.size=0,Array.isArray(o))for(var h=0;h<o.length;h++)this.set(o[h][0],o[h][1])},set:function(d,o){return this.has(d)||this.size++,this.entries[d]=o,this},get:function(d){if(this.has(d))return this.entries[d]},getArray:function(){var d=[],o=this.entries;for(var h in o)d.push(o[h]);return d},has:function(d){return this.entries.hasOwnProperty(d)},delete:function(d){return this.has(d)&&(delete this.entries[d],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(d){delete this.entries[d]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var d=[],o=this.entries;for(var h in o)d.push(o[h]);return d},dump:function(){var d=this.entries;console.group("Map");for(var o in d)console.log(o,d[o]);console.groupEnd()},each:function(d){var o=this.entries;for(var h in o)if(d(h,o[h])===!1)break;return this},contains:function(d){var o=this.entries;for(var h in o)if(o[h]===d)return!0;return!1},merge:function(d,o){o===void 0&&(o=!1);var h=this.entries,n=d.entries;for(var r in n)h.hasOwnProperty(r)&&o?h[r]=n[r]:this.set(r,n[r]);return this}});l.exports=m},74623:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(6659),d=e(36716),o=new u({Extends:m,initialize:function(){m.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(h){return this._active.indexOf(h)>-1},isPending:function(h){return this._toProcess>0&&this._pending.indexOf(h)>-1},isDestroying:function(h){return this._destroy.indexOf(h)>-1},add:function(h){return this.checkQueue&&this.isActive()&&!this.isDestroying()||this.isPending()||(this._pending.push(h),this._toProcess++),h},remove:function(h){if(this.isPending(h)){var n=this._pending,r=n.indexOf(h);r!==-1&&n.splice(r,1)}else this.isActive(h)&&(this._destroy.push(h),this._toProcess++);return h},removeAll:function(){for(var h=this._active,n=this._destroy,r=h.length;r--;)n.push(h[r]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var h=this._destroy,n=this._active,r,f;for(r=0;r<h.length;r++){f=h[r];var a=n.indexOf(f);a!==-1&&(n.splice(a,1),this.emit(d.PROCESS_QUEUE_REMOVE,f))}for(h.length=0,h=this._pending,r=0;r<h.length;r++)f=h[r],(!this.checkQueue||this.checkQueue&&n.indexOf(f)===-1)&&(n.push(f),this.emit(d.PROCESS_QUEUE_ADD,f));return h.length=0,this._toProcess=0,n},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});l.exports=o},68687:(l,T,e)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(53466);function m(C){if(!(this instanceof m))return new m(C);this._maxEntries=Math.max(4,C||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}m.prototype={all:function(){return this._all(this.data,[])},search:function(C){var M=this.data,R=[],w=this.toBBox;if(!y(C,M))return R;for(var O=[],F,L,b,B;M;){for(F=0,L=M.children.length;F<L;F++)b=M.children[F],B=M.leaf?w(b):b,y(C,B)&&(M.leaf?R.push(b):g(C,B)?this._all(b,R):O.push(b));M=O.pop()}return R},collides:function(C){var M=this.data,R=this.toBBox;if(!y(C,M))return!1;for(var w=[],O,F,L,b;M;){for(O=0,F=M.children.length;O<F;O++)if(L=M.children[O],b=M.leaf?R(L):L,y(C,b)){if(M.leaf||g(C,b))return!0;w.push(L)}M=w.pop()}return!1},load:function(C){if(!(C&&C.length))return this;if(C.length<this._minEntries){for(var M=0,R=C.length;M<R;M++)this.insert(C[M]);return this}var w=this._build(C.slice(),0,C.length-1,0);if(!this.data.children.length)this.data=w;else if(this.data.height===w.height)this._splitRoot(this.data,w);else{if(this.data.height<w.height){var O=this.data;this.data=w,w=O}this._insert(w,this.data.height-w.height-1,!0)}return this},insert:function(C){return C&&this._insert(C,this.data.height-1),this},clear:function(){return this.data=S([]),this},remove:function(C,M){if(!C)return this;for(var R=this.data,w=this.toBBox(C),O=[],F=[],L,b,B,I;R||O.length;){if(R||(R=O.pop(),b=O[O.length-1],L=F.pop(),I=!0),R.leaf&&(B=d(C,R.children,M),B!==-1))return R.children.splice(B,1),O.push(R),this._condense(O),this;!I&&!R.leaf&&g(R,w)?(O.push(R),F.push(L),L=0,b=R,R=R.children[0]):b?(L++,R=b.children[L],I=!1):R=null}return this},toBBox:function(C){return C},compareMinX:r,compareMinY:f,toJSON:function(){return this.data},fromJSON:function(C){return this.data=C,this},_all:function(C,M){for(var R=[];C;)C.leaf?M.push.apply(M,C.children):R.push.apply(R,C.children),C=R.pop();return M},_build:function(C,M,R,w){var O=R-M+1,F=this._maxEntries,L;if(O<=F)return L=S(C.slice(M,R+1)),o(L,this.toBBox),L;w||(w=Math.ceil(Math.log(O)/Math.log(F)),F=Math.ceil(O/Math.pow(F,w-1))),L=S([]),L.leaf=!1,L.height=w;var b=Math.ceil(O/F),B=b*Math.ceil(Math.sqrt(F)),I,z,Y,W;for(P(C,M,R,B,this.compareMinX),I=M;I<=R;I+=B)for(Y=Math.min(I+B-1,R),P(C,I,Y,b,this.compareMinY),z=I;z<=Y;z+=b)W=Math.min(z+b-1,Y),L.children.push(this._build(C,z,W,w-1));return o(L,this.toBBox),L},_chooseSubtree:function(C,M,R,w){for(var O,F,L,b,B,I,z,Y;w.push(M),!(M.leaf||w.length-1===R);){for(z=Y=1/0,O=0,F=M.children.length;O<F;O++)L=M.children[O],B=a(L),I=p(C,L)-B,I<Y?(Y=I,z=B<z?B:z,b=L):I===Y&&B<z&&(z=B,b=L);M=b||M.children[0]}return M},_insert:function(C,M,R){var w=this.toBBox,O=R?C:w(C),F=[],L=this._chooseSubtree(O,this.data,M,F);for(L.children.push(C),n(L,O);M>=0&&F[M].children.length>this._maxEntries;)this._split(F,M),M--;this._adjustParentBBoxes(O,F,M)},_split:function(C,M){var R=C[M],w=R.children.length,O=this._minEntries;this._chooseSplitAxis(R,O,w);var F=this._chooseSplitIndex(R,O,w),L=S(R.children.splice(F,R.children.length-F));L.height=R.height,L.leaf=R.leaf,o(R,this.toBBox),o(L,this.toBBox),M?C[M-1].children.push(L):this._splitRoot(R,L)},_splitRoot:function(C,M){this.data=S([C,M]),this.data.height=C.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},_chooseSplitIndex:function(C,M,R){var w,O,F,L,b,B,I,z;for(B=I=1/0,w=M;w<=R-M;w++)O=h(C,0,w,this.toBBox),F=h(C,w,R,this.toBBox),L=c(O,F),b=a(O)+a(F),L<B?(B=L,z=w,I=b<I?b:I):L===B&&b<I&&(I=b,z=w);return z},_chooseSplitAxis:function(C,M,R){var w=C.leaf?this.compareMinX:r,O=C.leaf?this.compareMinY:f,F=this._allDistMargin(C,M,R,w),L=this._allDistMargin(C,M,R,O);F<L&&C.children.sort(w)},_allDistMargin:function(C,M,R,w){C.children.sort(w);var O=this.toBBox,F=h(C,0,M,O),L=h(C,R-M,R,O),b=v(F)+v(L),B,I;for(B=M;B<R-M;B++)I=C.children[B],n(F,C.leaf?O(I):I),b+=v(F);for(B=R-M-1;B>=M;B--)I=C.children[B],n(L,C.leaf?O(I):I),b+=v(L);return b},_adjustParentBBoxes:function(C,M,R){for(var w=R;w>=0;w--)n(M[w],C)},_condense:function(C){for(var M=C.length-1,R;M>=0;M--)C[M].children.length===0?M>0?(R=C[M-1].children,R.splice(R.indexOf(C[M]),1)):this.clear():o(C[M],this.toBBox)},compareMinX:function(C,M){return C.left-M.left},compareMinY:function(C,M){return C.top-M.top},toBBox:function(C){return{minX:C.left,minY:C.top,maxX:C.right,maxY:C.bottom}}};function d(C,M,R){if(!R)return M.indexOf(C);for(var w=0;w<M.length;w++)if(R(C,M[w]))return w;return-1}function o(C,M){h(C,0,C.children.length,M,C)}function h(C,M,R,w,O){O||(O=S(null)),O.minX=1/0,O.minY=1/0,O.maxX=-1/0,O.maxY=-1/0;for(var F=M,L;F<R;F++)L=C.children[F],n(O,C.leaf?w(L):L);return O}function n(C,M){return C.minX=Math.min(C.minX,M.minX),C.minY=Math.min(C.minY,M.minY),C.maxX=Math.max(C.maxX,M.maxX),C.maxY=Math.max(C.maxY,M.maxY),C}function r(C,M){return C.minX-M.minX}function f(C,M){return C.minY-M.minY}function a(C){return(C.maxX-C.minX)*(C.maxY-C.minY)}function v(C){return C.maxX-C.minX+(C.maxY-C.minY)}function p(C,M){return(Math.max(M.maxX,C.maxX)-Math.min(M.minX,C.minX))*(Math.max(M.maxY,C.maxY)-Math.min(M.minY,C.minY))}function c(C,M){var R=Math.max(C.minX,M.minX),w=Math.max(C.minY,M.minY),O=Math.min(C.maxX,M.maxX),F=Math.min(C.maxY,M.maxY);return Math.max(0,O-R)*Math.max(0,F-w)}function g(C,M){return C.minX<=M.minX&&C.minY<=M.minY&&M.maxX<=C.maxX&&M.maxY<=C.maxY}function y(C,M){return M.minX<=C.maxX&&M.minY<=C.maxY&&M.maxX>=C.minX&&M.maxY>=C.minY}function S(C){return{children:C,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function P(C,M,R,w,O){for(var F=[M,R],L;F.length;)R=F.pop(),M=F.pop(),!(R-M<=w)&&(L=M+Math.ceil((R-M)/w/2)*w,u(C,L,M,R,O),F.push(M,L,L,R))}l.exports=m},58403:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=new u({initialize:function(o){if(this.entries=[],Array.isArray(o))for(var h=0;h<o.length;h++)this.set(o[h])},set:function(d){return this.entries.indexOf(d)===-1&&this.entries.push(d),this},get:function(d,o){for(var h=0;h<this.entries.length;h++){var n=this.entries[h];if(n[d]===o)return n}},getArray:function(){return this.entries.slice(0)},delete:function(d){var o=this.entries.indexOf(d);return o>-1&&this.entries.splice(o,1),this},dump:function(){console.group("Set");for(var d=0;d<this.entries.length;d++){var o=this.entries[d];console.log(o)}console.groupEnd()},each:function(d,o){var h,n=this.entries.slice(),r=n.length;if(o)for(h=0;h<r&&d.call(o,n[h],h)!==!1;h++);else for(h=0;h<r&&d(n[h],h)!==!1;h++);return this},iterate:function(d,o){var h,n=this.entries.length;if(o)for(h=0;h<n&&d.call(o,this.entries[h],h)!==!1;h++);else for(h=0;h<n&&d(this.entries[h],h)!==!1;h++);return this},iterateLocal:function(d){var o,h=[];for(o=1;o<arguments.length;o++)h.push(arguments[o]);var n=this.entries.length;for(o=0;o<n;o++){var r=this.entries[o];r[d].apply(r,h)}return this},clear:function(){return this.entries.length=0,this},contains:function(d){return this.entries.indexOf(d)>-1},union:function(d){var o=new m;return d.entries.forEach(function(h){o.set(h)}),this.entries.forEach(function(h){o.set(h)}),o},intersect:function(d){var o=new m;return this.entries.forEach(function(h){d.contains(h)&&o.set(h)}),o},difference:function(d){var o=new m;return this.entries.forEach(function(h){d.contains(h)||o.set(h)}),o},size:{get:function(){return this.entries.length},set:function(d){return d<this.entries.length?this.entries.length=d:this.entries.length}}});l.exports=m},90881:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82897),m=e(56694),d=e(84314),o=e(93736),h=new m({initialize:function(r,f,a,v){r===void 0&&(r=0),f===void 0&&(f=r),a===void 0&&(a=0),v===void 0&&(v=null),this._width=r,this._height=f,this._parent=v,this.aspectMode=a,this.aspectRatio=f===0?1:r/f,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new o},setAspectMode:function(n){return n===void 0&&(n=0),this.aspectMode=n,this.setSize(this._width,this._height)},setSnap:function(n,r){return n===void 0&&(n=0),r===void 0&&(r=n),this.snapTo.set(n,r),this.setSize(this._width,this._height)},setParent:function(n){return this._parent=n,this.setSize(this._width,this._height)},setMin:function(n,r){return n===void 0&&(n=0),r===void 0&&(r=n),this.minWidth=u(n,0,this.maxWidth),this.minHeight=u(r,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(n,r){return n===void 0&&(n=Number.MAX_VALUE),r===void 0&&(r=n),this.maxWidth=u(n,this.minWidth,Number.MAX_VALUE),this.maxHeight=u(r,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(n,r){switch(n===void 0&&(n=0),r===void 0&&(r=n),this.aspectMode){case h.NONE:this._width=this.getNewWidth(d(n,this.snapTo.x)),this._height=this.getNewHeight(d(r,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case h.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(d(n,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case h.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(d(r,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case h.FIT:this.constrain(n,r,!0);break;case h.ENVELOP:this.constrain(n,r,!1);break}return this},setAspectRatio:function(n){return this.aspectRatio=n,this.setSize(this._width,this._height)},resize:function(n,r){return this._width=this.getNewWidth(d(n,this.snapTo.x)),this._height=this.getNewHeight(d(r,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(n,r){return r===void 0&&(r=!0),n=u(n,this.minWidth,this.maxWidth),r&&this._parent&&n>this._parent.width&&(n=Math.max(this.minWidth,this._parent.width)),n},getNewHeight:function(n,r){return r===void 0&&(r=!0),n=u(n,this.minHeight,this.maxHeight),r&&this._parent&&n>this._parent.height&&(n=Math.max(this.minHeight,this._parent.height)),n},constrain:function(n,r,f){n===void 0&&(n=0),r===void 0&&(r=n),f===void 0&&(f=!0),n=this.getNewWidth(n),r=this.getNewHeight(r);var a=this.snapTo,v=r===0?1:n/r;return f&&this.aspectRatio>v||!f&&this.aspectRatio<v?(n=d(n,a.x),r=n/this.aspectRatio,a.y>0&&(r=d(r,a.y),n=r*this.aspectRatio)):(f&&this.aspectRatio<v||!f&&this.aspectRatio>v)&&(r=d(r,a.y),n=r*this.aspectRatio,a.x>0&&(n=d(n,a.x),r=n*(1/this.aspectRatio))),this._width=n,this._height=r,this},fitTo:function(n,r){return this.constrain(n,r,!0)},envelop:function(n,r){return this.constrain(n,r,!1)},setWidth:function(n){return this.setSize(n,this._height)},setHeight:function(n){return this.setSize(this._width,n)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(n){n&&n.style&&(n.style.width=this._width+"px",n.style.height=this._height+"px")},copy:function(n){return n.setAspectMode(this.aspectMode),n.aspectRatio=this.aspectRatio,n.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(n){this.setSize(n,this._height)}},height:{get:function(){return this._height},set:function(n){this.setSize(this._width,n)}}});h.NONE=0,h.WIDTH_CONTROLS_HEIGHT=1,h.HEIGHT_CONTROLS_WIDTH=2,h.FIT=3,h.ENVELOP=4,l.exports=h},94160:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="add"},95393:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="remove"},36716:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={PROCESS_QUEUE_ADD:e(94160),PROCESS_QUEUE_REMOVE:e(95393)}},20010:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Events:e(36716),List:e(71207),Map:e(33885),ProcessQueue:e(74623),RTree:e(68687),Set:e(58403),Size:e(90881)}},17487:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(82897),d=e(27119),o=e(86459),h=e(28621),n=e(31673),r=new u({Extends:n,initialize:function(a,v,p,c,g){n.call(this,a,v,p,c,g),this.add("__BASE",0,0,0,c,g),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=c,this.height=g,this.imageData=this.context.getImageData(0,0,c,g),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===o.WEBGL&&this.refresh(),this},draw:function(f,a,v,p){return p===void 0&&(p=!0),this.context.drawImage(v,f,a),p&&this.update(),this},drawFrame:function(f,a,v,p,c){v===void 0&&(v=0),p===void 0&&(p=0),c===void 0&&(c=!0);var g=this.manager.getFrame(f,a);if(g){var y=g.canvasData,S=g.cutWidth,P=g.cutHeight,C=g.source.resolution;this.context.drawImage(g.source.image,y.x,y.y,S,P,v,p,S/C,P/C),c&&this.update()}return this},setPixel:function(f,a,v,p,c,g){g===void 0&&(g=255),f=Math.abs(Math.floor(f)),a=Math.abs(Math.floor(a));var y=this.getIndex(f,a);if(y>-1){var S=this.context.getImageData(f,a,1,1);S.data[0]=v,S.data[1]=p,S.data[2]=c,S.data[3]=g,this.context.putImageData(S,f,a)}return this},putData:function(f,a,v,p,c,g,y){return p===void 0&&(p=0),c===void 0&&(c=0),g===void 0&&(g=f.width),y===void 0&&(y=f.height),this.context.putImageData(f,a,v,p,c,g,y),this},getData:function(f,a,v,p){f=m(Math.floor(f),0,this.width-1),a=m(Math.floor(a),0,this.height-1),v=m(v,1,this.width-f),p=m(p,1,this.height-a);var c=this.context.getImageData(f,a,v,p);return c},getPixel:function(f,a,v){v||(v=new d);var p=this.getIndex(f,a);if(p>-1){var c=this.data,g=c[p+0],y=c[p+1],S=c[p+2],P=c[p+3];v.setTo(g,y,S,P)}return v},getPixels:function(f,a,v,p){f===void 0&&(f=0),a===void 0&&(a=0),v===void 0&&(v=this.width),p===void 0&&(p=v),f=Math.abs(Math.round(f)),a=Math.abs(Math.round(a));for(var c=m(f,0,this.width),g=m(f+v,0,this.width),y=m(a,0,this.height),S=m(a+p,0,this.height),P=new d,C=[],M=y;M<S;M++){for(var R=[],w=c;w<g;w++)P=this.getPixel(w,M,P),R.push({x:w,y:M,color:P.color,alpha:P.alphaGL});C.push(R)}return C},getIndex:function(f,a){return f=Math.abs(Math.round(f)),a=Math.abs(Math.round(a)),f<this.width&&a<this.height?(f+a*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(f,a,v,p,c){return f===void 0&&(f=0),a===void 0&&(a=0),v===void 0&&(v=this.width),p===void 0&&(p=this.height),c===void 0&&(c=!0),this.context.clearRect(f,a,v,p),c&&this.update(),this},setSize:function(f,a){return a===void 0&&(a=f),(f!==this.width||a!==this.height)&&(this.canvas.width=f,this.canvas.height=a,this._source.width=f,this._source.height=a,this._source.isPowerOf2=h(f,a),this.frames.__BASE.setSize(f,a,0,0),this.width=f,this.height=a,this.refresh()),this},destroy:function(){n.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});l.exports=r},845:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(95723),m=e(51052),d=e(61068),o=e(56694),h=e(86459),n=e(82047),r=e(72632),f=e(65641),a=e(37410),v=e(31673),p=e(75512),c=new o({Extends:v,initialize:function(y,S,P,C){P===void 0&&(P=256),C===void 0&&(C=256),this.type="DynamicTexture";var M=y.game.renderer,R=M&&M.type===h.CANVAS,w=R?d.create2D(this,P,C):[this];v.call(this,y,S,w,P,C),this.add("__BASE",0,0,0,P,C),this.renderer=M,this.isDrawing=!1,this.canvas=R?w:null,this.context=R?w.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new m(0,0,P,C).setScene(y.game.scene.systemScene,!1),this.renderTarget=R?null:new a(M,P,C,1,0,!1,!0,!0,!1),this.pipeline=R?null:M.pipelines.get(f.SINGLE_PIPELINE),this.setSize(P,C)},setSize:function(g,y){y===void 0&&(y=g);var S=this.get(),P=S.source;if(g!==this.width||y!==this.height){this.canvas&&(this.canvas.width=g,this.canvas.height=y);var C=this.renderTarget;C&&(C.resize(g,y),S.glTexture=C.texture,P.isRenderTexture=!0,P.isGLTexture=!0,P.glTexture=C.texture,P.glTexture.flipY=!0),this.camera.setSize(g,y),P.width=g,P.height=y,S.setSize(g,y),this.width=g,this.height=y}else{var M=this.getSourceImage();S.cutX+g>M.width&&(g=M.width-S.cutX),S.cutY+y>M.height&&(y=M.height-S.cutY),S.setSize(g,y,S.cutX,S.cutY)}return this},setIsSpriteTexture:function(g){return this.isSpriteTexture=g,this},fill:function(g,y,S,P,C,M){var R=this.camera,w=this.renderer;y===void 0&&(y=1),S===void 0&&(S=0),P===void 0&&(P=0),C===void 0&&(C=this.width),M===void 0&&(M=this.height);var O=g>>16&255,F=g>>8&255,L=g&255,b=this.renderTarget;if(R.preRender(),b){b.bind(!0);var B=this.pipeline.manager.set(this.pipeline),I=w.width/b.width,z=w.height/b.height;B.drawFillRect(S*I,P*z,C*I,M*z,p.getTintFromFloats(L/255,F/255,O/255,1),y),b.unbind(!0)}else{var Y=this.context;w.setContext(Y),Y.globalCompositeOperation="source-over",Y.fillStyle="rgba("+O+","+F+","+L+","+y+")",Y.fillRect(S,P,C,M),w.setContext()}return this.dirty=!0,this},clear:function(){if(this.dirty){var g=this.context,y=this.renderTarget;y?y.clear():g&&(g.save(),g.setTransform(1,0,0,1,0,0),g.clearRect(0,0,this.width,this.height),g.restore()),this.dirty=!1}return this},stamp:function(g,y,S,P,C){S===void 0&&(S=0),P===void 0&&(P=0);var M=r(C,"alpha",1),R=r(C,"tint",16777215),w=r(C,"angle",0),O=r(C,"rotation",0),F=r(C,"scale",1),L=r(C,"scaleX",F),b=r(C,"scaleY",F),B=r(C,"originX",.5),I=r(C,"originY",.5),z=r(C,"blendMode",0),Y=r(C,"erase",!1),W=r(C,"skipBatch",!1),H=this.manager.resetStamp(M,R);return H.setAngle(0),w!==0?H.setAngle(w):O!==0&&H.setRotation(O),H.setScale(L,b),H.setTexture(g,y),H.setOrigin(B,I),H.setBlendMode(z),Y&&(this._eraseMode=!0),W?this.batchGameObject(H,S,P):this.draw(H,S,P),Y&&(this._eraseMode=!1),this},erase:function(g,y,S){return this._eraseMode=!0,this.draw(g,y,S),this._eraseMode=!1,this},draw:function(g,y,S,P,C){return this.beginDraw(),this.batchDraw(g,y,S,P,C),this.endDraw(),this},drawFrame:function(g,y,S,P,C,M){return this.beginDraw(),this.batchDrawFrame(g,y,S,P,C,M),this.endDraw(),this},repeat:function(g,y,S,P,C,M,R,w,O){if(S===void 0&&(S=0),P===void 0&&(P=0),C===void 0&&(C=this.width),M===void 0&&(M=this.height),R===void 0&&(R=1),w===void 0&&(w=16777215),O===void 0&&(O=!1),g instanceof n?y=g:y=this.manager.getFrame(g,y),!y)return this;var F=this.manager.resetStamp(R,w);F.setFrame(y),F.setOrigin(0);var L=y.width,b=y.height;C=Math.floor(C),M=Math.floor(M);var B=Math.ceil(C/L),I=Math.ceil(M/b),z=B*L-C,Y=I*b-M;z>0&&(z=L-z),Y>0&&(Y=b-Y),S<0&&(B+=Math.ceil(Math.abs(S)/L)),P<0&&(I+=Math.ceil(Math.abs(P)/b));var W=S,H=P,N=!1,X=this.manager.stampCrop.setTo(0,0,L,b);O||this.beginDraw();for(var D=0;D<I;D++){if(H+b<0){H+=b;continue}for(var G=0;G<B;G++){if(N=!1,W+L<0){W+=L;continue}else W<0&&(N=!0,X.width=L+W,X.x=L-X.width);H<0&&(N=!0,X.height=b+H,X.y=b-X.height),z>0&&G===B-1&&(N=!0,X.width=z),Y>0&&D===I-1&&(N=!0,X.height=Y),N&&F.setCrop(X),this.batchGameObject(F,W,H),F.isCropped=!1,X.setTo(0,0,L,b),W+=L}W=S,H+=b}return O||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var g=this.camera,y=this.renderer,S=this.renderTarget;g.preRender(),S?y.beginCapture(S.width,S.height):y.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(g,y,S,P,C){return Array.isArray(g)||(g=[g]),this.batchList(g,y,S,P,C),this},batchDrawFrame:function(g,y,S,P,C,M){S===void 0&&(S=0),P===void 0&&(P=0),C===void 0&&(C=1),M===void 0&&(M=16777215);var R=this.manager.getFrame(g,y);return R&&(this.renderTarget?this.pipeline.batchTextureFrame(R,S,P,M,C,this.camera.matrix,null):this.batchTextureFrame(R,S,P,C,M)),this},endDraw:function(g){if(g===void 0&&(g=this._eraseMode),this.isDrawing){var y=this.renderer,S=this.renderTarget;if(S){var P=y.endCapture(),C=y.pipelines.setUtility();C.blitFrame(P,S,1,!1,!1,g,this.isSpriteTexture),y.resetScissor(),y.resetViewport()}else y.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(g,y,S,P,C){var M=g.length;if(M!==0)for(var R=0;R<M;R++){var w=g[R];!w||w===this||(w.renderWebGL||w.renderCanvas?this.batchGameObject(w,y,S):w.isParent||w.list?this.batchGroup(w.getChildren(),y,S):typeof w=="string"?this.batchTextureFrameKey(w,null,y,S,P,C):w instanceof n?this.batchTextureFrame(w,y,S,P,C):Array.isArray(w)&&this.batchList(w,y,S,P,C))}},batchGroup:function(g,y,S){y===void 0&&(y=0),S===void 0&&(S=0);for(var P=0;P<g.length;P++){var C=g[P];C.willRender(this.camera)&&this.batchGameObject(C,C.x+y,C.y+S)}},batchGameObject:function(g,y,S){y===void 0&&(y=g.x),S===void 0&&(S=g.y);var P=g.x,C=g.y,M=this.camera,R=this.renderer,w=this._eraseMode,O=g.mask;if(g.setPosition(y,S),this.canvas){if(w){var F=g.blendMode;g.blendMode=u.ERASE}O&&O.preRenderCanvas(R,g,M),g.renderCanvas(R,g,M,null),O&&O.postRenderCanvas(R,g,M),w&&(g.blendMode=F)}else R&&(O&&O.preRenderWebGL(R,g,M),w||R.setBlendMode(g.blendMode),g.renderWebGL(R,g,M),O&&O.postRenderWebGL(R,M,this.renderTarget));g.setPosition(P,C)},batchTextureFrameKey:function(g,y,S,P,C,M){var R=this.manager.getFrame(g,y);R&&this.batchTextureFrame(R,S,P,C,M)},batchTextureFrame:function(g,y,S,P,C){y===void 0&&(y=0),S===void 0&&(S=0),P===void 0&&(P=1),C===void 0&&(C=16777215);var M=this.camera.matrix,R=this.renderTarget;if(R)this.pipeline.batchTextureFrame(g,y,S,C,P,M,null);else{var w=this.context,O=g.canvasData,F=g.source.image;w.save(),w.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",w.globalAlpha=P,M.setToContext(w),O.width>0&&O.height>0&&w.drawImage(F,O.x,O.y,O.width,O.height,y,S,O.width,O.height),w.restore()}},snapshotArea:function(g,y,S,P,C,M,R){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,C,!1,g,y,S,P,M,R):this.renderer.snapshotCanvas(this.canvas,C,!1,g,y,S,P,M,R),this},snapshot:function(g,y,S){return this.snapshotArea(0,0,this.width,this.height,g,y,S)},snapshotPixel:function(g,y,S){return this.snapshotArea(g,y,1,1,S,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(g,y,S,P){var C=this.manager.resetStamp();C.setTexture(this),C.setOrigin(0),C.renderWebGL(g,C,S,P)},renderCanvas:function(){},preDestroy:function(){d.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.stamp.destroy(),this.canvas=null,this.context=null,this.renderer=null,this.scene=null}});l.exports=c},82047:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(82897),d=e(98611),o=new u({initialize:function(n,r,f,a,v,p,c){this.texture=n,this.name=r,this.source=n.source[f],this.sourceIndex=f,this.glTexture=this.source.glTexture,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0}},this.setSize(p,c,a,v)},setSize:function(h,n,r,f){r===void 0&&(r=0),f===void 0&&(f=0),this.cutX=r,this.cutY=f,this.cutWidth=h,this.cutHeight=n,this.width=h,this.height=n,this.halfWidth=Math.floor(h*.5),this.halfHeight=Math.floor(n*.5),this.centerX=Math.floor(h/2),this.centerY=Math.floor(n/2);var a=this.data,v=a.cut;v.x=r,v.y=f,v.w=h,v.h=n,v.r=r+h,v.b=f+n,a.sourceSize.w=h,a.sourceSize.h=n,a.spriteSourceSize.w=h,a.spriteSourceSize.h=n,a.radius=.5*Math.sqrt(h*h+n*n);var p=a.drawImage;return p.x=r,p.y=f,p.width=h,p.height=n,this.updateUVs()},setTrim:function(h,n,r,f,a,v){var p=this.data,c=p.spriteSourceSize;return p.trim=!0,p.sourceSize.w=h,p.sourceSize.h=n,c.x=r,c.y=f,c.w=a,c.h=v,c.r=r+a,c.b=f+v,this.x=r,this.y=f,this.width=a,this.height=v,this.halfWidth=a*.5,this.halfHeight=v*.5,this.centerX=Math.floor(a/2),this.centerY=Math.floor(v/2),this.updateUVs()},setCropUVs:function(h,n,r,f,a,v,p){var c=this.cutX,g=this.cutY,y=this.cutWidth,S=this.cutHeight,P=this.realWidth,C=this.realHeight;n=m(n,0,P),r=m(r,0,C),f=m(f,0,P-n),a=m(a,0,C-r);var M=c+n,R=g+r,w=f,O=a,F=this.data;if(F.trim){var L=F.spriteSourceSize;f=m(f,0,y-n),a=m(a,0,S-r);var b=n+f,B=r+a,I=!(L.r<n||L.b<r||L.x>b||L.y>B);if(I){var z=Math.max(L.x,n),Y=Math.max(L.y,r),W=Math.min(L.r,b)-z,H=Math.min(L.b,B)-Y;w=W,O=H,v?M=c+(y-(z-L.x)-W):M=c+(z-L.x),p?R=g+(S-(Y-L.y)-H):R=g+(Y-L.y),n=z,r=Y,f=W,a=H}else M=0,R=0,w=0,O=0}else v&&(M=c+(y-n-f)),p&&(R=g+(S-r-a));var N=this.source.width,X=this.source.height;return h.u0=Math.max(0,M/N),h.v0=Math.max(0,R/X),h.u1=Math.min(1,(M+w)/N),h.v1=Math.min(1,(R+O)/X),h.x=n,h.y=r,h.cx=M,h.cy=R,h.cw=w,h.ch=O,h.width=f,h.height=a,h.flipX=v,h.flipY=p,h},updateCropUVs:function(h,n,r){return this.setCropUVs(h,h.x,h.y,h.width,h.height,n,r)},setUVs:function(h,n,r,f,a,v){var p=this.data.drawImage;return p.width=h,p.height=n,this.u0=r,this.v0=f,this.u1=a,this.v1=v,this},updateUVs:function(){var h=this.cutX,n=this.cutY,r=this.cutWidth,f=this.cutHeight,a=this.data.drawImage;a.width=r,a.height=f;var v=this.source.width,p=this.source.height;return this.u0=h/v,this.v0=n/p,this.u1=(h+r)/v,this.v1=(n+f)/p,this},updateUVsInverted:function(){var h=this.source.width,n=this.source.height;return this.u0=(this.cutX+this.cutHeight)/h,this.v0=this.cutY/n,this.u1=this.cutX/h,this.v1=(this.cutY+this.cutWidth)/n,this},clone:function(){var h=new o(this.texture,this.name,this.sourceIndex);return h.cutX=this.cutX,h.cutY=this.cutY,h.cutWidth=this.cutWidth,h.cutHeight=this.cutHeight,h.x=this.x,h.y=this.y,h.width=this.width,h.height=this.height,h.halfWidth=this.halfWidth,h.halfHeight=this.halfHeight,h.centerX=this.centerX,h.centerY=this.centerY,h.rotated=this.rotated,h.data=d(!0,h.data,this.data),h.updateUVs(),h},destroy:function(){this.source=null,this.texture=null,this.glTexture=null,this.customData=null,this.data=null},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},canvasData:{get:function(){return this.data.drawImage}}});l.exports=o},31673:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(82047),d=e(32547),o='Texture "%s" has no frame "%s"',h=new u({initialize:function(r,f,a,v,p){Array.isArray(a)||(a=[a]),this.manager=r,this.key=f,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var c=0;c<a.length;c++)this.source.push(new d(this,a[c],v,p))},add:function(n,r,f,a,v,p){if(this.has(n))return null;var c=new m(this,n,r,f,a,v,p);return this.frames[n]=c,this.firstFrame==="__BASE"&&(this.firstFrame=n),this.frameTotal++,c},remove:function(n){if(this.has(n)){var r=this.get(n);return r.destroy(),delete this.frames[n],!0}return!1},has:function(n){return this.frames.hasOwnProperty(n)},get:function(n){n||(n=this.firstFrame);var r=this.frames[n];return r||(console.warn(o,this.key,n),r=this.frames[this.firstFrame]),r},getTextureSourceIndex:function(n){for(var r=0;r<this.source.length;r++)if(this.source[r]===n)return r;return-1},getFramesFromTextureSource:function(n,r){r===void 0&&(r=!1);var f=[];for(var a in this.frames)if(!(a==="__BASE"&&!r)){var v=this.frames[a];v.sourceIndex===n&&f.push(v)}return f},getFrameNames:function(n){n===void 0&&(n=!1);var r=Object.keys(this.frames);if(!n){var f=r.indexOf("__BASE");f!==-1&&r.splice(f,1)}return r},getSourceImage:function(n){(n==null||this.frameTotal===1)&&(n="__BASE");var r=this.frames[n];return r?r.source.image:(console.warn(o,this.key,n),this.frames.__BASE.source.image)},getDataSourceImage:function(n){(n==null||this.frameTotal===1)&&(n="__BASE");var r=this.frames[n],f;return r?f=r.sourceIndex:(console.warn(o,this.key,n),f=this.frames.__BASE.sourceIndex),this.dataSource[f].image},setDataSource:function(n){Array.isArray(n)||(n=[n]);for(var r=0;r<n.length;r++){var f=this.source[r];this.dataSource.push(new d(this,n[r],f.width,f.height))}},setFilter:function(n){var r;for(r=0;r<this.source.length;r++)this.source[r].setFilter(n);for(r=0;r<this.dataSource.length;r++)this.dataSource[r].setFilter(n)},destroy:function(){var n,r=this.source,f=this.dataSource;for(n=0;n<r.length;n++)r[n]&&r[n].destroy();for(n=0;n<f.length;n++)f[n]&&f[n].destroy();for(var a in this.frames){var v=this.frames[a];v&&v.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});l.exports=h},6237:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61068),m=e(17487),d=e(56694),o=e(27119),h=e(86459),n=e(845),r=e(6659),f=e(38203),a=e(82047),v=e(97081),p=e(52780),c=e(10850),g=e(1539),y=e(42911),S=e(69150),P=e(74118),C=e(31673),M=new d({Extends:r,initialize:function(w){r.call(this),this.game=w,this.name="TextureManager",this.list={},this._tempCanvas=u.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new P,this.silentWarnings=!1,w.events.once(v.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(f.LOAD,this.updatePending,this),this.on(f.ERROR,this.updatePending,this);var R=this.game.config;this.addBase64("__DEFAULT",R.defaultImage),this.addBase64("__MISSING",R.missingImage),this.addBase64("__WHITE",R.whiteImage),this.game.events.once(v.DESTROY,this.destroy,this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(f.LOAD),this.off(f.ERROR),this.emit(f.READY),this.stamp=new g(this.game.scene.systemScene).setOrigin(0))},checkKey:function(R){return this.exists(R)?(this.silentWarnings||console.error("Texture key already in use: "+R),!1):!0},remove:function(R){if(typeof R=="string")if(this.exists(R))R=this.get(R);else return this.silentWarnings||console.warn("No texture found matching key: "+R),this;return this.list.hasOwnProperty(R.key)&&(R.destroy(),this.emit(f.REMOVE,R.key),this.emit(f.REMOVE_KEY+R.key)),this},removeKey:function(R){return this.list.hasOwnProperty(R)&&delete this.list[R],this},addBase64:function(R,w){if(this.checkKey(R)){var O=this,F=new Image;F.onerror=function(){O.emit(f.ERROR,R)},F.onload=function(){var L=O.create(R,F);S.Image(L,0),O.emit(f.ADD,R,L),O.emit(f.ADD_KEY+R,L),O.emit(f.LOAD,R,L)},F.src=w}return this},getBase64:function(R,w,O,F){O===void 0&&(O="image/png"),F===void 0&&(F=.92);var L="",b=this.getFrame(R,w);if(b&&(b.source.isRenderTexture||b.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(b){var B=b.canvasData,I=u.create2D(this,B.width,B.height),z=I.getContext("2d",{willReadFrequently:!0});B.width>0&&B.height>0&&z.drawImage(b.source.image,B.x,B.y,B.width,B.height,0,0,B.width,B.height),L=I.toDataURL(O,F),u.remove(I)}return L},addImage:function(R,w,O){var F=null;return this.checkKey(R)&&(F=this.create(R,w),S.Image(F,0),O&&F.setDataSource(O),this.emit(f.ADD,R,F),this.emit(f.ADD_KEY+R,F)),F},addGLTexture:function(R,w,O,F){var L=null;return this.checkKey(R)&&(O===void 0&&(O=w.width),F===void 0&&(F=w.height),L=this.create(R,w,O,F),L.add("__BASE",0,0,0,O,F),this.emit(f.ADD,R,L),this.emit(f.ADD_KEY+R,L)),L},addCompressedTexture:function(R,w,O){var F=null;if(this.checkKey(R)){if(F=this.create(R,w),F.add("__BASE",0,0,0,w.width,w.height),O)if(Array.isArray(O))for(var L=0;L<O.length;L++)S.JSONHash(F,L,O[L]);else S.JSONHash(F,0,O);this.emit(f.ADD,R,F),this.emit(f.ADD_KEY+R,F)}return F},addRenderTexture:function(R,w){var O=null;return this.checkKey(R)&&(O=this.create(R,w),O.add("__BASE",0,0,0,w.width,w.height),this.emit(f.ADD,R,O),this.emit(f.ADD_KEY+R,O)),O},generate:function(R,w){if(this.checkKey(R)){var O=u.create(this,1,1);return w.canvas=O,p(w),this.addCanvas(R,O)}else return null},createCanvas:function(R,w,O){if(w===void 0&&(w=256),O===void 0&&(O=256),this.checkKey(R)){var F=u.create(this,w,O,h.CANVAS,!0);return this.addCanvas(R,F)}return null},addCanvas:function(R,w,O){O===void 0&&(O=!1);var F=null;return O?F=new m(this,R,w,w.width,w.height):this.checkKey(R)&&(F=new m(this,R,w,w.width,w.height),this.list[R]=F,this.emit(f.ADD,R,F),this.emit(f.ADD_KEY+R,F)),F},addDynamicTexture:function(R,w,O){var F=null;return typeof R=="string"&&!this.exists(R)?F=new n(this,R,w,O):(F=R,R=F.key),this.checkKey(R)?(this.list[R]=F,this.emit(f.ADD,R,F),this.emit(f.ADD_KEY+R,F)):F=null,F},addAtlas:function(R,w,O,F){return Array.isArray(O.textures)||Array.isArray(O.frames)?this.addAtlasJSONArray(R,w,O,F):this.addAtlasJSONHash(R,w,O,F)},addAtlasJSONArray:function(R,w,O,F){var L=null;if(w instanceof C?(R=L.key,L=w):this.checkKey(R)&&(L=this.create(R,w)),L){if(Array.isArray(O))for(var b=O.length===1,B=0;B<L.source.length;B++){var I=b?O[0]:O[B];S.JSONArray(L,B,I)}else S.JSONArray(L,0,O);F&&L.setDataSource(F),this.emit(f.ADD,R,L),this.emit(f.ADD_KEY+R,L)}return L},addAtlasJSONHash:function(R,w,O,F){var L=null;if(w instanceof C?(R=L.key,L=w):this.checkKey(R)&&(L=this.create(R,w)),L){if(Array.isArray(O))for(var b=0;b<O.length;b++)S.JSONHash(L,b,O[b]);else S.JSONHash(L,0,O);F&&L.setDataSource(F),this.emit(f.ADD,R,L),this.emit(f.ADD_KEY+R,L)}return L},addAtlasXML:function(R,w,O,F){var L=null;return w instanceof C?(R=L.key,L=w):this.checkKey(R)&&(L=this.create(R,w)),L&&(S.AtlasXML(L,0,O),F&&L.setDataSource(F),this.emit(f.ADD,R,L),this.emit(f.ADD_KEY+R,L)),L},addUnityAtlas:function(R,w,O,F){var L=null;return w instanceof C?(R=L.key,L=w):this.checkKey(R)&&(L=this.create(R,w)),L&&(S.UnityYAML(L,0,O),F&&L.setDataSource(F),this.emit(f.ADD,R,L),this.emit(f.ADD_KEY+R,L)),L},addSpriteSheet:function(R,w,O,F){var L=null;if(w instanceof C?(R=L.key,L=w):this.checkKey(R)&&(L=this.create(R,w)),L){var b=L.source[0].width,B=L.source[0].height;S.SpriteSheet(L,0,0,0,b,B,O),F&&L.setDataSource(F),this.emit(f.ADD,R,L),this.emit(f.ADD_KEY+R,L)}return L},addSpriteSheetFromAtlas:function(R,w){if(!this.checkKey(R))return null;var O=c(w,"atlas",null),F=c(w,"frame",null);if(!(!O||!F)){var L=this.get(O),b=L.get(F);if(b){var B=this.create(R,b.source.image);return b.trimmed?S.SpriteSheetFromAtlas(B,b,w):S.SpriteSheet(B,0,b.cutX,b.cutY,b.cutWidth,b.cutHeight,w),this.emit(f.ADD,R,B),this.emit(f.ADD_KEY+R,B),B}}},create:function(R,w,O,F){var L=null;return this.checkKey(R)&&(L=new C(this,R,w,O,F),this.list[R]=L),L},exists:function(R){return this.list.hasOwnProperty(R)},get:function(R){return R===void 0&&(R="__DEFAULT"),this.list[R]?this.list[R]:R instanceof C?R:R instanceof a?R.texture:this.list.__MISSING},cloneFrame:function(R,w){if(this.list[R])return this.list[R].get(w).clone()},getFrame:function(R,w){if(this.list[R])return this.list[R].get(w)},parseFrame:function(R){if(R){if(typeof R=="string")return this.getFrame(R);if(Array.isArray(R)&&R.length===2)return this.getFrame(R[0],R[1]);if(y(R))return this.getFrame(R.key,R.frame);if(R instanceof C)return R.get();if(R instanceof a)return R}else return},getTextureKeys:function(){var R=[];for(var w in this.list)w!=="__DEFAULT"&&w!=="__MISSING"&&w!=="__WHITE"&&R.push(w);return R},getPixel:function(R,w,O,F){var L=this.getFrame(O,F);if(L){R-=L.x,w-=L.y;var b=L.data.cut;if(R+=b.x,w+=b.y,R>=b.x&&R<b.r&&w>=b.y&&w<b.b){var B=this._tempContext;B.clearRect(0,0,1,1),B.drawImage(L.source.image,R,w,1,1,0,0,1,1);var I=B.getImageData(0,0,1,1);return new o(I.data[0],I.data[1],I.data[2],I.data[3])}}return null},getPixelAlpha:function(R,w,O,F){var L=this.getFrame(O,F);if(L){R-=L.x,w-=L.y;var b=L.data.cut;if(R+=b.x,w+=b.y,R>=b.x&&R<b.r&&w>=b.y&&w<b.b){var B=this._tempContext;B.clearRect(0,0,1,1),B.drawImage(L.source.image,R,w,1,1,0,0,1,1);var I=B.getImageData(0,0,1,1);return I.data[3]}}return null},setTexture:function(R,w,O){return this.list[w]&&(R.texture=this.list[w],R.frame=R.texture.get(O)),R},renameTexture:function(R,w){var O=this.get(R);return O&&R!==w?(O.key=w,this.list[w]=O,delete this.list[R],!0):!1},each:function(R,w){for(var O=[null],F=1;F<arguments.length;F++)O.push(arguments[F]);for(var L in this.list)O[0]=this.list[L],R.apply(w,O)},resetStamp:function(R,w){R===void 0&&(R=1),w===void 0&&(w=16777215);var O=this.stamp;return O.setCrop(),O.setPosition(0),O.setAngle(0),O.setScale(1),O.setAlpha(R),O.setTint(w),O},destroy:function(){for(var R in this.list)this.list[R].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,u.remove(this._tempCanvas)}});l.exports=M},32547:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61068),m=e(56694),d=e(28621),o=e(27394),h=new m({initialize:function(r,f,a,v,p){p===void 0&&(p=!1);var c=r.manager.game;this.renderer=c.renderer,this.texture=r,this.source=f,this.image=f.compressed?null:f,this.compressionAlgorithm=f.compressed?f.format:null,this.resolution=1,this.width=a||f.naturalWidth||f.videoWidth||f.width||0,this.height=v||f.naturalHeight||f.videoHeight||f.height||0,this.scaleMode=o.DEFAULT,this.isCanvas=f instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&f instanceof HTMLVideoElement,this.isRenderTexture=f.type==="RenderTexture"||f.type==="DynamicTexture",this.isGLTexture=window.hasOwnProperty("WebGLTexture")&&f instanceof WebGLTexture,this.isPowerOf2=d(this.width,this.height),this.glTexture=null,this.flipY=p,this.init(c)},init:function(n){var r=this.renderer;if(r){var f=this.source;if(r.gl){var a=this.image,v=this.flipY,p=this.width,c=this.height,g=this.scaleMode;this.isCanvas?this.glTexture=r.createCanvasTexture(a,!1,v):this.isVideo?this.glTexture=r.createVideoTexture(a,!1,v):this.isRenderTexture?this.glTexture=r.createTextureFromSource(null,p,c,g):this.isGLTexture?this.glTexture=f:this.compressionAlgorithm?this.glTexture=r.createTextureFromSource(f):this.glTexture=r.createTextureFromSource(a,p,c,g)}else this.isRenderTexture&&(this.image=f.canvas)}n.config.antialias||this.setFilter(1)},setFilter:function(n){this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,n),this.scaleMode=n},setFlipY:function(n){return n===void 0&&(n=!0),this.flipY=n,this},update:function(){var n=this.renderer,r=this.image,f=this.flipY,a=n.gl;a&&this.isCanvas?this.glTexture=n.updateCanvasTexture(r,this.glTexture,f):a&&this.isVideo&&(this.glTexture=n.updateVideoTexture(r,this.glTexture,f))},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture,!0),this.isCanvas&&u.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});l.exports=h},65154:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={LINEAR:0,NEAREST:1};l.exports=T},49644:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="addtexture"},29569:l=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="addtexture-"},60079:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="onerror"},72665:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="onload"},93006:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="ready"},69018:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="removetexture"},85549:l=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="removetexture-"},38203:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ADD:e(49644),ADD_KEY:e(29569),ERROR:e(60079),LOAD:e(72665),READY:e(93006),REMOVE:e(69018),REMOVE_KEY:e(85549)}},87499:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(98611),m=e(65154),d={CanvasTexture:e(17487),DynamicTexture:e(845),Events:e(38203),FilterMode:m,Frame:e(82047),Parsers:e(69150),Texture:e(31673),TextureManager:e(6237),TextureSource:e(32547)};d=u(!1,d,m),l.exports=d},35082:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){if(!m.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var d=e.source[u];e.add("__BASE",u,0,0,d.width,d.height);for(var o=m.getElementsByTagName("SubTexture"),h,n=0;n<o.length;n++){var r=o[n].attributes,f=r.name.value,a=parseInt(r.x.value,10),v=parseInt(r.y.value,10),p=parseInt(r.width.value,10),c=parseInt(r.height.value,10);if(h=e.add(f,u,a,v,p,c),r.frameX){var g=Math.abs(parseInt(r.frameX.value,10)),y=Math.abs(parseInt(r.frameY.value,10)),S=parseInt(r.frameWidth.value,10),P=parseInt(r.frameHeight.value,10);h.setTrim(p,c,g,y,S,P)}}return e};l.exports=T},83332:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){var m=e.source[u];return e.add("__BASE",u,0,0,m.width,m.height),e};l.exports=T},21560:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){var m=e.source[u];return e.add("__BASE",u,0,0,m.width,m.height),e};l.exports=T},64423:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(32742),m=function(d,o,h){if(!h.frames&&!h.textures){console.warn("Invalid Texture Atlas JSON Array");return}var n=d.source[o];d.add("__BASE",o,0,0,n.width,n.height);for(var r=Array.isArray(h.textures)?h.textures[o].frames:h.frames,f,a=0;a<r.length;a++){var v=r[a];if(f=d.add(v.filename,o,v.frame.x,v.frame.y,v.frame.w,v.frame.h),!f){console.warn("Invalid atlas json, frame already exists: "+v.filename);continue}v.trimmed&&f.setTrim(v.sourceSize.w,v.sourceSize.h,v.spriteSourceSize.x,v.spriteSourceSize.y,v.spriteSourceSize.w,v.spriteSourceSize.h),v.rotated&&(f.rotated=!0,f.updateUVsInverted());var p=v.anchor||v.pivot;p&&(f.customPivot=!0,f.pivotX=p.x,f.pivotY=p.y),f.customData=u(v)}for(var c in h)c!=="frames"&&(Array.isArray(h[c])?d.customData[c]=h[c].slice(0):d.customData[c]=h[c]);return d};l.exports=m},17264:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(32742),m=function(d,o,h){if(!h.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var n=d.source[o];d.add("__BASE",o,0,0,n.width,n.height);var r=h.frames,f;for(var a in r)if(r.hasOwnProperty(a)){var v=r[a];if(f=d.add(a,o,v.frame.x,v.frame.y,v.frame.w,v.frame.h),!f){console.warn("Invalid atlas json, frame already exists: "+a);continue}v.trimmed&&f.setTrim(v.sourceSize.w,v.sourceSize.h,v.spriteSourceSize.x,v.spriteSourceSize.y,v.spriteSourceSize.w,v.spriteSourceSize.h),v.rotated&&(f.rotated=!0,f.updateUVsInverted());var p=v.anchor||v.pivot;p&&(f.customPivot=!0,f.pivotX=p.x,f.pivotY=p.y),f.customData=u(v)}for(var c in h)c!=="frames"&&(Array.isArray(h[c])?d.customData[c]=h[c].slice(0):d.customData[c]=h[c]);return d};l.exports=m},67409:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){var u=[171,75,84,88,32,49,49,187,13,10,26,10],m,d=new Uint8Array(e,0,12);for(m=0;m<d.length;m++)if(d[m]!==u[m]){console.warn("KTXParser - Invalid file format");return}var o=Uint32Array.BYTES_PER_ELEMENT,h=new DataView(e,12,13*o),n=h.getUint32(0,!0)===67305985,r=h.getUint32(1*o,n);if(r!==0){console.warn("KTXParser - Only compressed formats supported");return}var f=h.getUint32(4*o,n),a=h.getUint32(6*o,n),v=h.getUint32(7*o,n),p=Math.max(1,h.getUint32(11*o,n)),c=h.getUint32(12*o,n),g=new Array(p),y=12+13*4+c,S=a,P=v;for(m=0;m<p;m++){var C=new Int32Array(e,y,1)[0];y+=4,g[m]={data:new Uint8Array(e,y,C),width:S,height:P},S=Math.max(1,S>>1),P=Math.max(1,P>>1),y+=C}return{mipmaps:g,width:a,height:v,internalFormat:f,compressed:!0,generateMipmap:!1}};l.exports=T},24904:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(R,w,O,F,L,b,B){return B===void 0&&(B=16),Math.floor((R+O)/L)*Math.floor((w+F)/b)*B}function e(R,w){return R=Math.max(R,16),w=Math.max(w,8),R*w/4}function u(R,w){return R=Math.max(R,8),w=Math.max(w,8),R*w/2}function m(R,w){return T(R,w,3,3,4,4,8)}function d(R,w){return T(R,w,3,3,4,4)}function o(R,w){return T(R,w,4,3,5,4)}function h(R,w){return T(R,w,4,4,5,5)}function n(R,w){return T(R,w,5,4,6,5)}function r(R,w){return T(R,w,5,5,6,6)}function f(R,w){return T(R,w,7,4,8,5)}function a(R,w){return T(R,w,7,5,8,6)}function v(R,w){return T(R,w,7,7,8,8)}function p(R,w){return T(R,w,9,4,10,5)}function c(R,w){return T(R,w,9,5,10,6)}function g(R,w){return T(R,w,9,7,10,8)}function y(R,w){return T(R,w,9,9,10,10)}function S(R,w){return T(R,w,11,9,12,10)}function P(R,w){return T(R,w,11,11,12,12)}var C={0:{sizeFunc:e,glFormat:35841},1:{sizeFunc:e,glFormat:35843},2:{sizeFunc:u,glFormat:35840},3:{sizeFunc:u,glFormat:35842},6:{sizeFunc:m,glFormat:36196},7:{sizeFunc:m,glFormat:33776},8:{sizeFunc:d,glFormat:33777},9:{sizeFunc:d,glFormat:33778},11:{sizeFunc:d,glFormat:33779},22:{sizeFunc:m,glFormat:37492},23:{sizeFunc:d,glFormat:37496},24:{sizeFunc:m,glFormat:37494},25:{sizeFunc:m,glFormat:37488},26:{sizeFunc:d,glFormat:37490},27:{sizeFunc:d,glFormat:37808},28:{sizeFunc:o,glFormat:37809},29:{sizeFunc:h,glFormat:37810},30:{sizeFunc:n,glFormat:37811},31:{sizeFunc:r,glFormat:37812},32:{sizeFunc:f,glFormat:37813},33:{sizeFunc:a,glFormat:37814},34:{sizeFunc:v,glFormat:37815},35:{sizeFunc:p,glFormat:37816},36:{sizeFunc:c,glFormat:37817},37:{sizeFunc:g,glFormat:37818},38:{sizeFunc:y,glFormat:37819},39:{sizeFunc:S,glFormat:37820},40:{sizeFunc:P,glFormat:37821}},M=function(R){for(var w=new Uint32Array(R,0,13),O=w[2],F=C[O].glFormat,L=C[O].sizeFunc,b=w[11],B=w[7],I=w[6],z=52+w[12],Y=new Uint8Array(R,z),W=new Array(b),H=0,N=B,X=I,D=0;D<b;D++){var G=L(N,X);W[D]={data:new Uint8Array(Y.buffer,Y.byteOffset+H,G),width:N,height:X},N=Math.max(1,N>>1),X=Math.max(1,X>>1),H+=G}return{mipmaps:W,width:B,height:I,internalFormat:F,compressed:!0,generateMipmap:!1}};l.exports=M},6143:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72632),m=function(d,o,h,n,r,f,a){var v=u(a,"frameWidth",null),p=u(a,"frameHeight",v);if(v===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var c=d.source[o];d.add("__BASE",o,0,0,c.width,c.height);var g=u(a,"startFrame",0),y=u(a,"endFrame",-1),S=u(a,"margin",0),P=u(a,"spacing",0),C=Math.floor((r-S+P)/(v+P)),M=Math.floor((f-S+P)/(p+P)),R=C*M;R===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",d.key),(g>R||g<-R)&&(g=0),g<0&&(g=R+g),(y===-1||y>R||y<g)&&(y=R);for(var w=S,O=S,F=0,L=0,b=0,B=0;B<R;B++){F=0,L=0;var I=w+v,z=O+p;I>r&&(F=I-r),z>f&&(L=z-f),B>=g&&B<=y&&(d.add(b,o,h+w,n+O,v-F,p-L),b++),w+=v+P,w+v>r&&(w=S,O+=p+P)}return d};l.exports=m},20030:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72632),m=function(d,o,h){var n=u(h,"frameWidth",null),r=u(h,"frameHeight",n);if(!n)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var f=d.source[0];d.add("__BASE",0,0,0,f.width,f.height),u(h,"startFrame",0),u(h,"endFrame",-1);for(var a=u(h,"margin",0),v=u(h,"spacing",0),p=o.cutX,c=o.cutY,g=o.cutWidth,y=o.cutHeight,S=o.realWidth,P=o.realHeight,C=Math.floor((S-a+v)/(n+v)),M=Math.floor((P-a+v)/(r+v)),R=o.x,w=n-R,O=n-(S-g-R),F=o.y,L=r-F,b=r-(P-y-F),B,I=a,z=a,Y=0,W=0,H=0;H<M;H++){for(var N=H===0,X=H===M-1,D=0;D<C;D++){var G=D===0,V=D===C-1;if(B=d.add(Y,W,p+I,c+z,n,r),G||N||V||X){var U=G?R:0,k=N?F:0,$=0,K=0;G&&($+=n-w),V&&($+=n-O),N&&(K+=r-L),X&&(K+=r-b);var J=n-$,Q=r-K;B.cutWidth=J,B.cutHeight=Q,B.setTrim(n,r,U,k,J,Q)}I+=v,G?I+=w:V?I+=O:I+=n,Y++}I=a,z+=v,N?z+=L:X?z+=b:z+=r}return d};l.exports=m},89187:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=0,e=function(m,d,o,h){var n=T-h.y-h.height;m.add(o,d,h.x,n,h.width,h.height)},u=function(m,d,o){var h=m.source[d];m.add("__BASE",d,0,0,h.width,h.height),T=h.height;for(var n=o.split(`
`),r=/^[ ]*(- )*(\w+)+[: ]+(.*)/,f="",a="",v={x:0,y:0,width:0,height:0},p=0;p<n.length;p++){var c=n[p].match(r);if(c){var g=c[1]==="- ",y=c[2],S=c[3];if(g&&(a!==f&&(e(m,d,a,v),f=a),v={x:0,y:0,width:0,height:0}),y==="name"){a=S;continue}switch(y){case"x":case"y":case"width":case"height":v[y]=parseInt(S,10);break}}}return a!==f&&e(m,d,a,v),m};l.exports=u},69150:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={AtlasXML:e(35082),Canvas:e(83332),Image:e(21560),JSONArray:e(64423),JSONHash:e(17264),KTXParser:e(67409),PVRParser:e(24904),SpriteSheet:e(6143),SpriteSheetFromAtlas:e(20030),UnityYAML:e(89187)}},93560:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},97042:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=new u({initialize:function(o,h,n,r,f,a,v){(n===void 0||n<=0)&&(n=32),(r===void 0||r<=0)&&(r=32),f===void 0&&(f=0),a===void 0&&(a=0),this.name=o,this.firstgid=h|0,this.imageWidth=n|0,this.imageHeight=r|0,this.imageMargin=f|0,this.imageSpacing=a|0,this.properties=v||{},this.images=[],this.total=0},containsImageIndex:function(d){return d>=this.firstgid&&d<this.firstgid+this.total},addImage:function(d,o){return this.images.push({gid:d,image:o}),this.total++,this}});l.exports=m},46422:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=new u({initialize:function(o){if(this.gids=[],o!==void 0)for(var h=0;h<o.length;++h)for(var n=o[h],r=0;r<n.total;++r)this.gids[n.firstgid+r]=n;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(d){this.gids=d?this._gids:void 0}},getTypeIncludingTile:function(d){if(d.type!==void 0&&d.type!=="")return d.type;if(!(!this.gids||d.gid===void 0)){var o=this.gids[d.gid];if(o){var h=o.getTileData(d.gid);if(h)return h.type}}},setTextureAndFrame:function(d,o,h,n){if(o===null&&this.gids&&n.gid!==void 0){var r=this.gids[n.gid];r&&(o===null&&r.image!==void 0&&(o=r.image.key),h===null&&(h=n.gid-r.firstgid),d.scene.textures.getFrame(o,h)||(o=null,h=null))}d.setTexture(o,h)},setPropertiesFromTiledObject:function(d,o){if(this.gids!==void 0&&o.gid!==void 0){var h=this.gids[o.gid];h!==void 0&&this.setFromJSON(d,h.getTileProperties(o.gid))}this.setFromJSON(d,o.properties)},setFromJSON:function(d,o){if(o){if(Array.isArray(o)){o.forEach(function(n){d.setData(n.name,n.value)});return}for(var h in o)d[h]!==void 0?d[h]=o[h]:d.setData(h,o[h])}}});l.exports=m},15043:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(93560),m=e(16586),d=e(90715),o=e(89797),h=function(n,r,f,a,v,p,c,g){f===void 0&&(f=32),a===void 0&&(a=32),v===void 0&&(v=10),p===void 0&&(p=10),g===void 0&&(g=!1);var y=null;if(Array.isArray(c)){var S=r!==void 0?r:"map";y=d(S,u.ARRAY_2D,c,f,a,g)}else if(r!==void 0){var P=n.cache.tilemap.get(r);P?y=d(r,P.format,P.data,f,a,g):console.warn("No map data found for key "+r)}return y===null&&(y=new m({tileWidth:f,tileHeight:a,width:v,height:p})),new o(n,y)};l.exports=h},29633:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(64937),d=e(12920),o=e(28699),h=e(66658),n=new u({Mixins:[m.Alpha,m.Flip,m.Visible],initialize:function(f,a,v,p,c,g,y,S){this.layer=f,this.index=a,this.x=v,this.y=p,this.width=c,this.height=g,this.right,this.bottom,this.baseWidth=y!==void 0?y:c,this.baseHeight=S!==void 0?S:g,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.physics={}},containsPoint:function(r,f){return!(r<this.pixelX||f<this.pixelY||r>this.right||f>this.bottom)},copy:function(r){return this.index=r.index,this.alpha=r.alpha,this.properties=o(r.properties),this.visible=r.visible,this.setFlip(r.flipX,r.flipY),this.tint=r.tint,this.rotation=r.rotation,this.collideUp=r.collideUp,this.collideDown=r.collideDown,this.collideLeft=r.collideLeft,this.collideRight=r.collideRight,this.collisionCallback=r.collisionCallback,this.collisionCallbackContext=r.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(r){var f=this.tilemapLayer;if(f){var a=f.tileToWorldXY(this.x,this.y,void 0,r);return a.x}return this.x*this.baseWidth},getRight:function(r){var f=this.tilemapLayer;return f?this.getLeft(r)+this.width*f.scaleX:this.getLeft(r)+this.width},getTop:function(r){var f=this.tilemapLayer;if(f){var a=f.tileToWorldXY(this.x,this.y,void 0,r);return a.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(r){var f=this.tilemapLayer;return f?this.getTop(r)+this.height*f.scaleY:this.getTop(r)+this.height},getBounds:function(r,f){return f===void 0&&(f=new h),f.x=this.getLeft(r),f.y=this.getTop(r),f.width=this.getRight(r)-f.x,f.height=this.getBottom(r)-f.y,f},getCenterX:function(r){return(this.getLeft(r)+this.getRight(r))/2},getCenterY:function(r){return(this.getTop(r)+this.getBottom(r))/2},intersects:function(r,f,a,v){return!(a<=this.pixelX||v<=this.pixelY||r>=this.right||f>=this.bottom)},isInteresting:function(r,f){return r&&f?this.canCollide||this.hasInterestingFace:r?this.collides:f?this.hasInterestingFace:!1},resetCollision:function(r){if(r===void 0&&(r=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,r){var f=this.tilemapLayer;f&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(r,f,a,v,p){if(f===void 0&&(f=r),a===void 0&&(a=r),v===void 0&&(v=r),p===void 0&&(p=!0),this.collideLeft=r,this.collideRight=f,this.collideUp=a,this.collideDown=v,this.faceLeft=r,this.faceRight=f,this.faceTop=a,this.faceBottom=v,p){var c=this.tilemapLayer;c&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(r,f){return r===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=r,this.collisionCallbackContext=f),this},setSize:function(r,f,a,v){return r!==void 0&&(this.width=r),f!==void 0&&(this.height=f),a!==void 0&&(this.baseWidth=a),v!==void 0&&(this.baseHeight=v),this.updatePixelXY(),this},updatePixelXY:function(){var r=this.layer.orientation;if(r===d.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(r===d.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(r===d.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(r===d.HEXAGONAL){var f=this.layer.staggerAxis,a=this.layer.staggerIndex,v=this.layer.hexSideLength,p,c;f==="y"?(c=(this.baseHeight-v)/2+v,a==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*c):f==="x"&&(p=(this.baseWidth-v)/2+v,this.pixelX=this.x*p,a==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var r=this.layer.tilemapLayer;if(r){var f=r.gidMap[this.index];if(f)return f}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var r=this.tilemapLayer;return r?r.tilemap:null}}});l.exports=n},89797:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(14556),m=e(56694),d=e(75606),o=e(93560),h=e(72632),n=e(94990),r=e(46422),f=e(12920),a=e(52257),v=e(72677),p=e(13747),c=e(29633),g=e(5047),y=e(87177),S=e(47975),P=new m({initialize:function(M,R){this.scene=M,this.tileWidth=R.tileWidth,this.tileHeight=R.tileHeight,this.width=R.width,this.height=R.height,this.orientation=R.orientation,this.renderOrder=R.renderOrder,this.format=R.format,this.version=R.version,this.properties=R.properties,this.widthInPixels=R.widthInPixels,this.heightInPixels=R.heightInPixels,this.imageCollections=R.imageCollections,this.images=R.images,this.layers=R.layers,this.tiles=R.tiles,this.tilesets=R.tilesets,this.objects=R.objects,this.currentLayerIndex=0,this.hexSideLength=R.hexSideLength;var w=this.orientation;this._convert={WorldToTileXY:g.GetWorldToTileXYFunction(w),WorldToTileX:g.GetWorldToTileXFunction(w),WorldToTileY:g.GetWorldToTileYFunction(w),TileToWorldXY:g.GetTileToWorldXYFunction(w),TileToWorldX:g.GetTileToWorldXFunction(w),TileToWorldY:g.GetTileToWorldYFunction(w),GetTileCorners:g.GetTileCornersFunction(w)}},setRenderOrder:function(C){var M=["right-down","left-down","right-up","left-up"];return typeof C=="number"&&(C=M[C]),M.indexOf(C)>-1&&(this.renderOrder=C),this},addTilesetImage:function(C,M,R,w,O,F,L,b){if(C===void 0)return null;if(M==null&&(M=C),!this.scene.sys.textures.exists(M))return console.warn("Invalid Tileset Image: "+M),null;var B=this.scene.sys.textures.get(M),I=this.getTilesetIndex(C);if(I===null&&this.format===o.TILED_JSON)return console.warn("No data found for Tileset: "+C),null;var z=this.tilesets[I];return z?(z.setTileSize(R,w),z.setSpacing(O,F),z.setImage(B),z):(R===void 0&&(R=this.tileWidth),w===void 0&&(w=this.tileHeight),O===void 0&&(O=0),F===void 0&&(F=0),L===void 0&&(L=0),b===void 0&&(b={x:0,y:0}),z=new S(C,L,R,w,O,F,void 0,void 0,b),z.setImage(B),this.tilesets.push(z),this.tiles=u(this),z)},copy:function(C,M,R,w,O,F,L,b){return b=this.getLayer(b),b!==null?(g.Copy(C,M,R,w,O,F,L,b),this):null},createBlankLayer:function(C,M,R,w,O,F,L,b){R===void 0&&(R=0),w===void 0&&(w=0),O===void 0&&(O=this.width),F===void 0&&(F=this.height),L===void 0&&(L=this.tileWidth),b===void 0&&(b=this.tileHeight);var B=this.getLayerIndex(C);if(B!==null)return console.warn("Invalid Tilemap Layer ID: "+C),null;for(var I=new n({name:C,tileWidth:L,tileHeight:b,width:O,height:F,orientation:this.orientation}),z,Y=0;Y<F;Y++){z=[];for(var W=0;W<O;W++)z.push(new c(I,-1,W,Y,L,b,this.tileWidth,this.tileHeight));I.data.push(z)}this.layers.push(I),this.currentLayerIndex=this.layers.length-1;var H=new y(this.scene,this,this.currentLayerIndex,M,R,w);return H.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(H),H},createLayer:function(C,M,R,w){var O=this.getLayerIndex(C);if(O===null)return console.warn("Invalid Tilemap Layer ID: "+C),typeof C=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var F=this.layers[O];if(F.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+C),null;this.currentLayerIndex=O,R===void 0&&(R=F.x),w===void 0&&(w=F.y);var L=new y(this.scene,this,O,M,R,w);return L.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(L),L},createFromObjects:function(C,M,R){R===void 0&&(R=!0);var w=[],O=this.getObjectLayer(C);if(!O)return console.warn("createFromObjects: Invalid objectLayerName given: "+C),w;var F=new r(R?this.tilesets:void 0);Array.isArray(M)||(M=[M]);for(var L=O.objects,b=0;b<M.length;b++){var B=M[b],I=h(B,"id",null),z=h(B,"gid",null),Y=h(B,"name",null),W=h(B,"type",null);F.enabled=!h(B,"ignoreTileset",null);for(var H,N=[],X=0;X<L.length;X++)H=L[X],(I===null&&z===null&&Y===null&&W===null||I!==null&&H.id===I||z!==null&&H.gid===z||Y!==null&&H.name===Y||W!==null&&F.getTypeIncludingTile(H)===W)&&N.push(H);for(var D=h(B,"classType",p),G=h(B,"scene",this.scene),V=h(B,"container",null),U=h(B,"key",null),k=h(B,"frame",null),$=0;$<N.length;$++){H=N[$];var K=new D(G);if(K.setName(H.name),K.setPosition(H.x,H.y),F.setTextureAndFrame(K,U,k,H),H.width&&(K.displayWidth=H.width),H.height&&(K.displayHeight=H.height),this.orientation===f.ISOMETRIC){var J=this.tileWidth/this.tileHeight,Q={x:K.x-K.y,y:(K.x+K.y)/J};K.x=Q.x,K.y=Q.y}var q={x:K.originX*H.width,y:(K.originY-(H.gid?1:0))*H.height};if(H.rotation){var _=d(H.rotation);a(q,_),K.rotation=_}K.x+=q.x,K.y+=q.y,(H.flippedHorizontal!==void 0||H.flippedVertical!==void 0)&&K.setFlip(H.flippedHorizontal,H.flippedVertical),H.visible||(K.visible=!1),F.setPropertiesFromTiledObject(K,H),V?V.add(K):G.add.existing(K),w.push(K)}}return w},createFromTiles:function(C,M,R,w,O,F){return F=this.getLayer(F),F===null?null:g.CreateFromTiles(C,M,R,w,O,F)},fill:function(C,M,R,w,O,F,L){return F===void 0&&(F=!0),L=this.getLayer(L),L===null?null:(g.Fill(C,M,R,w,O,F,L),this)},filterObjects:function(C,M,R){if(typeof C=="string"){var w=C;if(C=this.getObjectLayer(C),!C)return console.warn("No object layer found with the name: "+w),null}return C.objects.filter(M,R)},filterTiles:function(C,M,R,w,O,F,L,b){return b=this.getLayer(b),b===null?null:g.FilterTiles(C,M,R,w,O,F,L,b)},findByIndex:function(C,M,R,w){return w=this.getLayer(w),w===null?null:g.FindByIndex(C,M,R,w)},findObject:function(C,M,R){if(typeof C=="string"){var w=C;if(C=this.getObjectLayer(C),!C)return console.warn("No object layer found with the name: "+w),null}return C.objects.find(M,R)||null},findTile:function(C,M,R,w,O,F,L,b){return b=this.getLayer(b),b===null?null:g.FindTile(C,M,R,w,O,F,L,b)},forEachTile:function(C,M,R,w,O,F,L,b){return b=this.getLayer(b),b===null?null:(g.ForEachTile(C,M,R,w,O,F,L,b),this)},getImageIndex:function(C){return this.getIndex(this.images,C)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(C){return C.name})},getIndex:function(C,M){for(var R=0;R<C.length;R++)if(C[R].name===M)return R;return null},getLayer:function(C){var M=this.getLayerIndex(C);return M!==null?this.layers[M]:null},getObjectLayer:function(C){var M=this.getIndex(this.objects,C);return M!==null?this.objects[M]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(C){return C.name})},getLayerIndex:function(C){return C===void 0?this.currentLayerIndex:typeof C=="string"?this.getLayerIndexByName(C):typeof C=="number"&&C<this.layers.length?C:C instanceof y&&C.tilemap===this?C.layerIndex:null},getLayerIndexByName:function(C){return this.getIndex(this.layers,C)},getTileAt:function(C,M,R,w){return w=this.getLayer(w),w===null?null:g.GetTileAt(C,M,R,w)},getTileAtWorldXY:function(C,M,R,w,O){return O=this.getLayer(O),O===null?null:g.GetTileAtWorldXY(C,M,R,w,O)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(C){return C.name})},getTilesWithin:function(C,M,R,w,O,F){return F=this.getLayer(F),F===null?null:g.GetTilesWithin(C,M,R,w,O,F)},getTilesWithinShape:function(C,M,R,w){return w=this.getLayer(w),w===null?null:g.GetTilesWithinShape(C,M,R,w)},getTilesWithinWorldXY:function(C,M,R,w,O,F,L){return L=this.getLayer(L),L===null?null:g.GetTilesWithinWorldXY(C,M,R,w,O,F,L)},getTileset:function(C){var M=this.getIndex(this.tilesets,C);return M!==null?this.tilesets[M]:null},getTilesetIndex:function(C){return this.getIndex(this.tilesets,C)},hasTileAt:function(C,M,R){return R=this.getLayer(R),R===null?null:g.HasTileAt(C,M,R)},hasTileAtWorldXY:function(C,M,R,w){return w=this.getLayer(w),w===null?null:g.HasTileAtWorldXY(C,M,R,w)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(C){this.setLayer(C)}},putTileAt:function(C,M,R,w,O){return w===void 0&&(w=!0),O=this.getLayer(O),O===null?null:g.PutTileAt(C,M,R,w,O)},putTileAtWorldXY:function(C,M,R,w,O,F){return w===void 0&&(w=!0),F=this.getLayer(F),F===null?null:g.PutTileAtWorldXY(C,M,R,w,O,F)},putTilesAt:function(C,M,R,w,O){return w===void 0&&(w=!0),O=this.getLayer(O),O===null?null:(g.PutTilesAt(C,M,R,w,O),this)},randomize:function(C,M,R,w,O,F){return F=this.getLayer(F),F===null?null:(g.Randomize(C,M,R,w,O,F),this)},calculateFacesAt:function(C,M,R){return R=this.getLayer(R),R===null?null:(g.CalculateFacesAt(C,M,R),this)},calculateFacesWithin:function(C,M,R,w,O){return O=this.getLayer(O),O===null?null:(g.CalculateFacesWithin(C,M,R,w,O),this)},removeLayer:function(C){var M=this.getLayerIndex(C);if(M!==null){v(this.layers,M);for(var R=M;R<this.layers.length;R++)this.layers[R].tilemapLayer&&this.layers[R].tilemapLayer.layerIndex--;return this.currentLayerIndex===M&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(C){var M=this.getLayerIndex(C);return M!==null?(C=this.layers[M],C.tilemapLayer.destroy(),v(this.layers,M),this.currentLayerIndex===M&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var C=this.layers,M=0;M<C.length;M++)C[M].tilemapLayer&&C[M].tilemapLayer.destroy(!1);return C.length=0,this.currentLayerIndex=0,this},removeTile:function(C,M,R){M===void 0&&(M=-1),R===void 0&&(R=!0);var w=[];Array.isArray(C)||(C=[C]);for(var O=0;O<C.length;O++){var F=C[O];w.push(this.removeTileAt(F.x,F.y,!0,R,F.tilemapLayer)),M>-1&&this.putTileAt(M,F.x,F.y,R,F.tilemapLayer)}return w},removeTileAt:function(C,M,R,w,O){return R===void 0&&(R=!0),w===void 0&&(w=!0),O=this.getLayer(O),O===null?null:g.RemoveTileAt(C,M,R,w,O)},removeTileAtWorldXY:function(C,M,R,w,O,F){return R===void 0&&(R=!0),w===void 0&&(w=!0),F=this.getLayer(F),F===null?null:g.RemoveTileAtWorldXY(C,M,R,w,O,F)},renderDebug:function(C,M,R){return R=this.getLayer(R),R===null?null:(this.orientation===f.ORTHOGONAL&&g.RenderDebug(C,M,R),this)},renderDebugFull:function(C,M){for(var R=this.layers,w=0;w<R.length;w++)g.RenderDebug(C,M,R[w]);return this},replaceByIndex:function(C,M,R,w,O,F,L){return L=this.getLayer(L),L===null?null:(g.ReplaceByIndex(C,M,R,w,O,F,L),this)},setCollision:function(C,M,R,w,O){return M===void 0&&(M=!0),R===void 0&&(R=!0),O===void 0&&(O=!0),w=this.getLayer(w),w===null?null:(g.SetCollision(C,M,R,w,O),this)},setCollisionBetween:function(C,M,R,w,O){return R===void 0&&(R=!0),w===void 0&&(w=!0),O=this.getLayer(O),O===null?null:(g.SetCollisionBetween(C,M,R,w,O),this)},setCollisionByProperty:function(C,M,R,w){return M===void 0&&(M=!0),R===void 0&&(R=!0),w=this.getLayer(w),w===null?null:(g.SetCollisionByProperty(C,M,R,w),this)},setCollisionByExclusion:function(C,M,R,w){return M===void 0&&(M=!0),R===void 0&&(R=!0),w=this.getLayer(w),w===null?null:(g.SetCollisionByExclusion(C,M,R,w),this)},setCollisionFromCollisionGroup:function(C,M,R){return C===void 0&&(C=!0),M===void 0&&(M=!0),R=this.getLayer(R),R===null?null:(g.SetCollisionFromCollisionGroup(C,M,R),this)},setTileIndexCallback:function(C,M,R,w){return w=this.getLayer(w),w===null?null:(g.SetTileIndexCallback(C,M,R,w),this)},setTileLocationCallback:function(C,M,R,w,O,F,L){return L=this.getLayer(L),L===null?null:(g.SetTileLocationCallback(C,M,R,w,O,F,L),this)},setLayer:function(C){var M=this.getLayerIndex(C);return M!==null&&(this.currentLayerIndex=M),this},setBaseTileSize:function(C,M){this.tileWidth=C,this.tileHeight=M,this.widthInPixels=this.width*C,this.heightInPixels=this.height*M;for(var R=0;R<this.layers.length;R++){this.layers[R].baseTileWidth=C,this.layers[R].baseTileHeight=M;for(var w=this.layers[R].data,O=this.layers[R].width,F=this.layers[R].height,L=0;L<F;L++)for(var b=0;b<O;b++){var B=w[L][b];B!==null&&B.setSize(void 0,void 0,C,M)}}return this},setLayerTileSize:function(C,M,R){if(R=this.getLayer(R),R===null)return this;R.tileWidth=C,R.tileHeight=M;for(var w=R.data,O=R.width,F=R.height,L=0;L<F;L++)for(var b=0;b<O;b++){var B=w[L][b];B!==null&&B.setSize(C,M)}return this},shuffle:function(C,M,R,w,O){return O=this.getLayer(O),O===null?null:(g.Shuffle(C,M,R,w,O),this)},swapByIndex:function(C,M,R,w,O,F,L){return L=this.getLayer(L),L===null?null:(g.SwapByIndex(C,M,R,w,O,F,L),this)},tileToWorldX:function(C,M,R){return R=this.getLayer(R),R===null?null:this._convert.TileToWorldX(C,M,R)},tileToWorldY:function(C,M,R){return R=this.getLayer(R),R===null?null:this._convert.TileToWorldY(C,M,R)},tileToWorldXY:function(C,M,R,w,O){return O=this.getLayer(O),O===null?null:this._convert.TileToWorldXY(C,M,R,w,O)},getTileCorners:function(C,M,R,w){return w=this.getLayer(w),w===null?null:this._convert.GetTileCorners(C,M,R,w)},weightedRandomize:function(C,M,R,w,O,F){return F=this.getLayer(F),F===null?null:(g.WeightedRandomize(M,R,w,O,C,F),this)},worldToTileX:function(C,M,R,w){return w=this.getLayer(w),w===null?null:this._convert.WorldToTileX(C,M,R,w)},worldToTileY:function(C,M,R,w){return w=this.getLayer(w),w===null?null:this._convert.WorldToTileY(C,M,R,w)},worldToTileXY:function(C,M,R,w,O,F){return F=this.getLayer(F),F===null?null:this._convert.WorldToTileXY(C,M,R,w,O,F)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});l.exports=P},4843:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(99325),m=e(15043);u.register("tilemap",function(d){var o=d!==void 0?d:{};return m(this.scene,o.key,o.tileWidth,o.tileHeight,o.width,o.height,o.data,o.insertNull)})},37940:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61286),m=e(15043);u.register("tilemap",function(d,o,h,n,r,f,a){return d===null&&(d=void 0),o===null&&(o=void 0),h===null&&(h=void 0),n===null&&(n=void 0),r===null&&(r=void 0),m(this.scene,d,o,h,n,r,f,a)})},87177:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(64937),d=e(89980),o=e(5047),h=e(96193),n=e(93736),r=new u({Extends:d,Mixins:[m.Alpha,m.BlendMode,m.ComputedSize,m.Depth,m.Flip,m.GetBounds,m.Mask,m.Origin,m.Pipeline,m.PostPipeline,m.Transform,m.Visible,m.ScrollFactor,h],initialize:function(a,v,p,c,g,y){d.call(this,a,"TilemapLayer"),this.isTilemap=!0,this.tilemap=v,this.layerIndex=p,this.layer=v.layers[p],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=o.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new n,this.setTilesets(c),this.setAlpha(this.layer.alpha),this.setPosition(g,y),this.setOrigin(0,0),this.setSize(v.tileWidth*this.layer.width,v.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(f){var a=[],v=[],p=this.tilemap;Array.isArray(f)||(f=[f]);for(var c=0;c<f.length;c++){var g=f[c];if(typeof g=="string"&&(g=p.getTileset(g)),g){v.push(g);for(var y=g.firstgid,S=0;S<g.total;S++)a[y+S]=g}}this.gidMap=a,this.tileset=v},setRenderOrder:function(f){var a=["right-down","left-down","right-up","left-up"];return typeof f=="string"&&(f=a.indexOf(f)),f>=0&&f<4&&(this._renderOrder=f),this},calculateFacesAt:function(f,a){return o.CalculateFacesAt(f,a,this.layer),this},calculateFacesWithin:function(f,a,v,p){return o.CalculateFacesWithin(f,a,v,p,this.layer),this},createFromTiles:function(f,a,v,p,c){return o.CreateFromTiles(f,a,v,p,c,this.layer)},cull:function(f){return this.cullCallback(this.layer,f,this.culledTiles,this._renderOrder)},copy:function(f,a,v,p,c,g,y){return o.Copy(f,a,v,p,c,g,y,this.layer),this},fill:function(f,a,v,p,c,g){return o.Fill(f,a,v,p,c,g,this.layer),this},filterTiles:function(f,a,v,p,c,g,y){return o.FilterTiles(f,a,v,p,c,g,y,this.layer)},findByIndex:function(f,a,v){return o.FindByIndex(f,a,v,this.layer)},findTile:function(f,a,v,p,c,g,y){return o.FindTile(f,a,v,p,c,g,y,this.layer)},forEachTile:function(f,a,v,p,c,g,y){return o.ForEachTile(f,a,v,p,c,g,y,this.layer),this},setTint:function(f,a,v,p,c,g){f===void 0&&(f=16777215);var y=function(S){S.tint=f};return this.forEachTile(y,this,a,v,p,c,g)},getTileAt:function(f,a,v){return o.GetTileAt(f,a,v,this.layer)},getTileAtWorldXY:function(f,a,v,p){return o.GetTileAtWorldXY(f,a,v,p,this.layer)},getIsoTileAtWorldXY:function(f,a,v,p,c){v===void 0&&(v=!0);var g=this.tempVec;return o.IsometricWorldToTileXY(f,a,!0,g,c,this.layer,v),this.getTileAt(g.x,g.y,p)},getTilesWithin:function(f,a,v,p,c){return o.GetTilesWithin(f,a,v,p,c,this.layer)},getTilesWithinShape:function(f,a,v){return o.GetTilesWithinShape(f,a,v,this.layer)},getTilesWithinWorldXY:function(f,a,v,p,c,g){return o.GetTilesWithinWorldXY(f,a,v,p,c,g,this.layer)},hasTileAt:function(f,a){return o.HasTileAt(f,a,this.layer)},hasTileAtWorldXY:function(f,a,v){return o.HasTileAtWorldXY(f,a,v,this.layer)},putTileAt:function(f,a,v,p){return o.PutTileAt(f,a,v,p,this.layer)},putTileAtWorldXY:function(f,a,v,p,c){return o.PutTileAtWorldXY(f,a,v,p,c,this.layer)},putTilesAt:function(f,a,v,p){return o.PutTilesAt(f,a,v,p,this.layer),this},randomize:function(f,a,v,p,c){return o.Randomize(f,a,v,p,c,this.layer),this},removeTileAt:function(f,a,v,p){return o.RemoveTileAt(f,a,v,p,this.layer)},removeTileAtWorldXY:function(f,a,v,p,c){return o.RemoveTileAtWorldXY(f,a,v,p,c,this.layer)},renderDebug:function(f,a){return o.RenderDebug(f,a,this.layer),this},replaceByIndex:function(f,a,v,p,c,g){return o.ReplaceByIndex(f,a,v,p,c,g,this.layer),this},setSkipCull:function(f){return f===void 0&&(f=!0),this.skipCull=f,this},setCullPadding:function(f,a){return f===void 0&&(f=1),a===void 0&&(a=1),this.cullPaddingX=f,this.cullPaddingY=a,this},setCollision:function(f,a,v,p){return o.SetCollision(f,a,v,this.layer,p),this},setCollisionBetween:function(f,a,v,p){return o.SetCollisionBetween(f,a,v,p,this.layer),this},setCollisionByProperty:function(f,a,v){return o.SetCollisionByProperty(f,a,v,this.layer),this},setCollisionByExclusion:function(f,a,v){return o.SetCollisionByExclusion(f,a,v,this.layer),this},setCollisionFromCollisionGroup:function(f,a){return o.SetCollisionFromCollisionGroup(f,a,this.layer),this},setTileIndexCallback:function(f,a,v){return o.SetTileIndexCallback(f,a,v,this.layer),this},setTileLocationCallback:function(f,a,v,p,c,g){return o.SetTileLocationCallback(f,a,v,p,c,g,this.layer),this},shuffle:function(f,a,v,p){return o.Shuffle(f,a,v,p,this.layer),this},swapByIndex:function(f,a,v,p,c,g){return o.SwapByIndex(f,a,v,p,c,g,this.layer),this},tileToWorldX:function(f,a){return this.tilemap.tileToWorldX(f,a,this)},tileToWorldY:function(f,a){return this.tilemap.tileToWorldY(f,a,this)},tileToWorldXY:function(f,a,v,p){return this.tilemap.tileToWorldXY(f,a,v,p,this)},getTileCorners:function(f,a,v){return this.tilemap.getTileCorners(f,a,v,this)},weightedRandomize:function(f,a,v,p,c){return o.WeightedRandomize(a,v,p,c,f,this.layer),this},worldToTileX:function(f,a,v){return this.tilemap.worldToTileX(f,a,v,this)},worldToTileY:function(f,a,v){return this.tilemap.worldToTileY(f,a,v,this)},worldToTileXY:function(f,a,v,p,c){return this.tilemap.worldToTileXY(f,a,v,p,c,this)},destroy:function(f){f===void 0&&(f=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),f&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],d.prototype.destroy.call(this))}});l.exports=r},17394:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(69360),m=new u,d=new u,o=new u,h=function(n,r,f,a){var v=r.cull(f),p=v.length,c=f.alpha*r.alpha;if(!(p===0||c<=0)){var g=m,y=d,S=o;y.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),g.copyFrom(f.matrix);var P=n.currentContext,C=r.gidMap;P.save(),a?(g.multiplyWithOffset(a,-f.scrollX*r.scrollFactorX,-f.scrollY*r.scrollFactorY),y.e=r.x,y.f=r.y,g.multiply(y,S),S.copyToContext(P)):(y.e-=f.scrollX*r.scrollFactorX,y.f-=f.scrollY*r.scrollFactorY,y.copyToContext(P)),(!n.antialias||r.scaleX>1||r.scaleY>1)&&(P.imageSmoothingEnabled=!1);for(var M=0;M<p;M++){var R=v[M],w=C[R.index];if(w){var O=w.image.getSourceImage(),F=w.getTileTextureCoordinates(R.index),L=w.tileWidth,b=w.tileHeight;if(!(F===null||L===0||b===0)){var B=L*.5,I=b*.5;F.x+=w.tileOffset.x,F.y+=w.tileOffset.y,P.save(),P.translate(R.pixelX+B,R.pixelY+I),R.rotation!==0&&P.rotate(R.rotation),(R.flipX||R.flipY)&&P.scale(R.flipX?-1:1,R.flipY?-1:1),P.globalAlpha=c*R.alpha,P.drawImage(O,F.x,F.y,L,b,-B,-I,L,b),P.restore()}}}P.restore()}};l.exports=h},96193:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),m=u,d=u;m=e(51395),d=e(17394),l.exports={renderWebGL:m,renderCanvas:d}},51395:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(75512),m=function(d,o,h){var n=o.cull(h),r=n.length,f=h.alpha*o.alpha;if(!(r===0||f<=0)){var a=o.gidMap,v=d.pipelines.set(o.pipeline,o),p=u.getTintAppendFloatAlpha,c=o.scrollFactorX,g=o.scrollFactorY,y=o.x,S=o.y,P=o.scaleX,C=o.scaleY;d.pipelines.preBatch(o);for(var M=0;M<r;M++){var R=n[M],w=a[R.index];if(w){var O=w.getTileTextureCoordinates(R.index);if(O!==null){var F=w.glTexture,L=v.setTexture2D(F,o),b=w.tileWidth,B=w.tileHeight,I=O.x,z=O.y,Y=w.tileWidth*.5,W=w.tileHeight*.5,H=w.tileOffset.x,N=w.tileOffset.y,X=p(R.tint,f*R.alpha);v.batchTexture(o,F,F.width,F.height,y+R.pixelX*P+(Y*P-H),S+R.pixelY*C+(W*C-N),R.width,R.height,P,C,R.rotation,R.flipX,R.flipY,c,g,Y,W,I,z,b,B,X,X,X,X,!1,0,0,h,null,!0,L)}}}d.pipelines.postBatch(o)}};l.exports=m},47975:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(93736),d=new u({initialize:function(h,n,r,f,a,v,p,c,g){(r===void 0||r<=0)&&(r=32),(f===void 0||f<=0)&&(f=32),a===void 0&&(a=0),v===void 0&&(v=0),p===void 0&&(p={}),c===void 0&&(c={}),this.name=h,this.firstgid=n,this.tileWidth=r,this.tileHeight=f,this.tileMargin=a,this.tileSpacing=v,this.tileProperties=p,this.tileData=c,this.tileOffset=new m,g!==void 0&&this.tileOffset.set(g.x,g.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(o){return this.containsTileIndex(o)?this.tileProperties[o-this.firstgid]:null},getTileData:function(o){return this.containsTileIndex(o)?this.tileData[o-this.firstgid]:null},getTileCollisionGroup:function(o){var h=this.getTileData(o);return h&&h.objectgroup?h.objectgroup:null},containsTileIndex:function(o){return o>=this.firstgid&&o<this.firstgid+this.total},getTileTextureCoordinates:function(o){return this.containsTileIndex(o)?this.texCoordinates[o-this.firstgid]:null},setImage:function(o){return this.image=o,this.glTexture=o.get().source.glTexture,this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setTileSize:function(o,h){return o!==void 0&&(this.tileWidth=o),h!==void 0&&(this.tileHeight=h),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(o,h){return o!==void 0&&(this.tileMargin=o),h!==void 0&&(this.tileSpacing=h),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(o,h){var n=(h-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),r=(o-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(n%1!==0||r%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),n=Math.floor(n),r=Math.floor(r),this.rows=n,this.columns=r,this.total=n*r,this.texCoordinates.length=0;for(var f=this.tileMargin,a=this.tileMargin,v=0;v<this.rows;v++){for(var p=0;p<this.columns;p++)this.texCoordinates.push({x:f,y:a}),f+=this.tileWidth+this.tileSpacing;f=this.tileMargin,a+=this.tileHeight+this.tileSpacing}return this}});l.exports=d},92839:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(15494),m=function(d,o,h){var n=u(d,o,!0,h),r=u(d,o-1,!0,h),f=u(d,o+1,!0,h),a=u(d-1,o,!0,h),v=u(d+1,o,!0,h),p=n&&n.collides;return p&&(n.faceTop=!0,n.faceBottom=!0,n.faceLeft=!0,n.faceRight=!0),r&&r.collides&&(p&&(n.faceTop=!1),r.faceBottom=!p),f&&f.collides&&(p&&(n.faceBottom=!1),f.faceTop=!p),a&&a.collides&&(p&&(n.faceLeft=!1),a.faceRight=!p),v&&v.collides&&(p&&(n.faceRight=!1),v.faceLeft=!p),n&&!n.collides&&n.resetFaces(),n};l.exports=m},60386:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(15494),m=e(50811),d=function(o,h,n,r,f){for(var a=null,v=null,p=null,c=null,g=m(o,h,n,r,null,f),y=0;y<g.length;y++){var S=g[y];S&&(S.collides?(a=u(S.x,S.y-1,!0,f),v=u(S.x,S.y+1,!0,f),p=u(S.x-1,S.y,!0,f),c=u(S.x+1,S.y,!0,f),S.faceTop=!(a&&a.collides),S.faceBottom=!(v&&v.collides),S.faceLeft=!(p&&p.collides),S.faceRight=!(c&&c.collides)):S.resetFaces())}};l.exports=d},13125:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(93736),m=new u,d=function(o,h,n,r){var f=n.tilemapLayer,a=f.cullPaddingX,v=f.cullPaddingY,p=f.tilemap.tileToWorldXY(o,h,m,r,f);return p.x>r.worldView.x+f.scaleX*n.tileWidth*(-a-.5)&&p.x<r.worldView.right+f.scaleX*n.tileWidth*(a-.5)&&p.y>r.worldView.y+f.scaleY*n.tileHeight*(-v-1)&&p.y<r.worldView.bottom+f.scaleY*n.tileHeight*(v-.5)};l.exports=d},17347:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(60386),m=e(50811),d=e(62839),o=e(29633),h=function(n,r,f,a,v,p,c,g){c===void 0&&(c=!0);var y=m(n,r,f,a,null,g),S=[];y.forEach(function(F){var L=new o(F.layer,F.index,F.x,F.y,F.width,F.height,F.baseWidth,F.baseHeight);L.copy(F),S.push(L)});for(var P=v-n,C=p-r,M=0;M<S.length;M++){var R=S[M],w=R.x+P,O=R.y+C;d(w,O,g)&&g.data[O][w]&&(R.x=w,R.y=O,R.updatePixelXY(),g.data[O][w]=R)}c&&u(v-1,p-1,f+2,a+2,g),y.length=0,S.length=0};l.exports=h},93604:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(50811),m=e(51202),d=function(o,h,n,r,f,a){n||(n={}),Array.isArray(o)||(o=[o]);var v=a.tilemapLayer;r||(r=v.scene),f||(f=r.cameras.main);var p=u(0,0,a.width,a.height,null,a),c=[],g;for(g=0;g<p.length;g++){var y=p[g];if(o.indexOf(y.index)!==-1){var S=v.tileToWorldXY(y.x,y.y,void 0,f,a);n.x=S.x,n.y=S.y,c.push(r.make.sprite(n))}}if(typeof h=="number")for(g=0;g<o.length;g++)m(o[g],h,0,0,a.width,a.height,a);else if(Array.isArray(h))for(g=0;g<o.length;g++)m(o[g],h[g],0,0,a.width,a.height,a);return c};l.exports=d},71586:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(74118),m=e(82127),d=e(84314),o=new u,h=function(n,r){var f=n.tilemapLayer.tilemap,a=n.tilemapLayer,v=Math.floor(f.tileWidth*a.scaleX),p=Math.floor(f.tileHeight*a.scaleY),c=d(r.worldView.x-a.x,v,0,!0)-a.cullPaddingX,g=m(r.worldView.right-a.x,v,0,!0)+a.cullPaddingX,y=d(r.worldView.y-a.y,p,0,!0)-a.cullPaddingY,S=m(r.worldView.bottom-a.y,p,0,!0)+a.cullPaddingY;return o.setTo(c,y,g-c,S-y)};l.exports=h},381:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(71586),m=e(6987),d=function(o,h,n,r){n===void 0&&(n=[]),r===void 0&&(r=0),n.length=0;var f=o.tilemapLayer,a=u(o,h);return(f.skipCull||f.scrollFactorX!==1||f.scrollFactorY!==1)&&(a.left=0,a.right=o.width,a.top=0,a.bottom=o.height),m(o,a,r,n),n};l.exports=d},97734:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(50811),m=e(60386),d=e(68234),o=function(h,n,r,f,a,v,p){for(var c=p.collideIndexes.indexOf(h)!==-1,g=u(n,r,f,a,null,p),y=0;y<g.length;y++)g[y].index=h,d(g[y],c);v&&m(n-1,r-1,f+2,a+2,p)};l.exports=o},63555:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(50811),m=function(d,o,h,n,r,f,a,v){var p=u(h,n,r,f,a,v);return p.filter(d,o)};l.exports=m},37982:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d){u===void 0&&(u=0),m===void 0&&(m=!1);var o=0,h,n,r;if(m){for(n=d.height-1;n>=0;n--)for(h=d.width-1;h>=0;h--)if(r=d.data[n][h],r&&r.index===e){if(o===u)return r;o+=1}}else for(n=0;n<d.height;n++)for(h=0;h<d.width;h++)if(r=d.data[n][h],r&&r.index===e){if(o===u)return r;o+=1}return null};l.exports=T},48297:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(50811),m=function(d,o,h,n,r,f,a,v){var p=u(h,n,r,f,a,v);return p.find(d,o)||null};l.exports=m},80916:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(50811),m=function(d,o,h,n,r,f,a,v){var p=u(h,n,r,f,a,v);p.forEach(d,o)};l.exports=m},31493:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(12920),m=e(381),d=e(37524),o=e(20887),h=e(72283),n=e(19242),r=function(f){return f===u.ORTHOGONAL?m:f===u.HEXAGONAL?d:f===u.STAGGERED?n:f===u.ISOMETRIC?o:h};l.exports=r},15494:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(62839),m=function(d,o,h,n){if(h===void 0&&(h=!1),u(d,o,n)){var r=n.data[o][d]||null;return r?r.index===-1?h?r:null:r:null}else return null};l.exports=m},24640:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(15494),m=e(93736),d=new m,o=function(h,n,r,f,a){return a.tilemapLayer.worldToTileXY(h,n,!0,d,f),u(d.x,d.y,r,a)};l.exports=o},48495:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(93736),m=function(d,o,h,n){var r=n.baseTileWidth,f=n.baseTileHeight,a=n.tilemapLayer,v=0,p=0;a&&(h||(h=a.scene.cameras.main),v=a.x+h.scrollX*(1-a.scrollFactorX),p=a.y+h.scrollY*(1-a.scrollFactorY),r*=a.scaleX,f*=a.scaleY);var c=v+d*r,g=p+o*f;return[new u(c,g),new u(c+r,g),new u(c+r,g+f),new u(c,g+f)]};l.exports=m},7160:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(12920),m=e(63634),d=e(72283),o=e(48495),h=function(n){return n===u.ORTHOGONAL?o:n===u.ISOMETRIC?d:n===u.HEXAGONAL?m:(n===u.STAGGERED,d)};l.exports=h},16884:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(12920),m=e(72283),d=e(44150),o=function(h){return h===u.ORTHOGONAL?d:m};l.exports=o},68182:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(12920),m=e(21715),d=e(21808),o=e(72283),h=e(33388),n=e(46836),r=function(f){return f===u.ORTHOGONAL?n:f===u.ISOMETRIC?d:f===u.HEXAGONAL?m:f===u.STAGGERED?h:o};l.exports=r},3752:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(12920),m=e(72283),d=e(84132),o=e(42477),h=function(n){return n===u.ORTHOGONAL?o:n===u.STAGGERED?d:m};l.exports=h},50811:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72632),m=function(d,o,h,n,r,f){d===void 0&&(d=0),o===void 0&&(o=0),h===void 0&&(h=f.width),n===void 0&&(n=f.height),r||(r={});var a=u(r,"isNotEmpty",!1),v=u(r,"isColliding",!1),p=u(r,"hasInterestingFace",!1);d<0&&(h+=d,d=0),o<0&&(n+=o,o=0),d+h>f.width&&(h=Math.max(f.width-d,0)),o+n>f.height&&(n=Math.max(f.height-o,0));for(var c=[],g=o;g<o+n;g++)for(var y=d;y<d+h;y++){var S=f.data[g][y];if(S!==null){if(a&&S.index===-1||v&&!S.collides||p&&!S.hasInterestingFace)continue;c.push(S)}}return c};l.exports=m},31674:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(84068),m=e(50811),d=e(7563),o=e(72283),h=e(93736),n=function(p,c){return d.RectangleToTriangle(c,p)},r=new h,f=new h,a=new h,v=function(p,c,g,y){if(p===void 0)return[];var S=o;p instanceof u.Circle?S=d.CircleToRectangle:p instanceof u.Rectangle?S=d.RectangleToRectangle:p instanceof u.Triangle?S=n:p instanceof u.Line&&(S=d.LineToRectangle),y.tilemapLayer.worldToTileXY(p.left,p.top,!0,f,g);var P=f.x,C=f.y;y.tilemapLayer.worldToTileXY(p.right,p.bottom,!1,a,g);var M=Math.ceil(a.x),R=Math.ceil(a.y),w=Math.max(M-P,1),O=Math.max(R-C,1),F=m(P,C,w,O,c,y),L=y.tileWidth,b=y.tileHeight;y.tilemapLayer&&(L*=y.tilemapLayer.scaleX,b*=y.tilemapLayer.scaleY);for(var B=[],I=new u.Rectangle(0,0,L,b),z=0;z<F.length;z++){var Y=F[z];y.tilemapLayer.tileToWorldXY(Y.x,Y.y,r,g),I.x=r.x,I.y=r.y,S(p,I)&&B.push(Y)}return B};l.exports=v},44662:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(50811),m=e(93736),d=new m,o=new m,h=function(n,r,f,a,v,p,c){var g=c.tilemapLayer.tilemap._convert.WorldToTileXY;g(n,r,!0,d,p,c);var y=d.x,S=d.y;g(n+f,r+a,!1,o,p,c);var P=Math.ceil(o.x),C=Math.ceil(o.y);return u(y,S,P-y,C-S,v,c)};l.exports=h},29296:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(12920),m=e(10618),d=e(806),o=function(h){return h===u.ORTHOGONAL?d:m};l.exports=o},32688:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(12920),m=e(11516),d=e(18750),o=e(72283),h=e(90562),n=e(45676),r=function(f){return f===u.ORTHOGONAL?n:f===u.ISOMETRIC?d:f===u.HEXAGONAL?m:f===u.STAGGERED?h:o};l.exports=r},74326:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(12920),m=e(10618),d=e(3689),o=e(70520),h=function(n){return n===u.ORTHOGONAL?o:n===u.STAGGERED?d:m};l.exports=h},46598:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(62839),m=function(d,o,h){if(u(d,o,h)){var n=h.data[o][d];return n!==null&&n.index>-1}else return!1};l.exports=m},28654:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(46598),m=e(93736),d=new m,o=function(h,n,r,f){f.tilemapLayer.worldToTileXY(h,n,!0,d,r);var a=d.x,v=d.y;return u(a,v,f)};l.exports=o},6358:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82127),m=e(84314),d=function(o,h){var n=o.tilemapLayer.tilemap,r=o.tilemapLayer,f=Math.floor(n.tileWidth*r.scaleX),a=Math.floor(n.tileHeight*r.scaleY),v=o.hexSideLength,p,c,g,y;if(this.staggerAxis==="y"){var S=(a-v)/2+v;p=m(h.worldView.x-r.x,f,0,!0)-r.cullPaddingX,c=u(h.worldView.right-r.x,f,0,!0)+r.cullPaddingX,g=m(h.worldView.y-r.y,S,0,!0)-r.cullPaddingY,y=u(h.worldView.bottom-r.y,S,0,!0)+r.cullPaddingY}else{var P=(f-v)/2+v;p=m(h.worldView.x-r.x,P,0,!0)-r.cullPaddingX,c=u(h.worldView.right-r.x,P,0,!0)+r.cullPaddingX,g=m(h.worldView.y-r.y,a,0,!0)-r.cullPaddingY,y=u(h.worldView.bottom-r.y,a,0,!0)+r.cullPaddingY}return{left:p,right:c,top:g,bottom:y}};l.exports=d},37524:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(6358),m=e(6987),d=function(o,h,n,r){n===void 0&&(n=[]),r===void 0&&(r=0),n.length=0;var f=o.tilemapLayer,a=u(o,h);return f.skipCull&&f.scrollFactorX===1&&f.scrollFactorY===1&&(a.left=0,a.right=o.width,a.top=0,a.bottom=o.height),m(o,a,r,n),n};l.exports=d},63634:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(21715),m=e(93736),d=new m,o=function(h,n,r,f){var a=f.baseTileWidth,v=f.baseTileHeight,p=f.tilemapLayer;p&&(a*=p.scaleX,v*=p.scaleY);var c=u(h,n,d,r,f),g=[],y=.5773502691896257,S,P;this.staggerAxis==="y"?(S=y*a,P=v/2):(S=a/2,P=y*v);for(var C=0;C<6;C++){var M=2*Math.PI*(.5-C)/6;g.push(new m(c.x+S*Math.cos(M),c.y+P*Math.sin(M)))}return g};l.exports=o},21715:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(93736),m=function(d,o,h,n,r){h||(h=new u);var f=r.baseTileWidth,a=r.baseTileHeight,v=r.tilemapLayer,p=0,c=0;v&&(n||(n=v.scene.cameras.main),p=v.x+n.scrollX*(1-v.scrollFactorX),c=v.y+n.scrollY*(1-v.scrollFactorY),f*=v.scaleX,a*=v.scaleY);var g=f/2,y=a/2,S,P;return this.staggerAxis==="y"?(S=p+f*d+f,P=c+1.5*o*y+y,o%2===0&&(this.staggerIndex==="odd"?S-=g:S+=g)):this.staggerAxis==="x"&&this.staggerIndex==="odd"&&(S=p+1.5*d*g+g,P=c+a*d+a,d%2===0&&(this.staggerIndex==="odd"?P-=y:P+=y)),h.set(S,P)};l.exports=m},11516:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(93736),m=function(d,o,h,n,r,f){n||(n=new u);var a=f.baseTileWidth,v=f.baseTileHeight,p=f.tilemapLayer;p&&(r||(r=p.scene.cameras.main),d=d-(p.x+r.scrollX*(1-p.scrollFactorX)),o=o-(p.y+r.scrollY*(1-p.scrollFactorY)),a*=p.scaleX,v*=p.scaleY);var c=.5773502691896257,g=-.3333333333333333,y=0,S=.6666666666666666,P=a/2,C=v/2,M,R,w,O,F;f.staggerAxis==="y"?(M=(d-P)/(c*a),R=(o-C)/C,w=c*M+g*R,O=y*M+S*R):(M=(d-P)/P,R=(o-C)/(c*v),w=g*M+c*R,O=S*M+y*R),F=-w-O;var L=Math.round(w),b=Math.round(O),B=Math.round(F),I=Math.abs(L-w),z=Math.abs(b-O),Y=Math.abs(B-F);I>z&&I>Y?L=-b-B:z>Y&&(b=-L-B);var W,H=b;return f.staggerIndex==="odd"?W=H%2===0?b/2+L:b/2+L-.5:W=H%2===0?b/2+L:b/2+L+.5,n.set(W,H)};l.exports=m},62839:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){return e>=0&&e<m.width&&u>=0&&u<m.height};l.exports=T},20887:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(13125),m=function(d,o,h,n){h===void 0&&(h=[]),n===void 0&&(n=0),h.length=0;var r=d.tilemapLayer,f=d.data,a=d.width,v=d.height,p=r.skipCull,c=0,g=a,y=0,S=v,P,C,M;if(n===0){for(C=y;C<S;C++)for(P=c;P<g;P++)if(p||u(P,C,d,o)){if(M=f[C][P],!M||M.index===-1||!M.visible||M.alpha===0)continue;h.push(M)}}else if(n===1){for(C=y;C<S;C++)for(P=g;P>=c;P--)if(p||u(P,C,d,o)){if(M=f[C][P],!M||M.index===-1||!M.visible||M.alpha===0)continue;h.push(M)}}else if(n===2){for(C=S;C>=y;C--)for(P=c;P<g;P++)if(p||u(P,C,d,o)){if(M=f[C][P],!M||M.index===-1||!M.visible||M.alpha===0)continue;h.push(M)}}else if(n===3){for(C=S;C>=y;C--)for(P=g;P>=c;P--)if(p||u(P,C,d,o)){if(M=f[C][P],!M||M.index===-1||!M.visible||M.alpha===0)continue;h.push(M)}}return r.tilesDrawn=h.length,r.tilesTotal=a*v,h};l.exports=m},21808:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(93736),m=function(d,o,h,n,r){h||(h=new u);var f=r.baseTileWidth,a=r.baseTileHeight,v=r.tilemapLayer,p=0,c=0;v&&(n||(n=v.scene.cameras.main),p=v.x+n.scrollX*(1-v.scrollFactorX),f*=v.scaleX,c=v.y+n.scrollY*(1-v.scrollFactorY),a*=v.scaleY);var g=p+(d-o)*(f/2),y=c+(d+o)*(a/2);return h.set(g,y)};l.exports=m},18750:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(93736),m=function(d,o,h,n,r,f,a){n||(n=new u);var v=f.baseTileWidth,p=f.baseTileHeight,c=f.tilemapLayer;c&&(r||(r=c.scene.cameras.main),o=o-(c.y+r.scrollY*(1-c.scrollFactorY)),p*=c.scaleY,d=d-(c.x+r.scrollX*(1-c.scrollFactorX)),v*=c.scaleX);var g=v/2,y=p/2;d=d-g,a||(o=o-p);var S=.5*(d/g+o/y),P=.5*(-d/g+o/y);return h&&(S=Math.floor(S),P=Math.floor(P)),n.set(S,P)};l.exports=m},29003:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29633),m=e(62839),d=e(92839),o=e(68234),h=function(n,r,f,a,v){if(a===void 0&&(a=!0),!m(r,f,v))return null;var p,c=v.data[f][r],g=c&&c.collides;n instanceof u?(v.data[f][r]===null&&(v.data[f][r]=new u(v,n.index,r,f,v.tileWidth,v.tileHeight)),v.data[f][r].copy(n)):(p=n,v.data[f][r]===null?v.data[f][r]=new u(v,p,r,f,v.tileWidth,v.tileHeight):v.data[f][r].index=p);var y=v.data[f][r],S=v.collideIndexes.indexOf(y.index)!==-1;if(p=n instanceof u?n.index:n,p===-1)y.width=v.tileWidth,y.height=v.tileHeight;else{var P=v.tilemapLayer.tilemap.tiles,C=P[p][2],M=v.tilemapLayer.tileset[C];y.width=M.tileWidth,y.height=M.tileHeight}return o(y,S),a&&g!==y.collides&&d(r,f,v),y};l.exports=h},48565:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29003),m=e(93736),d=new m,o=function(h,n,r,f,a,v){return v.tilemapLayer.worldToTileXY(n,r,!0,d,a,v),u(h,d.x,d.y,f,v)};l.exports=o},56547:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(60386),m=e(29003),d=function(o,h,n,r,f){if(r===void 0&&(r=!0),!Array.isArray(o))return null;Array.isArray(o[0])||(o=[o]);for(var a=o.length,v=o[0].length,p=0;p<a;p++)for(var c=0;c<v;c++){var g=o[p][c];m(g,h+c,n+p,!1,f)}r&&u(h-1,n-1,v+2,a+2,f)};l.exports=d},91180:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(50811),m=e(72861),d=function(o,h,n,r,f,a){var v,p=u(o,h,n,r,{},a);if(!f)for(f=[],v=0;v<p.length;v++)f.indexOf(p[v].index)===-1&&f.push(p[v].index);for(v=0;v<p.length;v++)p[v].index=m(f)};l.exports=d},929:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29633),m=e(62839),d=e(92839),o=function(h,n,r,f,a){if(r===void 0&&(r=!0),f===void 0&&(f=!0),!m(h,n,a))return null;var v=a.data[n][h];if(v)a.data[n][h]=r?null:new u(a,-1,h,n,a.tileWidth,a.tileHeight);else return null;return f&&v&&v.collides&&d(h,n,a),v};l.exports=o},17384:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(929),m=e(93736),d=new m,o=function(h,n,r,f,a,v){return v.tilemapLayer.worldToTileXY(h,n,!0,d,a,v),u(d.x,d.y,r,f,v)};l.exports=o},93763:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(50811),m=e(95509),d=new m(105,210,231,150),o=new m(243,134,48,200),h=new m(40,39,37,150),n=function(r,f,a){f===void 0&&(f={});var v=f.tileColor!==void 0?f.tileColor:d,p=f.collidingTileColor!==void 0?f.collidingTileColor:o,c=f.faceColor!==void 0?f.faceColor:h,g=u(0,0,a.width,a.height,null,a);r.translateCanvas(a.tilemapLayer.x,a.tilemapLayer.y),r.scaleCanvas(a.tilemapLayer.scaleX,a.tilemapLayer.scaleY);for(var y=0;y<g.length;y++){var S=g[y],P=S.width,C=S.height,M=S.pixelX,R=S.pixelY,w=S.collides?p:v;w!==null&&(r.fillStyle(w.color,w.alpha/255),r.fillRect(M,R,P,C)),M+=1,R+=1,P-=2,C-=2,c!==null&&(r.lineStyle(1,c.color,c.alpha/255),S.faceTop&&r.lineBetween(M,R,M+P,R),S.faceRight&&r.lineBetween(M+P,R,M+P,R+C),S.faceBottom&&r.lineBetween(M,R+C,M+P,R+C),S.faceLeft&&r.lineBetween(M,R,M,R+C))}};l.exports=n},51202:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(50811),m=function(d,o,h,n,r,f,a){for(var v=u(h,n,r,f,null,a),p=0;p<v.length;p++)v[p]&&v[p].index===d&&(v[p].index=o)};l.exports=m},6987:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d){var o=e.data,h=e.width,n=e.height,r=e.tilemapLayer,f=Math.max(0,u.left),a=Math.min(h,u.right),v=Math.max(0,u.top),p=Math.min(n,u.bottom),c,g,y;if(m===0)for(g=v;g<p;g++)for(c=f;o[g]&&c<a;c++)y=o[g][c],!(!y||y.index===-1||!y.visible||y.alpha===0)&&d.push(y);else if(m===1)for(g=v;g<p;g++)for(c=a;o[g]&&c>=f;c--)y=o[g][c],!(!y||y.index===-1||!y.visible||y.alpha===0)&&d.push(y);else if(m===2)for(g=p;g>=v;g--)for(c=f;o[g]&&c<a;c++)y=o[g][c],!(!y||y.index===-1||!y.visible||y.alpha===0)&&d.push(y);else if(m===3)for(g=p;g>=v;g--)for(c=a;o[g]&&c>=f;c--)y=o[g][c],!(!y||y.index===-1||!y.visible||y.alpha===0)&&d.push(y);return r.tilesDrawn=d.length,r.tilesTotal=h*n,d};l.exports=T},51710:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(68234),m=e(60386),d=e(91181),o=function(h,n,r,f,a){n===void 0&&(n=!0),r===void 0&&(r=!0),a===void 0&&(a=!0),Array.isArray(h)||(h=[h]);for(var v=0;v<h.length;v++)d(h[v],n,f);if(a)for(var p=0;p<f.height;p++)for(var c=0;c<f.width;c++){var g=f.data[p][c];g&&h.indexOf(g.index)!==-1&&u(g,n)}r&&m(0,0,f.width,f.height,f)};l.exports=o},15216:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(68234),m=e(60386),d=e(91181),o=function(h,n,r,f,a,v){if(r===void 0&&(r=!0),f===void 0&&(f=!0),v===void 0&&(v=!0),!(h>n)){for(var p=h;p<=n;p++)d(p,r,a);if(v)for(var c=0;c<a.height;c++)for(var g=0;g<a.width;g++){var y=a.data[c][g];y&&y.index>=h&&y.index<=n&&u(y,r)}f&&m(0,0,a.width,a.height,a)}};l.exports=o},33158:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(68234),m=e(60386),d=e(91181),o=function(h,n,r,f){n===void 0&&(n=!0),r===void 0&&(r=!0),Array.isArray(h)||(h=[h]);for(var a=0;a<f.height;a++)for(var v=0;v<f.width;v++){var p=f.data[a][v];p&&h.indexOf(p.index)===-1&&(u(p,n),d(p.index,n,f))}r&&m(0,0,f.width,f.height,f)};l.exports=o},4180:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(68234),m=e(60386),d=e(19256),o=function(h,n,r,f){n===void 0&&(n=!0),r===void 0&&(r=!0);for(var a=0;a<f.height;a++)for(var v=0;v<f.width;v++){var p=f.data[a][v];if(p){for(var c in h)if(d(p.properties,c)){var g=h[c];Array.isArray(g)||(g=[g]);for(var y=0;y<g.length;y++)p.properties[c]===g[y]&&u(p,n)}}}r&&m(0,0,f.width,f.height,f)};l.exports=o},18625:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(68234),m=e(60386),d=function(o,h,n){o===void 0&&(o=!0),h===void 0&&(h=!0);for(var r=0;r<n.height;r++)for(var f=0;f<n.width;f++){var a=n.data[r][f];if(a){var v=a.getCollisionGroup();v&&v.objects&&v.objects.length>0&&u(a,o)}}h&&m(0,0,n.width,n.height,n)};l.exports=d},91181:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){var d=m.collideIndexes.indexOf(e);u&&d===-1?m.collideIndexes.push(e):!u&&d!==-1&&m.collideIndexes.splice(d,1)};l.exports=T},68234:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){u?e.setCollision(!0,!0,!0,!0,!1):e.resetCollision(!1)};l.exports=T},11628:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d){if(typeof e=="number")d.callbacks[e]=u!==null?{callback:u,callbackContext:m}:void 0;else for(var o=0,h=e.length;o<h;o++)d.callbacks[e[o]]=u!==null?{callback:u,callbackContext:m}:void 0};l.exports=T},72732:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(50811),m=function(d,o,h,n,r,f,a){for(var v=u(d,o,h,n,null,a),p=0;p<v.length;p++)v[p].setCollisionCallback(r,f)};l.exports=m},34397:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(50811),m=e(18592),d=function(o,h,n,r,f){var a=u(o,h,n,r,null,f),v=a.map(function(c){return c.index});m(v);for(var p=0;p<a.length;p++)a[p].index=v[p]};l.exports=d},53945:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82127),m=e(84314),d=function(o,h){var n=o.tilemapLayer.tilemap,r=o.tilemapLayer,f=Math.floor(n.tileWidth*r.scaleX),a=Math.floor(n.tileHeight*r.scaleY),v=m(h.worldView.x-r.x,f,0,!0)-r.cullPaddingX,p=u(h.worldView.right-r.x,f,0,!0)+r.cullPaddingX,c=m(h.worldView.y-r.y,a/2,0,!0)-r.cullPaddingY,g=u(h.worldView.bottom-r.y,a/2,0,!0)+r.cullPaddingY;return{left:v,right:p,top:c,bottom:g}};l.exports=d},19242:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(53945),m=e(6987),d=function(o,h,n,r){n===void 0&&(n=[]),r===void 0&&(r=0),n.length=0;var f=o.tilemapLayer,a=u(o,h);return f.skipCull&&f.scrollFactorX===1&&f.scrollFactorY===1&&(a.left=0,a.right=o.width,a.top=0,a.bottom=o.height),m(o,a,r,n),n};l.exports=d},33388:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(93736),m=function(d,o,h,n,r){h||(h=new u);var f=r.baseTileWidth,a=r.baseTileHeight,v=r.tilemapLayer,p=0,c=0;v&&(n||(n=v.scene.cameras.main),p=v.x+n.scrollX*(1-v.scrollFactorX),f*=v.scaleX,c=v.y+n.scrollY*(1-v.scrollFactorY),a*=v.scaleY);var g=p+d*f+o%2*(f/2),y=c+o*(a/2);return h.set(g,y)};l.exports=m},84132:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){var d=m.baseTileHeight,o=m.tilemapLayer,h=0;return o&&(u===void 0&&(u=o.scene.cameras.main),h=o.y+u.scrollY*(1-o.scrollFactorY),d*=o.scaleY),h+e*(d/2)+d};l.exports=T},90562:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(93736),m=function(d,o,h,n,r,f){n||(n=new u);var a=f.baseTileWidth,v=f.baseTileHeight,p=f.tilemapLayer;p&&(r||(r=p.scene.cameras.main),o=o-(p.y+r.scrollY*(1-p.scrollFactorY)),v*=p.scaleY,d=d-(p.x+r.scrollX*(1-p.scrollFactorX)),a*=p.scaleX);var c=h?Math.floor(o/(v/2)):o/(v/2),g=h?Math.floor((d+c%2*.5*a)/a):(d+c%2*.5*a)/a;return n.set(g,c)};l.exports=m},3689:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d){var o=d.baseTileHeight,h=d.tilemapLayer;return h&&(m||(m=h.scene.cameras.main),e=e-(h.y+m.scrollY*(1-h.scrollFactorY)),o*=h.scaleY),u?Math.floor(e/(o/2)):e/(o/2)};l.exports=T},55217:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(50811),m=function(d,o,h,n,r,f,a){for(var v=u(h,n,r,f,null,a),p=0;p<v.length;p++)v[p]&&(v[p].index===d?v[p].index=o:v[p].index===o&&(v[p].index=d))};l.exports=m},44150:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){var d=m.baseTileWidth,o=m.tilemapLayer,h=0;return o&&(u||(u=o.scene.cameras.main),h=o.x+u.scrollX*(1-o.scrollFactorX),d*=o.scaleX),h+e*d};l.exports=T},46836:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(44150),m=e(42477),d=e(93736),o=function(h,n,r,f,a){return r||(r=new d(0,0)),r.x=u(h,f,a),r.y=m(n,f,a),r};l.exports=o},42477:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){var d=m.baseTileHeight,o=m.tilemapLayer,h=0;return o&&(u||(u=o.scene.cameras.main),h=o.y+u.scrollY*(1-o.scrollFactorY),d*=o.scaleY),h+e*d};l.exports=T},39677:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(50811),m=function(d,o,h,n,r,f){if(r){var a,v=u(d,o,h,n,null,f),p=0;for(a=0;a<r.length;a++)p+=r[a].weight;if(!(p<=0))for(a=0;a<v.length;a++){for(var c=Math.random()*p,g=0,y=-1,S=0;S<r.length;S++)if(g+=r[S].weight,c<=g){var P=r[S].index;y=Array.isArray(P)?P[Math.floor(Math.random()*P.length)]:P;break}v[a].index=y}}};l.exports=m},806:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45676),m=e(93736),d=new m,o=function(h,n,r,f){return u(h,0,n,d,r,f),d.x};l.exports=o},45676:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(93736),m=function(d,o,h,n,r,f){h===void 0&&(h=!0),n||(n=new u);var a=f.baseTileWidth,v=f.baseTileHeight,p=f.tilemapLayer;p&&(r||(r=p.scene.cameras.main),d=d-(p.x+r.scrollX*(1-p.scrollFactorX)),o=o-(p.y+r.scrollY*(1-p.scrollFactorY)),a*=p.scaleX,v*=p.scaleY);var c=d/a,g=o/v;return h&&(c=Math.floor(c),g=Math.floor(g)),n.set(c,g)};l.exports=m},70520:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45676),m=e(93736),d=new m,o=function(h,n,r,f){return u(0,h,n,d,r,f),d.y};l.exports=o},5047:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={CalculateFacesAt:e(92839),CalculateFacesWithin:e(60386),CheckIsoBounds:e(13125),Copy:e(17347),CreateFromTiles:e(93604),CullBounds:e(71586),CullTiles:e(381),Fill:e(97734),FilterTiles:e(63555),FindByIndex:e(37982),FindTile:e(48297),ForEachTile:e(80916),GetCullTilesFunction:e(31493),GetTileAt:e(15494),GetTileAtWorldXY:e(24640),GetTileCorners:e(48495),GetTileCornersFunction:e(7160),GetTilesWithin:e(50811),GetTilesWithinShape:e(31674),GetTilesWithinWorldXY:e(44662),GetTileToWorldXFunction:e(16884),GetTileToWorldXYFunction:e(68182),GetTileToWorldYFunction:e(3752),GetWorldToTileXFunction:e(29296),GetWorldToTileXYFunction:e(32688),GetWorldToTileYFunction:e(74326),HasTileAt:e(46598),HasTileAtWorldXY:e(28654),HexagonalCullBounds:e(6358),HexagonalCullTiles:e(37524),HexagonalGetTileCorners:e(63634),HexagonalTileToWorldXY:e(21715),HexagonalWorldToTileXY:e(11516),IsInLayerBounds:e(62839),IsometricCullTiles:e(20887),IsometricTileToWorldXY:e(21808),IsometricWorldToTileXY:e(18750),PutTileAt:e(29003),PutTileAtWorldXY:e(48565),PutTilesAt:e(56547),Randomize:e(91180),RemoveTileAt:e(929),RemoveTileAtWorldXY:e(17384),RenderDebug:e(93763),ReplaceByIndex:e(51202),RunCull:e(6987),SetCollision:e(51710),SetCollisionBetween:e(15216),SetCollisionByExclusion:e(33158),SetCollisionByProperty:e(4180),SetCollisionFromCollisionGroup:e(18625),SetLayerCollisionIndex:e(91181),SetTileCollision:e(68234),SetTileIndexCallback:e(11628),SetTileLocationCallback:e(72732),Shuffle:e(34397),StaggeredCullBounds:e(53945),StaggeredCullTiles:e(19242),StaggeredTileToWorldXY:e(33388),StaggeredTileToWorldY:e(84132),StaggeredWorldToTileXY:e(90562),StaggeredWorldToTileY:e(3689),SwapByIndex:e(55217),TileToWorldX:e(44150),TileToWorldXY:e(46836),TileToWorldY:e(42477),WeightedRandomize:e(39677),WorldToTileX:e(806),WorldToTileXY:e(45676),WorldToTileY:e(70520)}},12920:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},84758:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={ORIENTATION:e(12920)};l.exports=u},52678:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(98611),m=e(84758),d={Components:e(5047),Parsers:e(34124),Formats:e(93560),ImageCollection:e(97042),ParseToTilemap:e(15043),Tile:e(29633),Tilemap:e(89797),TilemapCreator:e(4843),TilemapFactory:e(37940),Tileset:e(47975),TilemapLayer:e(87177),Orientation:e(12920),LayerData:e(94990),MapData:e(16586),ObjectLayer:e(15256)};d=u(!1,d,m.ORIENTATION),l.exports=d},94990:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(12920),d=e(72632),o=new u({initialize:function(n){n===void 0&&(n={}),this.name=d(n,"name","layer"),this.x=d(n,"x",0),this.y=d(n,"y",0),this.width=d(n,"width",0),this.height=d(n,"height",0),this.tileWidth=d(n,"tileWidth",0),this.tileHeight=d(n,"tileHeight",0),this.baseTileWidth=d(n,"baseTileWidth",this.tileWidth),this.baseTileHeight=d(n,"baseTileHeight",this.tileHeight),this.orientation=d(n,"orientation",m.ORTHOGONAL),this.widthInPixels=d(n,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=d(n,"heightInPixels",this.height*this.baseTileHeight),this.alpha=d(n,"alpha",1),this.visible=d(n,"visible",!0),this.properties=d(n,"properties",[]),this.indexes=d(n,"indexes",[]),this.collideIndexes=d(n,"collideIndexes",[]),this.callbacks=d(n,"callbacks",[]),this.bodies=d(n,"bodies",[]),this.data=d(n,"data",[]),this.tilemapLayer=d(n,"tilemapLayer",null),this.hexSideLength=d(n,"hexSideLength",0),this.staggerAxis=d(n,"staggerAxis","y"),this.staggerIndex=d(n,"staggerIndex","odd")}});l.exports=o},16586:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(12920),d=e(72632),o=new u({initialize:function(n){n===void 0&&(n={}),this.name=d(n,"name","map"),this.width=d(n,"width",0),this.height=d(n,"height",0),this.infinite=d(n,"infinite",!1),this.tileWidth=d(n,"tileWidth",0),this.tileHeight=d(n,"tileHeight",0),this.widthInPixels=d(n,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=d(n,"heightInPixels",this.height*this.tileHeight),this.format=d(n,"format",null),this.orientation=d(n,"orientation",m.ORTHOGONAL),this.renderOrder=d(n,"renderOrder","right-down"),this.version=d(n,"version","1"),this.properties=d(n,"properties",{}),this.layers=d(n,"layers",[]),this.images=d(n,"images",[]),this.objects=d(n,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=d(n,"collision",{}),this.tilesets=d(n,"tilesets",[]),this.imageCollections=d(n,"imageCollections",[]),this.tiles=d(n,"tiles",[]),this.hexSideLength=d(n,"hexSideLength",0),this.staggerAxis=d(n,"staggerAxis","y"),this.staggerIndex=d(n,"staggerIndex","odd")}});l.exports=o},15256:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(72632),d=new u({initialize:function(h){h===void 0&&(h={}),this.name=m(h,"name","object layer"),this.opacity=m(h,"opacity",1),this.properties=m(h,"properties",{}),this.propertyTypes=m(h,"propertytypes",{}),this.type=m(h,"type","objectgroup"),this.visible=m(h,"visible",!0),this.objects=m(h,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});l.exports=d},21394:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(12920),m=function(d){return d=d.toLowerCase(),d==="isometric"?u.ISOMETRIC:d==="staggered"?u.STAGGERED:d==="hexagonal"?u.HEXAGONAL:u.ORTHOGONAL};l.exports=m},90715:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(93560),m=e(84346),d=e(96097),o=e(2378),h=e(44909),n=function(r,f,a,v,p,c){var g;switch(f){case u.ARRAY_2D:g=m(r,a,v,p,c);break;case u.CSV:g=d(r,a,v,p,c);break;case u.TILED_JSON:g=o(r,a,c);break;case u.WELTMEISTER:g=h(r,a,c);break;default:console.warn("Unrecognized tilemap data format: "+f),g=null}return g};l.exports=n},84346:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(93560),m=e(94990),d=e(16586),o=e(29633),h=function(n,r,f,a,v){for(var p=new m({tileWidth:f,tileHeight:a}),c=new d({name:n,tileWidth:f,tileHeight:a,format:u.ARRAY_2D,layers:[p]}),g=[],y=r.length,S=0,P=0;P<r.length;P++){g[P]=[];for(var C=r[P],M=0;M<C.length;M++){var R=parseInt(C[M],10);isNaN(R)||R===-1?g[P][M]=v?null:new o(p,-1,M,P,f,a):g[P][M]=new o(p,R,M,P,f,a)}S===0&&(S=C.length)}return c.width=p.width=S,c.height=p.height=y,c.widthInPixels=p.widthInPixels=S*f,c.heightInPixels=p.heightInPixels=y*a,p.data=g,c};l.exports=h},96097:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(93560),m=e(84346),d=function(o,h,n,r,f){var a=h.trim().split(`
`).map(function(p){return p.split(",")}),v=m(o,a,n,r,f);return v.format=u.CSV,v};l.exports=d},30951:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(94990),m=e(29633),d=function(o,h){for(var n=[],r=0;r<o.layer.length;r++){for(var f=o.layer[r],a=new u({name:f.name,width:f.width,height:f.height,tileWidth:f.tilesize,tileHeight:f.tilesize,visible:f.visible===1}),v=[],p=[],c=0;c<f.data.length;c++){for(var g=0;g<f.data[c].length;g++){var y=f.data[c][g]-1,S;y>-1?S=new m(a,y,g,c,f.tilesize,f.tilesize):S=h?null:new m(a,-1,g,c,f.tilesize,f.tilesize),v.push(S)}p.push(v),v=[]}a.data=p,n.push(a)}return n};l.exports=d},47488:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(47975),m=function(d){for(var o=[],h=[],n=0;n<d.layer.length;n++){var r=d.layer[n],f=r.tilesetName;f!==""&&h.indexOf(f)===-1&&(h.push(f),o.push(new u(f,0,r.tilesize,r.tilesize,0,0)))}return o};l.exports=m},44909:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(93560),m=e(16586),d=e(30951),o=e(47488),h=function(n,r,f){if(r.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+n),null;for(var a=0,v=0,p=0;p<r.layer.length;p++)r.layer[p].width>a&&(a=r.layer[p].width),r.layer[p].height>v&&(v=r.layer[p].height);var c=new m({width:a,height:v,name:n,tileWidth:r.layer[0].tilesize,tileHeight:r.layer[0].tilesize,format:u.WELTMEISTER});return c.layers=d(r,f),c.tilesets=o(r),c};l.exports=h},24507:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ParseTileLayers:e(30951),ParseTilesets:e(47488),ParseWeltmeister:e(44909)}},34124:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={FromOrientationString:e(21394),Parse:e(90715),Parse2DArray:e(84346),ParseCSV:e(96097),Impact:e(24507),Tiled:e(50044)}},48646:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(98611),m=function(d){for(var o,h,n,r,f,a=0;a<d.layers.length;a++){o=d.layers[a],r=null;for(var v=0;v<o.data.length;v++){f=o.data[v];for(var p=0;p<f.length;p++)h=f[p],!(h===null||h.index<0)&&(n=d.tiles[h.index][2],r=d.tilesets[n],h.width=r.tileWidth,h.height=r.tileHeight,r.tileProperties&&r.tileProperties[h.index-r.firstgid]&&(h.properties=u(h.properties,r.tileProperties[h.index-r.firstgid])))}}};l.exports=m},43908:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){for(var u=window.atob(e),m=u.length,d=new Array(m/4),o=0;o<m;o+=4)d[o/4]=(u.charCodeAt(o)|u.charCodeAt(o+1)<<8|u.charCodeAt(o+2)<<16|u.charCodeAt(o+3)<<24)>>>0;return d};l.exports=T},14556:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(47975),m=function(d){var o,h,n=[];for(o=0;o<d.imageCollections.length;o++)for(var r=d.imageCollections[o],f=r.images,a=0;a<f.length;a++){var v=f[a];h=new u(v.image,v.gid,r.imageWidth,r.imageHeight,0,0),h.updateTileData(r.imageWidth,r.imageHeight),d.tilesets.push(h)}for(o=0;o<d.tilesets.length;o++){h=d.tilesets[o];for(var p=h.tileMargin,c=h.tileMargin,g=0,y=0,S=0,P=h.firstgid;P<h.firstgid+h.total&&(n[P]=[p,c,o],p+=h.tileWidth+h.tileSpacing,g++,!(g===h.total||(y++,y===h.columns&&(p=h.tileMargin,c+=h.tileHeight+h.tileSpacing,y=0,S++,S===h.rows))));P++);}return n};l.exports=m},92044:(l,T,e)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72632),m=function(d,o,h){if(!o)return{i:0,layers:d.layers,name:"",opacity:1,visible:!0,x:0,y:0};var n=o.x+u(o,"startx",0)*d.tilewidth+u(o,"offsetx",0),r=o.y+u(o,"starty",0)*d.tileheight+u(o,"offsety",0);return{i:0,layers:o.layers,name:h.name+o.name+"/",opacity:h.opacity*o.opacity,visible:h.visible&&o.visible,x:h.x+n,y:h.y+r}};l.exports=m},8847:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=2147483648,e=1073741824,u=536870912,m=function(d){var o=!!(d&T),h=!!(d&e),n=!!(d&u);d=d&~(T|e|u);var r=0,f=!1;return o&&h&&n?(r=Math.PI/2,f=!0):o&&h&&!n?(r=Math.PI,f=!1):o&&!h&&n?(r=Math.PI/2,f=!1):o&&!h&&!n?(r=0,f=!0):!o&&h&&n?(r=3*Math.PI/2,f=!1):!o&&h&&!n?(r=Math.PI,f=!0):!o&&!h&&n?(r=3*Math.PI/2,f=!0):!o&&!h&&!n&&(r=0,f=!1),{gid:d,flippedHorizontal:o,flippedVertical:h,flippedAntiDiagonal:n,rotation:r,flipped:f}};l.exports=m},78339:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72632),m=e(92044),d=function(o){for(var h=[],n=[],r=m(o);r.i<r.layers.length||n.length>0;){if(r.i>=r.layers.length){if(n.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}r=n.pop();continue}var f=r.layers[r.i];if(r.i++,f.type!=="imagelayer"){if(f.type==="group"){var a=m(o,f,r);n.push(r),r=a}continue}var v=u(f,"offsetx",0)+u(f,"startx",0),p=u(f,"offsety",0)+u(f,"starty",0);h.push({name:r.name+f.name,image:f.image,x:r.x+v+f.x,y:r.y+p+f.y,alpha:r.opacity*f.opacity,visible:r.visible&&f.visible,properties:u(f,"properties",{})})}return h};l.exports=d},2378:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(48646),m=e(14556),d=e(12920),o=e(28699),h=e(93560),n=e(21394),r=e(16586),f=e(78339),a=e(61136),v=e(95925),p=e(93392),c=function(g,y,S){var P=o(y),C=new r({width:P.width,height:P.height,name:g,tileWidth:P.tilewidth,tileHeight:P.tileheight,orientation:n(P.orientation),format:h.TILED_JSON,version:P.version,properties:P.properties,renderOrder:P.renderorder,infinite:P.infinite});C.orientation===d.HEXAGONAL&&(C.hexSideLength=P.hexsidelength,C.staggerAxis=P.staggeraxis,C.staggerIndex=P.staggerindex),C.layers=v(P,S),C.images=f(P);var M=p(P);return C.tilesets=M.tilesets,C.imageCollections=M.imageCollections,C.objects=a(P),C.tiles=m(C),u(C),C};l.exports=c},4281:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(28820),m=e(8847),d=function(n){return{x:n.x,y:n.y}},o=["id","name","type","rotation","properties","visible","x","y","width","height"],h=function(n,r,f){r===void 0&&(r=0),f===void 0&&(f=0);var a=u(n,o);if(a.x+=r,a.y+=f,n.gid){var v=m(n.gid);a.gid=v.gid,a.flippedHorizontal=v.flippedHorizontal,a.flippedVertical=v.flippedVertical,a.flippedAntiDiagonal=v.flippedAntiDiagonal}else n.polyline?a.polyline=n.polyline.map(d):n.polygon?a.polygon=n.polygon.map(d):n.ellipse?a.ellipse=n.ellipse:n.text?a.text=n.text:n.point?a.point=!0:a.rectangle=!0;return a};l.exports=h},61136:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72632),m=e(4281),d=e(15256),o=e(92044),h=function(n){for(var r=[],f=[],a=o(n);a.i<a.layers.length||f.length>0;){if(a.i>=a.layers.length){if(f.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}a=f.pop();continue}var v=a.layers[a.i];if(a.i++,v.opacity*=a.opacity,v.visible=a.visible&&v.visible,v.type!=="objectgroup"){if(v.type==="group"){var p=o(n,v,a);f.push(a),a=p}continue}v.name=a.name+v.name;for(var c=a.x+u(v,"startx",0)+u(v,"offsetx",0),g=a.y+u(v,"starty",0)+u(v,"offsety",0),y=[],S=0;S<v.objects.length;S++){var P=m(v.objects[S],c,g);y.push(P)}var C=new d(v);C.objects=y,r.push(C)}return r};l.exports=h},95925:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(43908),m=e(12920),d=e(92044),o=e(21394),h=e(72632),n=e(94990),r=e(8847),f=e(29633),a=function(v,p){for(var c=h(v,"infinite",!1),g=[],y=[],S=d(v);S.i<S.layers.length||y.length>0;){if(S.i>=S.layers.length){if(y.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}S=y.pop();continue}var P=S.layers[S.i];if(S.i++,P.type!=="tilelayer"){if(P.type==="group"){var C=d(v,P,S);y.push(S),S=C}continue}if(P.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+P.name+"'");continue}else if(P.encoding&&P.encoding==="base64"){if(P.chunks)for(var M=0;M<P.chunks.length;M++)P.chunks[M].data=u(P.chunks[M].data);P.data&&(P.data=u(P.data)),delete P.encoding}var R,w,O,F,L=[],b=0;if(c){var B=h(P,"startx",0)+P.x,I=h(P,"starty",0)+P.y;R=new n({name:S.name+P.name,x:S.x+h(P,"offsetx",0)+B*v.tilewidth,y:S.y+h(P,"offsety",0)+I*v.tileheight,width:P.width,height:P.height,tileWidth:v.tilewidth,tileHeight:v.tileheight,alpha:S.opacity*P.opacity,visible:S.visible&&P.visible,properties:h(P,"properties",[]),orientation:o(v.orientation)}),R.orientation===m.HEXAGONAL&&(R.hexSideLength=v.hexsidelength,R.staggerAxis=v.staggeraxis,R.staggerIndex=v.staggerindex);for(var z=0;z<P.height;z++){L[z]=[null];for(var Y=0;Y<P.width;Y++)L[z][Y]=null}for(z=0,K=P.chunks.length;z<K;z++)for(var W=P.chunks[z],H=W.x-B,N=W.y-I,X=0,D=0,G=W.data.length;D<G;D++){var V=b+H,U=X+N;w=r(W.data[D]),w.gid>0?(O=new f(R,w.gid,V,U,v.tilewidth,v.tileheight),O.rotation=w.rotation,O.flipX=w.flipped,L[U][V]=O):(F=p?null:new f(R,-1,V,U,v.tilewidth,v.tileheight),L[U][V]=F),b++,b===W.width&&(X++,b=0)}}else{R=new n({name:S.name+P.name,x:S.x+h(P,"offsetx",0)+P.x,y:S.y+h(P,"offsety",0)+P.y,width:P.width,height:P.height,tileWidth:v.tilewidth,tileHeight:v.tileheight,alpha:S.opacity*P.opacity,visible:S.visible&&P.visible,properties:h(P,"properties",[]),orientation:o(v.orientation)}),R.orientation===m.HEXAGONAL&&(R.hexSideLength=v.hexsidelength,R.staggerAxis=v.staggeraxis,R.staggerIndex=v.staggerindex);for(var k=[],$=0,K=P.data.length;$<K;$++)w=r(P.data[$]),w.gid>0?(O=new f(R,w.gid,b,L.length,v.tilewidth,v.tileheight),O.rotation=w.rotation,O.flipX=w.flipped,k.push(O)):(F=p?null:new f(R,-1,b,L.length,v.tilewidth,v.tileheight),k.push(F)),b++,b===P.width&&(L.push(k),b=0,k=[])}R.data=L,g.push(R)}return g};l.exports=a},93392:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(47975),m=e(97042),d=e(4281),o=e(39642),h=function(n){for(var r=[],f=[],a=null,v,p=0;p<n.tilesets.length;p++){var c=n.tilesets[p];if(c.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(c.image){var g=new u(c.name,c.firstgid,c.tilewidth,c.tileheight,c.margin,c.spacing,void 0,void 0,c.tileoffset);if(n.version>1){var y=void 0,S=void 0;if(Array.isArray(c.tiles)){y=y||{},S=S||{};for(var P=0;P<c.tiles.length;P++){var C=c.tiles[P];if(C.properties){var M={};C.properties.forEach(function(z){M[z.name]=z.value}),S[C.id]=M}if(C.objectgroup&&((y[C.id]||(y[C.id]={})).objectgroup=C.objectgroup,C.objectgroup.objects)){var R=C.objectgroup.objects.map(function(z){return d(z)});y[C.id].objectgroup.objects=R}C.animation&&((y[C.id]||(y[C.id]={})).animation=C.animation),C.type&&((y[C.id]||(y[C.id]={})).type=C.type)}}Array.isArray(c.wangsets)&&(y=y||{},S=S||{},o(c.wangsets,y)),y&&(g.tileData=y,g.tileProperties=S)}else if(c.tileproperties&&(g.tileProperties=c.tileproperties),c.tiles){g.tileData=c.tiles;for(v in g.tileData){var w=g.tileData[v].objectgroup;if(w&&w.objects){var O=w.objects.map(function(z){return d(z)});g.tileData[v].objectgroup.objects=O}}}g.updateTileData(c.imagewidth,c.imageheight),r.push(g)}else{var F=new m(c.name,c.firstgid,c.tilewidth,c.tileheight,c.margin,c.spacing,c.properties),L=0;for(P=0;P<c.tiles.length;P++){C=c.tiles[P];var b=C.image,B=parseInt(C.id,10),I=c.firstgid+B;F.addImage(I,b),L=Math.max(B,L)}F.maxId=L,f.push(F)}a&&(a.lastgid=c.firstgid-1),a=c}return{tilesets:r,imageCollections:f}};l.exports=h},39642:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){for(var m=0;m<e.length;m++){var d=e[m],o=m;if(d.name&&d.name!==""&&(o=d.name),Array.isArray(d.wangtiles)&&d.wangtiles.length>0){var h={},n={},r,f,a;if(Array.isArray(d.edgecolors))for(r=0;r<d.edgecolors.length;r++)a=1+r,f=d.edgecolors[r],f.name!==""&&(h[a]=f.name);if(Array.isArray(d.cornercolors))for(r=0;r<d.cornercolors.length;r++)a=1+r,f=d.cornercolors[r],f.name!==""&&(n[a]=f.name);if(Array.isArray(d.colors))for(r=0;r<d.colors.length;r++)f=d.colors[r],a=1+r,f.name!==""&&(h[a]=n[a]=f.name);for(var v=[h,n,h,n,h,n,h,n],p=0;p<d.wangtiles.length;p++){var c=d.wangtiles[p],g=u[c.tileid]||(u[c.tileid]={});g=g.wangid||(g.wangid={});for(var y=[],S=0;S<Math.min(v.length,c.wangid.length);S++){if(f=c.wangid[S],f===0){y.push(void 0);continue}var P=v[S][f];if(P!==void 0){y.push(P);continue}y.push(f)}g[o]=y}}}};l.exports=T},50044:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={AssignTileProperties:e(48646),Base64Decode:e(43908),BuildTilesetIndex:e(14556),CreateGroupLayer:e(92044),ParseGID:e(8847),ParseImageLayers:e(78339),ParseJSONTiled:e(2378),ParseObject:e(4281),ParseObjectLayers:e(61136),ParseTileLayers:e(95925),ParseTilesets:e(93392)}},73779:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(91963),d=e(7599),o=e(57911),h=e(66458),n=new u({initialize:function(f){this.scene=f,this.systems=f.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],f.sys.events.once(d.BOOT,this.boot,this),f.sys.events.on(d.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(d.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var r=this.systems.events;r.on(d.PRE_UPDATE,this.preUpdate,this),r.on(d.UPDATE,this.update,this),r.once(d.SHUTDOWN,this.shutdown,this)},addEvent:function(r){var f;return r instanceof o?(f=r,this.removeEvent(f),f.elapsed=f.startAt,f.hasDispatched=!1,f.repeatCount=f.repeat===-1||f.loop?999999999999:f.repeat):f=new o(r),this._pendingInsertion.push(f),f},delayedCall:function(r,f,a,v){return this.addEvent({delay:r,callback:f,args:a,callbackScope:v})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(r){Array.isArray(r)||(r=[r]);for(var f=0;f<r.length;f++){var a=r[f];h(this._pendingRemoval,a),h(this._pendingInsertion,a),h(this._active,a)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var r=this._pendingRemoval.length,f=this._pendingInsertion.length;if(!(r===0&&f===0)){var a,v;for(a=0;a<r;a++){v=this._pendingRemoval[a];var p=this._active.indexOf(v);p>-1&&this._active.splice(p,1),v.destroy()}for(a=0;a<f;a++)v=this._pendingInsertion[a],this._active.push(v);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(r,f){if(this.now=r,!this.paused){f*=this.timeScale;for(var a=0;a<this._active.length;a++){var v=this._active[a];if(!v.paused&&(v.elapsed+=f*v.timeScale,v.elapsed>=v.delay)){var p=v.elapsed-v.delay;if(v.elapsed=v.delay,!v.hasDispatched&&v.callback&&(v.hasDispatched=!0,v.callback.apply(v.callbackScope,v.args)),v.repeatCount>0){if(v.repeatCount--,p>=v.delay)for(;p>=v.delay&&v.repeatCount>0;)v.callback&&v.callback.apply(v.callbackScope,v.args),p-=v.delay,v.repeatCount--;v.elapsed=p,v.hasDispatched=!1}else v.hasDispatched&&this._pendingRemoval.push(v)}}}},shutdown:function(){var r;for(r=0;r<this._pendingInsertion.length;r++)this._pendingInsertion[r].destroy();for(r=0;r<this._active.length;r++)this._active[r].destroy();for(r=0;r<this._pendingRemoval.length;r++)this._pendingRemoval[r].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var f=this.systems.events;f.off(d.PRE_UPDATE,this.preUpdate,this),f.off(d.UPDATE,this.update,this),f.off(d.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(d.START,this.start,this),this.scene=null,this.systems=null}});m.register("Clock",n,"time"),l.exports=n},20517:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(6659),d=e(61286),o=e(72632),h=e(7599),n=new u({Extends:m,initialize:function(f,a){m.call(this),this.scene=f,this.systems=f.sys,this.elapsed=0,this.paused=!0,this.complete=!1,this.totalComplete=0,this.events=[];var v=this.systems.events;v.on(h.PRE_UPDATE,this.preUpdate,this),v.on(h.UPDATE,this.update,this),v.once(h.SHUTDOWN,this.destroy,this),a&&this.add(a)},preUpdate:function(r,f){this.paused||(this.elapsed+=f)},update:function(){if(!this.paused){var r,f=this.events,a=!1,v=this.systems,p;for(r=0;r<f.length;r++){var c=f[r];if(!c.complete&&c.time<=this.elapsed){if(c.complete=!0,this.totalComplete++,c.once&&(a=!0),c.set&&c.target)for(var g in c.set)c.target[g]=c.set[g];c.tween&&v.tweens.add(c.tween),c.sound&&(typeof c.sound=="string"?v.sound.play(c.sound):v.sound.play(c.sound.key,c.sound.config)),p=c.target?c.target:this,c.event&&this.emit(c.event,p),c.run&&c.run.call(p),c.stop&&this.stop()}}if(a)for(r=0;r<f.length;r++)f[r].complete&&f[r].once&&(f.splice(r,1),r--);this.totalComplete>=f.length&&(this.complete=!0)}},play:function(r){return r===void 0&&(r=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,r&&this.reset(),this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(){this.elapsed=0;for(var r=0;r<this.events.length;r++)this.events[r].complete=!1;return this.play(!1)},add:function(r){Array.isArray(r)||(r=[r]);var f=this.events,a=0;f.length>0&&(a=f[f.length-1].time);for(var v=0;v<r.length;v++){var p=r[v],c=o(p,"at",0),g=o(p,"in",null);g!==null&&(c=this.elapsed+g);var y=o(p,"from",null);y!==null&&(c=a+y),f.push({complete:!1,time:c,run:o(p,"run",null),event:o(p,"event",null),target:o(p,"target",null),set:o(p,"set",null),tween:o(p,"tween",null),sound:o(p,"sound",null),once:o(p,"once",!1),stop:o(p,"stop",!1)}),a=c}return this.complete=!1,this},clear:function(){return this.events=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var r=Math.min(this.totalComplete,this.events.length);return r/this.events.length},destroy:function(){var r=this.systems.events;r.off(h.PRE_UPDATE,this.preUpdate,this),r.off(h.UPDATE,this.update,this),r.off(h.SHUTDOWN,this.destroy,this),this.scene=null,this.systems=null,this.events=[]}});d.register("timeline",function(r){return new n(this.scene,r)}),l.exports=n},57911:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(72632),d=new u({initialize:function(h){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(h)},reset:function(o){if(this.delay=m(o,"delay",0),this.repeat=m(o,"repeat",0),this.loop=m(o,"loop",!1),this.callback=m(o,"callback",void 0),this.callbackScope=m(o,"callbackScope",this),this.args=m(o,"args",[]),this.timeScale=m(o,"timeScale",1),this.startAt=m(o,"startAt",0),this.paused=m(o,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay===0&&(this.repeat>0||this.loop))throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var o=this.delay+this.delay*this.repeat,h=this.elapsed+this.delay*(this.repeat-this.repeatCount);return h/o}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(o){o===void 0&&(o=!1),this.elapsed=this.delay,this.hasDispatched=!o,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});l.exports=d},97121:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Clock:e(73779),Timeline:e(20517),TimerEvent:e(57911)}},64532:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66458),m=e(56694),d=e(5454),o=e(68710),h=e(91963),n=e(7599),r=e(91944),f=e(39366),a=e(68061),v=e(45641),p=e(56034),c=new m({initialize:function(y){this.scene=y,this.events=y.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(n.BOOT,this.boot,this),this.events.on(n.START,this.start,this)},boot:function(){this.events.once(n.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(n.UPDATE,this.update,this),this.events.once(n.SHUTDOWN,this.shutdown,this)},create:function(g){Array.isArray(g)||(g=[g]);for(var y=[],S=0;S<g.length;S++){var P=g[S];P instanceof f||P instanceof v?y.push(P):Array.isArray(P.tweens)?y.push(p(this,P)):y.push(a(this,P))}return y.length===1?y[0]:y},add:function(g){var y=g,S=this.tweens;return y instanceof f||y instanceof v||(Array.isArray(y.tweens)?y=p(this,y):y=a(this,y)),S.push(y.reset()),y},addMultiple:function(g){for(var y,S=[],P=this.tweens,C=0;C<g.length;C++)y=g[C],y instanceof f||y instanceof v||(Array.isArray(y.tweens)?y=p(this,y):y=a(this,y)),P.push(y.reset()),S.push(y);return S},chain:function(g){var y=p(this,g);return this.tweens.push(y.init()),y},getChainedTweens:function(g){return g.getChainedTweens()},has:function(g){return this.tweens.indexOf(g)>-1},existing:function(g){return this.has(g)||this.tweens.push(g.reset()),this},addCounter:function(g){var y=o(this,g);return this.tweens.push(y.reset()),y},stagger:function(g,y){return r(g,y)},setLagSmooth:function(g,y){return g===void 0&&(g=1/1e-8),y===void 0&&(y=0),this.maxLag=g,this.lagSkip=Math.min(y,this.maxLag),this},setFps:function(g){return g===void 0&&(g=240),this.gap=1e3/g,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(g){var y=Date.now()-this.prevTime;y>this.maxLag&&(this.startTime+=y-this.lagSkip),this.prevTime+=y;var S=this.prevTime-this.startTime,P=S-this.nextTime,C=S-this.time*1e3;return P>0||g?(S/=1e3,this.time=S,this.nextTime+=P+(P>=this.gap?4:this.gap-P)):C=0,C},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(g){g===void 0&&(g=!1);var y=this.getDelta(g);if(!(y<=0)){this.processing=!0;var S,P,C=[],M=this.tweens;for(S=0;S<M.length;S++)P=M[S],P.update(y)&&C.push(P);var R=C.length;if(R&&M.length>0){for(S=0;S<R;S++){P=C[S];var w=M.indexOf(P);w>-1&&(P.isPendingRemove()||P.isDestroyed())&&(M.splice(w,1),P.destroy())}C.length=0}this.processing=!1}},remove:function(g){return this.processing?g.setPendingRemoveState():(u(this.tweens,g),g.setRemovedState()),this},reset:function(g){return this.existing(g),g.seek(),g.setActiveState(),this},makeActive:function(g){return this.existing(g),g.setActiveState(),this},each:function(g,y){var S,P=[null];for(S=1;S<arguments.length;S++)P.push(arguments[S]);return this.tweens.forEach(function(C){P[0]=C,g.apply(y,P)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(g){var y=[],S=this.tweens;Array.isArray(g)?g=d(g):g=[g];for(var P=g.length,C=0;C<S.length;C++)for(var M=S[C],R=0;R<P;R++)!M.isDestroyed()&&M.hasTarget(g[R])&&y.push(M);return y},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(g){return this.timeScale=g,this},isTweening:function(g){for(var y=this.tweens,S,P=0;P<y.length;P++)if(S=y[P],S.isPlaying()&&S.hasTarget(g))return!0;return!1},killAll:function(){for(var g=this.processing?this.getTweens():this.tweens,y=0;y<g.length;y++)g[y].destroy();return this.processing||(g.length=0),this},killTweensOf:function(g){for(var y=this.getTweensOf(g),S=0;S<y.length;S++)y[S].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(n.UPDATE,this.update,this),this.events.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(n.START,this.start,this),this.scene=null,this.events=null}});h.register("TweenManager",c,"tweens"),l.exports=c},63130:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){return e&&e.hasOwnProperty(u)?e[u]:m};l.exports=T},21902:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(35060),m=e(40587),d=function(o,h){var n=u.Power0;if(typeof o=="string")if(u.hasOwnProperty(o))n=u[o];else{var r="";if(o.indexOf(".")){r=o.substring(o.indexOf(".")+1);var f=r.toLowerCase();f==="in"?r="easeIn":f==="out"?r="easeOut":f==="inout"&&(r="easeInOut")}o=m(o.substring(0,o.indexOf(".")+1)+r),u.hasOwnProperty(o)&&(n=u[o])}else typeof o=="function"&&(n=o);if(!h)return n;var a=h.slice(0);return a.unshift(0),function(v){return a[0]=v,n.apply(this,a)}};l.exports=d},4840:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(63210),m=e(88332),d=e(47614),o={bezier:u,catmull:m,catmullrom:m,linear:d},h=function(n){if(n===null)return null;var r=o.linear;return typeof n=="string"?o.hasOwnProperty(n)&&(r=o[n]):typeof n=="function"&&(r=n),r};l.exports=h},28348:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){var d;if(e.hasOwnProperty(u)){var o=typeof e[u];o==="function"?d=function(h,n,r,f,a,v){return e[u](h,n,r,f,a,v)}:d=function(){return e[u]}}else typeof m=="function"?d=m:d=function(){return m};return d};l.exports=T},92407:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(53709),m=function(d){var o,h=[];if(d.hasOwnProperty("props"))for(o in d.props)o.substring(0,1)!=="_"&&h.push({key:o,value:d.props[o]});else for(o in d)u.indexOf(o)===-1&&o.substring(0,1)!=="_"&&h.push({key:o,value:d[o]});return h};l.exports=m},65868:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(10850),m=function(d){var o=u(d,"targets",null);return o===null||(typeof o=="function"&&(o=o.call()),Array.isArray(o)||(o=[o])),o};l.exports=m},9744:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(17489),m=e(61616);function d(f){return!!f.getActive&&typeof f.getActive=="function"}function o(f){return!!f.getStart&&typeof f.getStart=="function"}function h(f){return!!f.getEnd&&typeof f.getEnd=="function"}function n(f){return o(f)||h(f)||d(f)}var r=function(f,a){var v,p=function(W,H,N){return N},c=function(W,H,N){return N},g=null,y=typeof a;if(y==="number")p=function(){return a};else if(Array.isArray(a))c=function(){return a[0]},p=function(){return a[a.length-1]};else if(y==="string"){var S=a.toLowerCase(),P=S.substring(0,6)==="random",C=S.substring(0,3)==="int";if(P||C){var M=S.indexOf("("),R=S.indexOf(")"),w=S.indexOf(",");if(M&&R&&w){var O=parseFloat(S.substring(M+1,w)),F=parseFloat(S.substring(w+1,R));P?p=function(){return m(O,F)}:p=function(){return u(O,F)}}else throw new Error("invalid random() format")}else{S=S[0];var L=parseFloat(a.substr(2));switch(S){case"+":p=function(W,H,N){return N+L};break;case"-":p=function(W,H,N){return N-L};break;case"*":p=function(W,H,N){return N*L};break;case"/":p=function(W,H,N){return N/L};break;default:p=function(){return parseFloat(a)}}}}else if(y==="function")p=a;else if(y==="object")if(n(a))d(a)&&(g=a.getActive),h(a)&&(p=a.getEnd),o(a)&&(c=a.getStart);else if(a.hasOwnProperty("value"))v=r(f,a.value);else{var b=a.hasOwnProperty("to"),B=a.hasOwnProperty("from"),I=a.hasOwnProperty("start");if(b&&(B||I)){if(v=r(f,a.to),I){var z=r(f,a.start);v.getActive=z.getEnd}if(B){var Y=r(f,a.from);v.getStart=Y.getEnd}}}return v||(v={getActive:g,getEnd:p,getStart:c}),v};l.exports=r},68710:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(502),m=e(99730),d=e(20494),o=e(63130),h=e(21902),n=e(28348),r=e(10850),f=e(9744),a=e(72066),v=e(39366),p=function(c,g,y){if(g instanceof v)return g.parent=c,g;y===void 0?y=m:y=a(m,y);var S=r(g,"from",0),P=r(g,"to",1),C=[{value:S}],M=r(g,"delay",y.delay),R=r(g,"easeParams",y.easeParams),w=r(g,"ease",y.ease),O=f("value",P),F=new v(c,C),L=F.add(0,"value",O.getEnd,O.getStart,O.getActive,h(r(g,"ease",w),r(g,"easeParams",R)),n(g,"delay",M),r(g,"duration",y.duration),o(g,"yoyo",y.yoyo),r(g,"hold",y.hold),r(g,"repeat",y.repeat),r(g,"repeatDelay",y.repeatDelay),!1,!1);L.start=S,L.current=S,F.completeDelay=d(g,"completeDelay",0),F.loop=Math.round(d(g,"loop",0)),F.loopDelay=Math.round(d(g,"loopDelay",0)),F.paused=o(g,"paused",!1),F.persist=o(g,"persist",!1),F.callbackScope=r(g,"callbackScope",F);for(var b=u.TYPES,B=0;B<b.length;B++){var I=b[B],z=r(g,I,!1);if(z){var Y=r(g,I+"Params",[]);F.setCallback(I,z,Y)}}return F};l.exports=p},91944:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(21902),m=e(10850),d=e(83392),o=function(h,n){n===void 0&&(n={});var r,f=m(n,"start",0),a=m(n,"ease",null),v=m(n,"grid",null),p=m(n,"from",0),c=p==="first",g=p==="center",y=p==="last",S=typeof p=="number",P=Array.isArray(h),C=parseFloat(P?h[0]:h),M=P?parseFloat(h[1]):0,R=Math.max(C,M);if(P&&(f+=C),v){var w=v[0],O=v[1],F=0,L=0,b=0,B=0,I=[];y?(F=w-1,L=O-1):S?(F=p%w,L=Math.floor(p/w)):g&&(F=(w-1)/2,L=(O-1)/2);for(var z=d.MIN_SAFE_INTEGER,Y=0;Y<O;Y++){I[Y]=[];for(var W=0;W<w;W++){b=F-W,B=L-Y;var H=Math.sqrt(b*b+B*B);H>z&&(z=H),I[Y][W]=H}}}var N=a?u(a):null;return v?r=function(X,D,G,V){var U=0,k=V%w,$=Math.floor(V/w);k>=0&&k<w&&$>=0&&$<O&&(U=I[$][k]);var K;if(P){var J=M-C;N?K=U/z*J*N(U/z):K=U/z*J}else N?K=U*C*N(U/z):K=U*C;return K+f}:r=function(X,D,G,V,U){U--;var k;c?k=V:g?k=Math.abs(U/2-V):y?k=U-V:S&&(k=Math.abs(p-V));var $;if(P){var K;g?K=(M-C)/U*(k*2):K=(M-C)/U*k,N?$=K*N(k/U):$=K}else N?$=U*R*N(k/U):$=k*C;return $+f},r};l.exports=o},68061:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(502),m=e(99730),d=e(20494),o=e(63130),h=e(21902),n=e(4840),r=e(28348),f=e(92407),a=e(65868),v=e(10850),p=e(9744),c=e(72066),g=e(39366),y=function(S,P,C){if(P instanceof g)return P.parent=S,P;C===void 0?C=m:C=c(m,C);var M=a(P);!M&&C.targets&&(M=C.targets);for(var R=f(P),w=v(P,"delay",C.delay),O=v(P,"duration",C.duration),F=v(P,"easeParams",C.easeParams),L=v(P,"ease",C.ease),b=v(P,"hold",C.hold),B=v(P,"repeat",C.repeat),I=v(P,"repeatDelay",C.repeatDelay),z=o(P,"yoyo",C.yoyo),Y=o(P,"flipX",C.flipX),W=o(P,"flipY",C.flipY),H=v(P,"interpolation",C.interpolation),N=function(q,_,et,tt){if(et==="texture"){var rt=tt,lt=void 0;Array.isArray(tt)?(rt=tt[0],lt=tt[1]):tt.hasOwnProperty("value")?(rt=tt.value,Array.isArray(tt.value)?(rt=tt.value[0],lt=tt.value[1]):typeof tt.value=="string"&&(rt=tt.value)):typeof tt=="string"&&(rt=tt),q.addFrame(_,rt,lt,r(tt,"delay",w),v(tt,"duration",O),v(tt,"hold",b),v(tt,"repeat",B),v(tt,"repeatDelay",I),o(tt,"flipX",Y),o(tt,"flipY",W))}else{var dt=p(et,tt),ut=n(v(tt,"interpolation",H));q.add(_,et,dt.getEnd,dt.getStart,dt.getActive,h(v(tt,"ease",L),v(tt,"easeParams",F)),r(tt,"delay",w),v(tt,"duration",O),o(tt,"yoyo",z),v(tt,"hold",b),v(tt,"repeat",B),v(tt,"repeatDelay",I),o(tt,"flipX",Y),o(tt,"flipY",W),ut,ut?tt:null)}},X=new g(S,M),D=0;D<R.length;D++)for(var G=R[D].key,V=R[D].value,U=0;U<M.length;U++)G==="scale"&&!M[U].hasOwnProperty("scale")?(N(X,U,"scaleX",V),N(X,U,"scaleY",V)):N(X,U,G,V);X.completeDelay=d(P,"completeDelay",0),X.loop=Math.round(d(P,"loop",0)),X.loopDelay=Math.round(d(P,"loopDelay",0)),X.paused=o(P,"paused",!1),X.persist=o(P,"persist",!1),X.callbackScope=v(P,"callbackScope",X);for(var k=u.TYPES,$=0;$<k.length;$++){var K=k[$],J=v(P,K,!1);if(J){var Q=v(P,K+"Params",[]);X.setCallback(K,J,Q)}}return X};l.exports=y},56034:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(502),m=e(20494),d=e(63130),o=e(65868),h=e(10850),n=e(68061),r=e(45641),f=function(a,v){if(v instanceof r)return v.parent=a,v;var p=new r(a);p.startDelay=h(v,"delay",0),p.completeDelay=m(v,"completeDelay",0),p.loop=Math.round(m(v,"loop",h(v,"repeat",0))),p.loopDelay=Math.round(m(v,"loopDelay",h(v,"repeatDelay",0))),p.paused=d(v,"paused",!1),p.persist=d(v,"persist",!0),p.callbackScope=h(v,"callbackScope",p);var c,g=u.TYPES;for(c=0;c<g.length;c++){var y=g[c],S=h(v,y,!1);if(S){var P=h(v,y+"Params",[]);p.setCallback(y,S,P)}}var C=h(v,"tweens",null);if(Array.isArray(C)){var M=[],R=o(v),w=void 0;for(R&&(w={targets:R}),c=0;c<C.length;c++)M.push(n(p,C[c],w));p.add(M)}return p};l.exports=f},79619:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={GetBoolean:e(63130),GetEaseFunction:e(21902),GetInterpolationFunction:e(4840),GetNewValue:e(28348),GetProps:e(92407),GetTargets:e(65868),GetValueOp:e(9744),NumberTweenBuilder:e(68710),StaggerBuilder:e(91944),TweenBuilder:e(68061)}},5570:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="active"},6383:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="complete"},72582:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="loop"},90281:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pause"},80803:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="repeat"},13640:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="resume"},10472:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="start"},5379:l=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="stop"},43449:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="update"},61541:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="yoyo"},54272:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={TWEEN_ACTIVE:e(5570),TWEEN_COMPLETE:e(6383),TWEEN_LOOP:e(72582),TWEEN_PAUSE:e(90281),TWEEN_RESUME:e(13640),TWEEN_REPEAT:e(80803),TWEEN_START:e(10472),TWEEN_STOP:e(5379),TWEEN_UPDATE:e(43449),TWEEN_YOYO:e(61541)}},75193:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={States:e(55303),Builders:e(79619),Events:e(54272),TweenManager:e(64532),Tween:e(39366),TweenData:e(15718),TweenFrameData:e(96490),BaseTween:e(502),TweenChain:e(45641)};l.exports=u},502:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(6659),d=e(54272),o=e(55303),h=new u({Extends:m,initialize:function(r){m.call(this),this.parent=r,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=o.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(n){return this.timeScale=n,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(d.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(d.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(d.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(d.TWEEN_COMPLETE,"onComplete")},complete:function(n){return n===void 0&&(n=0),n?(this.setCompleteDelayState(),this.countdown=n):this.onCompleteHandler(),this},completeAfterLoop:function(n){return n===void 0&&(n=0),this.loopCounter>n&&(this.loopCounter=n),this},remove:function(){return this.parent.remove(this),this},stop:function(){return!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(d.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(n){this.countdown-=n,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(d.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(n){return this.countdown-=n,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(d.TWEEN_START,"onStart"),n=0),n},updateCompleteDelay:function(n){this.countdown-=n,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(n,r,f){return f===void 0&&(f=[]),this.callbacks.hasOwnProperty(n)&&(this.callbacks[n]={func:r,params:f}),this},setPendingState:function(){this.state=o.PENDING},setActiveState:function(){this.state=o.ACTIVE},setLoopDelayState:function(){this.state=o.LOOP_DELAY},setCompleteDelayState:function(){this.state=o.COMPLETE_DELAY},setStartDelayState:function(){this.state=o.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=o.PENDING_REMOVE},setRemovedState:function(){this.state=o.REMOVED},setFinishedState:function(){this.state=o.FINISHED},setDestroyedState:function(){this.state=o.DESTROYED},isPending:function(){return this.state===o.PENDING},isActive:function(){return this.state===o.ACTIVE},isLoopDelayed:function(){return this.state===o.LOOP_DELAY},isCompleteDelayed:function(){return this.state===o.COMPLETE_DELAY},isStartDelayed:function(){return this.state===o.START_DELAY},isPendingRemove:function(){return this.state===o.PENDING_REMOVE},isRemoved:function(){return this.state===o.REMOVED},isFinished:function(){return this.state===o.FINISHED},isDestroyed:function(){return this.state===o.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(n){n.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});h.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],l.exports=h},65521:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),m=e(54272),d=e(55303),o=new u({initialize:function(n,r,f,a,v,p,c,g,y,S){this.tween=n,this.targetIndex=r,this.duration=a,this.totalDuration=0,this.delay=0,this.getDelay=f,this.yoyo=v,this.hold=p,this.repeat=c,this.repeatDelay=g,this.repeatCounter=0,this.flipX=y,this.flipY=S,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(h){h===void 0&&(h=this.current),this.tween.targets[this.targetIndex][this.key]=h},setCreatedState:function(){this.state=d.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=d.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=d.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=d.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=d.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=d.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=d.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=d.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===d.CREATED},isDelayed:function(){return this.state===d.DELAY},isPendingRender:function(){return this.state===d.PENDING_RENDER},isPlayingForward:function(){return this.state===d.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===d.PLAYING_BACKWARD},isHolding:function(){return this.state===d.HOLD_DELAY},isRepeating:function(){return this.state===d.REPEAT_DELAY},isComplete:function(){return this.state===d.COMPLETE},setStateFromEnd:function(h){this.yoyo?this.onRepeat(h,!0,!0):this.repeatCounter>0?this.onRepeat(h,!0,!1):this.setCompleteState()},setStateFromStart:function(h){this.repeatCounter>0?this.onRepeat(h,!1):this.setCompleteState()},reset:function(){var h=this.tween,n=h.totalTargets,r=this.targetIndex,f=h.targets[r],a=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(f,a,0,r,n,h),this.repeatCounter=this.repeat===-1?d.MAX:this.repeat,this.setPendingRenderState();var v=this.duration+this.hold;this.yoyo&&(v+=this.duration);var p=v+this.repeatDelay;this.totalDuration=this.delay+v,this.repeat===-1?(this.totalDuration+=p*d.MAX,h.isInfinite=!0):this.repeat>0&&(this.totalDuration+=p*this.repeat),this.totalDuration>h.duration&&(h.duration=this.totalDuration),this.delay<h.startDelay&&(h.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(h,n,r){var f=this.tween,a=f.totalTargets,v=this.targetIndex,p=f.targets[v],c=this.key,g=c!=="texture";if(this.elapsed=h,this.progress=h/this.duration,this.flipX&&p.toggleFlipX(),this.flipY&&p.toggleFlipY(),g&&(n||r)&&(this.start=this.getStartValue(p,c,this.start,v,a,f)),r){this.setPlayingBackwardState(),this.dispatchEvent(m.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,g&&(this.end=this.getEndValue(p,c,this.start,v,a,f)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-h,g&&(this.current=this.start,p[c]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(m.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});l.exports=o},99730:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};l.exports=T},53709:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},39366:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(502),m=e(56694),d=e(54272),o=e(99325),h=e(61286),n=e(83392),r=e(55303),f=e(15718),a=e(96490),v=new m({Extends:u,initialize:function(c,g){u.call(this,c),this.targets=g,this.totalTargets=g.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0},add:function(p,c,g,y,S,P,C,M,R,w,O,F,L,b,B,I){var z=new f(this,p,c,g,y,S,P,C,M,R,w,O,F,L,b,B,I);return this.totalData=this.data.push(z),z},addFrame:function(p,c,g,y,S,P,C,M,R,w){var O=new a(this,p,c,g,y,S,P,C,M,R,w);return this.totalData=this.data.push(O),O},getValue:function(p){p===void 0&&(p=0);var c=null;return this.data&&(c=this.data[p].current),c},hasTarget:function(p){return this.targets&&this.targets.indexOf(p)!==-1},updateTo:function(p,c,g){if(g===void 0&&(g=!1),p!=="texture")for(var y=0;y<this.totalData;y++){var S=this.data[y];S.key===p&&(S.isPlayingForward()||S.isPlayingBackward())&&(S.end=c,g&&(S.start=S.current))}return this},restart:function(){switch(this.state){case r.REMOVED:case r.FINISHED:this.seek(),this.parent.makeActive(this);break;case r.PENDING:case r.PENDING_REMOVE:this.parent.reset(this);break;case r.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(d.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,u.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(p,c,g){if(p===void 0&&(p=0),c===void 0&&(c=16.6),g===void 0&&(g=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;g||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(d.TWEEN_ACTIVE,"onActive");var y=this.paused;if(this.paused=!1,p>0){for(var S=Math.floor(p/c),P=p-S*c,C=0;C<S;C++)this.update(c);P>0&&this.update(P)}return this.paused=y,this.isSeeking=!1,this},initTweenData:function(p){p===void 0&&(p=!1),this.duration=0,this.startDelay=n.MAX_SAFE_INTEGER;for(var c=this.data,g=0;g<this.totalData;g++)c[g].reset(p);this.duration=Math.max(this.duration,.01);var y=this.duration,S=this.completeDelay,P=this.loopCounter,C=this.loopDelay;P>0?this.totalDuration=y+S+(y+C)*P:this.totalDuration=y+S},reset:function(p){return p===void 0&&(p=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=r.MAX),p||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(d.TWEEN_ACTIVE,"onActive")),this},update:function(p){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;if(p*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(p),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(p),!1;this.hasStarted||(this.startDelay-=p,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(d.TWEEN_START,"onStart"),p=0));var c=!1;if(this.isActive())for(var g=this.data,y=0;y<this.totalData;y++)g[y].update(p)&&(c=!0);this.elapsed+=p,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=p,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),c||this.nextState();var S=this.isPendingRemove();return S&&this.persist&&(this.setFinishedState(),S=!1),S},forward:function(p){return this.update(p),this},rewind:function(p){return this.update(-p),this},dispatchEvent:function(p,c){if(!this.isSeeking){this.emit(p,this,this.targets);var g=this.callbacks[c];g&&g.func.apply(this.callbackScope,[this,this.targets].concat(g.params))}},destroy:function(){u.prototype.destroy.call(this),this.targets=null}});h.register("tween",function(p){return this.scene.sys.tweens.add(p)}),o.register("tween",function(p){return this.scene.sys.tweens.create(p)}),l.exports=v},45641:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66458),m=e(502),d=e(56694),o=e(54272),h=e(99325),n=e(61286),r=e(55303),f=new d({Extends:m,initialize:function(v){m.call(this,v),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?r.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this.dispatchEvent(o.TWEEN_ACTIVE,"onActive"),this},add:function(a){var v=this.parent.create(a);Array.isArray(v)||(v=[v]);for(var p=this.data,c=0;c<v.length;c++){var g=v[c];g.parent=this,p.push(g.reset())}return this.totalData=p.length,this},remove:function(a){return u(this.data,a),a.setRemovedState(),a===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(a){for(var v=this.data,p=0;p<this.totalData;p++)if(v[p].hasTarget(a))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(a){return a.seek(),a.setActiveState(),this},makeActive:function(a){return a.reset(),a.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(o.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var a=this.data,v=this.totalData,p=0;p<v;p++)a[p].reset(!1);this.currentIndex=0,this.currentTween=a[0]},update:function(a){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;a*=this.parent.timeScale,this.isLoopDelayed()?this.updateLoopCountdown(a):this.isCompleteDelayed()?this.updateCompleteDelay(a):this.isStartDelayed()&&(a=this.updateStartCountdown(a));var v=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(a)&&this.nextTween()&&this.nextState(),v=this.isPendingRemove(),v&&this.persist&&(this.setFinishedState(),v=!1)),v},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(a){this.currentIndex=a,this.currentTween=this.data[a],this.currentTween.setActiveState(),this.currentTween.dispatchEvent(o.TWEEN_ACTIVE,"onActive")},dispatchEvent:function(a,v){this.emit(a,this);var p=this.callbacks[v];p&&p.func.apply(this.callbackScope,[this].concat(p.params))},destroy:function(){m.prototype.destroy.call(this),this.currentTween=null}});n.register("tweenchain",function(a){return this.scene.sys.tweens.chain(a)}),h.register("tweenchain",function(a){return this.scene.sys.tweens.create(a)}),l.exports=f},15718:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(65521),m=e(82897),d=e(56694),o=e(54272),h=new d({Extends:u,initialize:function(r,f,a,v,p,c,g,y,S,P,C,M,R,w,O,F,L){u.call(this,r,f,y,S,P,C,M,R,w,O),this.key=a,this.getActiveValue=c,this.getEndValue=v,this.getStartValue=p,this.ease=g,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=F,this.interpolationData=L},reset:function(n){u.prototype.reset.call(this);var r=this.tween.targets[this.targetIndex],f=this.key;n&&(r[f]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(r[f]=this.getActiveValue(r,f,0))},update:function(n){var r=this.tween,f=r.totalTargets,a=this.targetIndex,v=r.targets[a],p=this.key;if(!v)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=n,this.elapsed<=0&&(this.elapsed=0,n=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(o.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(v,p,v[p],a,f,r),this.end=this.getEndValue(v,p,this.start,a,f,r),this.current=this.start,v[p]=this.start,this.setPlayingForwardState(),!0;var c=this.isPlayingForward(),g=this.isPlayingBackward();if(c||g){var y=this.elapsed,S=this.duration,P=0,C=!1;y+=n,y>=S?(P=y-S,y=S,C=!0):y<0&&(y=0);var M=m(y/S,0,1);if(this.elapsed=y,this.progress=M,this.previous=this.current,C)c?(this.current=this.end,v[p]=this.end,this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(P)):(this.current=this.start,v[p]=this.start,this.setStateFromStart(P));else{c||(M=1-M);var R=this.ease(M);this.interpolation?this.current=this.interpolation(this.interpolationData,R):this.current=this.start+(this.end-this.start)*R,v[p]=this.current}this.dispatchEvent(o.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(n,r){var f=this.tween;if(!f.isSeeking){var a=f.targets[this.targetIndex],v=this.key,p=this.current,c=this.previous;f.emit(n,f,v,a,p,c);var g=f.callbacks[r];g&&g.func.apply(f.callbackScope,[f,a,v,p,c].concat(g.params))}},destroy:function(){u.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});l.exports=h},96490:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(65521),m=e(82897),d=e(56694),o=e(54272),h=new d({Extends:u,initialize:function(r,f,a,v,p,c,g,y,S,P,C){u.call(this,r,f,p,c,!1,g,y,S,P,C),this.key="texture",this.startTexture=null,this.endTexture=a,this.startFrame=null,this.endFrame=v,this.yoyo=y!==0},reset:function(n){u.prototype.reset.call(this);var r=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=r.texture.key,this.startFrame=r.frame.name),n&&r.setTexture(this.startTexture,this.startFrame)},update:function(n){var r=this.tween,f=this.targetIndex,a=r.targets[f];if(!a)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=n,this.elapsed<=0&&(this.elapsed=0,n=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(o.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&a.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var v=this.isPlayingForward(),p=this.isPlayingBackward();if(v||p){var c=this.elapsed,g=this.duration,y=0,S=!1;c+=n,c>=g?(y=c-g,c=g,S=!0):c<0&&(c=0);var P=m(c/g,0,1);this.elapsed=c,this.progress=P,S&&(v?(a.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(y)):(a.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(y))),this.dispatchEvent(o.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(n,r){var f=this.tween;if(!f.isSeeking){var a=f.targets[this.targetIndex],v=this.key;f.emit(n,f,v,a);var p=f.callbacks[r];p&&p.func.apply(f.callbackScope,[f,a,v].concat(p.params))}},destroy:function(){u.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});l.exports=h},55303:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};l.exports=T},56694:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(h){return!!h.get&&typeof h.get=="function"||!!h.set&&typeof h.set=="function"}function e(h,n,r){var f=r?h[n]:Object.getOwnPropertyDescriptor(h,n);return!r&&f.value&&typeof f.value=="object"&&(f=f.value),f&&T(f)?(typeof f.enumerable>"u"&&(f.enumerable=!0),typeof f.configurable>"u"&&(f.configurable=!0),f):!1}function u(h,n){var r=Object.getOwnPropertyDescriptor(h,n);return r?(r.value&&typeof r.value=="object"&&(r=r.value),r.configurable===!1):!1}function m(h,n,r,f){for(var a in n)if(n.hasOwnProperty(a)){var v=e(n,a,r);if(v!==!1){var p=f||h;if(u(p.prototype,a)){if(o.ignoreFinals)continue;throw new Error("cannot override final property '"+a+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(h.prototype,a,v)}else h.prototype[a]=n[a]}}function d(h,n){if(n){Array.isArray(n)||(n=[n]);for(var r=0;r<n.length;r++)m(h,n[r].prototype||n[r])}}function o(h){h||(h={});var n,r;if(h.initialize){if(typeof h.initialize!="function")throw new Error("initialize must be a function");n=h.initialize,delete h.initialize}else if(h.Extends){var f=h.Extends;n=function(){f.apply(this,arguments)}}else n=function(){};h.Extends?(n.prototype=Object.create(h.Extends.prototype),n.prototype.constructor=n,r=h.Extends,delete h.Extends):n.prototype.constructor=n;var a=null;return h.Mixins&&(a=h.Mixins,delete h.Mixins),d(n,a),m(n,h,!0,r),n}o.extend=m,o.mixin=d,o.ignoreFinals=!1,l.exports=o},72283:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};l.exports=T},10618:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){return null};l.exports=T},78991:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d,o){if(o===void 0&&(o=e),m>0){var h=m-e.length;if(h<=0)return null}if(!Array.isArray(u))return e.indexOf(u)===-1?(e.push(u),d&&d.call(o,u),u):null;for(var n=u.length-1;n>=0;)e.indexOf(u[n])!==-1&&u.splice(n,1),n--;if(n=u.length,n===0)return null;m>0&&n>h&&(u.splice(h),n=h);for(var r=0;r<n;r++){var f=u[r];e.push(f),d&&d.call(o,f)}return u};l.exports=T},48522:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d,o,h){if(m===void 0&&(m=0),h===void 0&&(h=e),d>0){var n=d-e.length;if(n<=0)return null}if(!Array.isArray(u))return e.indexOf(u)===-1?(e.splice(m,0,u),o&&o.call(h,u),u):null;for(var r=u.length-1;r>=0;)e.indexOf(u[r])!==-1&&u.pop(),r--;if(r=u.length,r===0)return null;d>0&&r>n&&(u.splice(n),r=n);for(var f=r-1;f>=0;f--){var a=u[f];e.splice(m,0,a),o&&o.call(h,a)}return u};l.exports=T},58742:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){var m=e.indexOf(u);return m!==-1&&m<e.length&&(e.splice(m,1),e.push(u)),u};l.exports=T},30164:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45838),m=function(d,o,h,n,r){n===void 0&&(n=0),r===void 0&&(r=d.length);var f=0;if(u(d,n,r))for(var a=n;a<r;a++){var v=d[a];v[o]===h&&f++}return f};l.exports=m},36337:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){var d,o=[null];for(d=3;d<arguments.length;d++)o.push(arguments[d]);for(d=0;d<e.length;d++)o[0]=e[d],u.apply(m,o);return e};l.exports=T},46208:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45838),m=function(d,o,h,n,r){if(n===void 0&&(n=0),r===void 0&&(r=d.length),u(d,n,r)){var f,a=[null];for(f=5;f<arguments.length;f++)a.push(arguments[f]);for(f=n;f<r;f++)a[0]=d[f],o.apply(h,a)}return d};l.exports=m},2406:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){if(u.length){if(u.length===1)return u[0]}else return NaN;var d=1,o,h;if(m){if(e<u[0][m])return u[0];for(;u[d][m]<e;)d++}else for(;u[d]<e;)d++;return d>u.length&&(d=u.length),m?(o=u[d-1][m],h=u[d][m],h-e<=e-o?u[d]:u[d-1]):(o=u[d-1],h=u[d],h-e<=e-o?h:o)};l.exports=T},5454:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){u===void 0&&(u=[]);for(var m=0;m<e.length;m++)Array.isArray(e[m])?T(e[m],u):u.push(e[m]);return u};l.exports=T},71608:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45838),m=function(d,o,h,n,r){n===void 0&&(n=0),r===void 0&&(r=d.length);var f=[];if(u(d,n,r))for(var a=n;a<r;a++){var v=d[a];(!o||o&&h===void 0&&v.hasOwnProperty(o)||o&&h!==void 0&&v[o]===h)&&f.push(v)}return f};l.exports=m},51463:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45838),m=function(d,o,h,n,r){if(n===void 0&&(n=0),r===void 0&&(r=d.length),u(d,n,r))for(var f=n;f<r;f++){var a=d[f];if(!o||o&&h===void 0&&a.hasOwnProperty(o)||o&&h!==void 0&&a[o]===h)return a}return null};l.exports=m},72861:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){u===void 0&&(u=0),m===void 0&&(m=e.length);var d=u+Math.floor(Math.random()*m);return e[d]===void 0?null:e[d]};l.exports=T},24218:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){if(u===m)return e;var d=e.indexOf(u),o=e.indexOf(m);if(d<0||o<0)throw new Error("Supplied items must be elements of the same array");return d>o||(e.splice(d,1),o===e.length-1?e.push(u):e.splice(o,0,u)),e};l.exports=T},58258:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){if(u===m)return e;var d=e.indexOf(u),o=e.indexOf(m);if(d<0||o<0)throw new Error("Supplied items must be elements of the same array");return d<o||(e.splice(d,1),o===0?e.unshift(u):e.splice(o,0,u)),e};l.exports=T},51172:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){var m=e.indexOf(u);if(m>0){var d=e[m-1],o=e.indexOf(d);e[m]=d,e[o]=u}return e};l.exports=T},68396:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){var d=e.indexOf(u);if(d===-1||m<0||m>=e.length)throw new Error("Supplied index out of bounds");return d!==m&&(e.splice(d,1),e.splice(m,0,u)),u};l.exports=T},27555:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){var m=e.indexOf(u);if(m!==-1&&m<e.length-1){var d=e[m+1],o=e.indexOf(d);e[m]=d,e[o]=u}return e};l.exports=T},13401:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d){var o=[],h,n=!1;if((m||d)&&(n=!0,m||(m=""),d||(d="")),u<e)for(h=e;h>=u;h--)n?o.push(m+h.toString()+d):o.push(h);else for(h=e;h<=u;h++)n?o.push(m+h.toString()+d):o.push(h);return o};l.exports=T},89955:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(67233),m=function(d,o,h){d===void 0&&(d=0),o===void 0&&(o=null),h===void 0&&(h=1),o===null&&(o=d,d=0);for(var n=[],r=Math.max(u((o-d)/(h||1)),0),f=0;f<r;f++)n.push(d),d+=h;return n};l.exports=m},53466:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(m,d,o){var h=m[d];m[d]=m[o],m[o]=h}function e(m,d){return m<d?-1:m>d?1:0}var u=function(m,d,o,h,n){for(o===void 0&&(o=0),h===void 0&&(h=m.length-1),n===void 0&&(n=e);h>o;){if(h-o>600){var r=h-o+1,f=d-o+1,a=Math.log(r),v=.5*Math.exp(2*a/3),p=.5*Math.sqrt(a*v*(r-v)/r)*(f-r/2<0?-1:1),c=Math.max(o,Math.floor(d-f*v/r+p)),g=Math.min(h,Math.floor(d+(r-f)*v/r+p));u(m,d,c,g,n)}var y=m[d],S=o,P=h;for(T(m,o,d),n(m[h],y)>0&&T(m,o,h);S<P;){for(T(m,S,P),S++,P--;n(m[S],y)<0;)S++;for(;n(m[P],y)>0;)P--}n(m[o],y)===0?T(m,o,P):(P++,T(m,P,h)),P<=d&&(o=P+1),d<=P&&(h=P-1)}};l.exports=u},75757:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(10850),m=e(18592),d=function(h,n,r){for(var f=[],a=0;a<h.length;a++)for(var v=0;v<n.length;v++)for(var p=0;p<r;p++)f.push({a:h[a],b:n[v]});return f},o=function(h,n,r){var f=u(r,"max",0),a=u(r,"qty",1),v=u(r,"random",!1),p=u(r,"randomB",!1),c=u(r,"repeat",0),g=u(r,"yoyo",!1),y=[];if(p&&m(n),c===-1)if(f===0)c=0;else{var S=h.length*n.length*a;g&&(S*=2),c=Math.ceil(f/S)}for(var P=0;P<=c;P++){var C=d(h,n,a);v&&m(C),y=y.concat(C),g&&(C.reverse(),y=y.concat(C))}return f&&y.splice(f),y};l.exports=o},66458:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72677),m=function(d,o,h,n){n===void 0&&(n=d);var r;if(!Array.isArray(o))return r=d.indexOf(o),r!==-1?(u(d,r),h&&h.call(n,o),o):null;for(var f=o.length-1,a=[];f>=0;){var v=o[f];r=d.indexOf(v),r!==-1&&(u(d,r),a.push(v),h&&h.call(n,v)),f--}return a};l.exports=m},8324:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72677),m=function(d,o,h,n){if(n===void 0&&(n=d),o<0||o>d.length-1)throw new Error("Index out of bounds");var r=u(d,o);return h&&h.call(n,r),r};l.exports=m},47427:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45838),m=function(d,o,h,n,r){if(o===void 0&&(o=0),h===void 0&&(h=d.length),r===void 0&&(r=d),u(d,o,h)){var f=h-o,a=d.splice(o,f);if(n)for(var v=0;v<a.length;v++){var p=a[v];n.call(r,p)}return a}else return[]};l.exports=m},50147:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72677),m=function(d,o,h){o===void 0&&(o=0),h===void 0&&(h=d.length);var n=o+Math.floor(Math.random()*h);return u(d,n)};l.exports=m},80402:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){var d=e.indexOf(u),o=e.indexOf(m);return d!==-1&&o===-1?(e[d]=m,!0):!1};l.exports=T},77640:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){u===void 0&&(u=1);for(var m=null,d=0;d<u;d++)m=e.shift(),e.push(m);return m};l.exports=T},38487:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){u===void 0&&(u=1);for(var m=null,d=0;d<u;d++)m=e.pop(),e.unshift(m);return m};l.exports=T},45838:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d){var o=e.length;if(u<0||u>o||u>=m||m>o){if(d)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};l.exports=T},27847:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){var m=e.indexOf(u);return m!==-1&&m>0&&(e.splice(m,1),e.unshift(u)),u};l.exports=T},6034:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45838),m=function(d,o,h,n,r){if(n===void 0&&(n=0),r===void 0&&(r=d.length),u(d,n,r))for(var f=n;f<r;f++){var a=d[f];a.hasOwnProperty(o)&&(a[o]=h)}return d};l.exports=m},18592:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){for(var u=e.length-1;u>0;u--){var m=Math.floor(Math.random()*(u+1)),d=e[u];e[u]=e[m],e[m]=d}return e};l.exports=T},28834:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){var u=/\D/g;return e.sort(function(m,d){return parseInt(m.replace(u,""),10)-parseInt(d.replace(u,""),10)}),e};l.exports=T},72677:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){if(!(u>=e.length)){for(var m=e.length-1,d=e[u],o=u;o<m;o++)e[o]=e[o+1];return e.length=m,d}};l.exports=T},17922:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(77290);function m(n,r){return String(n).localeCompare(r)}function d(n,r){var f=n.length;if(f<=1)return n;for(var a=new Array(f),v=1;v<f;v*=2){o(n,r,v,a);var p=n;n=a,a=p}return n}function o(n,r,f,a){var v=n.length,p=0,c=f*2,g,y,S,P,C;for(g=0;g<v;g+=c)for(y=g+f,S=y+f,y>v&&(y=v),S>v&&(S=v),P=g,C=y;;)if(P<y&&C<S)r(n[P],n[C])<=0?a[p++]=n[P++]:a[p++]=n[C++];else if(P<y)a[p++]=n[P++];else if(C<S)a[p++]=n[C++];else break}var h=function(n,r){if(r===void 0&&(r=m),!n||n.length<2)return n;if(u.features.stableSort)return n.sort(r);var f=d(n,r);return f!==n&&o(f,null,n.length,n),n};l.exports=h},96928:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){if(u===m)return e;var d=e.indexOf(u),o=e.indexOf(m);if(d<0||o<0)throw new Error("Supplied items must be elements of the same array");return e[d]=m,e[o]=u,e};l.exports=T},59959:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Matrix:e(13515),Add:e(78991),AddAt:e(48522),BringToTop:e(58742),CountAllMatching:e(30164),Each:e(36337),EachInRange:e(46208),FindClosestInSorted:e(2406),Flatten:e(5454),GetAll:e(71608),GetFirst:e(51463),GetRandom:e(72861),MoveDown:e(51172),MoveTo:e(68396),MoveUp:e(27555),MoveAbove:e(24218),MoveBelow:e(58258),NumberArray:e(13401),NumberArrayStep:e(89955),QuickSelect:e(53466),Range:e(75757),Remove:e(66458),RemoveAt:e(8324),RemoveBetween:e(47427),RemoveRandomElement:e(50147),Replace:e(80402),RotateLeft:e(77640),RotateRight:e(38487),SafeRange:e(45838),SendToBack:e(27847),SetAll:e(6034),Shuffle:e(18592),SortByDigits:e(28834),SpliceOne:e(72677),StableSort:e(17922),Swap:e(96928)}},97494:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){if(!Array.isArray(e)||!Array.isArray(e[0]))return!1;for(var u=e[0].length,m=1;m<e.length;m++)if(e[m].length!==u)return!1;return!0};l.exports=T},68428:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(76400),m=e(97494),d=function(o){var h="";if(!m(o))return h;for(var n=0;n<o.length;n++){for(var r=0;r<o[n].length;r++){var f=o[n][r].toString();f!=="undefined"?h+=u(f,2):h+="?",r<o[n].length-1&&(h+=" |")}if(n<o.length-1){h+=`
`;for(var a=0;a<o[n].length;a++)h+="---",a<o[n].length-1&&(h+="+");h+=`
`}}return h};l.exports=d},59521:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.reverse()};l.exports=T},51995:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){for(var u=0;u<e.length;u++)e[u].reverse();return e};l.exports=T},89011:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(63515),m=function(d){return u(d,180)};l.exports=m},42549:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(63515),m=function(d){return u(d,90)};l.exports=m},63515:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(97494),m=e(78581),d=function(o,h){if(h===void 0&&(h=90),!u(o))return null;if(typeof h!="string"&&(h=(h%360+360)%360),h===90||h===-270||h==="rotateLeft")o=m(o),o.reverse();else if(h===-90||h===270||h==="rotateRight")o.reverse(),o=m(o);else if(Math.abs(h)===180||h==="rotate180"){for(var n=0;n<o.length;n++)o[n].reverse();o.reverse()}return o};l.exports=d},14305:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(63515),m=function(d){return u(d,-90)};l.exports=m},27365:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(77640),m=e(38487),d=function(o,h,n){if(h===void 0&&(h=0),n===void 0&&(n=0),n!==0&&(n<0?u(o,Math.abs(n)):m(o,n)),h!==0)for(var r=0;r<o.length;r++){var f=o[r];h<0?u(f,Math.abs(h)):m(f,h)}return o};l.exports=d},78581:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){for(var u=e.length,m=e[0].length,d=new Array(m),o=0;o<m;o++){d[o]=new Array(u);for(var h=u-1;h>-1;h--)d[o][h]=e[h][o]}return d};l.exports=T},13515:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={CheckMatrix:e(97494),MatrixToString:e(68428),ReverseColumns:e(59521),ReverseRows:e(51995),Rotate180:e(89011),RotateLeft:e(42549),RotateMatrix:e(63515),RotateRight:e(14305),Translate:e(27365),TransposeMatrix:e(78581)}},40581:l=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=function(u,m){for(var d=new Uint8Array(u),o=d.length,h=m?"data:"+m+";base64,":"",n=0;n<o;n+=3)h+=T[d[n]>>2],h+=T[(d[n]&3)<<4|d[n+1]>>4],h+=T[(d[n+1]&15)<<2|d[n+2]>>6],h+=T[d[n+2]&63];return o%3===2?h=h.substring(0,h.length-1)+"=":o%3===1&&(h=h.substring(0,h.length-2)+"=="),h};l.exports=e},82329:l=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=new Uint8Array(256),u=0;u<T.length;u++)e[T.charCodeAt(u)]=u;var m=function(d){d=d.substr(d.indexOf(",")+1);var o=d.length,h=o*.75,n=0,r,f,a,v;d[o-1]==="="&&(h--,d[o-2]==="="&&h--);for(var p=new ArrayBuffer(h),c=new Uint8Array(p),g=0;g<o;g+=4)r=e[d.charCodeAt(g)],f=e[d.charCodeAt(g+1)],a=e[d.charCodeAt(g+2)],v=e[d.charCodeAt(g+3)],c[n++]=r<<2|f>>4,c[n++]=(f&15)<<4|a>>2,c[n++]=(a&3)<<6|v&63;return p};l.exports=m},78417:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ArrayBufferToBase64:e(40581),Base64ToArrayBuffer:e(82329)}},22178:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Array:e(59959),Base64:e(78417),Objects:e(64615),String:e(50379),NOOP:e(72283),NULL:e(10618)}},32742:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){var u={};for(var m in e)Array.isArray(e[m])?u[m]=e[m].slice(0):u[m]=e[m];return u};l.exports=T},28699:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){var u,m,d;if(typeof e!="object"||e===null)return e;u=Array.isArray(e)?[]:{};for(d in e)m=e[d],u[d]=T(m);return u};l.exports=T},98611:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(42911),m=function(){var d,o,h,n,r,f,a=arguments[0]||{},v=1,p=arguments.length,c=!1;for(typeof a=="boolean"&&(c=a,a=arguments[1]||{},v=2),p===v&&(a=this,--v);v<p;v++)if((d=arguments[v])!=null)for(o in d)h=a[o],n=d[o],a!==n&&(c&&n&&(u(n)||(r=Array.isArray(n)))?(r?(r=!1,f=h&&Array.isArray(h)?h:[]):f=h&&u(h)?h:{},a[o]=m(c,f,n)):n!==void 0&&(a[o]=n));return a};l.exports=m},20494:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(5923),m=e(10850),d=function(o,h,n){var r=m(o,h,null);if(r===null)return n;if(Array.isArray(r))return u.RND.pick(r);if(typeof r=="object"){if(r.hasOwnProperty("randInt"))return u.RND.integerInRange(r.randInt[0],r.randInt[1]);if(r.hasOwnProperty("randFloat"))return u.RND.realInRange(r.randFloat[0],r.randFloat[1])}else if(typeof r=="function")return r(h);return r};l.exports=d},72632:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){var d=typeof e;return!e||d==="number"||d==="string"?m:e.hasOwnProperty(u)&&e[u]!==void 0?e[u]:m};l.exports=T},94324:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(10850),m=e(82897),d=function(o,h,n,r,f){f===void 0&&(f=n);var a=u(o,h,f);return m(a,n,r)};l.exports=d},10850:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d){if(!e&&!d||typeof e=="number")return m;if(e&&e.hasOwnProperty(u))return e[u];if(d&&d.hasOwnProperty(u))return d[u];if(u.indexOf(".")!==-1){for(var o=u.split("."),h=e,n=d,r=m,f=m,a=!0,v=!0,p=0;p<o.length;p++)h&&h.hasOwnProperty(o[p])?(r=h[o[p]],h=h[o[p]]):a=!1,n&&n.hasOwnProperty(o[p])?(f=n[o[p]],n=n[o[p]]):v=!1;return a?r:v?f:m}else return m};l.exports=T},87701:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){for(var m=0;m<u.length;m++)if(!e.hasOwnProperty(u[m]))return!1;return!0};l.exports=T},53523:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){for(var m=0;m<u.length;m++)if(e.hasOwnProperty(u[m]))return!0;return!1};l.exports=T},19256:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e.hasOwnProperty(u)};l.exports=T},42911:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){if(!e||typeof e!="object"||e.nodeType||e===e.window)return!1;try{if(e.constructor&&!{}.hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};l.exports=T},30657:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(32742),m=function(d,o){var h=u(d);for(var n in o)h.hasOwnProperty(n)||(h[n]=o[n]);return h};l.exports=m},72066:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(32742),m=function(d,o){var h=u(d);for(var n in o)h.hasOwnProperty(n)&&(h[n]=o[n]);return h};l.exports=m},28820:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(19256),m=function(d,o){for(var h={},n=0;n<o.length;n++){var r=o[n];u(d,r)&&(h[r]=d[r])}return h};l.exports=m},22440:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m){if(!e||typeof e=="number")return!1;if(e.hasOwnProperty(u))return e[u]=m,!0;if(u.indexOf(".")!==-1){for(var d=u.split("."),o=e,h=e,n=0;n<d.length;n++)if(o.hasOwnProperty(d[n]))h=o,o=o[d[n]];else return!1;return h[d[d.length-1]]=m,!0}return!1};l.exports=T},64615:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Clone:e(32742),DeepCopy:e(28699),Extend:e(98611),GetAdvancedValue:e(20494),GetFastValue:e(72632),GetMinMaxValue:e(94324),GetValue:e(10850),HasAll:e(87701),HasAny:e(53523),HasValue:e(19256),IsPlainObject:e(42911),Merge:e(30657),MergeRight:e(72066),Pick:e(28820),SetValue:e(22440)}},69429:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e.replace(/%([0-9]+)/g,function(m,d){return u[Number(d)-1]})};l.exports=T},76400:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,m,d){u===void 0&&(u=0),m===void 0&&(m=" "),d===void 0&&(d=3),e=e.toString();var o=0;if(u+1>=e.length)switch(d){case 1:e=new Array(u+1-e.length).join(m)+e;break;case 3:var h=Math.ceil((o=u-e.length)/2),n=o-h;e=new Array(n+1).join(m)+e+new Array(h+1).join(m);break;default:e=e+new Array(u+1-e.length).join(m);break}return e};l.exports=T},76872:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return u===0?e.slice(1):e.slice(0,u-1)+e.slice(u)};l.exports=T},8051:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.split("").reverse().join("")};l.exports=T},76583:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var u=Math.random()*16|0,m=e==="x"?u:u&3|8;return m.toString(16)})};l.exports=T},40587:l=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e&&e[0].toUpperCase()+e.slice(1)};l.exports=T},50379:(l,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Format:e(69429),Pad:e(76400),RemoveAt:e(76872),Reverse:e(8051),UppercaseFirst:e(40587),UUID:e(76583)}}},x={};function E(l){var T=x[l];if(T!==void 0)return T.exports;var e=x[l]={exports:{}};return s[l](e,e.exports,E),e.exports}E.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var A=E(92491);return A})())})(kf);var cg=kf.exports;const ze=Wf(cg),Il={width:1600,height:350},Oi={title:"Poke Chrome Game",version:"v1.0.0",type:ze.CANVAS,parent:"game",scale:{mode:ze.Scale.FIT,autoCenter:ze.Scale.CENTER_BOTH,width:Il.width,height:Il.height},pixelArt:!0,transparent:!0,fps:{target:60,forceSetTimeOut:!0},physics:{default:"arcade",arcade:{debug:!0}},banner:!1,depth:{background:0,obstacle:1,player:2}};class pg extends ze.Scene{constructor(){super({key:"Boot"})}preload(){this.load.on("loaderror",()=>{alert("Error: Failed to load. Please refresh and/or report errors in console."),this.game.destroy(!0)},this)}create(){this.scene.start("Load")}}var Hf={exports:{}};(function(i){(function(){function t(Z,j,nt){return Z.call.apply(Z.bind,arguments)}function s(Z,j,nt){if(!Z)throw Error();if(2<arguments.length){var it=Array.prototype.slice.call(arguments,2);return function(){var at=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(at,it),Z.apply(j,at)}}return function(){return Z.apply(j,arguments)}}function x(Z,j,nt){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?t:s,x.apply(null,arguments)}var E=Date.now||function(){return+new Date};function A(Z,j){this.a=Z,this.o=j||Z,this.c=this.o.document}var l=!!window.FontFace;function T(Z,j,nt,it){if(j=Z.c.createElement(j),nt)for(var at in nt)nt.hasOwnProperty(at)&&(at=="style"?j.style.cssText=nt[at]:j.setAttribute(at,nt[at]));return it&&j.appendChild(Z.c.createTextNode(it)),j}function e(Z,j,nt){Z=Z.c.getElementsByTagName(j)[0],Z||(Z=document.documentElement),Z.insertBefore(nt,Z.lastChild)}function u(Z){Z.parentNode&&Z.parentNode.removeChild(Z)}function m(Z,j,nt){j=j||[],nt=nt||[];for(var it=Z.className.split(/\s+/),at=0;at<j.length;at+=1){for(var ft=!1,ct=0;ct<it.length;ct+=1)if(j[at]===it[ct]){ft=!0;break}ft||it.push(j[at])}for(j=[],at=0;at<it.length;at+=1){for(ft=!1,ct=0;ct<nt.length;ct+=1)if(it[at]===nt[ct]){ft=!0;break}ft||j.push(it[at])}Z.className=j.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function d(Z,j){for(var nt=Z.className.split(/\s+/),it=0,at=nt.length;it<at;it++)if(nt[it]==j)return!0;return!1}function o(Z){return Z.o.location.hostname||Z.a.location.hostname}function h(Z,j,nt){function it(){Tt&&at&&ft&&(Tt(ct),Tt=null)}j=T(Z,"link",{rel:"stylesheet",href:j,media:"all"});var at=!1,ft=!0,ct=null,Tt=nt||null;l?(j.onload=function(){at=!0,it()},j.onerror=function(){at=!0,ct=Error("Stylesheet failed to load"),it()}):setTimeout(function(){at=!0,it()},0),e(Z,"head",j)}function n(Z,j,nt,it){var at=Z.c.getElementsByTagName("head")[0];if(at){var ft=T(Z,"script",{src:j}),ct=!1;return ft.onload=ft.onreadystatechange=function(){ct||this.readyState&&this.readyState!="loaded"&&this.readyState!="complete"||(ct=!0,nt&&nt(null),ft.onload=ft.onreadystatechange=null,ft.parentNode.tagName=="HEAD"&&at.removeChild(ft))},at.appendChild(ft),setTimeout(function(){ct||(ct=!0,nt&&nt(Error("Script load timeout")))},it||5e3),ft}return null}function r(){this.a=0,this.c=null}function f(Z){return Z.a++,function(){Z.a--,v(Z)}}function a(Z,j){Z.c=j,v(Z)}function v(Z){Z.a==0&&Z.c&&(Z.c(),Z.c=null)}function p(Z){this.a=Z||"-"}p.prototype.c=function(Z){for(var j=[],nt=0;nt<arguments.length;nt++)j.push(arguments[nt].replace(/[\W_]+/g,"").toLowerCase());return j.join(this.a)};function c(Z,j){this.c=Z,this.f=4,this.a="n";var nt=(j||"n4").match(/^([nio])([1-9])$/i);nt&&(this.a=nt[1],this.f=parseInt(nt[2],10))}function g(Z){return P(Z)+" "+(Z.f+"00")+" 300px "+y(Z.c)}function y(Z){var j=[];Z=Z.split(/,\s*/);for(var nt=0;nt<Z.length;nt++){var it=Z[nt].replace(/['"]/g,"");it.indexOf(" ")!=-1||/^\d/.test(it)?j.push("'"+it+"'"):j.push(it)}return j.join(",")}function S(Z){return Z.a+Z.f}function P(Z){var j="normal";return Z.a==="o"?j="oblique":Z.a==="i"&&(j="italic"),j}function C(Z){var j=4,nt="n",it=null;return Z&&((it=Z.match(/(normal|oblique|italic)/i))&&it[1]&&(nt=it[1].substr(0,1).toLowerCase()),(it=Z.match(/([1-9]00|normal|bold)/i))&&it[1]&&(/bold/i.test(it[1])?j=7:/[1-9]00/.test(it[1])&&(j=parseInt(it[1].substr(0,1),10)))),nt+j}function M(Z,j){this.c=Z,this.f=Z.o.document.documentElement,this.h=j,this.a=new p("-"),this.j=j.events!==!1,this.g=j.classes!==!1}function R(Z){Z.g&&m(Z.f,[Z.a.c("wf","loading")]),O(Z,"loading")}function w(Z){if(Z.g){var j=d(Z.f,Z.a.c("wf","active")),nt=[],it=[Z.a.c("wf","loading")];j||nt.push(Z.a.c("wf","inactive")),m(Z.f,nt,it)}O(Z,"inactive")}function O(Z,j,nt){Z.j&&Z.h[j]&&(nt?Z.h[j](nt.c,S(nt)):Z.h[j]())}function F(){this.c={}}function L(Z,j,nt){var it=[],at;for(at in j)if(j.hasOwnProperty(at)){var ft=Z.c[at];ft&&it.push(ft(j[at],nt))}return it}function b(Z,j){this.c=Z,this.f=j,this.a=T(this.c,"span",{"aria-hidden":"true"},this.f)}function B(Z){e(Z.c,"body",Z.a)}function I(Z){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+y(Z.c)+";"+("font-style:"+P(Z)+";font-weight:"+(Z.f+"00")+";")}function z(Z,j,nt,it,at,ft){this.g=Z,this.j=j,this.a=it,this.c=nt,this.f=at||3e3,this.h=ft||void 0}z.prototype.start=function(){var Z=this.c.o.document,j=this,nt=E(),it=new Promise(function(ct,Tt){function St(){E()-nt>=j.f?Tt():Z.fonts.load(g(j.a),j.h).then(function(Yt){1<=Yt.length?ct():setTimeout(St,25)},function(){Tt()})}St()}),at=null,ft=new Promise(function(ct,Tt){at=setTimeout(Tt,j.f)});Promise.race([ft,it]).then(function(){at&&(clearTimeout(at),at=null),j.g(j.a)},function(){j.j(j.a)})};function Y(Z,j,nt,it,at,ft,ct){this.v=Z,this.B=j,this.c=nt,this.a=it,this.s=ct||"BESbswy",this.f={},this.w=at||3e3,this.u=ft||null,this.m=this.j=this.h=this.g=null,this.g=new b(this.c,this.s),this.h=new b(this.c,this.s),this.j=new b(this.c,this.s),this.m=new b(this.c,this.s),Z=new c(this.a.c+",serif",S(this.a)),Z=I(Z),this.g.a.style.cssText=Z,Z=new c(this.a.c+",sans-serif",S(this.a)),Z=I(Z),this.h.a.style.cssText=Z,Z=new c("serif",S(this.a)),Z=I(Z),this.j.a.style.cssText=Z,Z=new c("sans-serif",S(this.a)),Z=I(Z),this.m.a.style.cssText=Z,B(this.g),B(this.h),B(this.j),B(this.m)}var W={D:"serif",C:"sans-serif"},H=null;function N(){if(H===null){var Z=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);H=!!Z&&(536>parseInt(Z[1],10)||parseInt(Z[1],10)===536&&11>=parseInt(Z[2],10))}return H}Y.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=E(),D(this)};function X(Z,j,nt){for(var it in W)if(W.hasOwnProperty(it)&&j===Z.f[W[it]]&&nt===Z.f[W[it]])return!0;return!1}function D(Z){var j=Z.g.a.offsetWidth,nt=Z.h.a.offsetWidth,it;(it=j===Z.f.serif&&nt===Z.f["sans-serif"])||(it=N()&&X(Z,j,nt)),it?E()-Z.A>=Z.w?N()&&X(Z,j,nt)&&(Z.u===null||Z.u.hasOwnProperty(Z.a.c))?V(Z,Z.v):V(Z,Z.B):G(Z):V(Z,Z.v)}function G(Z){setTimeout(x(function(){D(this)},Z),50)}function V(Z,j){setTimeout(x(function(){u(this.g.a),u(this.h.a),u(this.j.a),u(this.m.a),j(this.a)},Z),0)}function U(Z,j,nt){this.c=Z,this.a=j,this.f=0,this.m=this.j=!1,this.s=nt}var k=null;U.prototype.g=function(Z){var j=this.a;j.g&&m(j.f,[j.a.c("wf",Z.c,S(Z).toString(),"active")],[j.a.c("wf",Z.c,S(Z).toString(),"loading"),j.a.c("wf",Z.c,S(Z).toString(),"inactive")]),O(j,"fontactive",Z),this.m=!0,$(this)},U.prototype.h=function(Z){var j=this.a;if(j.g){var nt=d(j.f,j.a.c("wf",Z.c,S(Z).toString(),"active")),it=[],at=[j.a.c("wf",Z.c,S(Z).toString(),"loading")];nt||it.push(j.a.c("wf",Z.c,S(Z).toString(),"inactive")),m(j.f,it,at)}O(j,"fontinactive",Z),$(this)};function $(Z){--Z.f==0&&Z.j&&(Z.m?(Z=Z.a,Z.g&&m(Z.f,[Z.a.c("wf","active")],[Z.a.c("wf","loading"),Z.a.c("wf","inactive")]),O(Z,"active")):w(Z.a))}function K(Z){this.j=Z,this.a=new F,this.h=0,this.f=this.g=!0}K.prototype.load=function(Z){this.c=new A(this.j,Z.context||this.j),this.g=Z.events!==!1,this.f=Z.classes!==!1,Q(this,new M(this.c,Z),Z)};function J(Z,j,nt,it,at){var ft=--Z.h==0;(Z.f||Z.g)&&setTimeout(function(){var ct=at||null,Tt=it||null||{};if(nt.length===0&&ft)w(j.a);else{j.f+=nt.length,ft&&(j.j=ft);var St,Yt=[];for(St=0;St<nt.length;St++){var Ut=nt[St],de=Tt[Ut.c],ke=j.a,ws=Ut;if(ke.g&&m(ke.f,[ke.a.c("wf",ws.c,S(ws).toString(),"loading")]),O(ke,"fontloading",ws),ke=null,k===null)if(window.FontFace){var ws=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),ug=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);k=ws?42<parseInt(ws[1],10):!ug}else k=!1;k?ke=new z(x(j.g,j),x(j.h,j),j.c,Ut,j.s,de):ke=new Y(x(j.g,j),x(j.h,j),j.c,Ut,j.s,ct,de),Yt.push(ke)}for(St=0;St<Yt.length;St++)Yt[St].start()}},0)}function Q(Z,j,nt){var at=[],it=nt.timeout;R(j);var at=L(Z.a,nt,Z.c),ft=new U(Z.c,j,it);for(Z.h=at.length,j=0,nt=at.length;j<nt;j++)at[j].load(function(ct,Tt,St){J(Z,ft,ct,Tt,St)})}function q(Z,j){this.c=Z,this.a=j}q.prototype.load=function(Z){function j(){if(ft["__mti_fntLst"+it]){var ct=ft["__mti_fntLst"+it](),Tt=[],St;if(ct)for(var Yt=0;Yt<ct.length;Yt++){var Ut=ct[Yt].fontfamily;ct[Yt].fontStyle!=null&&ct[Yt].fontWeight!=null?(St=ct[Yt].fontStyle+ct[Yt].fontWeight,Tt.push(new c(Ut,St))):Tt.push(new c(Ut))}Z(Tt)}else setTimeout(function(){j()},50)}var nt=this,it=nt.a.projectId,at=nt.a.version;if(it){var ft=nt.c.o;n(this.c,(nt.a.api||"https://fast.fonts.net/jsapi")+"/"+it+".js"+(at?"?v="+at:""),function(ct){ct?Z([]):(ft["__MonotypeConfiguration__"+it]=function(){return nt.a},j())}).id="__MonotypeAPIScript__"+it}else Z([])};function _(Z,j){this.c=Z,this.a=j}_.prototype.load=function(Z){var j,nt,it=this.a.urls||[],at=this.a.families||[],ft=this.a.testStrings||{},ct=new r;for(j=0,nt=it.length;j<nt;j++)h(this.c,it[j],f(ct));var Tt=[];for(j=0,nt=at.length;j<nt;j++)if(it=at[j].split(":"),it[1])for(var St=it[1].split(","),Yt=0;Yt<St.length;Yt+=1)Tt.push(new c(it[0],St[Yt]));else Tt.push(new c(it[0]));a(ct,function(){Z(Tt,ft)})};function et(Z,j){Z?this.c=Z:this.c=tt,this.a=[],this.f=[],this.g=j||""}var tt="https://fonts.googleapis.com/css";function rt(Z,j){for(var nt=j.length,it=0;it<nt;it++){var at=j[it].split(":");at.length==3&&Z.f.push(at.pop());var ft="";at.length==2&&at[1]!=""&&(ft=":"),Z.a.push(at.join(ft))}}function lt(Z){if(Z.a.length==0)throw Error("No fonts to load!");if(Z.c.indexOf("kit=")!=-1)return Z.c;for(var j=Z.a.length,nt=[],it=0;it<j;it++)nt.push(Z.a[it].replace(/ /g,"+"));return j=Z.c+"?family="+nt.join("%7C"),0<Z.f.length&&(j+="&subset="+Z.f.join(",")),0<Z.g.length&&(j+="&text="+encodeURIComponent(Z.g)),j}function dt(Z){this.f=Z,this.a=[],this.c={}}var ut={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},st={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},ot={i:"i",italic:"i",n:"n",normal:"n"},ht=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function xt(Z){for(var j=Z.f.length,nt=0;nt<j;nt++){var it=Z.f[nt].split(":"),at=it[0].replace(/\+/g," "),ft=["n4"];if(2<=it.length){var ct,Tt=it[1];if(ct=[],Tt)for(var Tt=Tt.split(","),St=Tt.length,Yt=0;Yt<St;Yt++){var Ut;if(Ut=Tt[Yt],Ut.match(/^[\w-]+$/)){var de=ht.exec(Ut.toLowerCase());if(de==null)Ut="";else{if(Ut=de[2],Ut=Ut==null||Ut==""?"n":ot[Ut],de=de[1],de==null||de=="")de="4";else var ke=st[de],de=ke||(isNaN(de)?"4":de.substr(0,1));Ut=[Ut,de].join("")}}else Ut="";Ut&&ct.push(Ut)}0<ct.length&&(ft=ct),it.length==3&&(it=it[2],ct=[],it=it?it.split(","):ct,0<it.length&&(it=ut[it[0]])&&(Z.c[at]=it))}for(Z.c[at]||(it=ut[at])&&(Z.c[at]=it),it=0;it<ft.length;it+=1)Z.a.push(new c(at,ft[it]))}}function mt(Z,j){this.c=Z,this.a=j}var Gt={Arimo:!0,Cousine:!0,Tinos:!0};mt.prototype.load=function(Z){var j=new r,nt=this.c,it=new et(this.a.api,this.a.text),at=this.a.families;rt(it,at);var ft=new dt(at);xt(ft),h(nt,lt(it),f(j)),a(j,function(){Z(ft.a,ft.c,Gt)})};function wt(Z,j){this.c=Z,this.a=j}wt.prototype.load=function(Z){var j=this.a.id,nt=this.c.o;j?n(this.c,(this.a.api||"https://use.typekit.net")+"/"+j+".js",function(it){if(it)Z([]);else if(nt.Typekit&&nt.Typekit.config&&nt.Typekit.config.fn){it=nt.Typekit.config.fn;for(var at=[],ft=0;ft<it.length;ft+=2)for(var ct=it[ft],Tt=it[ft+1],St=0;St<Tt.length;St++)at.push(new c(ct,Tt[St]));try{nt.Typekit.load({events:!1,classes:!1,async:!0})}catch{}Z(at)}},2e3):Z([])};function Pt(Z,j){this.c=Z,this.f=j,this.a=[]}Pt.prototype.load=function(Z){var j=this.f.id,nt=this.c.o,it=this;j?(nt.__webfontfontdeckmodule__||(nt.__webfontfontdeckmodule__={}),nt.__webfontfontdeckmodule__[j]=function(at,ft){for(var ct=0,Tt=ft.fonts.length;ct<Tt;++ct){var St=ft.fonts[ct];it.a.push(new c(St.name,C("font-weight:"+St.weight+";font-style:"+St.style)))}Z(it.a)},n(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+o(this.c)+"/"+j+".js",function(at){at&&Z([])})):Z([])};var gt=new K(window);gt.a.c.custom=function(Z,j){return new _(j,Z)},gt.a.c.fontdeck=function(Z,j){return new Pt(j,Z)},gt.a.c.monotype=function(Z,j){return new q(j,Z)},gt.a.c.typekit=function(Z,j){return new wt(j,Z)},gt.a.c.google=function(Z,j){return new mt(j,Z)};var Ot={load:x(gt.load,gt)};i.exports?i.exports=Ot:(window.WebFont=Ot,window.WebFontConfig&&gt.load(window.WebFontConfig))})()})(Hf);var gg=Hf.exports;const mg=Wf(gg);class xg extends ze.Scene{constructor(){super({key:"Load",pack:{files:[{type:"json",key:"textures",url:"data/textures.json"},{type:"json",key:"audio",url:"data/audio.json"},{type:"json",key:"fonts",url:"data/fonts.json"},{type:"json",key:"lang.en_us",url:"lang/en_us.json"}]}});Lt(this,"animQueue",[])}preload(){const s=this.cache.json.get("textures");for(const E in s)typeof s[E]=="string"?this.load.image(E,s[E]):(this.load.spritesheet(E,s[E].spritesheet,{frameWidth:s[E].frameWidth?s[E].frameWidth:void 0,frameHeight:s[E].frameHeight?s[E].frameHeight:void 0,spacing:s[E].spacing?s[E].spacing:void 0}),s[E]&&this.animQueue.push({texture:E,anims:s[E].anims}));const x=this.cache.json.get("audio");for(const E in x)if(typeof x[E]=="string")this.load.audio(E,x[E]);else if(Array.isArray(x[E])&&x[E].length>0&&x[E].every(A=>typeof A=="string"))for(const[A,l]of x[E].entries())this.load.audio(E+"_"+(A+1),l);mg.load(this.cache.json.get("fonts"))}create(){this.animQueue.forEach(s=>{for(const x in s.anims)this.anims.create({key:s.texture+"_"+x,frames:this.anims.generateFrameNumbers(s.texture,{start:s.anims[x].frames.start,end:s.anims[x].frames.end?s.anims[x].frames.end:s.anims[x].frames.start}),frameRate:s.anims[x].frameRate?s.anims[x].frameRate:0,repeat:s.anims[x].auto?-1:0})}),this.scene.start("Head")}}const oe={random:{int:function(i=1,t=100){return Math.floor(Math.random()*(t-i+1)+i)},fromArray:function(i){return i[Math.floor(Math.random()*i.length)]},stringFromArray:function(i){return typeof i=="string"?i:Array.isArray(i)&&i.length>0&&i.every(t=>typeof t=="string")?this.fromArray(i):""}},time:{currentTimestamp:function(){return new Date(Date.now()).toLocaleString()},currentDate:function(){const i=new Date;return this.formatDate(i)},formatDate:function(i){return i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate()}},hex:{toString(i){return"#"+i.toString(16).padStart(6,"0")},toDecimal(i){return parseInt(i,16)},toRGB(i){typeof i=="number"&&(i=this.toString(i));const t=String(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i));return{r:this.toDecimal(t[1]),g:this.toDecimal(t[2]),b:this.toDecimal(t[3])}}},sanitize:{string:function(i){return typeof i=="string"&&i.trim().length>0?i.trim():""},boolean:function(i){return typeof i=="boolean"&&i===!0},array:function(i){return typeof i=="object"&&i instanceof Array?i:[]},number:function(i){return typeof i=="number"&&i%1===0?i:0},object:function(i){return typeof i=="object"&&!(i instanceof Array)&&i!==null?i:{}}},sort:{object:function(i,t=!1){const s={};return Object.keys(i).sort((x,E)=>i[t?x:E]-i[t?E:x]).forEach(x=>s[x]=i[x]),s}},mergeObjects:function(i,t){let s={},x;for(x in i)s[x]=i[x];for(x in t)s[x]=t[x];return s}};class yg extends ze.Scene{constructor(){super({key:"Head"});Lt(this,"sceneMain");Lt(this,"keySHIFT");Lt(this,"play",{sound:s=>{Array.isArray(this.cache.json.get("audio")[s])&&this.cache.json.get("audio")[s].length>0&&this.cache.json.get("audio")[s].every(x=>typeof x=="string")&&(s=s+"_"+oe.random.int(1,this.cache.json.get("audio")[s].length)),this.sceneMain.sound.play(s,{volume:.5})}})}create(){this.input.mouse.disableContextMenu(),this.scene.launch("Game",{sceneHead:this}),this.debugSetup()}update(){}restart(){this.sceneMain.HUD.scene.stop(),this.sceneMain.scene.restart()}debugSetup(){this.keySHIFT=this.input.keyboard.addKey(ze.Input.Keyboard.KeyCodes.SHIFT),this.keySHIFT.on("down",()=>{this.scene.isActive("Debug")?(this.scene.stop("Debug"),this.sceneMain.physics.world.drawDebug=!1,this.sceneMain.physics.world.debugGraphic.clear()):this.scene.launch("Debug",{sceneHead:this})},this)}}const ys={setEventEmitter(i,t){return t===void 0&&(t=Phaser.Events.EventEmitter),this._privateEE=i===!0||i===void 0,this._eventEmitter=this._privateEE?new t:i,this},destroyEventEmitter(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter(){return this._eventEmitter},on:function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once:function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off:function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit:function(i){return this._eventEmitter&&i&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener:function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener:function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners:function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount:function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners:function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames:function(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}},Tg=Phaser.Scene;var gs=function(i){return i instanceof Tg},Hn=function(i){return i==null||typeof i!="object"?null:gs(i)?i:i.scene&&gs(i.scene)?i.scene:i.parent&&i.parent.scene&&gs(i.parent.scene)?i.parent.scene:null};const Cg=Phaser.Game;var Gl=function(i){return i instanceof Cg},nn=function(i){if(i==null||typeof i!="object")return null;if(Gl(i))return i;if(Gl(i.game))return i.game;if(gs(i))return i.sys.game;if(gs(i.scene))return i.scene.sys.game};const Sg=Phaser.Utils.Objects.GetValue;class ie{constructor(t,s){this.setParent(t),this.isShutdown=!1,this.setEventEmitter(Sg(s,"eventEmitter",!0)),this.parent&&(this.parent===this.scene?this.scene.sys.events.once("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.once("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.once("destroy",this.onParentDestroy,this))}shutdown(t){this.isShutdown||(this.parent&&(this.parent===this.scene?this.scene.sys.events.off("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.off("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.off("destroy",this.onParentDestroy,this)),this.destroyEventEmitter(),this.parent=void 0,this.scene=void 0,this.game=void 0,this.isShutdown=!0)}destroy(t){this.shutdown(t)}onEnvDestroy(){this.destroy(!0)}onParentDestroy(t,s){this.destroy(s)}setParent(t){return this.parent=t,this.scene=Hn(t),this.game=nn(t),this}}Object.assign(ie.prototype,ys);const Eg=Phaser.Utils.Objects.GetValue;class ma extends ie{constructor(t,s){super(t,s),this._isRunning=!1,this.isPaused=!1,this.tickingState=!1,this.setTickingMode(Eg(s,"tickingMode",1))}boot(){this.tickingMode===2&&!this.tickingState&&this.startTicking()}shutdown(t){this.isShutdown||(this.stop(),this.tickingState&&this.stopTicking(),super.shutdown(t))}setTickingMode(t){typeof t=="string"&&(t=Pg[t]),this.tickingMode=t}startTicking(){this.tickingState=!0}stopTicking(){this.tickingState=!1}get isRunning(){return this._isRunning}set isRunning(t){this._isRunning!==t&&(this._isRunning=t,this.tickingMode===1&&t!=this.tickingState&&(t?this.startTicking():this.stopTicking()))}start(){return this.isPaused=!1,this.isRunning=!0,this}pause(){return this.isRunning&&(this.isPaused=!0,this.isRunning=!1),this}resume(){return this.isPaused&&(this.isRunning=!0),this}stop(){return this.isPaused=!1,this.isRunning=!1,this}complete(){this.isPaused=!1,this.isRunning=!1,this.emit("complete",this.parent,this)}}const Pg={no:0,lazy:1,always:2},Mg=Phaser.Utils.Objects.GetValue;class Rg extends ma{constructor(t,s){super(t,s);var x=this.scene?"update":"step";this.tickEventName=Mg(s,"tickEventName",x),this.isSceneTicker=!Ag(this.tickEventName)}startTicking(){super.startTicking(),this.isSceneTicker?this.scene.sys.events.on(this.tickEventName,this.update,this):this.game.events.on(this.tickEventName,this.update,this)}stopTicking(){super.stopTicking(),this.isSceneTicker&&this.scene?this.scene.sys.events.off(this.tickEventName,this.update,this):this.game&&this.game.events.off(this.tickEventName,this.update,this)}}var Ag=function(i){return i==="step"||i==="poststep"};const yi=Phaser.Utils.Objects.GetValue,Nl=Phaser.Math.Clamp;let $f=class{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){this.state=yi(t,"state",vn),this.timeScale=yi(t,"timeScale",1),this.delay=yi(t,"delay",0),this.repeat=yi(t,"repeat",0),this.repeatCounter=yi(t,"repeatCounter",0),this.repeatDelay=yi(t,"repeatDelay",0),this.duration=yi(t,"duration",0),this.nowTime=yi(t,"nowTime",0),this.justRestart=yi(t,"justRestart",!1)}toJSON(){return{state:this.state,timeScale:this.timeScale,delay:this.delay,repeat:this.repeat,repeatCounter:this.repeatCounter,repeatDelay:this.repeatDelay,duration:this.duration,nowTime:this.nowTime,justRestart:this.justRestart}}destroy(){}setTimeScale(t){return this.timeScale=t,this}setDelay(t){return t===void 0&&(t=0),this.delay=t,this}setDuration(t){return this.duration=t,this}setRepeat(t){return this.repeat=t,this}setRepeatInfinity(){return this.repeat=-1,this}setRepeatDelay(t){return this.repeatDelay=t,this}start(){return this.nowTime=this.delay>0?-this.delay:0,this.state=this.nowTime>=0?Os:cn,this.repeatCounter=0,this}stop(){return this.state=vn,this}update(t,s){this.state===vn||this.state===dr||s===0||this.timeScale===0||(this.nowTime+=s*this.timeScale,this.justRestart=!1,this.nowTime>=this.duration?this.repeat===-1||this.repeatCounter<this.repeat?(this.repeatCounter++,this.justRestart=!0,this.nowTime-=this.duration,this.repeatDelay>0&&(this.nowTime-=this.repeatDelay,this.state=Vl)):(this.nowTime=this.duration,this.state=dr):this.nowTime>=0&&(this.state=Os))}get t(){var t;switch(this.state){case vn:case cn:case Vl:t=0;break;case Os:t=this.nowTime/this.duration;break;case dr:t=1;break}return Nl(t,0,1)}set t(t){t=Nl(t,-1,1),t<0?(this.state=cn,this.nowTime=-this.delay*t):(this.state=Os,this.nowTime=this.duration*t,t===1&&this.repeat!==0&&this.repeatCounter++)}setT(t){return this.t=t,this}get isIdle(){return this.state===vn}get isDelay(){return this.state===cn}get isCountDown(){return this.state===Os}get isRunning(){return this.state===cn||this.state===Os}get isDone(){return this.state===dr}get isOddIteration(){return(this.repeatCounter&1)===1}get isEvenIteration(){return(this.repeatCounter&1)===0}};const vn=0,cn=1,Os=2,Vl=3,dr=-1;class wg extends Rg{constructor(t,s){super(t,s),this.timer=new $f}shutdown(t){this.isShutdown||(super.shutdown(t),this.timer.destroy(),this.timer=void 0)}start(){return this.timer.start(),super.start(),this}stop(){return this.timer.stop(),super.stop(),this}complete(){return this.timer.stop(),super.complete(),this}}const pn=Phaser.Utils.Objects.GetValue,zl=Phaser.Utils.Objects.GetAdvancedValue,Og=Phaser.Tweens.Builders.GetEaseFunction;class ln extends wg{resetFromJSON(t){return this.timer.resetFromJSON(pn(t,"timer")),this.setEnable(pn(t,"enable",!0)),this.setTarget(pn(t,"target",this.parent)),this.setDelay(zl(t,"delay",0)),this.setDuration(zl(t,"duration",1e3)),this.setEase(pn(t,"ease","Linear")),this.setRepeat(pn(t,"repeat",0)),this}setEnable(t){return t==null&&(t=!0),this.enable=t,this}setTarget(t){return t===void 0&&(t=this.parent),this.target=t,this}setDelay(t){return this.delay=t,this}setDuration(t){return this.duration=t,this}setRepeat(t){return this.repeat=t,this}setRepeatDelay(t){return this.repeatDelay=t,this}setEase(t){return t===void 0&&(t="Linear"),this.ease=t,this.easeFn=Og(t),this}start(){return this.timer.isRunning?this:(super.start(),this)}restart(){return this.timer.stop(),this.start.apply(this,arguments),this}stop(t){return t===void 0&&(t=!1),super.stop(),t&&(this.timer.setT(1),this.updateGameObject(this.target,this.timer),this.complete()),this}update(t,s){if(!this.isRunning||!this.enable||!this.parent.active)return this;var x=this.target,E=this.timer;return E.update(t,s),E.isDelay||this.updateGameObject(x,E),this.emit("update",x,this),E.isDone&&this.complete(),this}updateGameObject(t,s){}}const Lg=Phaser.Sound.BaseSound;var zo=function(i){return i instanceof Lg};const Xl=Phaser.Utils.Objects.GetValue,Yl=Phaser.Utils.Objects.GetAdvancedValue,Fg=Phaser.Math.Linear;let Kf=class extends ln{constructor(t,s,x){zo(t)&&(x=s,s=t,t=void 0),s.active=!0,s.scene=t,s.game=s.manager.game,super(s,x),this.volume={},this.resetFromJSON(x)}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(Xl(t,"mode",0)),this.setEnable(Xl(t,"enable",!0)),this.setVolumeRange(Yl(t,"volume.start",this.parent.volume),Yl(t,"volume.end",0)),this}setMode(t){return typeof t=="string"&&(t=Dg[t]),this.mode=t,this}setVolumeRange(t,s){return this.volume.start=t,this.volume.end=s,this}start(){return this.timer.isRunning?this:(this.parent.setVolume(this.volume.start),this.timer.setDelay(this.delay).setDuration(this.duration),super.start(),this)}updateGameObject(t,s){t.volume=Fg(this.volume.start,this.volume.end,s.t)}complete(){switch(super.complete(),this.mode){case 1:this.parent.stop();break;case 2:this.parent.destroy();break}return this}};const Dg={stop:1,destroy:2};var $n=function(i,t,s,x,E){zo(i)&&(E=x,x=s,s=t,t=i,i=void 0),x===void 0&&(x=1),E===void 0&&(E=0);var A={mode:0,volume:{start:E,end:x},duration:s};typeof t=="string"&&(t=i.sys.sound.add(t));var l;return t.hasOwnProperty("_fade")?(l=t._fade,l.stop().resetFromJSON(A)):(l=new Kf(i,t,A),t._fade=l),l.start(),t.isPlaying||t.setVolume(E).play(),t},ms=function(i,t,s,x){zo(i)&&(x=s,s=t,t=i,i=void 0),x===void 0&&(x=!0);var E={mode:x?2:1,volume:{start:t.volume,end:0},duration:s},A;return t.hasOwnProperty("_fade")?(A=t._fade,A.stop().resetFromJSON(E)):(A=new Kf(i,t,E),t._fade=A),A.start(),t.isPlaying||t.play(),t};const bg={fadeIn:$n,fadeOut:ms};class Bg extends ze.Scene{constructor(s){super(s);Lt(this,"sceneHead");Lt(this,"music")}init(s){this.sceneHead=s.sceneHead,s.sceneHead.sceneMain=this}preload(){this.physics.world.drawDebug=!1,this.game.loop.resetDelta()}changeScene(s,x){this.scene.stop(),this.scene.start(s,x)}playMusic(s){this.sound.pauseOnBlur=!1,this.music=this.sound.add(s,{loop:!0,volume:0}),bg.fadeIn(this.music,200,.25)}}class Ig extends Phaser.GameObjects.TileSprite{constructor(s,x,E,A,l){super(s,x,E,A,l,"ground");Lt(this,"scene");this.scene=s,this.setOrigin(0,1),this.setDepth(Oi.depth.background),this.scene.events.on("gameLoop",this.gameLoop,this),this.scene.events.once("gameOver",this.gameOver,this),this.scene.add.existing(this)}gameLoop(){this.tilePositionX+=this.scene.level===1?10:14+this.scene.level}gameOver(){this.scene.events.off("gameLoop",this.gameLoop,this)}}class Gg extends Phaser.GameObjects.Image{constructor(s,x){super(s,x,0,"cloud");Lt(this,"scene");Lt(this,"speed");this.scene=s,this.y=this.randomHeight(),this.speed=oe.random.int(3,4),this.scene.add.existing(this),this.setDepth(Oi.depth.background),this.scene.events.on("gameLoop",this.gameLoop,this),this.scene.events.once("gameOver",this.gameOver,this)}randomXOffset(){return this.scene.scale.gameSize.width+oe.random.int(25,100)}randomHeight(){return oe.random.int(this.scene.scale.gameSize.height/2,this.scene.scale.gameSize.height/6)}gameLoop(){this.x-=this.speed+(this.scene.level===1?10:14+this.scene.level)/4,!(this.x>=this.scene.scale.gameSize.width)&&(Phaser.Geom.Rectangle.Overlaps(this.getBounds(),this.scene.cameras.main.worldView)||(this.x=this.randomXOffset(),this.y=this.randomHeight()))}gameOver(){this.scene.events.off("gameLoop",this.gameLoop,this)}}class Zf extends Phaser.Physics.Arcade.Sprite{constructor(s,x,E,A){super(s,x,E,A);Lt(this,"scene");this.scene=s,this.setOrigin(0,1),this.scene.physics.add.existing(this).setImmovable(!0),this.scene.add.existing(this)}}class oa extends Zf{constructor(s,x,E){super(s,x,E,"poke");Lt(this,"jumpHeight",-1100);Lt(this,"key");this.setDepth(Oi.depth.player),this.body.setCollideWorldBounds(!0,void 0,void 0,!0).setGravityY(2500).setSize(this.scene.scale.gameSize.width/18,this.height),this.key={DOWN:this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.DOWN),S:this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.S)},this.scene.events.once("initGameLoop",this.init,this),this.scene.events.once("easyModeOff",this.easyModeOff,this),this.scene.events.once("gameOver",this.gameOver,this),this.scene.events.on("gameLoop",this.gameLoop,this)}gameLoop(){this.key.DOWN.isDown||this.key.S.isDown?(this.anims.play("poke_slide"),this.body.setSize(this.scene.scale.gameSize.width/12,this.height/1.3).offset.y=this.height/4,this.y<this.scene.scale.gameSize.height&&this.setVelocityY(800)):this.anims.getName()==="poke_slide"&&(this.anims.play("poke_run"),this.body.setSize(this.scene.scale.gameSize.width/18,this.height).offset.y=0)}gameOver(){this.scene.events.off("gameLoop",this.gameLoop,this),this.anims.play("poke_jump")}easyModeOff(){this.scene.anims.get("poke_run").frameRate=this.scene.anims.get("poke_run").frameRate*2,this.anims.getName()==="poke_run"&&this.anims.play("poke_run"),this.y?this.scene.physics.world.once("worldbounds",s=>{s.gameObject instanceof oa&&(this.jumpHeight=-1600,this.setGravityY(5e3))},this):(this.jumpHeight=-1600,this.setGravityY(5e3))}onObstacleCollision(){this.scene.events.emit("gameOver")}init(){this.landed()}triggerHop(){if(this.anims.getName()==="poke_slide"){this.scene.input.keyboard.once("keydown-SPACE",this.triggerHop,this);return}this.scene.physics.world.once("worldbounds",s=>{s.gameObject instanceof oa&&this.landed()},this),this.hop()}hop(){this.scene.sceneHead.play.sound("jump"),this.anims.play("poke_jump"),this.setVelocityY(this.jumpHeight)}landed(){this.scene.input.keyboard.once("keydown-SPACE",this.triggerHop,this),!this.key.DOWN.isDown&&!this.key.S.isDown&&this.anims.play("poke_run")}}class Ng extends Zf{constructor(s,x,E,A){const l=(()=>{if(A===1)return oe.random.fromArray(["cactus_small_1","cactus_small_2","cactus_small_3"]);{const T=Math.random();return T>=.5?oe.random.fromArray(["cactus_small_1","cactus_small_2","cactus_small_3"]):T<.5&&T>.15?oe.random.fromArray(["cactus_big_1","cactus_big_2","cactus_big_3"]):"pterodactyl"}})();super(s,x,E,l);Lt(this,"speed",0);l==="pterodactyl"&&(this.y=Math.random()>.5?oe.random.int(this.scene.scale.gameSize.height-this.scene.scale.gameSize.height/6,this.scene.scale.gameSize.height):oe.random.int(this.scene.scale.gameSize.height/2,this.scene.scale.gameSize.height/1.5),this.anims.play("pterodactyl_fly"),Math.random()<=.15&&(this.speed=oe.random.int(1,4))),this.scene.physics.add.collider(this.scene.player,this,()=>this.scene.player.onObstacleCollision()),this.scene.events.on("gameLoop",this.gameLoop,this),this.scene.events.once("gameOver",this.gameOver,this)}gameLoop(){this.x-=this.speed+(this.scene.level===1?10:14+this.scene.level),!(this.x>=this.scene.scale.gameSize.width)&&(Phaser.Geom.Rectangle.Overlaps(this.getBounds(),this.scene.cameras.main.worldView)||this.destroy())}gameOver(){this.texture.key==="pterodactyl"&&this.anims&&this.anims.pause(),this.scene&&this.scene.events.off("gameLoop",this.gameLoop,this)}destroy(){this.scene&&this.scene.events.off("gameLoop",this.gameLoop,this),super.destroy()}}class Vg extends Bg{constructor(){super({key:"Game"});Lt(this,"HUD");Lt(this,"player");Lt(this,"ground");Lt(this,"score",0);Lt(this,"level",0);Lt(this,"scoreLoopDelay",0);Lt(this,"obstacleSpawnTime",0);Lt(this,"skipIntro",!1)}setDefaultData(){this.score=0,this.level=0,this.obstacleSpawnTime=0}init(s){var x;super.init(s),this.events.off("gameLoop"),this.events.off("initGameLoop"),this.events.off("easyModeOff"),this.events.off("scoreLoop"),(x=this.input.keyboard)==null||x.removeKey("keydown-SPACE"),this.setDefaultData()}create(){this.physics.world.setBoundsCollision(!1,!1,!1,!0),this.player=new oa(this,0,this.scale.gameSize.height),this.ground=new Ig(this,0,this.scale.gameSize.height,this.skipIntro?this.scale.gameSize.width:this.player.width,26),this.scene.launch("HUD",{sceneHead:this.sceneHead}),this.events.once("gameOver",this.gameOver,this),this.events.on("gameLoop",this.gameLoop,this),this.events.on("scoreLoop",this.scoreLoop,this),this.scene.isActive("Debug")&&this.scene.get("Debug").enableDebug(),this.skipIntro?setTimeout(()=>{this.events.emit("initGameLoop"),this.initLoops()},1):this.input.keyboard.once("keydown-SPACE",this.start,this)}update(){this.level&&(this.events.emit("gameLoop"),this.scoreLoopDelay?this.scoreLoopDelay--:this.events.emit("scoreLoop"))}start(){this.player.hop(),this.events.once("initGameLoop",this.initLoops,this),this.add.tween({targets:this.ground,width:this.scale.gameSize.width,duration:1500,onComplete:()=>this.events.emit("initGameLoop"),callbackScope:this})}initLoops(){this.playMusic("under_her_spell_8bit");for(let s=1;s<=3;s++)new Gg(this,this.scale.gameSize.width+s*oe.random.int(200,500)).addToDisplayList();this.level=1,this.gameLoop(),this.scoreLoop()}gameLoop(){this.scene.isPaused()||this.physics.world.isPaused||(this.obstacleSpawnTime<=0&&(this.obstacleSpawnTime=oe.random.int(this.level==1?75:50-2*this.level<10?10:50-2*this.level,this.level==1?100:100-2*this.level<30?30:100-2*this.level),new Ng(this,this.scale.gameSize.width,this.scale.gameSize.height,this.level).addToDisplayList()),this.obstacleSpawnTime--)}scoreLoop(){this.scene.isPaused()||this.physics.world.isPaused||(this.score++,this.level===1?this.scoreLoopDelay=4:this.scoreLoopDelay=3,this.score/100/this.level>=1&&(this.level++,this.HUD.levelUp((this.level-1)*100)),this.HUD.setScore(this.score),this.score==100&&this.events.emit("easyModeOff"))}gameOver(){this.skipIntro=!0,this.music.stop(),this.sceneHead.play.sound("hit"),this.physics.pause()}}function yo(i){return i=JSON.stringify(i),!!/^\{[\s\S]*\}$/.test(i)}function zg(i){return i===void 0||typeof i=="function"?i+"":JSON.stringify(i)}function Ul(i){if(typeof i=="string")try{return JSON.parse(i)}catch{return i}}function Wl(i){return{}.toString.call(i)==="[object Function]"}function Xg(i){return Object.prototype.toString.call(i)==="[object Array]"}function Yg(i){var t="_Is_Incognit",s="yes";try{i||(i=window.localStorage),i.setItem(t,s),i.removeItem(t)}catch{var x={};x._data={},x.setItem=function(A,l){return x._data[A]=String(l)},x.getItem=function(A){return x._data.hasOwnProperty(A)?x._data[A]:void 0},x.removeItem=function(A){return delete x._data[A]},x.clear=function(){return x._data={}},i=x}finally{i.getItem(t)===s&&i.removeItem(t)}return i}var ji=Yg();function rn(){if(!(this instanceof rn))return new rn}rn.prototype={set:function(t,s){if(t&&!yo(t))ji.setItem(t,zg(s));else if(yo(t))for(var x in t)this.set(x,t[x]);return this},get:function(t){if(!t){var s={};return this.forEach(function(e,u){return s[e]=u}),s}if(t.charAt(0)==="?")return this.has(t.substr(1));var x=arguments;if(x.length>1){for(var E={},A=0,l=x.length;A<l;A++){var T=Ul(ji.getItem(x[A]));this.has(x[A])&&(E[x[A]]=T)}return E}return Ul(ji.getItem(t))},clear:function(){return ji.clear(),this},remove:function(t){var s=this.get(t);return ji.removeItem(t),s},has:function(t){return{}.hasOwnProperty.call(this.get(),t)},keys:function(){var t=[];return this.forEach(function(s){t.push(s)}),t},forEach:function(t){for(var s=0,x=ji.length;s<x;s++){var E=ji.key(s);t(E,this.get(E))}return this},search:function(t){for(var s=this.keys(),x={},E=0,A=s.length;E<A;E++)s[E].indexOf(t)>-1&&(x[s[E]]=this.get(s[E]));return x}};var Ti=null;function fi(i,t){var s=arguments,x=null;if(Ti||(Ti=rn()),s.length===0)return Ti.get();if(s.length===1){if(typeof i=="string")return Ti.get(i);if(yo(i))return Ti.set(i)}if(s.length===2&&typeof i=="string"){if(!t)return Ti.remove(i);if(t&&typeof t=="string")return Ti.set(i,t);t&&Wl(t)&&(x=null,x=t(i,Ti.get(i)),fi.set(i,x))}if(s.length===2&&Xg(i)&&Wl(t))for(var E=0,A=i.length;E<A;E++)x=t(i[E],Ti.get(i[E])),fi.set(i[E],x);return fi}for(var kl in rn.prototype)fi[kl]=rn.prototype[kl];var Ug=function(i){return i===void 0&&(i=Wg),this.getFrameNameCallback=i,this},Wg=function(i,t,s){return s==="__BASE"?`${i},${t}`:`${s}_${i},${t}`};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var kg=function(i){if(typeof i!="object"||i.nodeType||i===i.window)return!1;try{if(i.constructor&&!{}.hasOwnProperty.call(i.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0},We=function(i){var t,s,x;if(i==null||typeof i!="object")return i;if(t=Array.isArray(i)?[]:{},kg(i))for(x in i)s=i[x],t[x]=We(s);else t=i;return t},Hg=function(i,t,s,x){Array.isArray(t)&&(x=s,s=t,t=void 0),t==null&&(t="__BASE"),typeof s=="number"&&arguments.length>=6?(s=[arguments[2],void 0,arguments[3]],x=[arguments[4],void 0,arguments[5]]):(s=We(s),x=We(x)),this.textureKey=i,this.baseFrameName=t,this.columns.data=s,this.columns.count=s?s.length:0,this.columns.stretch=0,this.columns.minWidth=0,this.columns.scale=1,this.rows.data=x,this.rows.count=x?x.length:0,this.rows.stretch=0,this.rows.minHeight=0,this.rows.scale=1;var E=this.scene.sys.textures.get(i);if(!E)return this.clear(),this;if(!s||!x)return this.clear(),this;for(var A=E.get(t),l=A.width,T=0,e=0,u=s.length;e<u;e++)s[e]===void 0?T++:typeof s[e]=="number"?l-=s[e]:l-=s[e].width;for(var m=l/T,d=A.height,o=0,e=0,u=x.length;e<u;e++)x[e]===void 0?o++:typeof x[e]=="number"?d-=x[e]:d-=x[e].width;for(var h=d/o,n,r,f,a,v,p=0,c=0,g=0,y=x.length;g<y;g++){x[g]===void 0&&(x[g]=h),typeof x[g]=="number"&&(x[g]={height:x[g],stretch:g%2}),n=x[g],f=n.height,this.rows.stretch+=n.stretch|0,this.rows.minHeight+=n.stretch>0?0:f,p=0;for(var e=0,S=s.length;e<S;e++){if(s[e]===void 0&&(s[e]=m),typeof s[e]=="number"&&(s[e]={width:s[e],stretch:e%2}),r=s[e],a=r.width,g===0&&(this.columns.stretch+=r.stretch|0,this.columns.minWidth+=r.stretch>0?0:a),a>=1&&f>=1){v=this.getFrameNameCallback(e,g,t);var P=typeof v;(P==="string"||P==="number")&&E.add(v,0,p+A.cutX,c+A.cutY,a,f)}p+=a}c+=f}return this.updateTexture(),this},$g=function(){if(this.clear(),this.textureKey===void 0)return this;var i=this.scene.sys.textures.get(this.textureKey);if(!i)return this;var t=this.columns.minWidth*this.maxFixedPartScaleX,s=this.rows.minHeight*this.maxFixedPartScaleY,x=this.width-t,E=this.height-s,A=x>=0?this.maxFixedPartScaleX:this.width/t,l=E>=0?this.maxFixedPartScaleY:this.height/s;if(this.preserveRatio){var T=Math.min(A,l);if(A>T){var e=(A-T)*t;x>=0?x+=e:x=e,A=T}if(l>T){var u=(l-T)*s;E>=0?E+=u:E=u,l=T}}this.columns.scale=A,this.rows.scale=l;var m;x>0?m=this.columns.stretch>0?x/this.columns.stretch:0:m=0;var d;E>0?d=this.rows.stretch>0?E/this.rows.stretch:0:d=0;var o,h,n,r,f,a=0,v=0,p;this._beginDraw();for(var c=0,g=this.rows.count;c<g;c++){n=this.rows.data[c],f=n.stretch===0?n.height*l:d*n.stretch,a=0;for(var y=0,S=this.columns.count;y<S;y++)h=this.columns.data[y],r=h.stretch===0?h.width*A:m*h.stretch,o=this.getFrameNameCallback(y,c,this.baseFrameName),i.has(o)&&r>0&&f>0&&(n.stretch===0&&h.stretch===0||this.getStretchMode(y,c)===0?p=0:p=1,p===0?this._drawImage(this.textureKey,o,a,v,r,f):this._drawTileSprite(this.textureKey,o,a,v,r,f)),a+=r;v+=f}this._endDraw()};const Kg=Phaser.Utils.Objects.IsPlainObject,Hl=Phaser.Utils.Objects.GetValue;var Zg=function(i){return Kg(i)?(this.stretchMode.edge=Ha(Hl(i,"edge",0)),this.stretchMode.internal=Ha(Hl(i,"internal",0))):(i=Ha(i),this.stretchMode.edge=i,this.stretchMode.internal=i),this},Ha=function(i){return typeof i=="string"&&(i=Jg[i]),i};const Jg={scale:0,repeat:1};var Qg=function(i,t){return i===0||i===this.columns.count-1||t===0||t===this.rows.count-1},jg=function(i,t){return Qg.call(this,i,t)?this.stretchMode.edge:this.stretchMode.internal},qg=function(i){return i==null&&(i=!0),this.preserveRatio=i,this},_g=function(i,t){return t===void 0&&(t=i),this.maxFixedPartScaleX=i,this.maxFixedPartScaleY=t,this},Ge=function(){};const t0={_beginDraw:Ge,_drawImage:Ge,_drawTileSprite:Ge,_endDraw:Ge,setGetFrameNameCallback:Ug,setBaseTexture:Hg,updateTexture:$g,setStretchMode:Zg,getStretchMode:jg,setPreserveRatio:qg,setMaxFixedPartScale:_g},gn=Phaser.Utils.Objects.IsPlainObject,Mt=Phaser.Utils.Objects.GetValue;var Jf=function(i,t){class s extends i{constructor(E,A,l,T,e,u,m,d,o,h){if(gn(A)?(h=A,A=Mt(h,"x",0),l=Mt(h,"y",0),T=Mt(h,"width",1),e=Mt(h,"height",1),u=Mt(h,"key",void 0),m=Mt(h,"baseFrame",void 0),d=Mt(h,"columns",void 0),o=Mt(h,"rows",void 0)):gn(T)?(h=T,T=Mt(h,"width",1),e=Mt(h,"height",1),u=Mt(h,"key",void 0),m=Mt(h,"baseFrame",void 0),d=Mt(h,"columns",void 0),o=Mt(h,"rows",void 0)):gn(u)?(h=u,u=Mt(h,"key",void 0),m=Mt(h,"baseFrame",void 0),d=Mt(h,"columns",void 0),o=Mt(h,"rows",void 0)):gn(m)?(h=m,m=Mt(h,"baseFrame",void 0),d=Mt(h,"columns",void 0),o=Mt(h,"rows",void 0)):Array.isArray(m)?(h=o,o=d,d=m,m=Mt(h,"baseFrame",void 0)):gn(d)&&(h=d,d=Mt(h,"columns",void 0),o=Mt(h,"rows",void 0)),d===void 0){var n=Mt(h,"leftWidth",void 0),r=Mt(h,"rightWidth",void 0);n!==void 0&&r!==void 0&&(d=[n,void 0,r])}if(o===void 0){var f=Mt(h,"topHeight",void 0),a=Mt(h,"bottomHeight",void 0);f!==void 0&&a!==void 0&&(o=[f,void 0,a])}super(E),this.type=t,this.setPosition(A,l).setSize(T,e).setOrigin(.5,.5),this.columns={},this.rows={},this.stretchMode={},this._tileSprite=void 0,this._image=void 0,this.setGetFrameNameCallback(Mt(h,"getFrameNameCallback",void 0)),this.setStretchMode(Mt(h,"stretchMode",0)),this.setPreserveRatio(Mt(h,"preserveRatio",!0));var v=Mt(h,"maxFixedPartScale",1),p=Mt(h,"maxFixedPartScaleX",v),c=Mt(h,"maxFixedPartScaleY",void 0);this.setMaxFixedPartScale(p,c),this.setBaseTexture(u,m,d,o)}get minWidth(){return this.columns.minWidth}get minHeight(){return this.rows.minHeight}get fixedPartScaleX(){return this.columns.scale}get fixedPartScaleY(){return this.rows.scale}resize(E,A){return this.width===E&&this.height===A?this:(super.resize?super.resize(E,A):super.setSize(E,A),this.updateTexture(),this)}}return Object.assign(s.prototype,t0),s};const e0=Phaser.GameObjects;var Bi=void 0,Qf=function(i,t){if(Bi||(Bi={},nn(i).events.once("destroy",function(){for(var x in Bi)Bi[x].destroy();Bi=void 0})),!Bi.hasOwnProperty(t)){var s=nn(i).scene.systemScene,i=new e0[t](s);i.setOrigin(0),Bi[t]=i}return Bi[t]},i0=function(i,t,s,x,E,A){var l=Qf(this,"Image").setTexture(i,t).setDisplaySize(E,A);this.draw(l,s,x)},s0=function(i,t,s,x,E,A){var l=Qf(this,"TileSprite").setTexture(i,t).setSize(E,A);this.draw(l,s,x)};const n0=Phaser.GameObjects.RenderTexture;let jf=class extends Jf(n0,"rexNinePatch"){};var r0={_drawImage:i0,_drawTileSprite:s0};Object.assign(jf.prototype,r0);const a0=Phaser.GameObjects.GetCalcMatrix;var h0=function(i,t,s,x){var E=t.getRenderList();if(E.length!==0){s.addToRenderList(t);var A=i.pipelines.set(t.pipeline),l=t.frame.glTexture,T=A.setGameObject(t),e=s.roundPixels,u=a0(t,s,x),m=A.calcMatrix.copyFrom(u.calc),d=t._displayOriginX,o=t._displayOriginY,h=s.alpha*t.alpha;i.pipelines.preBatch(t);for(var n=0,r=E.length;n<r;n++)E[n].webglRender(A,m,h,d,o,l,T,e);i.pipelines.postBatch(t)}};const o0=Phaser.Renderer.Canvas.SetTransform;var l0=function(i,t,s,x){var E=i.currentContext,A=t.getRenderList();if(!(A.length===0||!o0(i,E,t,s,x))){s.addToRenderList(t);var l=s.roundPixels,T=-t._displayOriginX,e=-t._displayOriginY;E.translate(T,e);for(var u=0,m=A.length;u<m;u++)A[u].canvasRender(E,T,e,l);E.restore()}};const u0={renderWebGL:h0,renderCanvas:l0};var d0=function(i,t){return this.texture=this.scene.sys.textures.get(i),this.frame=this.texture.get(t),this},$l=function(i,t){if(this.width===i&&this.height===t)return this;this.width=i,this.height=t,this.updateDisplayOrigin();var s=this.input;return s&&!s.customHitArea&&(s.hitArea.width=i,s.hitArea.height=t),this},f0=function(i){return this.lastAppendedChildren.length=0,Array.isArray(i)?(this.children.add(i),this.lastAppendedChildren.push(...i)):(this.children.add(i),this.lastAppendedChildren.push(i)),this};const v0=Phaser.Utils.Array.Remove;var c0=function(i){return this.poolManager&&this.poolManager.free(i),v0(this.children.list,i),this.lastAppendedChildren.length=0,this.dirty=!0,this},Kl=function(){return this.poolManager&&this.poolManager.freeMultiple(this.children.list),this.children.list.length=0,this.lastAppendedChildren.length=0,this.dirty=!0,this},p0=function(){return this.lastAppendedChildren},g0=function(){return this.children.list};const m0={setTint(i){return this.tint=i,this.tintFill=!1,this},setTintFill(i){return this.tint=i,this.tintFill=!0,this},clearTint(){return this.setTint(16777215),this}};var qf={setTexture:d0,resize:$l,setSize:$l,addChild:f0,removeChild:c0,removeChildren:Kl,clear:Kl,getLastAppendedChildren:p0,getChildren:g0};Object.assign(qf,m0);class ci{constructor(){this.items=[]}destroy(){this.clear(),this.items=void 0}pop(){return this.items.length>0?this.items.pop():null}push(t){return this.items.push(t),this}pushMultiple(t){return this.items.push.apply(this.items,t),t.length=0,this}clear(){return this.items.length=0,this}}const x0=Phaser.Utils.Objects.GetValue;var y0={};let T0=class{constructor(t){this.pools=x0(t,"pools",y0)}destroy(){this.pools=void 0}free(t){if(!this.pools)return this;var s=t.type;return this.pools.hasOwnProperty(s)||(this.pools[s]=new ci),this.pools[s].push(t),t.onFree(),this}freeMultiple(t){if(!this.pools)return this;for(var s=0,x=t.length;s<x;s++)this.free(t[s]);return this}allocate(t){return!this.pools||!this.pools.hasOwnProperty(t)?null:this.pools[t].pop()}};const C0=60;var Zl=!1,xa=function(i){if(!Zl){i===void 0&&(i=C0);var t=parseInt(Phaser.VERSION.match(/\.(\d+)\./)[1]);t<i&&console.error(`Minimum supported version : 3.${i}`),Zl=!0}};xa();const S0=Phaser.GameObjects.GameObject,E0=Phaser.Utils.Objects.IsPlainObject,mn=Phaser.Utils.Objects.GetValue,P0=Phaser.Structs.List,M0=Phaser.Utils.Array.StableSort;class _f extends S0{constructor(t,s,x,E,A,l){E0(s)&&(l=s,s=mn(l,"x",0),x=mn(l,"y",0),E=mn(l,"texture"),A=mn(l,"frame")),s===void 0&&(s=0),x===void 0&&(x=0),super(t,"rexBlitter"),this.children=new P0,this.renderList=[],this.displayListDirty=!1,this.lastAppendedChildren=[];var T=mn(l,"reuseBob",!0);this.poolManager=T?new T0(l):void 0,this.setTexture(E,A),this.setPosition(s,x),this.setOrigin(0,0),this.clearTint(),this.initPipeline(),this.initPostPipeline()}preDestroy(){this.removeChildren(),this.children.destroy(),this.renderList.length=0,this.poolManager&&this.poolManager.destroy()}getRenderList(){if(this.displayListDirty){this.renderList.length=0;for(var t=!1,s=this.children.list,x=0,E=s.length;x<E;x++){var A=s[x];R0(A)&&(this.renderList.push(A),t||(t=A.depth!==0))}t&&M0(this.renderList,A0),this.displayListDirty=!1}return this.renderList}}var R0=function(i){return i.active&&i.visible&&i.alpha>0},A0=function(i,t){return i._depth-t._depth};const we=Phaser.GameObjects.Components;Phaser.Class.mixin(_f,[we.Alpha,we.BlendMode,we.ComputedSize,we.Depth,we.GetBounds,we.Mask,we.Origin,we.Pipeline,we.PostPipeline,we.ScrollFactor,we.Transform,we.Visible,u0,qf]);const tv="image";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Vt=function(i,t,s){if(!i||typeof i=="number")return s;if(i.hasOwnProperty(t))return i[t];if(t.indexOf(".")!==-1){for(var x=t.split("."),E=i,A=s,l=0;l<x.length;l++)if(E.hasOwnProperty(x[l]))A=E[x[l]],E=E[x[l]];else{A=s;break}return A}else return s},Ri=function(i){if(typeof i!="object"||i===null)return i;if(Array.isArray(i))i.length=0;else for(var t in i)delete i[t];return i};const ya={enableData(){return this.data===void 0&&(this.data={}),this},setData(i,t){if(this.enableData(),arguments.length===1){var s=i;for(i in s)this.data[i]=s[i]}else this.data[i]=t;return this},getData(i,t){return this.enableData(),i===void 0?this.data:Vt(this.data,i,t)},incData(i,t,s){return s===void 0&&(s=0),this.enableData(),this.setData(i,this.getData(i,s)+t),this},mulData(i,t,s){return s===void 0&&(s=0),this.enableData(),this.setData(i,this.getData(i,s)*t),this},clearData(){return this.data&&Ri(this.data),this}};let ev=class{constructor(t,s){this.type=s,this.data=void 0,this.setParent(t).reset().setActive()}destroy(){this.parent&&this.parent.removeChild(this)}setParent(t){return this.parent=t,this}setDisplayListDirty(t){return t&&this.parent&&(this.parent.displayListDirty=!0),this}get active(){return this._active}set active(t){this.setDisplayListDirty(this._active!=t),this._active=t}setActive(t){return t===void 0&&(t=!0),this.active=t,this}modifyPorperties(t){return this}reset(){this.clearData()}onFree(){this.reset().setActive(!1).setParent()}};Object.assign(ev.prototype,ya);const w0=Phaser.Math.DegToRad,O0=Phaser.Math.RadToDeg,Ls=Phaser.Utils.Objects.GetValue;let L0=class extends ev{get visible(){return this._visible}set visible(t){this.setDisplayListDirty(this._visible!=t),this._visible=t}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}get alpha(){return this._alpha}set alpha(t){this.setDisplayListDirty(!!this._alpha!=!!t),this._alpha=t}setAlpha(t){return this.alpha=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setPosition(t,s){return this.x=t,this.y=s,this}setRotation(t){return this.rotation=t,this}get angle(){return O0(this.rotation)}set angle(t){this.rotation=w0(t)}setAngle(t){return this.angle=t,this}setScaleX(t){return this.scaleX=t,this}get width(){return this._width}set width(t){this._width=t}setWidth(t,s){return s===void 0&&(s=!1),this.width=t,s&&(this.scaleY=this.scaleX),this}setScaleY(t){return this.scaleY=t,this}setScale(t,s){return s===void 0&&(s=t),this.scaleX=t,this.scaleY=s,this}get height(){return this._height}set height(t){this._height=t}setHeight(t,s){return s===void 0&&(s=!1),this.height=t,s&&(this.scaleX=this.scaleY),this}setScale(t,s){return s===void 0&&(s=t),this.scaleX=t,this.scaleY=s,this}get displayWidth(){return this._width*this.scaleX}set displayWidth(t){this.scaleX=t/this._width}setDisplayWidth(t,s){return s===void 0&&(s=!1),this.displayWidth=t,s&&(this.scaleY=this.scaleX),this}get displayHeight(){return this._height*this.scaleY}set displayHeight(t){this.scaleY=t/this._height}setDisplayHeight(t,s){return s===void 0&&(s=!1),this.displayHeight=t,s&&(this.scaleX=this.scaleY),this}setOriginX(t){return this.originX=t,this._displayOriginX=this.width*t,this}setOriginY(t){return this.originY=t,this._displayOriginY=this.height*t,this}setOrigin(t,s){return s===void 0&&(s=t),this.setOriginX(t).setOriginY(s),this}get depth(){return this._depth}set depth(t){this.setDisplayListDirty(this._depth!=t),this._depth=t}setDepth(t){return t===void 0&&(t=0),this.depth=t,this}modifyPorperties(t){if(!t)return this;t.hasOwnProperty("x")&&this.setX(t.x),t.hasOwnProperty("y")&&this.setY(t.y),t.hasOwnProperty("rotation")?this.setRotation(t.rotation):t.hasOwnProperty("angle")&&this.setAngle(t.angle),t.hasOwnProperty("alpha")&&this.setAlpha(t.alpha);var s=Ls(t,"width",void 0),x=Ls(t,"height",void 0),E=Ls(t,"scale",void 0),A=Ls(t,"scaleX",E),l=Ls(t,"scaleY",E);s!==void 0?x===void 0&&l===void 0?this.setWidth(s,!0):this.setWidth(s):A!==void 0?this.setScaleX(A):t.hasOwnProperty("displayWidth")&&this.setDisplayWidth(t.displayWidth),x!==void 0?s===void 0&&A===void 0?this.setHeight(x,!0):this.setHeight(x):l!==void 0?this.setScaleY(l):t.hasOwnProperty("displayHeight")&&this.setDisplayHeight(t.displayHeight);var T=Ls(t,"origin",void 0);return T!==void 0?this.setOrigin(T):(t.hasOwnProperty("originX")&&this.setOriginX(t.originX),t.hasOwnProperty("originY")&&this.setOriginY(t.originY)),t.hasOwnProperty("depth")&&this.setDepth(t.depth),this}reset(){return super.reset(),this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setOrigin(0).setDepth(0),this}webglRender(t,s,x,E,A,l,T,e){}canvasRender(t,s,x,E){}};const F0=Phaser.GameObjects.Components.TransformMatrix,D0=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;var fr=new F0,b0=function(i,t,s,x,E,A,l,T){var e=this._width,u=this._height,m=e*this.originX,d=u*this.originY,o=this.x-x,h=this.y-E,n=1,r=1;this.flipX&&(o+=e-m*2,n=-1),this.flipY&&(h+=u-d*2,r=-1),fr.applyITRS(o,h,this.rotation,this.scaleX*n,this.scaleY*r),t.multiply(fr,fr);var f=-m,a=-d,v=f+e,p=a+u,c=fr.setQuad(f,a,v,p,T),g=this.frame.u0,y=this.frame.v0,S=this.frame.u1,P=this.frame.v1,C=D0(this.tint,this.alpha*s);i.batchQuad(this.parent,c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],g,y,S,P,C,C,C,C,this.tintFill,A,l)},B0=function(i,t,s,x){i.save();var E=this._width,A=this._height,l=E*this.originX,T=A*this.originY,e=this.x-l,u=this.y-T,m=1,d=1;this.flipX&&(e+=E,m=-1),this.flipY&&(u+=A,d=-1),x&&(e=Math.round(e),u=Math.round(u)),i.translate(e,u),i.rotate(this.rotation),i.scale(this.scaleX*m,this.scaleY*d);var o=this.frame;i.drawImage(o.source.image,o.cutX,o.cutY,E,A,0,0,E,A),i.restore()};const I0=Phaser.Utils.Objects.IsPlainObject;let iv=class extends L0{constructor(t,s){super(t,tv),this.setFrame(s)}get width(){return this._width}set width(t){}get height(){return this._height}set height(t){}setFrame(t){return arguments.length>0&&!I0(t)&&(t=this.parent.texture.get(t)),this.frame=t,this._width=t?t.width:0,this._height=t?t.height:0,this}setFlipX(t){return t===void 0&&(t=!0),this.flipX=t,this}setFlipY(t){return t===void 0&&(t=!0),this.flipY=t,this}resetFlip(){return this.flipX=!1,this.flipY=!1,this}get tint(){return this._tint===void 0?this.parent.tint:this._tint}set tint(t){this._tint=t}setTint(t){return this.tint=t,this.tintFill=!1,this}setTintFill(t){return this.tint=t,this.tintFill=!0,this}clearTint(){return this.setTint(16777215),this}resetTint(){return this.tint=void 0,this.tintFill=void 0,this}get tintFill(){return this._tintFill===void 0?this.parent.tintFill:this._tintFill}set tintFill(t){this._tintFill=t}reset(){return super.reset(),this.resetFlip().resetTint().setFrame(),this}modifyPorperties(t){return t?(t.hasOwnProperty("width")&&(t.displayWidth=t.width,delete t.width),t.hasOwnProperty("height")&&(t.displayHeight=t.height,delete t.height),t.hasOwnProperty("frame")&&this.setFrame(t.frame),super.modifyPorperties(t),t.hasOwnProperty("flipX")&&this.setFlipX(t.flipX),t.hasOwnProperty("flipY")&&this.setFlipY(t.flipY),t.hasOwnProperty("tint")&&this.setTint(t.tint),t.hasOwnProperty("tintFill")&&this.setTintFill(t.tintFill),this):this}};var G0={webglRender:b0,canvasRender:B0};Object.assign(iv.prototype,G0);var sv=function(i,t){typeof t=="string"&&(t={frame:t});var s=i.poolManager?i.poolManager.allocate(tv):null;return s===null?s=new iv(i):s.setParent(i).setActive(),s.modifyPorperties(t),i.addChild(s),s},N0=function(i,t,s,x,E,A){sv(this,{frame:t,x:s,y:x,width:E,height:A})},V0=function(i,t,s,x,E,A){var l=this.texture.get(t),T=l.width,e=l.height,u=Math.floor(E/T),m=Math.floor(A/e);s+=(E-u*T)/2,x+=(A-m*e)/2;for(var d=0;d<u;d++)for(var o=0;o<m;o++)sv(this,{frame:t,x:s+d*T,y:x+o*e})};const z0={_drawImage:N0,_drawTileSprite:V0};class X0 extends Jf(_f,"rexNinePatch2"){setBaseTexture(t,s,x,E){return this.setTexture(t,s),super.setBaseTexture(t,s,x,E),this}}Object.assign(X0.prototype,z0);const Yi=Phaser.Utils.Objects.GetValue;let nv=class{constructor(t,s,x,E,A){t===void 0&&(t=0),s===void 0&&(s=t),x===void 0&&(x=0),E===void 0&&(E=0),A===void 0&&(A=0),this.cornerRadius={},this._width=0,this._height=0,this.setTo(t,s,x,E,A)}setTo(t,s,x,E,A){return this.setPosition(t,s),this.setRadius(A),this.setSize(x,E),this}setPosition(t,s){return this.x=t,this.y=s,this}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setSize(t,s){return this.width=t,this.height=s,this}get minWidth(){var t=this.cornerRadius;return Math.max(t.tl.x+t.tr.x,t.bl.x+t.br.x)}get minHeight(){var t=this.cornerRadius;return Math.max(t.tl.y+t.bl.y,t.tr.y+t.br.y)}get width(){return this._width}set width(t){t==null&&(t=0),this._width=Math.max(t,this.minWidth)}get height(){return this._height}set height(t){t==null&&(t=0),this._height=Math.max(t,this.minHeight)}get radius(){var t=this.cornerRadius;return Math.max(t.tl.x,t.tl.y,t.tr.x,t.tr.y,t.bl.x,t.bl.y,t.br.x,t.br.y)}set radius(t){var s,x;typeof t=="number"?(s=t,x=t):(s=Yi(t,"x",0),x=Yi(t,"y",0));var E=this.cornerRadius;E.tl=vr(Yi(t,"tl",void 0),s,x),E.tr=vr(Yi(t,"tr",void 0),s,x),E.bl=vr(Yi(t,"bl",void 0),s,x),E.br=vr(Yi(t,"br",void 0),s,x)}get radiusTL(){var t=this.cornerRadius.tl;return Math.max(t.x,t.y)}set radiusTL(t){cr(this.cornerRadius.tl,t)}get radiusTR(){var t=this.cornerRadius.tr;return Math.max(t.x,t.y)}set radiusTR(t){cr(this.cornerRadius.tr,t)}get radiusBL(){var t=this.cornerRadius.bl;return Math.max(t.x,t.y)}set radiusBL(t){cr(this.cornerRadius.bl,t)}get radiusBR(){var t=this.cornerRadius.br;return Math.max(t.x,t.y)}set radiusBR(t){cr(this.cornerRadius.br,t)}};var vr=function(i,t,s){return i===void 0?i={x:t,y:s}:typeof i=="number"&&(i={x:i,y:i}),rv(i),i},cr=function(i,t){typeof t=="number"?(i.x=t,i.y=t):(i.x=Yi(t,"x",0),i.y=Yi(t,"y",0)),rv(i)},rv=function(i){i.convex=i.x>=0||i.y>=0,i.x=Math.abs(i.x),i.y=Math.abs(i.y)},pi=function(i,t,s){var x=s.length;if(x>=2){var E=s[x-2],A=s[x-1];if(i===E&&t===A)return s}return s.push(i,t),s};const Jl=Phaser.Math.DegToRad;var ee=function(i,t,s,x,E,A,l,T,e){l&&A>E?A-=360:!l&&A<E&&(A+=360);var u=A-E,m=Jl(u)/T;E=Jl(E);for(var d=0;d<=T;d++){var o=E+m*d,h=i+s*Math.cos(o),n=t+x*Math.sin(o);pi(h,n,e)}return e},Y0=Phaser.Renderer.WebGL.Utils,av=function(i,t,s,x,E,A){for(var l=Y0.getTintAppendFloatAlpha(s.fillColor,s.fillAlpha*x),T=s.pathData,e=s.pathIndexes,u=0;u<e.length;u+=3){var m=e[u]*2,d=e[u+1]*2,o=e[u+2]*2,h=T[m+0]-E,n=T[m+1]-A,r=T[d+0]-E,f=T[d+1]-A,a=T[o+0]-E,v=T[o+1]-A,p=t.getX(h,n),c=t.getY(h,n),g=t.getX(r,f),y=t.getY(r,f),S=t.getX(a,v),P=t.getY(a,v);i.batchTri(s,p,c,g,y,S,P,0,0,1,1,l,l,l,2)}},U0=Phaser.Renderer.WebGL.Utils,Ta=function(i,t,s,x,E){var A=i.strokeTint,l=U0.getTintAppendFloatAlpha(t.strokeColor,t.strokeAlpha*s);A.TL=l,A.TR=l,A.BL=l,A.BR=l;var T=t.pathData,e=T.length-1,u=t.lineWidth,m=u/2,d=T[0]-x,o=T[1]-E;t.closePath||(e-=2);for(var h=2;h<e;h+=2){var n=T[h]-x,r=T[h+1]-E;i.batchLine(d,o,n,r,m,m,u,h-2,t.closePath?h===e-1:!1),d=n,o=r}};const W0=Phaser.GameObjects.GetCalcMatrix;var k0=function(i,t,s,x){t.dirty&&(t.updateData(),t.dirty=!1),s.addToRenderList(t);var E=i.pipelines.set(t.pipeline),A=W0(t,s,x),l=E.calcMatrix.copyFrom(A.calc),T=t._displayOriginX,e=t._displayOriginY,u=s.alpha*t.alpha;i.pipelines.preBatch(t),t.isFilled&&av(E,l,t,u,T,e),t.isStroked&&Ta(E,t,u,T,e),i.pipelines.postBatch(t)},Kn=function(i,t,s,x){var E=s||t.fillColor,A=x||t.fillAlpha,l=(E&16711680)>>>16,T=(E&65280)>>>8,e=E&255;i.fillStyle="rgba("+l+","+T+","+e+","+A+")"},Zn=function(i,t,s,x){var E=s||t.strokeColor,A=x||t.strokeAlpha,l=(E&16711680)>>>16,T=(E&65280)>>>8,e=E&255;i.strokeStyle="rgba("+l+","+T+","+e+","+A+")",i.lineWidth=t.lineWidth};const H0=Phaser.Renderer.Canvas.SetTransform;var $0=function(i,t,s,x){t.dirty&&(t.updateData(),t.dirty=!1),s.addToRenderList(t);var E=i.currentContext;if(H0(i,E,t,s,x)){var A=t._displayOriginX,l=t._displayOriginY,T=t.pathData,e=T.length-1,u=T[0]-A,m=T[1]-l;E.beginPath(),E.moveTo(u,m),t.closePath||(e-=2);for(var d=2;d<e;d+=2){var o=T[d]-A,h=T[d+1]-l;E.lineTo(o,h)}E.closePath(),t.isFilled&&(Kn(E,t),E.fill()),t.isStroked&&(Zn(E,t),E.stroke()),E.restore()}};const K0={renderWebGL:k0,renderCanvas:$0},Z0=Phaser.GameObjects.Shape,J0=Phaser.Utils.Objects.IsPlainObject,Ql=Phaser.Utils.Objects.GetValue,Q0=Phaser.Geom.Polygon.Earcut;let un=class extends Z0{constructor(t,s,x,E,A,l,T,e){var u,m,d,o;if(J0(s)){var h=s;s=h.x,x=h.y,E=h.width,A=h.height,l=h.radius,T=h.color,e=h.alpha,u=h.strokeColor,m=h.strokeAlpha,d=h.strokeWidth,o=h.shape}s===void 0&&(s=0),x===void 0&&(x=0),E===void 0&&(E=1),A===void 0&&(A=E),l===void 0&&(l=0),o===void 0&&(o=0);var n=new nv;if(super(t,"rexRoundRectangleShape",n),this.setShapeType(o),this.shapeType===0){var r=Ql(l,"radius",l);n.setTo(0,0,E,A,r)}else{var r={x:E/2,y:A/2};n.setTo(0,0,E,A,r)}var f=Ql(l,"iteration",void 0);this.setIteration(f),this.setPosition(s,x),this.setFillStyle(T,e),u!==void 0&&d===void 0&&(d=2),this.setStrokeStyle(d,u,m),this.updateDisplayOrigin(),this.dirty=!0}get fillColor(){return this._fillColor}set fillColor(t){this._fillColor=t,this.isFilled=t!=null&&this._fillAlpha>0}get fillAlpha(){return this._fillAlpha}set fillAlpha(t){this._fillAlpha=t,this.isFilled=t>0&&this._fillColor!=null}setFillStyle(t,s){return s===void 0&&(s=1),this.fillColor=t,this.fillAlpha=s,this}get strokeColor(){return this._strokeColor}set strokeColor(t){this._strokeColor=t,this.isStroked=t!=null&&this._strokeAlpha>0&&this._lineWidth>0}get strokeAlpha(){return this._strokeAlpha}set strokeAlpha(t){this._strokeAlpha=t,this.isStroked=t>0&&this._strokeColor!=null&&this._lineWidth>0}get lineWidth(){return this._lineWidth}set lineWidth(t){this._lineWidth=t,this.isStroked=t>0&&this._strokeColor!=null}setStrokeStyle(t,s,x){return x===void 0&&(x=1),this.lineWidth=t,this.strokeColor=s,this.strokeAlpha=x,this}updateData(){var t=this.geom,s=this.pathData;s.length=0;var x=t.width,E=t.height,A=t.cornerRadius,l,T=this.iteration+1;if(l=A.tl,pr(l))if(l.convex){var e=l.x,u=l.y;ee(e,u,l.x,l.y,180,270,!1,T,s)}else{var e=0,u=0;ee(e,u,l.x,l.y,90,0,!0,T,s)}else pi(0,0,s);if(l=A.tr,pr(l))if(l.convex){var e=x-l.x,u=l.y;ee(e,u,l.x,l.y,270,360,!1,T,s)}else{var e=x,u=0;ee(e,u,l.x,l.y,180,90,!0,T,s)}else pi(x,0,s);if(l=A.br,pr(l))if(l.convex){var e=x-l.x,u=E-l.y;ee(e,u,l.x,l.y,0,90,!1,T,s)}else{var e=x,u=E;ee(e,u,l.x,l.y,270,180,!0,T,s)}else pi(x,E,s);if(l=A.bl,pr(l))if(l.convex){var e=l.x,u=E-l.y;ee(e,u,l.x,l.y,90,180,!1,T,s)}else{var e=0,u=E;ee(e,u,l.x,l.y,360,270,!0,T,s)}else pi(0,E,s);return s.push(s[0],s[1]),this.pathIndexes=Q0(s),this}setShapeType(t){return typeof t=="string"&&(t=j0[t]),this.shapeType=t,this}get width(){return this.geom.width}set width(t){this.resize(t,this.height)}get height(){return this.geom.height}set height(t){this.resize(this.width,t)}setSize(t,s){if(s===void 0&&(s=t),this.geom.width===t&&this.geom.height===s)return this;this.geom.setSize(t,s),this.shapeType===1&&this.setRadius({x:t/2,y:s/2}),this.updateDisplayOrigin(),this.dirty=!0;var x=this.input;return x&&!x.customHitArea&&(x.hitArea.width=t,x.hitArea.height=s),this}resize(t,s){return this.setSize(t,s),this}get radius(){return this.geom.radius}set radius(t){this.geom.setRadius(t),this.updateDisplayOrigin(),this.dirty=!0}get radiusTL(){return this.geom.radiusTL}set radiusTL(t){this.geom.radiusTL=t,this.dirty=!0}get radiusTR(){return this.geom.radiusTR}set radiusTR(t){this.geom.radiusTR=t,this.dirty=!0}get radiusBL(){return this.geom.radiusBL}set radiusBL(t){this.geom.radiusBL=t,this.dirty=!0}get radiusBR(){return this.geom.radiusBR}set radiusBR(t){this.geom.radiusBR=t,this.dirty=!0}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setRadiusTL(t){return t===void 0&&(t=0),this.radiusTL=t,this}setRadiusTR(t){return t===void 0&&(t=0),this.radiusTR=t,this}setRadiusBL(t){return t===void 0&&(t=0),this.radiusBL=t,this}setRadiusBR(t){return t===void 0&&(t=0),this.radiusBR=t,this}get cornerRadius(){return this.geom.cornerRadius}set cornerRadius(t){this.radius=t}setCornerRadius(t){return this.setRadius(t)}get iteration(){return this._iteration}set iteration(t){if(this._iteration===void 0){this._iteration=t;return}this._iteration!==t&&(this._iteration=t,this.dirty=!0)}setIteration(t){return t===void 0&&(t=6),this.iteration=t,this}};var pr=function(i){return i.x>0&&i.y>0};const j0={rectangle:0,circle:1};Object.assign(un.prototype,K0);const q0=Phaser.Renderer.WebGL.Utils;var _0=function(i,t,s,x){if(t.dirty&&(t.updateTexture(),t.dirty=!1),!(t.width===0||t.height===0)){s.addToRenderList(t);var E=t.frame,A=E.width,l=E.height,T=q0.getTintAppendFloatAlpha,e=i.pipelines.set(t.pipeline,t),u=e.setTexture2D(E.glTexture,t);i.pipelines.preBatch(t),e.batchTexture(t,E.glTexture,A,l,t.x,t.y,A/t.resolution,l/t.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,A,l,T(t.tintTopLeft,s.alpha*t._alphaTL),T(t.tintTopRight,s.alpha*t._alphaTR),T(t.tintBottomLeft,s.alpha*t._alphaBL),T(t.tintBottomRight,s.alpha*t._alphaBR),t.tintFill,0,0,s,x,!1,u),i.pipelines.postBatch(t)}},tm=function(i,t,s,x){t.dirty&&(t.updateTexture(),t.dirty=!1),!(t.width===0||t.height===0)&&(s.addToRenderList(t),i.batchSprite(t,t.frame,s,x))};const em={renderWebGL:_0,renderCanvas:tm},im=Phaser.Display.Color,sm={clear(){return this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},fill(i){return this.context.fillStyle=i,this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},drawFrame(i,t,s,x,E,A,l,T,e,u){var m=this.scene.sys.textures.getFrame(i,t);if(!m)return this;var d=m.cutWidth,o=m.cutHeight;s===void 0&&(s=0),x===void 0&&(x=0),E===void 0&&(E=d),A===void 0&&(A=o),l===void 0&&(l=0),T===void 0&&(T=0),e===void 0&&(e=d),u===void 0&&(u=o);var h=m.cutX+l,n=m.cutY+T;return this.context.drawImage(m.source.image,h,n,e,u,s,x,E,A),this.dirty=!0,this},getDataURL(i,t){return this.canvas.toDataURL(i,t)},getPixel(i,t,s){s===void 0&&(s=new im);var x=this.context.getImageData(i,t,1,1);return s.setTo(x.data[0],x.data[1],x.data[2],x.data[3]),s},setPixel(i,t,s,x,E,A){if(typeof s!="number"){var l=s;s=l.red,x=l.green,E=l.blue,A=l.alpha}A===void 0&&(A=s!==0||x!==0||E!==0?255:0);var T=this.context.createImageData(1,1);return T.data[0]=s,T.data[1]=x,T.data[2]=E,T.data[3]=A,this.context.putImageData(T,i,t),this.dirty=!0,this}};var hv=function(i,t,s,x,E,A,l){var T=i.sys.textures,e=i.renderer;x===void 0&&(x=0),E===void 0&&(E=0),A===void 0&&(A=t.width),l===void 0&&(l=t.height);var u;T.exists(s)?u=T.get(s):u=T.createCanvas(s,A,l);var m=u.getSourceImage();m.width!==A&&(m.width=A),m.height!==l&&(m.height=l);var d=m.getContext("2d",{willReadFrequently:!0});d.clearRect(0,0,A,l),d.drawImage(t,x,E,A,l),e.gl&&u&&e.canvasToTexture(m,u.source[0].glTexture,!0,0)};const nm={updateTexture(i,t){i&&(t?i.call(t,this.canvas,this.context):i(this.canvas,this.context)),(this.canvas.width!==this.frame.width||this.canvas.height!==this.frame.height)&&this.frame.setSize(this.canvas.width,this.canvas.height),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(this.canvas,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!1;var s=this.input;return s&&!s.customHitArea&&(s.hitArea.width=this.width,s.hitArea.height=this.height),this},generateTexture(i,t,s,x,E){var A=this.canvas;return x===void 0?x=A.width:x*=this.resolution,E===void 0?E=A.height:E*=this.resolution,hv(this.scene,A,i,t,s,x,E),this},loadTexture(i,t){var s=this.scene.sys.textures.getFrame(i,t);return s?(this.width!==s.cutWidth||this.height!==s.cutHeight?this.setSize(s.cutWidth,s.cutHeight):this.clear(),this.drawFrame(i,t),this.dirty=!0,this):this}};xa();const jl=Phaser.Display.Canvas.CanvasPool,rm=Phaser.GameObjects.GameObject;let Jn=class extends rm{constructor(t,s,x,E,A){s===void 0&&(s=0),x===void 0&&(x=0),E===void 0&&(E=1),A===void 0&&(A=1),super(t,"rexCanvas"),this.renderer=t.sys.game.renderer,this.resolution=1,this._width=E,this._height=A,E=Math.max(Math.ceil(E*this.resolution),1),A=Math.max(Math.ceil(A*this.resolution),1),this.canvas=jl.create(this,E,A),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.dirty=!1,this.setPosition(s,x),this.setOrigin(.5,.5),this.initPipeline(),this.initPostPipeline(!0),this._crop=this.resetCropObject(),this.texture=t.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.dirty=!0}preDestroy(){jl.remove(this.canvas),this.texture.destroy(),this.canvas=null,this.context=null}get width(){return this._width}set width(t){this.setSize(t,this._height)}get height(){return this._height}set height(t){this.setSize(this._width,t)}setCanvasSize(t,s){return this._width===t&&this._height===s?this:(this._width=t,this._height=s,this.updateDisplayOrigin(),t=Math.max(Math.ceil(t*this.resolution),1),s=Math.max(Math.ceil(s*this.resolution),1),this.canvas.width=t,this.canvas.height=s,this.frame.setSize(t,s),this.dirty=!0,this)}setSize(t,s){return this.setCanvasSize(t,s),this}get displayWidth(){return this.scaleX*this._width}set displayWidth(t){this.scaleX=t/this._width}get displayHeight(){return this.scaleY*this._height}set displayHeight(t){this.scaleY=t/this._height}setDisplaySize(t,s){return this.displayWidth=t,this.displayHeight=s,this}getCanvas(t){return t||(this.dirty=!0),this.canvas}getContext(t){return t||(this.dirty=!0),this.context}needRedraw(){return this.dirty=!0,this}resize(t,s){return this.setSize(t,s),this}};const pe=Phaser.GameObjects.Components;Phaser.Class.mixin(Jn,[pe.Alpha,pe.BlendMode,pe.Crop,pe.Depth,pe.Flip,pe.GetBounds,pe.Mask,pe.Origin,pe.Pipeline,pe.PostPipeline,pe.ScrollFactor,pe.Tint,pe.Transform,pe.Visible,em,sm,nm]);const am=Phaser.Utils.String.Pad;var yt=function(i,t,s){if(i==null)return i;switch(typeof i){case"string":return i;case"number":return`#${am(Math.floor(i).toString(16),6,"0",1)}`;case"function":return i(t,s);case"object":return i.hasOwnProperty("r")?i.hasOwnProperty("a")?`rgba(${i.r},${i.g},${i.b},${i.a})`:`rgb(${i.r},${i.g},${i.b})`:i.hasOwnProperty("h")?i.hasOwnProperty("a")?`hsla(${i.h},${i.s},${i.l},${i.a})`:`hsl(${i.h},${i.s},${i.l})`:i;default:return i}};const ql=Phaser.Math.DegToRad;var hm=function(i,t,s,x,E,A,l){var T=new nv(t,s,x,E,A),e=T.minWidth,u=T.minHeight,m=x>=e?1:x/e,d=E>=u?1:E/u,o=T.cornerRadius,h,n,r,f,a,v,p;i.save(),i.beginPath(),i.translate(t,s),h=o.tl,mr(h)?(n=h.x*m,r=h.y*d,gr(h)?(f=n,a=r,Ii(i,f,a,n,r,180,270,!1,l)):(f=0,a=0,Ii(i,f,a,n,r,90,0,!0,l)),v=0,p=r):(i.lineTo(0,0),v=0,p=0),h=o.tr,mr(h)?(n=h.x*m,r=h.y*d,gr(h)?(f=x-n,a=r,Ii(i,f,a,n,r,270,360,!1,l)):(f=x,a=0,Ii(i,f,a,n,r,180,90,!0,l))):i.lineTo(x,0),h=o.br,mr(h)?(n=h.x*m,r=h.y*d,gr(h)?(f=x-n,a=E-r,Ii(i,f,a,n,r,0,90,!1,l)):(f=x,a=E,Ii(i,f,a,n,r,270,180,!0,l))):i.lineTo(x,E),h=o.bl,mr(h)?(n=h.x*m,r=h.y*d,gr(h)?(f=n,a=E-r,Ii(i,f,a,n,r,90,180,!1,l)):(f=0,a=E,Ii(i,f,a,n,r,360,270,!0,l))):i.lineTo(0,E),i.lineTo(v,p),i.closePath(),i.restore()},gr=function(i){return!i.hasOwnProperty("convex")||i.convex},mr=function(i){return i.x>0&&i.y>0},Ii=function(i,t,s,x,E,A,l,T,e){if(T&&l>A?l-=360:!T&&l<A&&(l+=360),A=ql(A),l=ql(l),e==null)i.ellipse(t,s,x,E,0,A,l,T);else{e+=1;for(var u,m,d,o=(l-A)/e,h=0;h<=e;h++)d=A+o*h,u=t+x*Math.cos(d),m=s+E*Math.sin(d),i.lineTo(u,m)}},om=function(i,t,s,x,E,A,l,T,e,u,m,d,o){if(hm(t,s,x,E,A,l,o),T!=null){if(m!=null){var h;d?h=t.createLinearGradient(0,0,E,0):h=t.createLinearGradient(0,0,0,A),h.addColorStop(0,T),h.addColorStop(1,m),T=h}t.fillStyle=T,t.fill()}e!=null&&u>0&&(t.strokeStyle=e,t.lineWidth=u,t.stroke())},ov=function(i,t,s,x,E,A,l,T){if(!(t==null&&s==null)){var e=i.canvas.width,u=i.canvas.height;s==null&&(x=0);var m=x/2;e=Math.max(1,e-x),u=Math.max(1,u-x),om(i.canvas,i.context,m,m,e,u,E,t,s,x,A,l,T)}};Phaser.Utils.Objects.GetValue;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var lm=Phaser.Renderer.WebGL.Utils,um=function(i,t,s,x){if(!(t.width===0||t.height===0)){s.addToRenderList(t);var E=t.frame,A=E.width,l=E.height,T=lm.getTintAppendFloatAlpha,e=i.pipelines.set(t.pipeline,t),u=e.setTexture2D(E.glTexture,t);i.pipelines.preBatch(t),e.batchTexture(t,E.glTexture,A,l,t.x,t.y,A/t.style.resolution,l/t.style.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,A,l,T(t.tintTopLeft,s.alpha*t._alphaTL),T(t.tintTopRight,s.alpha*t._alphaTR),T(t.tintBottomLeft,s.alpha*t._alphaBL),T(t.tintBottomRight,s.alpha*t._alphaBR),t.tintFill,0,0,s,x,!1,u),i.pipelines.postBatch(t)}};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var dm=function(i,t,s,x){t.width===0||t.height===0||(s.addToRenderList(t),i.batchSprite(t,t.frame,s,x))};const fm={renderWebGL:um,renderCanvas:dm},$a=Phaser.Display.Canvas.CanvasPool;var vm=function(i,t,s){s===void 0&&(s={});var x=$a.create(this),E=x.getContext("2d",{willReadFrequently:!0});i.syncFont(x,E);var A=E.measureText(t),l=Math.ceil(A.width*i.baselineX),T=l,e=2*T;if(T=T*i.baselineY|0,x.width=l,x.height=e,E.fillStyle="#f00",E.fillRect(0,0,l,e),E.font=i._font,E.textBaseline="alphabetic",E.fillStyle="#000",E.fillText(i.testString,0,T),s.left=0,l===0||e===0||!E.getImageData(0,0,l,e))return $a.remove(x),s;for(var u=E.getImageData(0,0,l,e).data,m=!1,d=0;d<l;d++){for(var o=0;o<e;o++){var h=(o*l+d)*4;if(u[h]!==255){s.left=d,m=!0;break}}if(m)break}return $a.remove(x),s};xa();const cm=Phaser.GameObjects.GameObject;class lv extends cm{setStyle(t){return this.style.setStyle(t)}setFont(t){return this.style.setFont(t)}setFontFamily(t){return this.style.setFontFamily(t)}setFontSize(t){return this.style.setFontSize(t)}setFontStyle(t){return this.style.setFontStyle(t)}setTestString(t){return this.style.setTestString(t)}setFixedSize(t,s){return this.style.setFixedSize(t,s)}setBackgroundColor(t,s,x){return this.style.setBackgroundColor(t,s,x)}setBackgroundStrokeColor(t,s){return this.style.setBackgroundStrokeColor(t,s)}setBackgroundCornerRadius(t,s){return this.style.setBackgroundCornerRadius(t,s)}setFill(t){return this.style.setFill(t)}setColor(t){return this.style.setColor(t)}setStroke(t,s){return this.style.setStroke(t,s)}setShadow(t,s,x,E,A,l){return this.style.setShadow(t,s,x,E,A,l)}setShadowOffset(t,s){return this.style.setShadowOffset(t,s)}setShadowColor(t){return this.style.setShadowColor(t)}setShadowBlur(t){return this.style.setShadowBlur(t)}setShadowStroke(t){return this.style.setShadowStroke(t)}setShadowFill(t){return this.style.setShadowFill(t)}setWrapMode(t){return this.style.setWrapMode(t)}setWrapWidth(t){return this.style.setWrapWidth(t)}setWordWrapWidth(t){return this.style.setWrapWidth(t)}setAlign(t){return this.style.setHAlign(t)}setHAlign(t){return this.style.setHAlign(t)}setVAlign(t){return this.style.setVAlign(t)}setLineSpacing(t){return this.style.setLineSpacing(t)}set lineSpacing(t){this.setLineSpacing(t)}get lineSpacing(){return this.style.lineSpacing}setXOffset(t){return this.style.setXOffset(t)}setMaxLines(t){return this.style.setMaxLines(t)}setResolution(t){return this.style.setResolution(t)}getTextMetrics(){return this.style.getTextMetrics()}setTextMetrics(t,s){return this.style.setTextMetrics(t,s)}measureTextMargins(t,s){return vm(this.style,t,s)}}const fe=Phaser.GameObjects.Components;Phaser.Class.mixin(lv,[fe.Alpha,fe.BlendMode,fe.ComputedSize,fe.Crop,fe.Depth,fe.Flip,fe.GetBounds,fe.Mask,fe.Origin,fe.Pipeline,fe.PostPipeline,fe.ScrollFactor,fe.Tint,fe.Transform,fe.Visible,fm]);var pm={backgroundColor:["backgroundColor",null,yt],backgroundColor2:["backgroundColor2",null,yt],backgroundHorizontalGradient:["backgroundHorizontalGradient",!0,null],backgroundStrokeColor:["backgroundStrokeColor",null,yt],backgroundStrokeLineWidth:["backgroundStrokeLineWidth",2,null],backgroundCornerRadius:["backgroundCornerRadius",0,null],backgroundCornerIteration:["backgroundCornerIteration",null,null],fontFamily:["fontFamily","Courier",null],fontSize:["fontSize","16px",null],fontStyle:["fontStyle","",null],color:["color","#fff",yt],stroke:["stroke","#fff",yt],strokeThickness:["strokeThickness",0,null],shadowOffsetX:["shadow.offsetX",0,null],shadowOffsetY:["shadow.offsetY",0,null],shadowColor:["shadow.color","#000",yt],shadowBlur:["shadow.blur",0,null],shadowStroke:["shadow.stroke",!1,null],shadowFill:["shadow.fill",!1,null],underlineColor:["underline.color","#000",yt],underlineThickness:["underline.thickness",0,null],underlineOffset:["underline.offset",0,null],strikethroughColor:["strikethrough.color","#000",yt],strikethroughThickness:["strikethrough.thickness",0,null],strikethroughOffset:["strikethrough.offset",0,null],halign:["halign","left",null],valign:["valign","top",null],maxLines:["maxLines",0,null],fixedWidth:["fixedWidth",0,null],fixedHeight:["fixedHeight",0,null],resolution:["resolution",0,null],lineSpacing:["lineSpacing",0,null],xOffset:["xOffset",0,null],rtl:["rtl",!1,null],testString:["testString","|MÃ‰qgy",null],baselineX:["baselineX",1.2,null],baselineY:["baselineY",1.4,null],wrapMode:["wrap.mode",0,null],wrapWidth:["wrap.width",0,null],wrapCallback:["wrap.callback",null],wrapCallbackScope:["wrap.callbackScope",null]};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */const xr=Phaser.Display.Canvas.CanvasPool;var _l=function(i){var t=xr.create(this),s=t.getContext("2d",{willReadFrequently:!0});i.syncFont(t,s);var x=s.measureText(i.testString);if("actualBoundingBoxAscent"in x){var E=x.actualBoundingBoxAscent,A=x.actualBoundingBoxDescent,u={ascent:E,descent:A,fontSize:E+A};return xr.remove(t),u}var l=Math.ceil(x.width*i.baselineX),T=l,e=2*T;T=T*i.baselineY|0,t.width=l,t.height=e,s.fillStyle="#f00",s.fillRect(0,0,l,e),s.font=i._font,s.textBaseline="alphabetic",s.fillStyle="#000",s.fillText(i.testString,0,T);var u={ascent:0,descent:0,fontSize:0};if(!s.getImageData(0,0,l,e))return u.ascent=T,u.descent=T+6,u.fontSize=u.ascent+u.descent,xr.remove(t),u;var m=s.getImageData(0,0,l,e).data,d=m.length,o=l*4,h,n,r=0,f=!1;for(h=0;h<T;h++){for(n=0;n<o;n+=4)if(m[r+n]!==255){f=!0;break}if(!f)r+=o;else break}for(u.ascent=T-h,r=d-o,f=!1,h=e;h>T;h--){for(n=0;n<o;n+=4)if(m[r+n]!==255){f=!0;break}if(!f)r-=o;else break}return u.descent=h-T,u.fontSize=u.ascent+u.descent,xr.remove(t),u},_t={NO_NEWLINE:0,RAW_NEWLINE:1,WRAPPED_NEWLINE:2,NO_WRAP:0,WORD_WRAP:1,CHAR_WRAP:2,SPLITREGEXP:/(?:\r\n|\r|\n)/};const gm=Phaser.Utils.Objects.GetAdvancedValue,Se=Phaser.Utils.Objects.GetValue;let Xo=class{constructor(t,s,x){this.parent=t,x===void 0&&(x=pm),this.propertyMap=x,this.backgroundColor,this.backgroundColor2,this.backgroundHorizontalGradient,this.backgroundStrokeColor,this.backgroundStrokeLineWidth,this.backgroundCornerRadius,this.backgroundCornerIteration,this.fontFamily,this.fontSize,this.fontStyle,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.underlineColor,this.underlineThickness,this.underlineOffset,this.strikethroughColor,this.strikethroughThickness,this.strikethroughOffset,this.halign,this.valign,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.lineSpacing,this.xOffset,this.rtl,this.testString,this.baselineX,this.baselineY,this.wrapMode,this.wrapWidth,this.wrapCallback,this.wrapCallbackScope,this._font,this.setStyle(s,!1,!0)}get isWrapFitMode(){return this.fixedWidth>0&&this.wrapMode!==_t.NO_WRAP&&this.wrapWidth===0}setStyle(t,s,x){if(s===void 0&&(s=!0),x===void 0&&(x=!1),t&&t.hasOwnProperty("wrap")){var E=t.wrap;if(E.hasOwnProperty("mode")){var A=E.mode;typeof A=="string"&&(E.mode=tu[A])}else E.hasOwnProperty("width")&&(E.mode=1)}t&&t.rtl&&x&&!t.hasOwnProperty("halign")&&(t.halign="right"),t&&t.hasOwnProperty("fontSize")&&typeof t.fontSize=="number"&&(t.fontSize=t.fontSize.toString()+"px");var l=this.propertyMap;for(var T in l){var e=l[T],u=e[0],m=x?e[1]:this[T],d=e[2];if(T==="wrapCallback"||T==="wrapCallbackScope")this[T]=Se(t,u,m);else{var o=gm(t,u,m);d&&(o=d(o)),this[T]=o}}var h=Se(t,"font",null);h===null?this._font=this.fontStyle+" "+this.fontSize+" "+this.fontFamily:this._font=h;var n=Se(t,"fill",null);n!==null&&(this.color=yt(n));var r=Se(t,"metrics",!1);return r?this.metrics={ascent:Se(r,"ascent",0),descent:Se(r,"descent",0),fontSize:Se(r,"fontSize",0)}:(s||!this.metrics)&&(this.metrics=_l(this)),s?this.parent.updateText():this.parent}syncFont(t,s){s.font=this._font}syncStyle(t,s){s.textBaseline="alphabetic",s.fillStyle=this.color,s.strokeStyle=this.stroke,s.lineWidth=this.strokeThickness,s.lineCap="round",s.lineJoin="round"}syncShadow(t,s){s?(t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur):(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=0,t.shadowBlur=0)}update(t){return t&&(this._font=`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim(),this.metrics=_l(this)),this.parent.updateText(t)}buildFont(){var t=`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim();return t!==this._font&&(this._font=t),this}setFont(t){return typeof t=="string"?(this.fontFamily=t,this.fontSize="",this.fontStyle=""):(this.fontFamily=Se(t,"fontFamily","Courier"),this.fontSize=Se(t,"fontSize","16px"),this.fontStyle=Se(t,"fontStyle","")),this.update(!0)}setFontFamily(t){return this.fontFamily=t,this.update(!0)}setFontStyle(t){return this.fontStyle=t,this.update(!0)}setFontSize(t){return typeof t=="number"&&(t=t.toString()+"px"),this.fontSize=t,this.update(!0)}setTestString(t){return this.testString=t,this.update(!0)}setFixedSize(t,s){return this.fixedWidth=t,this.fixedHeight=s,t&&(this.parent.width=t),s&&(this.parent.height=s),this.update(this.isWrapFitMode)}setResolution(t){return this.resolution=t,this.update(!1)}setLineSpacing(t){return this.lineSpacing=t,this.update(!1)}setXOffset(t){return this.xOffset=t,this.update(!1)}setBackgroundColor(t,s,x){return x===void 0&&(x=!0),this.backgroundColor=yt(t,this.parent.canvas,this.parent.context),this.backgroundColor2=yt(s,this.parent.canvas,this.parent.context),this.backgroundHorizontalGradient=x,this.update(!1)}setBackgroundStrokeColor(t,s){return this.backgroundStrokeColor=yt(t,this.parent.canvas,this.parent.context),this.backgroundStrokeLineWidth=s,this.update(!1)}setBackgroundCornerRadius(t,s){return this.backgroundCornerRadius=t,this.backgroundCornerIteration=s,this.update(!1)}setFill(t){return this.color=yt(t,this.parent.canvas,this.parent.context),this.update(!1)}setColor(t){return this.color=yt(t,this.parent.canvas,this.parent.context),this.update(!1)}setStroke(t,s){return t===void 0?this.strokeThickness=0:(s===void 0&&(s=this.strokeThickness),this.stroke=yt(t,this.parent.canvas,this.parent.context),this.strokeThickness=s),this.update(!0)}setShadow(t,s,x,E,A,l){return t===void 0&&(t=0),s===void 0&&(s=0),x===void 0&&(x="#000"),E===void 0&&(E=0),A===void 0&&(A=!1),l===void 0&&(l=!0),this.shadowOffsetX=t,this.shadowOffsetY=s,this.shadowColor=yt(x,this.parent.canvas,this.parent.context),this.shadowBlur=E,this.shadowStroke=A,this.shadowFill=l,this.update(!1)}setShadowOffset(t,s){return t===void 0&&(t=0),s===void 0&&(s=t),this.shadowOffsetX=t,this.shadowOffsetY=s,this.update(!1)}setShadowColor(t){return t===void 0&&(t="#000"),this.shadowColor=yt(t,this.parent.canvas,this.parent.context),this.update(!1)}setShadowBlur(t){return t===void 0&&(t=0),this.shadowBlur=t,this.update(!1)}setShadowStroke(t){return this.shadowStroke=t,this.update(!1)}setShadowFill(t){return this.shadowFill=t,this.update(!1)}setUnderline(t,s,x){return t===void 0&&(t="#000"),s===void 0&&(s=0),x===void 0&&(x=0),this.underlineColor=yt(t,this.parent.canvas,this.parent.context),this.underlineThickness=s,this.underlineOffset=x,this.update(!1)}setUnderlineColor(t){return t===void 0&&(t="#000"),this.underlineColor=yt(t,this.parent.canvas,this.parent.context),this.update(!1)}setUnderlineThickness(t){return t===void 0&&(t=0),this.underlineThickness=t,this.update(!1)}setUnderlineOffset(t){return t===void 0&&(t=0),this.underlineOffset=t,this.update(!1)}setStrikethrough(t,s,x){return t===void 0&&(t="#000"),s===void 0&&(s=0),x===void 0&&(x=0),this.strikethroughColor=yt(t,this.parent.canvas,this.parent.context),this.strikethroughThickness=s,this.strikethroughOffset=x,this.update(!1)}setStrikethroughColor(t){return t===void 0&&(t="#000"),this.strikethroughColor=yt(t,this.parent.canvas,this.parent.context),this.update(!1)}setStrikethroughThickness(t){return t===void 0&&(t=0),this.strikethroughThickness=t,this.update(!1)}setStrikethroughOffset(t){return t===void 0&&(t=0),this.strikethroughOffset=t,this.update(!1)}setWrapMode(t){return typeof t=="string"&&(t=tu[t.toLowerCase()]||0),this.wrapMode=t,this.update(!0)}setWrapWidth(t){return this.wrapWidth=t,this.update(!1)}setAlign(t,s){return t===void 0&&(t="left"),s===void 0&&(s="top"),this.halign=t,this.valign=s,this.update(!1)}setHAlign(t){return t===void 0&&(t="left"),this.halign=t,this.update(!1)}setVAlign(t){return t===void 0&&(t="top"),this.valign=t,this.update(!1)}setMaxLines(t){return t===void 0&&(t=0),this.maxLines=t,this.update(!1)}getTextMetrics(){var t=this.metrics;return{ascent:t.ascent,descent:t.descent,fontSize:t.fontSize}}setTextMetrics(t,s){return this.metrics.ascent=t.ascent,this.metrics.descent=t.descent,this.metrics.fontSize=t.fontSize,s&&(typeof s=="string"?(this.fontFamily=s,this.fontSize="",this.fontStyle=""):(this.fontFamily=Se(s,"fontFamily",this.fontFamily),this.fontSize=Se(s,"fontSize",this.fontSize),this.fontStyle=Se(s,"fontStyle",this.fontStyle))),this.parent.updateText(!0)}get lineHeight(){return this.metrics.fontSize+this.strokeThickness+this.lineSpacing}toJSON(){var t={},s=this.propertyMap;for(var x in s)t[x]=this[x];return t.metrics=this.getTextMetrics(),t}destroy(){this.parent=void 0}};const tu={none:_t.NO_WRAP,word:_t.WORD_WRAP,char:_t.CHAR_WRAP,character:_t.CHAR_WRAP},mm={draw(i,t,s,x){var E=this.penManager;this.hitAreaManager.clear();var A=this.context;A.save();var l=this.defaultStyle;this.clear(),ov(this,l.backgroundColor,l.backgroundStrokeColor,l.backgroundStrokeLineWidth,l.backgroundCornerRadius,l.backgroundColor2,l.backgroundHorizontalGradient,l.backgroundCornerIteration),i+=this.startXOffset,t+=this.startYOffset;var T=l.halign,e=l.valign,u,m=l.lineHeight,d=E.lines,o=d.length,h=l.maxLines,n,r,f;h>0&&o>h?(n=h,e==="center"?r=Math.floor((o-n)/2):e==="bottom"?r=o-n:r=0):(n=o,r=0),f=r+n;var a,v,p=this.rtl,c=p?this.parent.width:void 0;e==="center"?v=Math.max((x-n*m)/2,0):e==="bottom"?v=Math.max(x-n*m-2,0):v=0,v+=t;for(var g=r;g<f;g++)if(u=E.getLineWidth(g),u!==0){for(var y=d[g],S=y.length,P=T,C=0;C<S;C++){var M=y[C].prop.align;if(M!==void 0){P=M;break}}P==="center"?a=(s-u)/2:P==="right"?a=p?0:s-u:a=p?s-u:0,a+=i;for(var C=0;C<S;C++)this.drawPen(y[C],a,v,c)}A.restore()},drawPen(i,t,s,x){t+=i.x,s+=i.y+(i.prop.y||0),x!==void 0&&(t=x-t);var E=this.canvas,A=this.context;A.save();var l=this.parser.propToContextStyle(this.defaultStyle,i.prop);if(l.buildFont(),l.syncFont(E,A),l.syncStyle(E,A),l.underlineThickness>0&&i.width>0){var T=s+l.underlineOffset-l.underlineThickness/2;this.drawLine(t,T,i.width,l.underlineThickness,l.underlineColor)}if(i.isTextPen&&this.drawText(t,s,i.text,l),i.isImagePen&&this.drawImage(t,s,i.prop.img,l),l.strikethroughThickness>0&&i.width>0){var T=s+l.strikethroughOffset-l.strikethroughThickness/2;this.drawLine(t,T,i.width,l.strikethroughThickness,l.strikethroughColor)}if(A.restore(),i.hasAreaMarker&&i.width>0){var e,u=i.prop.area;if(u)e={key:u};else{var m=i.prop.url;e={key:`url:${m}`,url:m}}this.hitAreaManager.add(t,s-this.startYOffset,i.width,this.defaultStyle.lineHeight,e)}},clear(){var i=this.canvas;this.context.clearRect(0,0,i.width,i.height)},drawLine(i,t,s,x,E){this.autoRound&&(i=Math.round(i),t=Math.round(t));var A=this.context,l=A.lineCap;A.lineCap="butt",A.strokeStyle=E,A.lineWidth=x,A.beginPath(),A.moveTo(i,t),A.lineTo(i+s,t),A.stroke(),A.lineCap=l},drawText(i,t,s,x){this.autoRound&&(i=Math.round(i),t=Math.round(t));var E=this.context;x.stroke&&x.stroke!=="none"&&x.strokeThickness>0&&(x.syncShadow(E,x.shadowStroke),E.strokeText(s,i,t)),x.color&&x.color!=="none"&&(x.syncShadow(E,x.shadowFill),E.fillText(s,i,t))},drawImage(i,t,s,x){t-=this.startYOffset,this.parent.imageManager.draw(s,this.context,i,t,this.autoRound)}},qi=Phaser.Utils.Objects.GetValue,xm=_t.NO_NEWLINE,eu=_t.RAW_NEWLINE;class ym{constructor(t){this.prop={},this.resetFromJSON(t)}resetFromJSON(t){this.text=qi(t,"text",""),this.x=qi(t,"x",0),this.y=qi(t,"y",0),this.width=qi(t,"width",0);var s=qi(t,"prop",null);s===null&&(s={}),this.prop=s,this.newLineMode=qi(t,"newLineMode",0),this.startIndex=qi(t,"startIndex",0)}get plainText(){var t=this.text;return this.newLineMode===eu&&(t+=`
`),t}get wrapText(){var t=this.text;return this.newLineMode!==xm&&(t+=`
`),t}get rawTextLength(){var t=this.text.length;return this.newLineMode===eu&&(t+=1),t}get endIndex(){return this.startIndex+this.rawTextLength}get lastX(){return this.x+this.width}get isTextPen(){return this.text!==""}get isImagePen(){return!!this.prop.img}get hasAreaMarker(){return!!this.prop.area||!!this.prop.url}}var xs=function(i,t){var s=Array.isArray(i);if(t===void 0?t=s?[]:{}:Ri(t),s){t.length=i.length;for(var x=0,E=i.length;x<E;x++)t[x]=i[x]}else for(var A in i)t[A]=i[A];return t};const iu=Phaser.Utils.Objects.GetFastValue,su=_t.NO_NEWLINE,Tm=_t.WRAPPED_NEWLINE;class Yo{constructor(t){this.pens=[],this.lines=[],this.maxLinesWidth=void 0,this.pensPool=t.pensPool,this.linesPool=t.linesPool,this.tagToText=iu(t,"tagToText",Ge),this.tagToTextScope=iu(t,"tagToTextScope",void 0)}destroy(){this.clear(),this.tagToText=void 0,this.tagToTextScope=void 0}clear(){for(var t=0,s=this.lines.length;t<s;t++)this.lines[t].length=0;this.pensPool.pushMultiple(this.pens),this.linesPool.pushMultiple(this.lines),this.maxLinesWidth=void 0}addTextPen(t,s,x,E,A,l){var T=this.pensPool.pop();return T==null&&(T=new ym),_i.text=t,_i.x=s,_i.y=x,_i.width=E,_i.prop=A,_i.newLineMode=l,T.resetFromJSON(_i),this.addPen(T),this}addImagePen(t,s,x,E){return this.addTextPen("",t,s,x,E,su),this}addNewLinePen(){var t=this.lastPen,s=t?t.lastX:0,x=t?t.y:0,E=t?xs(t.prop):null;return this.addTextPen("",s,x,0,E,Tm),this}addPen(t){var s=this.lastPen;s==null?t.startIndex=0:t.startIndex=s.endIndex,this.pens.push(t);var x=this.lastLine;x==null&&(x=this.linesPool.pop()||[],this.lines.push(x)),x.push(t),t.newLineMode!==su&&(x=this.linesPool.pop()||[],this.lines.push(x)),this.maxLinesWidth=void 0}clone(t){t==null&&(t=new Yo),t.clear();for(var s=0,x=this.lines.length;s<x;s++)for(var E=this.lines[s],A=0,l=E.length;A<l;A++){var T=E[A];t.addPen(T.text,T.x,T.y,T.width,xs(T.prop),T.newLineMode)}return t}get lastPen(){return this.pens[this.pens.length-1]}get lastLine(){return this.lines[this.lines.length-1]}getLineStartIndex(t){if(t>=this.lines.length)return this.getLineEndIndex(t);var s=this.lines[t];return s&&s[0]?s[0].startIndex:0}getLineEndIndex(t){t>=this.lines.length&&(t=this.lines.length-1);var s,x=!1,E;for(s=t;s>=0&&(E=this.lines[s],x=E!=null&&E.length>0,!x);s--);if(!x)return 0;var A=E[E.length-1];return A.endIndex}getLineWidth(t){var s=this.lines[t];if(!s)return 0;var x=s[s.length-1];if(x==null)return 0;var E=x.lastX;return E}getMaxLineWidth(){if(this.maxLinesWidth!==void 0)return this.maxLinesWidth;for(var t,s=0,x=0,E=this.lines.length;x<E;x++)t=this.getLineWidth(x),t>s&&(s=t);return this.maxLinesWidth=s,s}getLineWidths(){for(var t=[],s=0,x=this.lines.length;s<x;s++)t.push(this.getLineWidth(s));return t}get linesCount(){return this.lines.length}get plainText(){for(var t="",s=this.pens,x=0,E=s.length;x<E;x++)t+=s[x].plainText;return t}get rawTextLength(){for(var t=0,s=this.pens,x=0,E=this.pens.length;x<E;x++)t+=s[x].rawTextLength;return t}getSliceTagText(t,s,x){if(t===void 0&&(t=0),s===void 0){var E=this.lastPen;if(E==null)return"";s=E.endIndex}x===void 0&&(x=!1);for(var A="",l,T,e,u,m,d,o,h=0,n=this.pens.length;h<n&&(l=this.pens[h],u=l.endIndex,!(!(u<=t)&&(l=this.pens[h],T=x?l.wrapText:l.plainText,d=l.prop,e=l.startIndex,m=e>=t&&u<=s,m||(T=T.substring(t-e,s-e)),this.tagToTextScope?A+=this.tagToText.call(this.tagToTextScope,T,d,o):A+=this.tagToText(T,d,o),o=d,u>=s)));h++);return A}get length(){return this.lines.length}set length(t){this.clear()}}var _i={};const Cm=Phaser.Geom.Rectangle;var nu=new ci;class Sm{constructor(){this.hitAreas=[]}destroy(){this.clear()}clear(){for(var t=0,s=this.hitAreas.length;t<s;t++)Ri(this.hitAreas[t].data);return nu.pushMultiple(this.hitAreas),this}add(t,s,x,E,A){var l=nu.pop();return l===null?l=new Cm(t,s,x,E):l.setTo(t,s,x,E),l.data=A,this.hitAreas.push(l),this}getFirst(t,s){for(var x=0,E=this.hitAreas.length;x<E;x++){var A=this.hitAreas[x];if(A.contains(t,s))return A}return null}getByKey(t){for(var s=0,x=this.hitAreas.length;s<x;s++){var E=this.hitAreas[s];if(E.data.key===t)return E}return null}drawBounds(t,s,x){s===void 0&&(s=16777215),x&&t.save().scaleCanvas(x.scaleX,x.scaleY).rotateCanvas(x.rotation).translateCanvas(x.x,x.y);for(var E=0,A=this.hitAreas.length;E<A;E++){var l=this.hitAreas[E];t.lineStyle(1,s).strokeRect(l.x,l.y,l.width,l.height)}return x&&t.restore(),this}}var Em=function(){this.parent.on("pointerdown",Pm,this).on("pointerup",Mm,this).on("pointermove",Ka,this).on("pointerover",Ka,this).on("pointerout",function(i,t){Ka.call(this,i,null,null,t)},this)},Pm=function(i,t,s,x){var E=this.hitAreaManager.getFirst(t,s);if(E!==null){var A=E.data.key;_s.call(this,"areadown",A,i,t,s,x),E.data.isDown=!0}},Mm=function(i,t,s,x){var E=this.hitAreaManager.getFirst(t,s);if(E!==null){var A=E.data,l=A.key;if(_s.call(this,"areaup",l,i,t,s,x),A.isDown){_s.call(this,"areaclick",l,i,t,s,x);var T=A.url;T&&window.open(T,"_blank")}A.isDown=!1}},Ka=function(i,t,s,x){if(t===null){this.lastHitAreaKey!==null&&(_s.call(this,"areaout",this.lastHitAreaKey,i,t,s,x),this.hitAreaManager.getByKey(this.lastHitAreaKey).isDown=!1,this.lastHitAreaKey=null);return}var E=this.hitAreaManager.getFirst(t,s),A=E?E.data.key:null;if(this.lastHitAreaKey!==A){if(this.lastHitAreaKey!==null){_s.call(this,"areaout",this.lastHitAreaKey,i,t,s,x);var l=this.hitAreaManager.getByKey(this.lastHitAreaKey);this.urlTagCursorStyle&&l.data.url&&(this.scene.input.manager.canvas.style.cursor=""),l.isDown=!1}A!==null&&(_s.call(this,"areaover",A,i,t,s,x),this.urlTagCursorStyle&&E.data.url&&(this.scene.input.manager.canvas.style.cursor=this.urlTagCursorStyle)),this.lastHitAreaKey=A}},_s=function(i,t,s,x,E,A){this.parent.emit(`${i}-${t}`,s,x,E,A),this.parent.emit(i,t,s,x,E,A)};const Rm=_t.NO_NEWLINE,Am=_t.RAW_NEWLINE,Za=_t.WRAPPED_NEWLINE,ru=_t.NO_WRAP,wm=_t.WORD_WRAP,Om=_t.CHAR_WRAP,Lm=_t.SPLITREGEXP;var uv=function(i,t,s,x,E,A){x<=0&&(s=ru);var l=[];if(!i||!i.length)return l;for(var T=s===ru,e=s===wm,u=i.split(Lm),m,d,o,h=0,n=u.length;h<n;h++){if(m=u[h],o=h===n-1?Rm:Am,T){var r=t(m);l.push(A.getLine(m,r,o));continue}if(d=h===0?x-E:x,m.length<=100){var r=t(m);if(r<=d){l.push(A.getLine(m,r,o));continue}}var f,a;e?(f=m.split(" "),a=f[f.length-1]==="",a&&(f.length-=1)):f=m;for(var v,p,c,g="",y=0,S,P=e?t(" "):void 0,C=0,M=f.length;C<M;C++){if(v=f[C],p=t(v),c=C===M-1,e&&(!c||a)&&(v+=" ",p+=P),e&&p>x){g!==""?l.push(A.getLine(g,y,Za)):C===0&&E>0&&l.push(A.getLine("",0,Za)),l.push(...uv(v,t,Om,x,0,A));var R=l.pop();g=R.text,y=R.width,A.freeLine(R),g===" "&&(g="",y=0);continue}S=y+p,S>d?(l.push(A.getLine(g,y,Za)),g=v,y=p,d=x):(g+=v,y=S),c&&l.push(A.getLine(g,y,o))}}return l};const Ja=Phaser.Utils.Objects.GetValue,Fm=_t.NO_WRAP,Dm=_t.NO_NEWLINE;class dv{constructor(t){this.parent=t.parent,this.scene=this.parent.scene,this.context=Ja(t,"context",null),this.canvas=this.context.canvas,this.parser=Ja(t,"parser",null),this.defaultStyle=Ja(t,"style",null),this.autoRound=!0,this.pensPool=t.pensPool,this.linesPool=t.linesPool,this.wrapTextLinesPool=t.wrapTextLinesPool,this.penManager=this.newPenManager(),this._tmpPenManager=null,this.hitAreaManager=new Sm,this.lastHitAreaKey=null,this.urlTagCursorStyle=null;var s=this.context;this.getTextWidth=function(x){return s.measureText(x).width}}destroy(){this.parent=void 0,this.scene=void 0,this.context=void 0,this.canvas=void 0,this.parser=void 0,this.defaultStyle=void 0,this.penManager&&(this.penManager.destroy(),this.penManager=void 0),this._tmpPenManager&&(this._tmpPenManager.destroy(),this._tmpPenManager=void 0),this.hitAreaManager&&(this.hitAreaManager.destroy(),this.hitAreaManager=void 0),this.pensPool=void 0,this.linesPool=void 0,this.wrapTextLinesPool=void 0}updatePenManager(t,s,x,E,A){if(A===void 0&&(A=this.penManager),A.clear(),t==="")return A;var l=this.parent.style;if(l.isWrapFitMode){var T=this.parent.padding;x=l.fixedWidth-T.left-T.right}for(var e=this.canvas,u=this.context,m=function(L){return u.measureText(L).width},d=0,o=0,h=l.wrapCallback,n=l.wrapCallbackScope,r=!0,f,a,v,p=this.parser.splitText(t),c,g,y=this.wrapTextLinesPool,S=0,P=p.length;S<P;S++)if(c=this.parser.tagTextToProp(p[S],a),f=c.plainText,a=c.prop,a.img){var C=this.imageManager.getOuterWidth(a.img);x>0&&s!==Fm&&x<d+C&&(A.addNewLinePen(),o+=E,d=0),A.addImagePen(d,o,C,xs(a)),d+=C}else if(f!==""){if(u.save(),v=this.parser.propToContextStyle(this.defaultStyle,a),v.buildFont(),v.syncFont(e,u),v.syncStyle(e,u),!h)g=uv(f,m,s,x,d,y);else{g=h.call(n,f,m,x,d),typeof g=="string"&&(g=g.split(`
`));for(var w,M=0,R=g.length;M<R;M++)w=g[M],typeof w=="string"?g[M]=y.getLine(w,m(w),M<R-1?2:0):r=!1}for(var w,M=0,R=g.length;M<R;M++)w=g[M],A.addTextPen(w.text,d,o,w.width,xs(a),w.newLineMode),w.newLineMode!==Dm?(d=0,o+=E):d+=w.width;r&&y.freeLines(g),g=null,u.restore()}for(var S=0,P=this.lines.length;S<P;S++){var O=this.lines[S],F=O[O.length-1];F&&(F.width+=this.parser.getStrokeThinkness(this.defaultStyle,F.prop))}return A}get startXOffset(){var t=this.defaultStyle;return t.strokeThickness/2+t.xOffset}get startYOffset(){var t=this.defaultStyle;return t.strokeThickness/2+t.metrics.ascent}get lines(){return this.penManager.lines}get desplayLinesCount(){var t=this.penManager.linesCount,s=this.defaultStyle.maxLines;return s>0&&t>s&&(t=s),t}get linesWidth(){return Math.ceil(this.penManager.getMaxLineWidth())}get linesHeight(){var t=this.desplayLinesCount,s=this.defaultStyle.lineHeight*t;return t>0&&(s-=this.defaultStyle.lineSpacing),s}get imageManager(){return this.parent.imageManager}get rtl(){return this.parent.style.rtl}newPenManager(){return new Yo({pensPool:this.pensPool,linesPool:this.linesPool,tagToText:this.parser.propToTagText,tagToTextScope:this.parser})}get tmpPenManager(){return this._tmpPenManager===null&&(this._tmpPenManager=this.newPenManager()),this._tmpPenManager}getPlainText(t,s,x){var E;if(t==null)E=this.penManager.plainText;else{var A=this.parser.splitText(t,1);E="";for(var l=0,T=A.length;l<T;l++)E+=A[l]}return(s!=null||x!=null)&&(s==null&&(s=0),x==null&&(x=E.length),E=E.substring(s,x)),E}getPenManager(t,s){if(t===void 0)return this.copyPenManager(s,this.penManager);s===void 0&&(s=this.newPenManager());var x=this.defaultStyle;return this.updatePenManager(t,x.wrapMode,x.wrapWidth,x.lineHeight,s),s}getText(t,s,x,E){if(t==null)return this.penManager.getSliceTagText(s,x,E);var A=this.tmpPenManager,l=this.defaultStyle;return this.updatePenManager(t,l.wrapMode,l.wrapWidth,l.lineHeight,A),A.getSliceTagText(s,x,E)}copyPenManager(t,s){return s===void 0&&(s=this.penManager),s.copy(t)}getTextWidth(t){return t===void 0&&(t=this.penManager),t.getMaxLineWidth()}getLastPen(t){return t===void 0&&(t=this.penManager),t.lastPen}}var bm={setInteractive:Em};Object.assign(dv.prototype,mm,bm);class au extends ci{freeLine(t){if(t)return this.push(t),this}freeLines(t){if(t)return this.pushMultiple(t),this}getLine(t,s,x){var E=this.pop();return E===null&&(E={}),E.text=t,E.width=s,E.newLineMode=x,E}}const Bm=Phaser.Utils.Objects.IsPlainObject,xn=Phaser.Utils.Objects.GetValue;var Qa=function(i,t){Bm(i)?(t=i,i=t.key):t===void 0&&(t={key:i}),t.hasOwnProperty("key")||(t.key=i);var s=t.key,x=t.frame,E=t.width,A=t.height;if(E===void 0||A===void 0){var l=this.textureManager.getFrame(s,x),T=l?l.cutWidth:0,e=l?l.cutHeight:0;E===void 0&&A===void 0?(E=T,A=e):E===void 0?E=T*(A/e):A===void 0&&(A=e*(E/T))}this.images[i]={key:s,frame:x,width:E,height:A,y:xn(t,"y",0),left:xn(t,"left",0),right:xn(t,"right",0),originX:xn(t,"originX",0),originY:xn(t,"originY",0)}},Im=function(i,t,s,x,E){var A=this.get(i),l=this.textureManager.getFrame(A.key,A.frame),T=A.width,e=A.height;s+=A.left-A.originX*T,x+=A.y-A.originY*e,E&&(s=Math.round(s),x=Math.round(x)),t.drawImage(l.source.image,l.cutX,l.cutY,l.cutWidth,l.cutHeight,s,x,T,e)};class Uo{constructor(t){this.textureManager=t.sys.textures,this.images={}}destroy(){this.textureManager=void 0,this.images=void 0}add(t,s){if(typeof t=="string")Qa.call(this,t,s);else if(Array.isArray(t))for(var x=t,E=0,A=x.length;E<A;E++)Qa.call(this,x[E]);else{var x=t;for(var t in x)Qa.call(this,t,x[t])}return this}has(t){return this.images.hasOwnProperty(t)}remove(t){return this.has(t)&&delete this.images[t],this}get(t){return this.has(t)||this.textureManager.exists(t)&&this.add(t),this.images[t]}getOuterWidth(t){var s=this.get(t);return s?s.width+s.left+s.right:0}getFrame(t){var s=this.get(t);return s?this.textureManager.getFrame(s.key,s.frame):void 0}hasTexture(t){return!!this.getFrame(t)}}var Gm={draw:Im};Object.assign(Uo.prototype,Gm);var fv=function(i,t){!i&&i!==0&&(i=""),t===void 0&&(t=!0),Array.isArray(i)&&(i=i.join(`
`));var s;return t?s=`${this.text}
${i}`:s=`${this.text}${i}`,s!=this.text&&this.setText(s),this};const Nm=Phaser.Utils.Objects.IsPlainObject,hu=Phaser.DOM.AddToDOM,ou=Phaser.Display.Canvas.CanvasPool,Vm=Phaser.GameObjects.GameObject,ge=Phaser.Utils.Objects.GetValue,zm=Phaser.DOM.RemoveFromDOM,Xm=_t.SPLITREGEXP;var Fs=null,ja=null,qa=null;class vv extends lv{constructor(t,s,x,E,A,l,T){if(Nm(s)){var e=s;s=ge(e,"x",0),x=ge(e,"y",0),E=ge(e,"text",""),A=ge(e,"style")}if(s===void 0&&(s=0),x===void 0&&(x=0),super(t,l),this.renderer=t.sys.game.renderer,this.setPosition(s,x),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=ou.create(this),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this._imageManager=void 0,A){if(A.hasOwnProperty("align")){var u=A.align;delete A.align,A.halign=u}A.hasOwnProperty("stroke")&&!A.hasOwnProperty("strokeThickness")&&(A.strokeThickness=1)}this.style=new Xo(this,A);var m=ge(A,"images",void 0);m&&this.addImage(m),this.autoRound=!0,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this.texture=t.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null);var d=ge(A,"sharedPool",!0),o,h,n;d?(Fs||(Fs={},ja=new ci,qa=new au,this.scene.game.events.once("destroy",function(){Fs=null,ja=null,qa=null})),Fs.hasOwnProperty(l)||(Fs[l]=new ci),o=Fs[l],h=ja,n=qa):(o=new ci,h=new ci,n=new au),this.canvasText=new dv({parent:this,context:this.context,parser:T,style:this.style,pensPool:o,linesPool:h,wrapTextLinesPool:n}),this.parser=T,this.initRTL(),A&&A.padding&&this.setPadding(A.padding),this.setText(E),this.setUrlTagCursorStyle(ge(A,"urlTagCursorStyle","pointer")),ge(A,"interactive",!1)&&this.setInteractive()}preDestroy(){zm(this.canvas),this.canvasText.destroy(),this.canvasText=void 0,this._imageManager&&(this._imageManager.destroy(),this._imageManager=void 0),ou.remove(this.canvas),this.texture.destroy()}set text(t){this.setText(t)}get text(){return this._text}initRTL(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",hu(this.canvas,this.scene.sys.canvas),this.originX=1)}setRTL(t){t===void 0&&(t=!0);var s=this.style;if(s.rtl===t)return this;if(s.rtl=t,t?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",hu(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),s.halign==="left"?s.halign="right":s.halign==="right"&&(s.halign="left"),this._imageManager){var x=this._imageManager.images;for(var E in x)x[E].originX=1-x[E].originX}return this}setText(t){return t==null?t="":Array.isArray(t)?t=t.join(`
`):t=t.toString(),t===this._text?this:(this._text=t,this.updateText(),this)}setPadding(t,s,x,E){if(typeof t=="object"){var A=t,l=ge(A,"x",null);l!==null?(t=l,x=l):(t=ge(A,"left",0),x=ge(A,"right",t));var T=ge(A,"y",null);T!==null?(s=T,E=T):(s=ge(A,"top",0),E=ge(A,"bottom",s))}else t===void 0&&(t=0),s===void 0&&(s=t),x===void 0&&(x=t),E===void 0&&(E=s);return this.padding.left=t,this.padding.top=s,this.padding.right=x,this.padding.bottom=E,this.updateText(!1)}updateText(t){t===void 0&&(t=!0);var s=this.canvasText,x=this.style;t&&s.updatePenManager(this._text,x.wrapMode,x.wrapWidth,x.lineHeight);var E=this.padding,A,l,T=Math.ceil(s.linesWidth);x.fixedWidth===0?(this.width=T+E.left+E.right,A=T):(this.width=x.fixedWidth,A=this.width-E.left-E.right,A<T&&(A=T)),x.fixedHeight===0?(this.height=s.linesHeight+E.top+E.bottom,l=s.linesHeight):(this.height=x.fixedHeight,l=this.height-E.top-E.bottom,l<s.linesHeight&&(l=s.linesHeight));var e=this.width,u=this.height;this.updateDisplayOrigin();var m=x.resolution;e*=m,u*=m,e=Math.max(Math.ceil(e),1),u=Math.max(Math.ceil(u),1);var d=this.canvas,o=this.context;d.width!==e||d.height!==u?(d.width=e,d.height=u,this.frame.setSize(e,u)):o.clearRect(0,0,e,u),o.save(),o.scale(m,m);var h=this.style.rtl?E.right:E.left,n=E.top;s.draw(h,n,A,l),o.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(d,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0;var r=this.input;return r&&!r.customHitArea&&(r.hitArea.width=this.width,r.hitArea.height=this.height),this}toJSON(){var t=Components.ToJSON(this),s={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),resolution:this.resolution,padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return t.data=s,t}setInteractive(t,s,x){var E=!!this.input;return Vm.prototype.setInteractive.call(this,t,s,x),E||this.canvasText.setInteractive(),this}setUrlTagCursorStyle(t){return this.urlTagCursorStyle=t,this}get urlTagCursorStyle(){return this.canvasText.urlTagCursorStyle}set urlTagCursorStyle(t){this.canvasText.urlTagCursorStyle=t}getWrappedText(t,s,x){return t=this.canvasText.getText(t,s,x,!0),t.split(Xm)}getPlainText(t,s,x){return this.canvasText.getPlainText(t,s,x)}getText(t,s,x,E){return E===void 0&&(E=!1),this.canvasText.getText(t,s,x,E)}getSubString(t,s,x){return this.getText(t,s,x)}copyPenManager(t){return this.canvasText.copyPenManager(t)}getPenManager(t,s){return this.canvasText.getPenManager(t,s)}setSize(t,s){return this.setFixedSize(t,s)}resize(t,s){return this.setFixedSize(t,s)}get imageManager(){return this._imageManager||(this._imageManager=new Uo(this.scene)),this._imageManager}addImage(t,s){return this.imageManager.add(t,s),this}drawAreaBounds(t,s){return this.canvasText.hitAreaManager.drawBounds(t,s,this),this}generateTexture(t,s,x,E,A){var l=this.canvas;return E===void 0?E=l.width:E*=this.resolution,A===void 0?A=l.height:A*=this.resolution,hv(this.scene,l,t,s,x,E,A),this}}var Ym={appendText:fv};Object.assign(vv.prototype,Ym);var Um=function(i,t){for(var s=this.tagRegex,x=[],E=0,A=!1,l=!1;;){var T=s.RE_SPLITTEXT.exec(i);if(!T)break;var e=T[0];if(l)if(s.RE_ESC_CLOSE.test(e))l=!1;else continue;else if(A)if(s.RE_RAW_CLOSE.test(e))A=!1;else continue;else s.RE_ESC_OPEN.test(e)?l=!0:s.RE_RAW_OPEN.test(e)&&(A=!0);var u=s.RE_SPLITTEXT.lastIndex,m=u-e.length;if(E<m){var d=i.substring(E,m);x.push(d)}t===void 0&&x.push(e),E=u}var o=i.length;return E<o&&x.push(i.substring(E,o)),x};const Zt=!1,Kt=!0;var Wm={plainText:null,prevProp:null},km=function(i,t){var s=this.tagRegex;t==null&&(t={});var x="";if(t.img&&Ct(t,Zt,"img"),t.esc)s.RE_ESC_CLOSE.test(i)?Ct(t,Zt,"esc"):x=i;else if(t.raw)s.RE_RAW_CLOSE.test(i)?Ct(t,Zt,"raw"):x=i;else if(s.RE_ESC_OPEN.test(i))Ct(t,Kt,"esc",!0);else if(s.RE_ESC_CLOSE.test(i))Ct(t,Zt,"esc");else if(s.RE_RAW_OPEN.test(i))Ct(t,Kt,"raw",!0);else if(s.RE_RAW_CLOSE.test(i))Ct(t,Zt,"raw");else if(s.RE_BLOD_OPEN.test(i))Ct(t,Kt,"b",!0);else if(s.RE_BLOD_CLOSE.test(i))Ct(t,Zt,"b");else if(s.RE_ITALICS_OPEN.test(i))Ct(t,Kt,"i",!0);else if(s.RE_ITALICS_CLOSE.test(i))Ct(t,Zt,"i");else if(s.RE_WEIGHT_OPEN.test(i)){var E=i.match(s.RE_WEIGHT_OPEN);Ct(t,Kt,"weight",E[1])}else if(s.RE_WEIGHT_CLOSE.test(i))Ct(t,Zt,"weight");else if(s.RE_SIZE_OPEN.test(i)){var E=i.match(s.RE_SIZE_OPEN);Ct(t,Kt,"size",`${E[1]}px`)}else if(s.RE_SIZE_CLOSE.test(i))Ct(t,Zt,"size");else if(s.RE_COLOR_OPEN.test(i)){var E=i.match(s.RE_COLOR_OPEN);Ct(t,Kt,"color",E[1])}else if(s.RE_COLOR_CLOSE.test(i))Ct(t,Zt,"color");else if(s.RE_UNDERLINE_OPEN.test(i))Ct(t,Kt,"u",!0);else if(s.RE_UNDERLINE_OPENC.test(i)){var E=i.match(s.RE_UNDERLINE_OPENC);Ct(t,Kt,"u",E[1])}else if(s.RE_UNDERLINE_CLOSE.test(i))Ct(t,Zt,"u");else if(s.RE_STRIKETHROUGH_OPEN.test(i))Ct(t,Kt,"s",!0);else if(s.RE_STRIKETHROUGH_OPENC.test(i)){var E=i.match(s.RE_STRIKETHROUGH_OPENC);Ct(t,Kt,"s",E[1])}else if(s.RE_STRIKETHROUGH_CLOSE.test(i))Ct(t,Zt,"s");else if(s.RE_SHADOW_OPEN.test(i))Ct(t,Kt,"shadow",!0);else if(s.RE_SHADOW_CLOSE.test(i))Ct(t,Zt,"shadow");else if(s.RE_STROKE_OPEN.test(i))Ct(t,Kt,"stroke",!0);else if(s.RE_STROKE_OPENC.test(i)){var E=i.match(s.RE_STROKE_OPENC);Ct(t,Kt,"stroke",E[1])}else if(s.RE_STROKE_CLOSE.test(i))Ct(t,Zt,"stroke");else if(s.RE_OFFSETY_OPEN.test(i)){var E=i.match(s.RE_OFFSETY_OPEN);Ct(t,Kt,"y",parseFloat(E[1]))}else if(s.RE_OFFSETY_CLOSE.test(i))Ct(t,Zt,"y");else if(s.RE_IMAGE_OPEN.test(i)){var E=i.match(s.RE_IMAGE_OPEN);Ct(t,Kt,"img",E[1])}else if(s.RE_IMAGE_CLOSE.test(i))Ct(t,Zt,"img");else if(s.RE_AREA_OPEN.test(i)){var E=i.match(s.RE_AREA_OPEN);Ct(t,Kt,"area",E[1])}else if(s.RE_AREA_CLOSE.test(i))Ct(t,Zt,"area");else if(s.RE_URL_OPEN.test(i)){var E=i.match(s.RE_URL_OPEN);Ct(t,Kt,"url",E[1])}else if(s.RE_URL_CLOSE.test(i))Ct(t,Zt,"url");else if(s.RE_ALIGN_OPEN.test(i)){var E=i.match(s.RE_ALIGN_OPEN);Ct(t,Kt,"align",E[1])}else s.RE_ALIGN_CLOSE.test(i)?Ct(t,Zt,"align"):x=i;var A=Wm;return A.plainText=x,A.prop=t,A},Ct=function(i,t,s,x){return t===Kt?i[s]=x:i.hasOwnProperty(s)&&delete i[s],i},Hm=function(i,t){var s=Km;if(t.hasOwnProperty("img"))s.image=t.img;else{if(s.image=null,t.hasOwnProperty("family")?s.fontFamily=t.family:s.fontFamily=i.fontFamily,t.hasOwnProperty("size")){var x=t.size;typeof x=="number"&&(x=`${x}px`),s.fontSize=x}else s.fontSize=i.fontSize;s.fontStyle=$m(t),t.hasOwnProperty("color")?s.color=t.color:s.color=i.color,t.hasOwnProperty("stroke")?t.stroke===!0?(s.stroke=i.stroke,s.strokeThickness=i.strokeThickness):(s.stroke=t.stroke,s.strokeThickness=i.strokeThickness):(s.stroke=i.stroke,s.strokeThickness=0)}return t.hasOwnProperty("shadow")?t.shadow===!0?(s.shadowColor=i.shadowColor,s.shadowOffsetX=i.shadowOffsetX,s.shadowOffsetY=i.shadowOffsetY,s.shadowBlur=i.shadowBlur,s.shadowStroke=!0,s.shadowFill=!0):(s.shadowColor=t.shadow,s.shadowOffsetX=i.shadowOffsetX,s.shadowOffsetY=i.shadowOffsetY,s.shadowBlur=i.shadowBlur,s.shadowStroke=!0,s.shadowFill=!0):(s.shadowColor="#000",s.shadowOffsetX=0,s.shadowOffsetY=0,s.shadowBlur=0,s.shadowStroke=!1,s.shadowFill=!1),t.hasOwnProperty("u")?t.u===!0?(s.underlineColor=i.underlineColor,s.underlineThickness=i.underlineThickness,s.underlineOffset=i.underlineOffset):(s.underlineColor=t.u,s.underlineThickness=i.underlineThickness,s.underlineOffset=i.underlineOffset):(s.underlineColor="#000",s.underlineThickness=0,s.underlineOffset=0),t.hasOwnProperty("s")?t.s===!0?(s.strikethroughColor=i.strikethroughColor,s.strikethroughThickness=i.strikethroughThickness,s.strikethroughOffset=i.strikethroughOffset):(s.strikethroughColor=t.s,s.strikethroughThickness=i.strikethroughThickness,s.strikethroughOffset=i.strikethroughOffset):(s.strikethroughColor="#000",s.strikethroughThickness=0,s.strikethroughOffset=0),s},$m=function(i){var t=i.b,s=i.weight,x=i.i;return t||s||x?x?t?"bold italic":s?`${s} italic`:"italic":t?"bold":s.toString():""},Km=new Xo,Zm=function(i,t,s){s==null&&(s=Jm);var x=this.delimiters[0],E=this.delimiters[1],A=[];for(var l in s)t.hasOwnProperty(l)||A.push(`${x}/${l}${E}`);for(var l in t){var T=t[l];if(s[l]!==T)switch(l){case"size":A.push(`${x}size=${T.replace("px","")}${E}`);break;case"color":case"weight":case"stroke":case"y":case"img":case"area":case"url":case"align":A.push(`${x}${l}=${T}${E}`);break;case"u":case"s":T===!0?A.push(`${x}${l}${E}`):A.push(`${x}${l}=${T}${E}`);break;default:A.push(`${x}${l}${E}`);break}}return A.push(i),A.join("")},Jm={},an=function(i){return i.replace(Qm,"\\$&").replace(jm,"\\x2d")},Qm=/[|\\{}()[\]^$+*?.]/g,jm=/-/g,lu,uu,Et={},Jt=function(i,t,s,x){return x===void 0?`${i}${s}${t}`:`${i}${s}=(${x})${t}`},ae=function(i,t,s){return`${i}/${s}${t}`},_a="[-.0-9]+",yr="[a-z]+|#[0-9abcdef]+",Tr="[^\\]]+",cv=function(i,t){if(t===void 0){var s=i;i=s[0],t=s[1]}if(lu===i&&uu===t)return!1;lu=i,uu=t,i=an(i),t=an(t);var x="esc",E=Jt(i,t,x),A=ae(i,t,x),l="raw",T=Jt(i,t,l),e=ae(i,t,l),u="b",m=Jt(i,t,u),d=ae(i,t,u),o="i",h=Jt(i,t,o),n=ae(i,t,o),r="weight",f=Jt(i,t,r,_a),a=ae(i,t,r),v="size",p=Jt(i,t,v,_a),c=ae(i,t,v),g="color",y=Jt(i,t,g,yr),S=ae(i,t,g),P="u",C=Jt(i,t,P),M=Jt(i,t,P,yr),R=ae(i,t,P),w="s",O=Jt(i,t,w),F=Jt(i,t,w,yr),L=ae(i,t,w),b="shadow",B=Jt(i,t,b),I=ae(i,t,b),z="stroke",Y=Jt(i,t,z),W=Jt(i,t,z,yr),H=ae(i,t,z),N="y",X=Jt(i,t,N,_a),D=ae(i,t,N),G="img",V=Jt(i,t,G,Tr),U=ae(i,t,G),k="area",$=Jt(i,t,k,Tr),K=ae(i,t,k),J="url",Q=Jt(i,t,J,Tr),q=ae(i,t,J),_="align",et=Jt(i,t,_,Tr),tt=ae(i,t,_);return Et.RE_ESC_OPEN=new RegExp(E,"i"),Et.RE_ESC_CLOSE=new RegExp(A,"i"),Et.RE_RAW_OPEN=new RegExp(T,"i"),Et.RE_RAW_CLOSE=new RegExp(e,"i"),Et.RE_BLOD_OPEN=new RegExp(m,"i"),Et.RE_BLOD_CLOSE=new RegExp(d,"i"),Et.RE_ITALICS_OPEN=new RegExp(h,"i"),Et.RE_ITALICS_CLOSE=new RegExp(n,"i"),Et.RE_WEIGHT_OPEN=new RegExp(f,"i"),Et.RE_WEIGHT_CLOSE=new RegExp(a,"i"),Et.RE_SIZE_OPEN=new RegExp(p,"i"),Et.RE_SIZE_CLOSE=new RegExp(c,"i"),Et.RE_COLOR_OPEN=new RegExp(y,"i"),Et.RE_COLOR_CLOSE=new RegExp(S,"i"),Et.RE_UNDERLINE_OPEN=new RegExp(C,"i"),Et.RE_UNDERLINE_OPENC=new RegExp(M,"i"),Et.RE_UNDERLINE_CLOSE=new RegExp(R,"i"),Et.RE_STRIKETHROUGH_OPEN=new RegExp(O,"i"),Et.RE_STRIKETHROUGH_OPENC=new RegExp(F,"i"),Et.RE_STRIKETHROUGH_CLOSE=new RegExp(L,"i"),Et.RE_SHADOW_OPEN=new RegExp(B,"i"),Et.RE_SHADOW_CLOSE=new RegExp(I,"i"),Et.RE_STROKE_OPEN=new RegExp(Y,"i"),Et.RE_STROKE_OPENC=new RegExp(W,"i"),Et.RE_STROKE_CLOSE=new RegExp(H,"i"),Et.RE_OFFSETY_OPEN=new RegExp(X,"i"),Et.RE_OFFSETY_CLOSE=new RegExp(D,"i"),Et.RE_IMAGE_OPEN=new RegExp(V,"i"),Et.RE_IMAGE_CLOSE=new RegExp(U,"i"),Et.RE_AREA_OPEN=new RegExp($,"i"),Et.RE_AREA_CLOSE=new RegExp(K,"i"),Et.RE_URL_OPEN=new RegExp(Q,"i"),Et.RE_URL_CLOSE=new RegExp(q,"i"),Et.RE_ALIGN_OPEN=new RegExp(et,"i"),Et.RE_ALIGN_CLOSE=new RegExp(tt,"i"),Et.RE_SPLITTEXT=new RegExp([T,e,E,A,m,d,h,n,f,a,p,c,y,S,C,M,R,O,F,L,B,I,Y,W,H,X,D,V,U,$,K,Q,q,et,tt].join("|"),"ig"),!0},du=function(i,t){return i!==void 0&&cv(i,t),Object.assign({},Et)};const qm=Phaser.Utils.Objects.GetValue;let pv=class{constructor(t){var s=qm(t,"delimiters","[]");this.tagRegex=du(s),this.delimiters=s}getStrokeThinkness(t,s){var x;return s.hasOwnProperty("stroke")?x=t.strokeThickness:x=0,x}setDelimiters(t,s){return cv(t,s)&&(this.tagRegex=du()),this}};var _m={splitText:Um,tagTextToProp:km,propToContextStyle:Hm,propToTagText:Zm};Object.assign(pv.prototype,_m);class tx extends vv{constructor(t,s,x,E,A){var l=new pv(A);super(t,s,x,E,A,"rexBBCodeText",l)}setDelimiters(t,s){return this.parse.setDelimiters(t,s),this}}new Xo;Phaser.Utils.Objects.GetValue;const Cr=Phaser.Utils.Objects.GetValue;var sa=function(i,t){return t===void 0?i:i[t]},Hi=function(i,t,s){i===void 0&&(i={}),t===void 0&&(t=0);var x=typeof t;return x==="string"?i[t]=s:x==="number"?(i.left=t,i.right=t,i.top=t,i.bottom=t):(i.left=Cr(t,"left",0),i.right=Cr(t,"right",0),i.top=Cr(t,"top",0),i.bottom=Cr(t,"bottom",0)),i};let Wo=class{constructor(t,s){this.setParent(t),this.type=s,this.renderable=!1,this.reset().setActive()}destroy(){this.parent.removeChild(this)}setParent(t){return this.parent=t,this}get scene(){return this.parent.scene}get canvas(){return this.parent?this.parent.canvas:null}get context(){return this.parent?this.parent.context:null}setDirty(t){return t&&this.parent&&(this.parent.dirty=!0),this}get active(){return this._active}set active(t){this.setDirty(this._active!=t),this._active=t}setActive(t){return t===void 0&&(t=!0),this.active=t,this}modifyPorperties(t){return this}onFree(){this.reset().setParent()}reset(){return this}render(){}contains(t,s){return!1}};Object.assign(Wo.prototype,ya);const ex={renderContent(){},render(){if(!this.willRender)return this;var i=this.context;if(i.save(),i.globalAlpha=this.alpha,this.toLocalPosition){var t=this.drawX,s=this.drawY;this.autoRound&&(t=Math.round(t),s=Math.round(s)),i.translate(t,s),i.scale(this.scaleX,this.scaleY),i.rotate(this.rotation)}return this.drawBelowCallback&&this.drawBelowCallback(this),this.renderContent(),this.drawAboveCallback&&this.drawAboveCallback(this),i.restore(),this}},ix=Phaser.Math.RotateAround;var sx=function(i,t,s,x){return x===void 0?x={}:x===!0&&(th===void 0&&(th={}),x=th),x.x=(i-s.drawX)/s.scaleX,x.y=(t-s.drawY)/s.scaleY,s.rotation!==0&&ix(x,0,0,-s.rotation),x},th;const nx=Phaser.Geom.Rectangle;var rx=function(i,t){if(this.width===0||this.height===0)return!1;var s=sx(i,t,this,!0);return ax(this).contains(s.x,s.y)},ax=function(i){Sr===void 0&&(Sr=new nx);var t=i.drawTLX,s=i.drawTLY;return Sr.setTo(t,s,i.drawTRX-t,i.drawBLY-s),Sr},Sr;const hx=Phaser.Math.RotateAround;var gv=function(i,t,s,x){return x===void 0?x={}:x===!0&&(eh===void 0&&(eh={}),x=eh),x.x=t,x.y=s,i.rotation!==0&&hx(x,0,0,i.rotation),x.x=x.x*i.scaleX+i.drawX,x.y=x.y*i.scaleY+i.drawY,x},eh;const fu=Phaser.GameObjects.Components.TransformMatrix;var ox=function(i,t,s,x){x===void 0?x={}:x===!0&&(x=lx);var E=t-i.width*i.originX,A=s-i.height*i.originY;return yn===void 0&&(yn=new fu,vu=new fu),i.parentContainer?i.getWorldTransformMatrix(yn,vu):yn.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),yn.transformPoint(E,A,x),x},yn,vu,lx={},ux=function(i,t,s,x,E){var A=gv(t,s,x,!0),l=ox(i,A.x,A.y,E);return l},mv=function(i,t,s,x,E){typeof s!="number"&&(E=s,s=0,x=0);var A=t.drawCenterX+s,l=t.drawCenterY+x;return ux(i,t,A,l,E)},dx=function(i,t,s){return mv(this.parent,this,i,t,s)},xv={contains:rx,getWorldPosition:dx};Object.assign(xv,ex);const fx=Phaser.Math.DegToRad,vx=Phaser.Math.RadToDeg,Er=Phaser.Utils.Objects.GetValue;class Ts extends Wo{constructor(t,s){super(t,s),this.renderable=!0,this.toLocalPosition=!0,this.originX=0,this.offsetX=0,this.offsetY=0}get visible(){return this._visible}set visible(t){this.setDirty(this._visible!=t),this._visible=t}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}get alpha(){return this._alpha}set alpha(t){this.setDirty(this._alpha!=t),this._alpha=t}setAlpha(t){return this.alpha=t,this}get x(){return this._x}set x(t){this.setDirty(this._x!=t),this._x=t}setX(t){return this.x=t,this}get y(){return this._y}set y(t){this.setDirty(this._y!=t),this._y=t}setY(t){return this.y=t,this}setPosition(t,s){return this.x=t,this.y=s,this}setInitialPosition(t,s){return this.x0=t,this.y0=s,this}get rotation(){return this._rotation}set rotation(t){this.setDirty(this._rotation!=t),this._rotation=t}setRotation(t){return this.rotation=t,this}get angle(){return vx(this._rotation)}set angle(t){this.rotation=fx(t)}setAngle(t){return this.angle=t,this}get scaleX(){return this._scaleX}set scaleX(t){this.setDirty(this._scaleX!==t),this._scaleX=t}setScaleX(t){return this.scaleX=t,this}get width(){return 0}set width(t){}setWidth(t,s){return s===void 0&&(s=!1),this.width=t,s&&(this.scaleY=this.scaleX),this}get leftSpace(){return this._leftSpace}set leftSpace(t){this.setDirty(this._leftSpace!==t),this._leftSpace=t}setLeftSpace(t){return this.leftSpace=t,this}get rightSpace(){return this._rightSpace}set rightSpace(t){this.setDirty(this._rightSpace!==t),this._rightSpace=t}setRightSpace(t){return this.rightSpace=t,this}get outerWidth(){return this.width+this.leftSpace+this.rightSpace}get scaleY(){return this._scaleY}set scaleY(t){this.setDirty(this._scaleY!==t),this._scaleY=t}setScaleY(t){return this.scaleY=t,this}get height(){return 0}set height(t){}setHeight(t,s){return s===void 0&&(s=!1),this.height=t,s&&(this.scaleX=this.scaleY),this}setScale(t,s){return s===void 0&&(s=t),this.scaleX=t,this.scaleY=s,this}setOrigin(t){return this.originX=t,this}setAlign(t){return this.align=t,this}modifyPorperties(t){if(!t)return this;t.hasOwnProperty("x")&&this.setX(t.x),t.hasOwnProperty("y")&&this.setY(t.y),t.hasOwnProperty("rotation")?this.setRotation(t.rotation):t.hasOwnProperty("angle")&&this.setAngle(t.angle),t.hasOwnProperty("alpha")&&this.setAlpha(t.alpha);var s=Er(t,"width",void 0),x=Er(t,"height",void 0),E=Er(t,"scaleX",void 0),A=Er(t,"scaleY",void 0);return s!==void 0?x===void 0&&A===void 0?this.setWidth(s,!0):this.setWidth(s):E!==void 0&&this.setScaleX(E),x!==void 0?s===void 0&&E===void 0?this.setHeight(x,!0):this.setHeight(x):A!==void 0&&this.setScaleY(A),t.hasOwnProperty("leftSpace")&&this.setLeftSpace(t.leftSpace),t.hasOwnProperty("rightSpace")&&this.setRightSpace(t.rightSpace),t.hasOwnProperty("align")&&this.setAlign(t.align),this}setDrawBelowCallback(t){return this.drawBelowCallback=t,this}setDrawAboveCallback(t){return this.drawAboveCallback=t,this}reset(){return this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setLeftSpace(0).setRightSpace(0).setOrigin(0).setAlign().setDrawBelowCallback().setDrawAboveCallback(),this}get willRender(){return this.visible&&this.alpha>0}get drawX(){return this.x+this.leftSpace+this.offsetX-this.originX*this.width}get drawY(){return this.y+this.offsetY}get drawTLX(){return 0}get drawTLY(){return 0}get drawBLX(){return 0}get drawBLY(){return 0}get drawTRX(){return 0}get drawTRY(){return 0}get drawBRX(){return 0}get drawBRY(){return 0}get drawCenterX(){return(this.drawTRX+this.drawTLX)/2}get drawCenterY(){return(this.drawBLY+this.drawTLY)/2}}Object.assign(Ts.prototype,xv);var ki=function(i,t,s){return t.hasOwnProperty(i)?t[i]:s[i]};const ts=Phaser.Utils.Objects.GetValue;class cx extends Ts{constructor(t,s){super(t,"background"),this.setColor(ts(s,"color",null),ts(s,"color2",null),ts(s,"horizontalGradient",!0)),this.setStroke(ts(s,"stroke",null),ts(s,"strokeThickness",2)),this.setCornerRadius(ts(s,"cornerRadius",0),ts(s,"cornerIteration",null))}set color(t){t=yt(t,this.canvas,this.context),this.setDirty(this._color!=t),this._color=t}get color(){return this._color}set color2(t){t=yt(t,this.canvas,this.context),this.setDirty(this._color2!=t),this._color2=t}get color2(){return this._color2}set horizontalGradient(t){this.setDirty(this._horizontalGradient!=t),this._horizontalGradient=t}get horizontalGradient(){return this._horizontalGradient}setColor(t,s,x){return x===void 0&&(x=!0),this.color=t,this.color2=s,this.horizontalGradient=x,this}set stroke(t){t=yt(t,this.canvas,this.context),this.setDirty(this._stroke!=t),this._stroke=t}get stroke(){return this._stroke}set strokeThickness(t){this.setDirty(this._strokeThickness!=t),this._strokeThickness=t}get strokeThickness(){return this._strokeThickness}setStroke(t,s){return t!=null&&s===void 0&&(s=2),this.stroke=t,this.strokeThickness=s,this}set cornerRadius(t){this.setDirty(this._cornerRadius!=t),this._cornerRadius=t}get cornerRadius(){return this._cornerRadius}set cornerIteration(t){this.setDirty(this._cornerIteration!=t),this._cornerIteration=t}get cornerIteration(){return this._cornerIteration}modifyStyle(t){return t.hasOwnProperty("color")&&this.setColor(t.color,ki("color2",t,this),ki("horizontalGradient",t,this)),t.hasOwnProperty("stroke")&&this.setStroke(t.stroke,ki("strokeThickness",t,this)),t.hasOwnProperty("cornerRadius")&&this.setCornerRadius(t.cornerRadius,ki("cornerIteration",t,this)),this}modifyPorperties(t){return super.modifyPorperties(t),this.modifyStyle(t),this}setCornerRadius(t,s){return this.cornerRadius=t,this.cornerIteration=s,this}renderContent(){ov(this.parent,this.color,this.stroke,this.strokeThickness,this.cornerRadius,this.color2,this.horizontalGradient,this.cornerIteration)}}const Gi=Phaser.Utils.Objects.GetValue;class px extends Ts{constructor(t,s){super(t,"innerbounds"),this.setColor(Gi(s,"color",null),Gi(s,"color2",null),Gi(s,"horizontalGradient",!0)),this.setStroke(Gi(s,"stroke",null),Gi(s,"strokeThickness",2))}set color(t){t=yt(t,this.canvas,this.context),this.setDirty(this._color!=t),this._color=t}get color(){return this._color}set color2(t){t=yt(t,this.canvas,this.context),this.setDirty(this._color2!=t),this._color2=t}get color2(){return this._color2}set horizontalGradient(t){this.setDirty(this._horizontalGradient!=t),this._horizontalGradient=t}get horizontalGradient(){return this._horizontalGradient}setColor(t,s,x){return x===void 0&&(x=!0),this.color=t,this.color2=s,this.horizontalGradient=x,this}set stroke(t){t=yt(t,this.canvas,this.context),this.setDirty(this._stroke!=t),this._stroke=t}get stroke(){return this._stroke}set strokeThickness(t){this.setDirty(this._strokeThickness!=t),this._strokeThickness=t}get strokeThickness(){return this._strokeThickness}setStroke(t,s){return t!=null&&s===void 0&&(s=2),this.stroke=t,this.strokeThickness=s,this}modifyPorperties(t){super.modifyPorperties(t),t.hasOwnProperty("color")&&this.setColor(t.color,Gi(t,"color2",null),Gi(t,"horizontalGradient",!0)),t.hasOwnProperty("stroke")&&this.setStroke(t.stroke,Gi(t,"strokeThickness",2))}renderContent(){var t=this.parent.padding,s=t.left,x=t.top,E=this.parent.width-t.left-t.right,A=this.parent.height-t.top-t.bottom,l=this.context;if(this.color!=null){var T;if(this.color2!=null){var e;this.horizontalGradient?e=l.createLinearGradient(0,0,E,0):e=l.createLinearGradient(0,0,0,A),e.addColorStop(0,this.color),e.addColorStop(1,this.color2),T=e}else T=this.color;l.fillStyle=T,l.fillRect(s,x,E,A)}this.stroke!=null&&this.strokeThickness>0&&(l.strokeStyle=this.stroke,l.lineWidth=this.strokeThickness,l.strokeRect(s,x,E,A))}}const Qt=Phaser.Utils.Objects.GetValue;class Ca{constructor(t,s){this.parent=t,this.set(s)}toJSON(){return{bold:this.bold,italic:this.italic,fontSize:this.fontSize,fontFamily:this.fontFamily,color:this.color,stroke:this.stroke,strokeThickness:this.strokeThickness,shaodwColor:this.shadowColor,shadowBlur:this.shadowBlur,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,offsetX:this.offsetX,offsetY:this.offsetY,leftSpace:this.leftSpace,rightSpace:this.rightSpace,backgroundHeight:this.backgroundHeight,backgroundBottomY:this.backgroundBottomY,align:this.align}}set(t){return this.setBold(Qt(t,"bold",!1)),this.setItalic(Qt(t,"italic",!1)),this.setFontSize(Qt(t,"fontSize","16px")),this.setFontFamily(Qt(t,"fontFamily","Courier")),this.setColor(Qt(t,"color","#fff")),this.setStrokeStyle(Qt(t,"stroke",null),Qt(t,"strokeThickness",0)),this.setShadow(Qt(t,"shadowColor",null),Qt(t,"shadowOffsetX",0),Qt(t,"shadowOffsetY",0),Qt(t,"shadowBlur",0)),this.setOffset(Qt(t,"offsetX",0),Qt(t,"offsetY",0)),this.setSpace(Qt(t,"leftSpace",0),Qt(t,"rightSpace",0)),this.setAlign(Qt(t,"align",void 0)),this.setBackgroundColor(Qt(t,"backgroundColor",null)),this.setBackgroundHeight(Qt(t,"backgroundHeight",void 0)),this.setBackgroundBottomY(Qt(t,"backgroundBottomY",void 0)),this}modify(t){return t.hasOwnProperty("bold")&&this.setBold(t.bold),t.hasOwnProperty("italic")&&this.setItalic(t.italic),t.hasOwnProperty("fontSize")&&this.setFontSize(t.fontSize),t.hasOwnProperty("fontFamily")&&this.setFontFamily(t.fontFamily),t.hasOwnProperty("color")&&this.setColor(t.color),(t.hasOwnProperty("stroke")||t.hasOwnProperty("strokeThickness"))&&this.setStrokeStyle(ki("stroke",t,this),ki("strokeThickness",t,this)),t.hasOwnProperty("shadowColor")&&this.setShadowColor(t.shadowColor),(t.hasOwnProperty("shadowOffsetX")||t.hasOwnProperty("shadowOffsetY"))&&this.setShadowOffset(ki("shadowOffsetX",t,this),ki("shadowOffsetY",t,this)),t.hasOwnProperty("shadowBlur")&&this.setShadowBlur(t.shaodwBlur),t.hasOwnProperty("offsetX")&&this.setOffsetX(t.offsetX),t.hasOwnProperty("offsetY")&&this.setOffsetY(t.offsetY),t.hasOwnProperty("leftSpace")&&this.setLeftSpace(t.leftSpace),t.hasOwnProperty("rightSpace")&&this.setRightSpace(t.rightSpace),t.hasOwnProperty("align")&&this.setAlign(t.align),t.hasOwnProperty("backgroundColor")&&this.setBackgroundColor(t.backgroundColor),t.hasOwnProperty("backgroundHeight")&&this.setBackgroundHeight(t.backgroundHeight),t.hasOwnProperty("backgroundBottomY")&&this.setBackgroundBottomY(t.backgroundBottomY),this}setUpdateTextFlag(){return this.parent&&(this.parent.updateTextFlag=!0),this}clone(){return new Ca(null,this.toJSON())}copyFrom(t){return this.set(t.toJSON()),this}copyTo(t){return t.set(this.toJSON()),this}setBold(t){return t===void 0&&(t=!0),this.bold=t,this.setUpdateTextFlag(),this}setItalic(t){return t===void 0&&(t=!0),this.italic=t,this.setUpdateTextFlag(),this}get fontStyle(){return this.bold&&this.italic?"bold italic":this.bold?"bold":this.italic?"italic":""}setFontSize(t){return typeof t=="number"&&(t=`${t}px`),this.fontSize=t,this.setUpdateTextFlag(),this}setFontFamily(t){return this.fontFamily=t,this.setUpdateTextFlag(),this}get font(){return`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`}setColor(t){return this.color=yt(t),this}get hasFill(){return this.color!=null}setStrokeStyle(t,s){return this.stroke=yt(t),s!==void 0&&(this.strokeThickness=s),this}setStrokeThickness(t){return this.strokeThickness=t,this}get hasStroke(){return this.stroke!=null&&this.strokeThickness>0}setShadowColor(t){return this.shadowColor=yt(t),this}setShadowOffset(t,s){return t===void 0&&(t=0),s===void 0&&(s=0),this.shadowOffsetX=t,this.shadowOffsetY=s,this}setShadowBlur(t){return t===void 0&&(t=0),this.shaodwBlur=t,this}setShadow(t,s,x,E){return this.setShadowColor(t).setShadowOffset(s,x).setShadowBlur(E),this}setBackgroundColor(t){return this.backgroundColor=yt(t),this}get hasBackgroundColor(){return this.backgroundColor!=null}setBackgroundHeight(t){return this.backgroundHeight=t,this}setBackgroundBottomY(t){return this.backgroundBottomY=t,this}setOffsetX(t){return t===void 0&&(t=0),this.offsetX=t,this}setOffsetY(t){return t===void 0&&(t=0),this.offsetY=t,this}setOffset(t,s){return this.setOffsetX(t).setOffsetY(s),this}setLeftSpace(t){return t===void 0&&(t=0),this.leftSpace=t,this}setRightSpace(t){return t===void 0&&(t=0),this.rightSpace=t,this}setSpace(t,s){return this.setLeftSpace(t).setRightSpace(s),this}setAlign(t){return this.align=t,this}syncFont(t){return t.font=this.font,this}syncStyle(t){t.textBaseline="alphabetic";var s=this.hasFill,x=this.hasStroke;return t.fillStyle=s?this.color:"#000",t.strokeStyle=x?this.stroke:"#000",t.lineWidth=x?this.strokeThickness:0,t.lineCap="round",t.lineJoin="round",this}syncShadow(t){t.shadowColor!=null?(t.shadowColor=this.shadowColor,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowBlur=this.shadowBlur):(t.shadowColor=0,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0)}getTextMetrics(t,s){return this.syncFont(t).syncStyle(t),t.measureText(s)}}var gx=function(i,t){i===void 0&&(i=0),t===void 0&&(t=0);var s=this.fixedWidth!==i||this.fixedHeight!==t;return s?(this.fixedWidth=i,this.fixedHeight=t,this.dirty=!0,this.setCanvasSize(i>0?i:this.width,t>0?t:this.height),this):this},mx=function(i,t){var s=this.padding,x=s.left,E=s.right,A=s.top,l=s.bottom;return Hi(s,i,t),this.dirty=this.dirty||x!=s.left||E!=s.right||A!=s.top||l!=s.bottom,this},xx=function(i){return sa(this.padding,i)},yx=function(i){return this.textStyle.modify(i),this},Tx=function(i){return this.defaultTextStyle.modify(i),this},Cx=function(){return this.textStyle.copyFrom(this.defaultTextStyle),this},Sx=function(i){return this.testString=i,this};const Ex=Phaser.Utils.Array.Remove;var Px=function(i){return this.poolManager.free(i),Ex(this.children,i),this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},Mx=function(){return this.poolManager.freeMultiple(this.children),this.children.length=0,this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this};const Rx=Phaser.Utils.Array.Remove;var Ax=function(i){return Rx(this.children,i),this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},wx=function(){return this.setText(),this},Ox=function(i,t){var s=Array.isArray(i);return t===void 0||t===this.children.length?s?this.children.push(...i):this.children.push(i):s?this.children.splice(t,0,...i):this.children.splice(t,0,i),this.lastAppendedChildren.length=0,s?this.lastAppendedChildren.push(...i):this.lastAppendedChildren.push(i),this};const Ji="text",yv="image",Tv="drawer",Cv="space",ko="command";var Sv=function(i){return i.type===Ji&&i.text===`
`},Ev=function(i){return i.type===Ji&&i.text==="\f"},Lx=function(i){return i.type===Ji&&i.text===" "},hn=function(i){return i.type===Ji},Fx=function(i){return i.type===ko};class Pv extends Ts{constructor(t,s,x){super(t,Ji),this.updateTextFlag=!1,this.style=new Ca(this,x),this.setText(s)}get autoRound(){return this.parent.autoRound}get offsetX(){return this.style.offsetX}set offsetX(t){this.style&&(this.style.offsetX=t)}get offsetY(){return this.style.offsetY}set offsetY(t){this.style&&(this.style.offsetY=t)}get leftSpace(){return this.style.leftSpace*this.scaleX}set leftSpace(t){this.style&&(this.style.leftSpace=t),super.leftSpace=t}get rightSpace(){return this.style.rightSpace*this.scaleX}set rightSpace(t){this.style&&(this.style.rightSpace=t),super.rightSpace=t}get align(){return this.style.align}set align(t){this.style&&(this.style.align=t)}modifyStyle(t){return this.setDirty(!0),this.style.modify(t),this.updateTextFlag&&this.updateTextSize(),this}modifyPorperties(t){return t?(this.modifyStyle(t),super.modifyPorperties(t),this):this}setText(t){return this.setDirty(this.text!=t),this.text=t,this.updateTextSize(),this}updateTextSize(){var t=this.text;if(t===`
`||t==="\f"||t==="")this.clearTextSize();else{var s=this.style.getTextMetrics(this.context,this.text);this.textWidth=s.width;var x,E;"actualBoundingBoxAscent"in s?(x=s.actualBoundingBoxAscent,E=s.actualBoundingBoxDescent):(x=0,E=0),this.textHeight=x+E,this.ascent=x,this.descent=E}return this.updateTextFlag=!1,this}clearTextSize(){return this.textWidth=0,this.textHeight=0,this.ascent=0,this.descent=0,this}copyTextSize(t){return this.textWidth=t.textWidth,this.textHeight=t.textHeight,this.ascent=t.ascent,this.descent=t.descent,this}get width(){return this.textWidth*this.scaleX}set width(t){this.textWidth>0?this.scaleX=t/this.textWidth:this.scaleX=1}get height(){return this.textHeight*this.scaleY}set height(t){this.textHeight>0?this.scaleY=t/this.textHeight:this.scaleY=1}get willRender(){return this.textWidth===0?!1:super.willRender}renderContent(){var t=this.context,s=this.style;if(s.hasBackgroundColor){t.fillStyle=s.backgroundColor;var x=this.drawTLX,E=this.drawTRX-x,A=s.backgroundBottomY;A==null&&(A=this.drawBLY);var l=s.backgroundHeight;l==null&&(l=A-this.drawTLY);var T=A-l;t.fillRect(x,T,E,l)}var e=s.hasFill,u=s.hasStroke;!e&&!u||(s.syncFont(t).syncStyle(t),u&&(s.syncShadow(t),t.strokeText(this.text,0,0)),e&&(s.syncShadow(t),t.fillText(this.text,0,0)))}get drawTLX(){return-this.leftSpace}get drawTLY(){return-this.ascent}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.descent}get drawTRX(){return this.textWidth+this.rightSpace}get drawTRY(){return-this.ascent}get drawBRX(){return this.textWidth+this.rightSpace}get drawBRY(){return this.descent}}var Dx=function(i,t){t&&this.textStyle.modify(t);var s=this.poolManager.allocate(Ji);return s===null?s=new Pv(this,i,this.textStyle):s.setParent(this).setActive().modifyStyle(this.textStyle).setText(i),s},bx=function(i,t){t&&this.textStyle.modify(t);for(var s=[],x=0,E=i.length;x<E;x++){var A=i.charAt(x),l=this.poolManager.allocate(Ji);l===null?l=new Pv(this,A,this.textStyle):l.setParent(this).setActive().modifyStyle(this.textStyle).setText(A),s.push(l)}return s},Qn=function(i,t){var s=this.createCharChildren(i,t);return this.addChild(s),this},Bx=function(i,t){return i===void 0&&(i=""),this.removeChildren(),Qn.call(this,i,t),this.dirty=!0,this},Ix=function(i,t,s){var x=this.createCharChildren(t,s);return i=this.getCharChildIndex(i,!0),this.addChild(x,i),this},Gx=function(i,t){t===void 0&&(t=1);for(var s=0;s<t;s++){var x=this.getCharChildIndex(i,!0);if(x===void 0)break;this.removeChild(this.children[x])}return this},Nx=function(i){var t="";return this.forEachCharChild(function(s){t+=s.text},void 0,i),t};class Vx extends Ts{constructor(t,s,x){super(t,yv),this.setTexture(s,x)}get frameWidth(){return this.frameObj?this.frameObj.cutWidth:0}get frameHeight(){return this.frameObj?this.frameObj.cutHeight:0}get offsetY(){return-this.height}set offsetY(t){}get key(){return this._key}set key(t){this.setDirty(this._key!=t),this._key=t}get frame(){return this._frame}set frame(t){this.setDirty(this._frame!=t),this._frame=t}setTexture(t,s){return this.key=t,this.frame=s,this.frameObj=this.scene.sys.textures.getFrame(t,s),this}get width(){return this.frameWidth*this.scaleX}set width(t){this.setDirty(this.width!==t),this.scaleX=t/this.frameWidth}get height(){return this.frameHeight*this.scaleY}set height(t){this.setDirty(this.height!==t),this.scaleY=t/this.frameHeight}setHeight(t,s){return s===void 0&&(s=!1),this.height=t,s&&(this.scaleX=this.scaleY),this}renderContent(){var t=this.context,s=this.frameObj,x=this.frameWidth,E=this.frameHeight;t.drawImage(s.source.image,s.cutX,s.cutY,x,E,0,0,x,E)}get drawTLX(){return-this.leftSpace}get drawTLY(){return 0}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.frameHeight}get drawTRX(){return this.frameWidth+this.rightSpace}get drawTRY(){return 0}get drawBRX(){return this.frameWidth+this.rightSpace}get drawBRY(){return this.frameHeight}}var zx=function(i,t,s){var x=this.poolManager.allocate(yv);return x===null?x=new Vx(this,i,t):x.setParent(this).setActive().setTexture(i,t),x.modifyPorperties(s),x},Mv=function(i,t,s){var x=this.createImageChild(i,t,s);return this.addChild(x),this};class Xx extends Ts{constructor(t,s,x,E){super(t,Tv),this.setRenderCallback(s),this.setDrawerSize(x,E)}setRenderCallback(t){return t?this.renderContent=t.bind(this):delete this.renderContent,this}setDrawerSize(t,s){return t===!0?(this.toLocalPosition=!1,t=void 0,s=void 0):this.toLocalPosition=!0,t===void 0&&(t=0),s===void 0&&(s=t),this.drawerWidth=t,this.drawerHeight=s,this}onFree(){super.onFree(),this.setRenderCallback()}get width(){return this.drawerWidth*this.scaleX}set width(t){this.setDirty(this.width!==t),this.scaleX=this.drawerWidth>0?t/this.drawerWidth:1}get height(){return this.drawerHeight*this.scaleY}set height(t){this.setDirty(this.height!==t),this.scaleY=this.drawerHeight>0?t/this.drawerHeight:1}get offsetY(){return-this.height}set offsetY(t){}get drawTLX(){return-this.leftSpace}get drawTLY(){return 0}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.drawerHeight}get drawTRX(){return this.drawerWidth+this.rightSpace}get drawTRY(){return 0}get drawBRX(){return this.drawerWidth+this.rightSpace}get drawBRY(){return this.drawerHeight}}var Yx=function(i,t,s){var x=this.poolManager.allocate(Tv);return x===null?x=new Xx(this,i,t,s):x.setParent(this).setActive().setRenderCallback(i).setDrawerSize(t,s),x},Ux=function(i,t,s){var x=this.createDrawerChild(i,t,s);return this.addChild(x),this};let Wx=class extends Ts{constructor(t,s){super(t,Cv),this.setSpaceWidth(s)}get width(){return this.spaceWidth*this.scaleX}set width(t){this.spaceWidth>0?this.scaleX=t/this.spaceWidth:this.scaleX=1}setSpaceWidth(t){return this.spaceWidth=t,this}};var kx=function(i){var t=this.poolManager.allocate(Cv);return t===null?t=new Wx(this,i):t.setParent(this).setActive().setSpaceWidth(i),t},Rv=function(i){var t=this.createSpaceChild(i);return this.addChild(t),this};class Hx extends Wo{constructor(t,s,x,E,A){super(t,ko),this.setName(s).setParameter(E).setCallback(x,A)}setName(t){return this.name=t,this}setParameter(t){return this.param=t,this}setCallback(t,s){return this.callback=t,this.scope=s,this}exec(){var t;return this.scope?t=this.callback.call(this.scope,this.param,this.name):t=this.callback(this.param,this.name),t}onFree(){super.onFree(),this.setName().setCallback().setParameter()}}var $x=function(i,t,s,x){var E=this.poolManager.allocate(ko);return E===null?E=new Hx(this,i,t,s,x):E.setParent(this).setActive().setName(i).setCallback(t,x).setParameter(s),E},pt=function(i,t,s,x){var E=this.createCommandChild(i,t,s,x);return this.addChild(E),this},Kx=function(i){return i===void 0?i={}:typeof i=="object"&&(i=We(i)),this.wrapConfig=i,this},Zx=function(i,t,s,x){x===void 0&&(x={word:[],width:0}),x.word.length=0;for(var E=i.length,A=t,l=x.word,T=0;A<E;){var e=i[A];if(!e.renderable){l.push(e),A++;continue}var u=e.type===Ji?e.text:null;if(u!==null&&u!==" "&&u!==`
`&&u!=="\f")l.push(e),T+=e.outerWidth,A++;else{A===t&&(l.push(e),T+=e.outerWidth);break}if(s)break}return x.width=T,x},Av=function(i){for(var t=0,s=i.length;t<s;t++){var x=i[t];if(x.align!==void 0)return x.align}},wv=function(i,t,s){if(!(t===0&&s===0))for(var x=0,E=i.length;x<E;x++){var A=i[x];A.renderable&&(A.x+=t,A.y+=s)}},Jx=function(i,t,s){var x=i.hAlign,E=i.vAlign,A,l,T=i.linesHeight;switch(E){case 1:case"center":l=(s-T)/2;break;case 2:case"bottom":l=s-T;break;default:l=0;break}for(var e=i.lines,u=0,m=e.length;u<m;u++){var d=e[u],o=d.width,h=d.children,n=Av(h);switch(n===void 0&&(n=x),n){case 1:case"center":A=(t-o)/2;break;case 2:case"right":A=t-o;break;default:A=0;break}wv(h,A,l)}},cu=function(){var i=this.defaultTextStyle.getTextMetrics(this.context,this.testString),t,s;return"actualBoundingBoxAscent"in i?(t=i.actualBoundingBoxAscent,s=i.actualBoundingBoxDescent):(t=0,s=0),Pr.ascent=t,Pr.descent=s,Pr.height=t+s,Pr},Pr={};const Ee=Phaser.Utils.Objects.GetValue;var Qx=function(i){var t=Ee(i,"start",0);Hi(this.wrapPadding,Ee(i,"padding",0));var s=this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom,x=this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,E=Ee(i,"lineHeight"),A=Ee(i,"ascent",E),l;if(E===void 0){var T=Ee(i,"useDefaultTextHeight",!1);if(l=Ee(i,"maxLines",0),this.fixedHeight>0&&!T){var U=this.fixedHeight-s;if(l>0)E=U/l;else{var e=cu.call(this);E=e.height,A=e.ascent,l=Math.floor((U-A)/E)}}else{var e=cu.call(this);E=e.height,A=e.ascent}}else if(this.fixedHeight>0){if(l=Ee(i,"maxLines"),l===void 0){var U=this.fixedHeight-s;l=Math.floor(U/E)}}else l=Ee(i,"maxLines",0);A===void 0&&(A=E);var u=l===0,m=Ee(i,"wrapWidth",void 0);m===void 0&&(this.fixedWidth>0?m=this.fixedWidth-x:m=1/0);for(var d=Ee(i,"letterSpacing",0),o=Ee(i,"hAlign",0),h=Ee(i,"vAlign",0),n=Ee(i,"charWrap",!1),r={callback:"runWordWrap",start:t,isLastPage:!1,padding:this.wrapPadding,ascent:A,lineHeight:E,maxLines:l,wrapWidth:m,letterSpacing:d,hAlign:o,vAlign:h,charWrap:n,children:[],lines:[],maxLineWidth:0,linesHeight:0},f=this.children,a=0,v=f.length;a<v;a++)f[a].setActive(!1);m+=d;for(var p=this.padding.left+this.wrapPadding.left,c=this.padding.top+this.wrapPadding.top+A,g=p,y=c,S=m,P=t,C=f.length,M=r.children,R=r.lines,w=[],O=0,F=0,L,b=!1;P<C;){L=Zx(f,P,n,L);var B=L.word,I=B.length,z=L.width+I*d;P+=I;var Y=Sv(B[0]);b=Ev(B[0]);var W=Y||b;if(S<z||W){if(W){var H=B[0];H.setActive().setPosition(g,y),M.push(H),w.push(H)}g=p,y+=E,S=m,R.push({children:w,width:O}),F=Math.max(F,O),O=0,w=[];var N=b||!u&&R.length===l;if(N)break;if(W)continue}S-=z,O+=z;for(var a=0,v=B.length;a<v;a++){var X=B[a];X.setActive(),M.push(X),w.push(X),X.renderable&&(X.setPosition(g,y),g+=X.outerWidth+d)}}w.length>0&&(R.push({children:w,width:O}),F=Math.max(F,O)),r.start+=M.length,r.isLastPage=!b&&r.start===C,r.maxLineWidth=F,r.linesHeight=R.length*E;var D=this.fixedWidth>0?this.fixedWidth:r.maxLineWidth+x,G=this.fixedHeight>0?this.fixedHeight:r.linesHeight+s,V=D-x,U=G-s;Jx(r,V,U),this.setCanvasSize(D,G);for(var a=0,v=M.length;a<v;a++){var X=M[a];X.renderable&&(X.x0=X.x,X.y0=X.y)}return r};const jx=Phaser.Utils.Objects.Merge;var qx=function(i){return i===void 0&&(i={}),Qx.call(this,jx(i,this.wrapConfig))},_x=function(i,t,s){var x=i.hAlign,E=i.vAlign,A,l,T=i.rtl,e=i.lines,u=i.lineWidth,m=i.linesWidth;switch(x){case 1:case"center":A=(t-m)/2;break;case 2:case"right":A=t-m;break;default:A=0;break}T&&(A+=u);for(var d=0,o=e.length;d<o;d++){var h=e[T?o-d-1:d],n=h.children,r=h.height,f=Av(n);switch(f===void 0&&(f=E),f){case 1:case"center":l=(s-r)/2;break;case 2:case"bottom":l=s-r;break;default:l=0;break}wv(n,A,l),A+=u}};const Pe=Phaser.Utils.Objects.GetValue;var ty=function(i){var t=Pe(i,"start",0);Hi(this.wrapPadding,Pe(i,"padding",0));var s=this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom,x=this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,E=Pe(i,"lineWidth",void 0),A;if(E===void 0)if(A=Pe(i,"maxLines",0),this.fixedWidth>0){var H=this.fixedWidth-x;E=H/A}else E=0;else if(this.fixedWidth>0){if(A=Pe(i,"maxLines",void 0),A===void 0){var H=this.fixedWidth-x;A=Math.floor(H/E)+1}}else A=Pe(i,"maxLines",0);var l=A===0,T=Pe(i,"fixedChildHeight",void 0);if(T===void 0){var e=Pe(i,"charPerLine",void 0);if(e!==void 0){var N=this.fixedHeight-s;T=Math.floor(N/e)}}var u=Pe(i,"wrapHeight",void 0);u===void 0&&(this.fixedHeight>0?u=this.fixedHeight-s:u=1/0);for(var m=Pe(i,"letterSpacing",0),d=Pe(i,"rtl",!0),o=Pe(i,"hAlign",d?2:0),h=Pe(i,"vAlign",0),n={callback:"runVerticalWrap",start:t,isLastPage:!1,padding:this.wrapPadding,lineWidth:E,maxLines:A,fixedChildHeight:T,wrapHeight:u,letterSpacing:m,hAlign:o,vAlign:h,rtl:d,children:[],lines:[],maxLineHeight:0,linesWidth:0},r=this.children,f=0,a=r.length;f<a;f++)r[f].setActive(!1);u+=m;for(var v=this.padding.left+this.wrapPadding.left,p=this.padding.top+this.wrapPadding.top,c=v,g=p,y=u,S=t,P=r.length,C=n.children,M=n.lines,R=[],w=0,O=0;S<P;){var F=r[S];if(S++,!F.renderable){F.setActive(),C.push(F),R.push(F);continue}var L=(T!==void 0?T:F.height)+m,b=Sv(F),B=Ev(F),I=b||B;if(y<L||I){b&&(F.setActive().setPosition(c,g).setOrigin(.5),C.push(F),R.push(F)),c=v,g=p,y=u,M.push({children:R,height:w}),O=Math.max(O,w),w=0,R=[];var z=B||!l&&M.length===A;if(z)break;if(I)continue}y-=L,w+=L,F.setActive().setPosition(c,g).setOrigin(.5),C.push(F),R.push(F),g+=L}R.length>0&&(M.push({children:R,height:w}),O=Math.max(O,w)),n.start+=C.length,n.isLastPage=n.start===P,n.maxLineHeight=O,n.linesWidth=M.length*E;var Y=this.fixedWidth>0?this.fixedWidth:n.linesWidth+x,W=this.fixedHeight>0?this.fixedHeight:n.maxLineHeight+s,H=Y-x,N=W-s;_x(n,H,N),this.setCanvasSize(Y,W);for(var f=0,a=C.length;f<a;f++){var F=C[f];F.renderable&&(F.x0=F.x,F.y0=F.y)}return n};const ey=Phaser.Utils.Objects.Merge;var iy=function(i){return i===void 0&&(i={}),ty.call(this,ey(i,this.wrapConfig))};const pu=Phaser.Utils.Objects.GetValue;var sy=function(i){var t=pu(this.wrapConfig,"callback");return t||(t=pu(i,"callback",this.runWordWrap)),typeof t=="string"&&(t=this[t]),t.call(this,i)};const ny={setVAlign(i){return this.wrapConfig.vAlign=i,this},setHAlign(i){return this.wrapConfig.hAlign=i,this}};var ry=function(){this.clear(),this.setCanvasSize(this.width,this.height),this.background.active&&this.background.render();for(var i,t=0,s=this.children.length;t<s;t++)i=this.children[t],i.active&&i.render();this.innerBounds.active&&this.innerBounds.render()},ay=function(i,t,s){s===void 0&&(s=!0);for(var x=this.children,E=0,A=0,l=x.length;A<l;A++){var T=x[A];if(!(s&&!T.active)){var e;if(t?e=i.call(this,T,E,x):e=i(T,E,x),E++,e)break}}return this},hy=function(i,t,s){s===void 0&&(s=!0);for(var x=this.children,E=0,A=0,l=x.length;A<l;A++){var T=x[A];if(!(s&&!T.active)&&T.renderable&&!T.removed){var e;if(t?e=i.call(this,T,E,x):e=i(T,E,x),E++,e)break}}return this},oy=function(i,t,s){s===void 0&&(s=!0);for(var x=this.children,E=0,A=0,l=x.length;A<l;A++){var T=x[A];if(!(s&&!T.active)&&hn(T)&&!T.removed){var e;if(t?e=i.call(this,T,E,x):e=i(T,E,x),E++,e)break}}return this},ly=function(){return this.children};const uy=Phaser.Utils.Array.GetAll;var dy=function(){return uy(this.children,"active",!0)},fy=function(i,t){return t===void 0&&(t=[]),this.forEachCharChild(function(s){t.push(s)},void 0,i),t},vy=function(){return this.lastAppendedChildren},cy=function(i,t,s,x){typeof t!="number"&&(x=t,t=0,s=0);var E=i.drawCenterX+t,A=i.drawCenterY+s;return gv(i,E,A,x)};const py=Phaser.Math.Distance.BetweenPointsSquared;var gy=function(i,t){var s={x:i,y:t},x=1/0,E=null;return this.forEachRenderableChild(function(A){var l=py(s,cy(A,!0));x>l&&(x=l,E=A)}),E},my=function(i,t,s,x){return typeof i=="number"&&(i=this.getCharChild(i,!0)),mv(this,i,t,s,x)},xy=function(){for(var i=this.children,t=0,s=0,x=0,E=i.length;x<E;x++){var A=i[x];if(!(!A.renderable||!A.active||!A.visible)){var l=A.x0!==void 0?A.x0:A.x,T=A.y0!==void 0?A.y0:A.y;t=Math.max(t,l),s=Math.max(s,T)}}var e=t+this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,u=s+this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom;return(this.width!==e||this.height!==u)&&(this.dirty=!0,this.setCanvasSize(e,u)),this},yy=function(i,t){t===void 0&&(t=!0);for(var s=this.children,x=0,E=s.length;x<E;x++){var A=s[x];if(!(t&&!A.active)&&hn(A)&&!A.removed){if(i===0)return x;i--}}},Ty=function(i,t){t===void 0&&(t=!0);for(var s=this.children,x=0,E=s.length;x<E;x++){var A=s[x];if(!(t&&!A.active)&&hn(A)&&!A.removed){if(i===0)return A;i--}}},Cy=function(i,t){if(typeof i!="number"&&(i=this.children.indexOf(i),i<0))return null;t===void 0&&(t=!0);var s=this.children;i>=s.length&&(i=s.length);for(var x=0,E=0;E<i;E++){var A=s[E];t&&!A.active||hn(A)&&!A.removed&&x++}return x},Sy=function(i){return i===void 0&&(i=!0),this.childrenInteractiveEnable!==i&&(this.lastOverChild=null),this.childrenInteractiveEnable=i,this},Ho=function(x,t,s){for(var x=x,E=0,A=x.length;E<A;E++){var l=x[E];if(!(!l.active||!l.renderable)&&l.contains(t,s))return l}return null},Ey=function(){return this.on("pointerdown",Py,this).on("pointerdown",My,this).on("pointermove",ih,this).on("pointerover",ih,this).on("pointerout",function(i,t){ih.call(this,i,null,null,t)},this),this},Py=function(i,t,s,x){if(this.childrenInteractiveEnable){var E=Ho(this.children,t,s);E&&this.emit("child.pointerdown",E,i,t,s,x)}},My=function(i,t,s,x){if(this.childrenInteractiveEnable){var E=Ho(this.children,t,s);E&&this.emit("child.pointerup",E,i,t,s,x)}},ih=function(i,t,s,x){if(this.childrenInteractiveEnable){if(t===null){this.lastOverChild!==null&&(this.emit("child.pointerout",this.lastOverChild,i,t,s,x),this.lastOverChild=null);return}var E=Ho(this.children,t,s);E!==this.lastOverChild&&(this.lastOverChild!==null&&this.emit("child.pointerout",this.lastOverChild,i,t,s,x),E!==null&&this.emit("child.pointerover",E,i,t,s,x),this.lastOverChild=E)}};const Ry=Phaser.GameObjects.GameObject;var Ay=function(i,t,s){var x=!!this.input;return Ry.prototype.setInteractive.call(this,i,t,s),x||Ey.call(this),this};const wy=Phaser.Utils.Array.BringToTop,Oy=Phaser.Utils.Array.SendToBack,Ly=Phaser.Utils.Array.MoveUp,Fy=Phaser.Utils.Array.MoveDown,Dy=Phaser.Utils.Array.MoveAbove,by=Phaser.Utils.Array.MoveBelow,By={moveChildToFist(i){return Oy(this.children,i),this},moveChildToLast(i){return wy(this.children,i),this},movechildUp(i){return Ly(this.children,i),this},movechildDown(i){return Fy(this.children,i),this},movechildAbove(i,t){return Dy(this.children,i,t),this},movechildBelow(i,t){return by(this.children,i,t),this}},Iy={setBackgroundColor(i,t,s){return this.background.setColor(i,t,s),this},setBackgroundStroke(i,t){return this.background.setStroke(i,t),this},setBackgroundCornerRadius(i,t){return this.background.setCornerRadius(i,t),this}},Gy={setInnerBoundsColor(i,t,s){return this.innerBounds.setColor(i,t,s),this},setInnerBoundsStroke(i,t){return this.innerBounds.setStroke(i,t),this}};var Ov={setFixedSize:gx,setPadding:mx,getPadding:xx,modifyTextStyle:yx,modifyDefaultTextStyle:Tx,resetTextStyle:Cx,setTestString:Sx,removeChild:Px,removeChildren:Mx,popChild:Ax,clearContent:wx,addChild:Ox,createCharChild:Dx,createCharChildren:bx,setText:Bx,appendText:Qn,insertText:Ix,removeText:Gx,getText:Nx,createImageChild:zx,appendImage:Mv,createDrawerChild:Yx,appendDrawer:Ux,createSpaceChild:kx,appendSpace:Rv,createCommandChild:$x,appendCommand:pt,setWrapConfig:Kx,runWordWrap:qx,runVerticalWrap:iy,runWrap:sy,renderContent:ry,forEachChild:ay,forEachRenderableChild:hy,forEachCharChild:oy,getChildren:ly,getActiveChildren:dy,getCharChildren:fy,getLastAppendedChildren:vy,getNearestChild:gy,getCharWorldPosition:my,setToMinSize:xy,getCharChildIndex:yy,getCharChild:Ty,getCharIndex:Cy,setChildrenInteractiveEnable:Sy,setInteractive:Ay};Object.assign(Ov,By,Iy,Gy,ny);const Ny=Phaser.Utils.Objects.GetFastValue;var Vy={};class zy{constructor(t){this.pools=Ny(t,"pools",Vy)}free(t){if(!this.pools)return this;var s=t.type;return this.pools.hasOwnProperty(s)||(this.pools[s]=new ci),this.pools[s].push(t),t.onFree(),this}freeMultiple(t){if(!this.pools)return this;for(var s=0,x=t.length;s<x;s++)this.free(t[s]);return this}allocate(t){return!this.pools||!this.pools.hasOwnProperty(t)?null:this.pools[t].pop()}}const gu=Phaser.Utils.Objects.IsPlainObject,me=Phaser.Utils.Objects.GetValue;class Sa extends Jn{constructor(t,s,x,E,A,l){gu(s)?(l=s,s=me(l,"x",0),x=me(l,"y",0),E=me(l,"width",0),A=me(l,"height",0)):gu(E)&&(l=E,E=me(l,"width",0),A=me(l,"height",0));var T=E===0?1:E,e=A===0?1:A;super(t,s,x,T,e),this.type="rexDynamicText",this.autoRound=!0,this.padding=Hi(),this.wrapPadding=Hi();var u=me(l,"style",void 0);this.defaultTextStyle=new Ca(null,u),this.textStyle=this.defaultTextStyle.clone(),this.setTestString(me(l,"testString","|MÉqgy")),this.background=new cx(this,me(l,"background",void 0)),this.innerBounds=new px(this,me(l,"innerBounds",void 0)),this.children=[],this.lastAppendedChildren=[],this.lastOverChild=null,this.poolManager=new zy(l),this.setFixedSize(E,A),this.setPadding(me(l,"padding",0)),this.setWrapConfig(me(l,"wrap",void 0)),this.setChildrenInteractiveEnable(me(l,"childrenInteractive",!1));var m=me(l,"text",void 0);m&&this.setText(m)}updateTexture(){return this.renderContent(),super.updateTexture(),this}get text(){return this.getText(!0)}set text(t){this.setText(t)}setSize(t,s){return this.setFixedSize(t,s),this}}Object.assign(Sa.prototype,Ov);const Xy={hasProperty(i){var t=this.gameObject;if(t.hasOwnProperty(i))return!0;var s=t[i];return s!==void 0},getProperty(i){return this.gameObject[i]},setProperty(i,t){return this.gameObject[i]=t,this},easeProperty(i,t,s,x,E,A,l,T){T===void 0&&(T=this.gameObject);var e=this.tweens,u=e[i];u&&u.remove();var m={targets:T,duration:s,ease:x,repeat:E,yoyo:A,onComplete:function(){e[i].remove(),e[i]=null,l&&l(T,i)},onCompleteScope:this};return m[i]=t,u=this.scene.tweens.add(m),u.timeScale=this.timeScale,e[i]=u,this},getTweenTask(i){return this.tweens[i]},freeTweens(){var i=this.tweens,t;for(var s in i)t=i[s],t&&t.remove(),i[s]=null;return this}},Yy={hasMethod(i){return typeof this.gameObject[i]=="function"},call(i,...t){if(!this.hasMethod(i))return this;var s=this.gameObject;return s[i].apply(s,t),this}},Uy={hasData(i){var t=this.gameObject;return t.data?t.data.has(i):!1},getData(i){return this.gameObject.getData(i)},setData(i,t){return this.gameObject.setData(i,t),this}};class $o{constructor(t,s,x){this.GOManager=t,this.tweens={},this.effects={},this.setGO(s,x)}get scene(){return this.GOManager.scene}get timeScale(){return this.GOManager.timeScale}destroy(){this.freeGO(),this.GOManager=void 0}freeGO(){return this.freeTweens(),this.gameObject.destroy(),this.gameObject=void 0,this}setGO(t,s){return t.setName(s),this.gameObject=t,this.name=s,this.freeTweens(),this}setTimeScale(t){var s=this.tweens;for(var x in s){var E=s[x];E&&(E.timeScale=t)}return this}}Object.assign($o.prototype,Xy,Yy,Uy);var Ko=function(i){for(var t in i)return!1;return!0},zt=function(i,t){if(!i)return!1;if(i.hasOwnProperty(t))return!0;for(;i;){if(Object.getOwnPropertyDescriptor(i,t))return!0;i=i.__proto__}return!1},ue=function(i){return i.preFX?i.preFX:i.postFX?i.postFX:null},Ht=function(i,t){i._effectSwitchNames||(i._effectSwitchNames=[],i.clearAllEffects=function(){for(var s=i._effectSwitchNames,x=0,E=s.length;x<E;x++)i[s[x]]=null;return i},i.on("destroy",i.clearAllEffects,i)),i._effectSwitchNames.push(t)},Wy=function(i){if(zt(i,"barrel"))return i;var t=ue(i);if(!t)return i;var s;return Object.defineProperty(i,"barrel",{get:function(){return s},set:function(x){s!==x&&(s=x,s===null||s===!1?i._barrelEffect&&(t.remove(i._barrelEffect),i._barrelEffect=void 0):(i._barrelEffect||(i._barrelEffect=t.addBarrel()),i._barrelEffect.amount=s))}}),i.barrel=null,Ht(i,"barrel"),i},re=function(i,t,s){if(zt(i,t))return i;var x=ue(i);if(!x)return i;var E=`_${t}Effect`,A;return Object.defineProperty(i,t,{get:function(){return A},set:function(l){if(A!==l)if(A=l,A===null||A===!1)i[E]&&(x.remove(i[E]),i[E]=void 0);else{i[E]||(i[E]=x.addColorMatrix());var T=i[E];T[t](s===1?l:void 0)}}}),i[t]=null,Ht(i,t),i},ky=function(i){return re(i,"blackWhite"),i},Hy=function(i){if(zt(i,"bloomColor"))return i;var t=ue(i);if(!t)return i;var s,x=1,E=1,A=1,l=1,T=4;return Object.defineProperty(i,"bloomColor",{get:function(){return s},set:function(e){s!==e&&(s=e,s===null||s===!1?i._bloom&&(t.remove(i._bloom),i._bloom=void 0,t.setPadding(0)):(i._bloom||(i._bloom=t.addBloom(s,x,E,A,l,T),t.setPadding(Math.max(x,E)+1)),i._bloom.color=s))}}),Object.defineProperty(i,"bloomOffsetX",{get:function(){return x},set:function(e){if(x!==e&&(x=e,i._bloom)){var u=Math.max(x,E);t.setPadding(u+1),i._bloom.offsetX=x}}}),Object.defineProperty(i,"bloomOffsetY",{get:function(){return E},set:function(e){if(E!==e&&(E=e,i._bloom)){var u=Math.max(x,E);t.setPadding(u+1),i._bloom.offsetY=E}}}),Object.defineProperty(i,"bloomBlurStrength",{get:function(){return A},set:function(e){A!==e&&(A=e,i._bloom&&(i._bloom.blurStrength=A))}}),Object.defineProperty(i,"bloomStrength",{get:function(){return l},set:function(e){l!==e&&(l=e,i._bloom&&(i._bloom.strength=l))}}),Object.defineProperty(i,"bloomSteps",{get:function(){return T},set:function(e){T!==e&&(T=e,i._bloom&&(i._bloom.steps=T))}}),i.bloomColor=null,Ht(i,"bloomColor"),i},$y=function(i){if(zt(i,"blurColor"))return i;var t=ue(i);if(!t)return i;var s,x=0,E=1,A=1,l=1,T=4;return Object.defineProperty(i,"blurColor",{get:function(){return s},set:function(e){s!==e&&(s=e,s===null||s===!1?i._blur&&(t.remove(i._blur),i._blur=void 0,t.setPadding(0)):(i._blur||(i._blur=t.addBlur(x,E,A,l,s,T),t.setPadding(Math.max(E,A)+1)),i._blur.color=s))}}),Object.defineProperty(i,"blurQuality",{get:function(){return x},set:function(e){x!==e&&(x=e,i._blur&&(i._blur.quality=x))}}),Object.defineProperty(i,"blurX",{get:function(){return E},set:function(e){if(E!==e&&(E=e,i._blur)){var u=Math.max(E,A);t.setPadding(u+1),i._blur.x=E}}}),Object.defineProperty(i,"blurY",{get:function(){return A},set:function(e){if(A!==e&&(A=e,i._blur)){var u=Math.max(E,A);t.setPadding(u+1),i._blur.y=A}}}),Object.defineProperty(i,"blurStrength",{get:function(){return l},set:function(e){l!==e&&(l=e,i._blur&&(i._blur.strength=l))}}),Object.defineProperty(i,"blurSteps",{get:function(){return T},set:function(e){T!==e&&(T=e,i._blur&&(i._blur.steps=T))}}),i.blurColor=null,Ht(i,"blurColor"),i},Ky=function(i){if(zt(i,"bokehRadius"))return i;var t=ue(i);if(!t)return i;var s,x=1,E=.2;return Object.defineProperty(i,"bokehRadius",{get:function(){return s},set:function(A){s!==A&&(s=A,s===null||s===!1?i._bokeh&&(t.remove(i._bokeh),i._bokeh=void 0):(i._bokeh||(i._bokeh=t.addBokeh(s,x,E)),i._bokeh.radius=s))}}),Object.defineProperty(i,"bokehAmount",{get:function(){return x},set:function(A){x!==A&&(x=A,i._bokeh&&(i._bokeh.amount=x))}}),Object.defineProperty(i,"bokehContrast",{get:function(){return E},set:function(A){E!==A&&(E=A,i._bokeh&&(i._bokeh.contrast=E))}}),i.bokehRadius=null,Ht(i,"bokehRadius"),i},Zy=function(i){return re(i,"brightness",1),i},Jy=function(i){return re(i,"brown"),i},Qy=function(i){if(zt(i,"circleColor"))return i;var t=ue(i);if(!t)return i;var s,x=8,E=0,A=.4,l=1,T=.005;return Object.defineProperty(i,"circleColor",{get:function(){return s},set:function(e){s!==e&&(s=e,s===null||s===!1?i._circle&&(t.remove(i._circle),i._circle=void 0):(i._circle||(i._circle=t.addCircle(x,s,E,l,T),i.circleBackgroundAlpha=A),i._circle.color=s))}}),Object.defineProperty(i,"circleThickness",{get:function(){return x},set:function(e){x!==e&&(x=e,i._circle&&(i._circle.thickness=x))}}),Object.defineProperty(i,"circleBackgroundColor",{get:function(){return E},set:function(e){E!==e&&(E=e,i._circle&&(i._circle.backgroundColor=E))}}),Object.defineProperty(i,"circleBackgroundAlpha",{get:function(){return A},set:function(e){A!==e&&(A=e,i._circle&&(i._circle.glcolor2[3]=A))}}),Object.defineProperty(i,"circleScale",{get:function(){return l},set:function(e){l!==e&&(l=e,i._circle&&(i._circle.scale=l))}}),Object.defineProperty(i,"circleFeather",{get:function(){return T},set:function(e){T!==e&&(T=e,i._circle&&(i._circle.feather=T))}}),i.circleColor=null,Ht(i,"circleColor"),i},jy=function(i){return re(i,"contrast",1),i},qy=function(i){return re(i,"desaturate",1),i},_y=function(i){return re(i,"desaturateLuminance"),i},t1=function(i){if(zt(i,"displacementKey"))return i;var t=ue(i);if(!t)return i;var s,x=.005,E=.005;return Object.defineProperty(i,"displacementKey",{get:function(){return s},set:function(A){s!==A&&(s=A,s===null||s===!1?i._displacement&&(t.remove(i._displacement),i._displacement=void 0):(i._displacement||(i._displacement=t.addDisplacement(s,x,E)),i._displacement.setTexture(s)))}}),Object.defineProperty(i,"displacementX",{get:function(){return x},set:function(A){x!==A&&(x=A,i._displacement&&(i._displacement.x=x))}}),Object.defineProperty(i,"displacementY",{get:function(){return E},set:function(A){E!==A&&(E=A,i._displacement&&(i._displacement.y=E))}}),i.displacementKey=null,Ht(i,"displacementKey"),i},e1=function(i){if(zt(i,"glowColor"))return i;var t=ue(i);if(!t)return i;var s,x=4,E=0;return Object.defineProperty(i,"glowColor",{get:function(){return s},set:function(A){s!==A&&(s=A,s===null||s===!1?i._glow&&(t.remove(i._glow),i._glow=void 0,t.setPadding(0)):(i._glow||(i._glow=t.addGlow(s,x,E),t.setPadding(x+1)),i._glow.color=s))}}),Object.defineProperty(i,"glowOuterStrength",{get:function(){return x},set:function(A){x!==A&&(x=A,i._glow&&(t.setPadding(x+1),i._glow.outerStrength=x))}}),Object.defineProperty(i,"glowInnerStrength",{get:function(){return E},set:function(A){E!==A&&(E=A,i._glow&&(i._glow.innerStrength=E))}}),i.glowColor=null,Ht(i,"glowColor"),i},i1=function(i){if(zt(i,"gradientColor"))return i;var t=ue(i);if(!t)return i;var s,x,E=.5,A=0,l=0,T=0,e=1,u=0;return Object.defineProperty(i,"gradientColor",{get:function(){return[s,x]},set:function(m){var d,o;m===null||m===!1?(d=null,o=null):(d=m[0],o=m[1]),!(s===d&&x===o)&&(s=d,x=o,s===null||s===!1?i._gradient&&(t.remove(i._gradient),i._gradient=void 0):(i._gradient||(i._gradient=t.addGradient(s,x,E,A,l,T,e,u)),i._gradient.color1=s,i._gradient.color2=x))}}),Object.defineProperty(i,"gradientColor1",{get:function(){return s},set:function(m){if(m===null||m===!1){i.gradientColor=m;return}s!==m&&(s=m,i._gradient&&(i._gradient.color1=s))}}),Object.defineProperty(i,"gradientColor2",{get:function(){return x},set:function(m){if(m===null||m===!1){i.gradientColor=m;return}x!==m&&(x=m,i._gradient&&(i._gradient.color2=x))}}),Object.defineProperty(i,"gradientAlpha",{get:function(){return E},set:function(m){E!==m&&(E=m,i._gradient&&(i._gradient.alpha=E))}}),Object.defineProperty(i,"gradientFromX",{get:function(){return A},set:function(m){A!==m&&(A=m,i._gradient&&(i._gradient.fromX=A))}}),Object.defineProperty(i,"gradientFromY",{get:function(){return l},set:function(m){l!==m&&(l=m,i._gradient&&(i._gradient.fromY=l))}}),Object.defineProperty(i,"gradientToX",{get:function(){return T},set:function(m){T!==m&&(T=m,i._gradient&&(i._gradient.toX=T))}}),Object.defineProperty(i,"gradientToY",{get:function(){return e},set:function(m){e!==m&&(e=m,i._gradient&&(i._gradient.toY=e))}}),Object.defineProperty(i,"gradientSize",{get:function(){return u},set:function(m){u!==m&&(u=m,i._gradient&&(i._gradient.size=u))}}),i.gradientColor=null,Ht(i,"gradientColor"),i},s1=function(i){return re(i,"grayscale",1),i},n1=function(i){return re(i,"hue",1),i},r1=function(i){return re(i,"kodachrome"),i},a1=function(i){return re(i,"lsd"),i},h1=function(i){return re(i,"negative"),i},o1=function(i){if(zt(i,"pixelate"))return i;var t=ue(i);if(!t)return i;var s;return Object.defineProperty(i,"pixelate",{get:function(){return s},set:function(x){s!==x&&(s=x,s===null||s===!1?i._pixelateEffect&&(t.remove(i._pixelateEffect),i._pixelateEffect=void 0):(i._pixelateEffect||(i._pixelateEffect=t.addPixelate()),i._pixelateEffect.amount=s))}}),i.pixelate=null,Ht(i,"pixelate"),i},l1=function(i){return re(i,"polaroid"),i},u1=function(i){if(zt(i,"revealLeft"))return i;var t=ue(i);if(!t)return i;var s,x,E,A,l=.1,T=function(){s=null,x=null,E=null,A=null},e=function(u){u._revealEffect&&(t.remove(u._revealEffect),u._revealEffect=void 0)};return Object.defineProperty(i,"revealLeft",{get:function(){return s},set:function(u){s!==u&&(T(),s=u,s===null||s===!1?e(i):(i._revealEffect||(i._revealEffect=t.addReveal(l,0,0)),i._revealEffect.direction=1,i._revealEffect.axis=0,i._revealEffect.progress=s))}}),Object.defineProperty(i,"revealRight",{get:function(){return x},set:function(u){x!==u&&(T(),x=u,x===null||x===!1?e(i):(i._revealEffect||(i._revealEffect=t.addReveal(l,0,0)),i._revealEffect.direction=0,i._revealEffect.axis=0,i._revealEffect.progress=x))}}),Object.defineProperty(i,"revealUp",{get:function(){return E},set:function(u){E!==u&&(T(),E=u,E===null||E===!1?e(i):(i._revealEffect||(i._revealEffect=t.addReveal(l,0,0)),i._revealEffect.direction=1,i._revealEffect.axis=1,i._revealEffect.progress=E))}}),Object.defineProperty(i,"revealDown",{get:function(){return A},set:function(u){A!==u&&(T(),A=u,A===null||A===!1?e(i):(i._revealEffect||(i._revealEffect=t.addReveal(l,0,0)),i._revealEffect.direction=0,i._revealEffect.axis=1,i._revealEffect.progress=A))}}),Object.defineProperty(i,"revealWidth",{get:function(){return l},set:function(u){l!==u&&(l=u,i._revealEffect&&(i._revealEffect.wipeWidth=l))}}),i.revealLeft=null,Ht(i,"revealLeft"),Ht(i,"revealRight"),Ht(i,"revealUp"),Ht(i,"revealDown"),i},d1=function(i){return re(i,"saturate",1),i},f1=function(i){return re(i,"sepia"),i},v1=function(i){if(zt(i,"shadowColor"))return i;var t=ue(i);if(!t)return i;var s,x=0,E=0,A=.1,l=1,T=6,e=1;return Object.defineProperty(i,"shadowColor",{get:function(){return s},set:function(u){s!==u&&(s=u,s===null||s===!1?i._shadow&&(t.remove(i._shadow),i._shadow=void 0):(i._shadow||(i._shadow=t.addShadow(x,E,A,l,s,T,e)),i._shadow.color=s))}}),Object.defineProperty(i,"shadowX",{get:function(){return x},set:function(u){x!==u&&(x=u,i._shadow&&(i._shadow.x=x))}}),Object.defineProperty(i,"shadowY",{get:function(){return E},set:function(u){E!==u&&(E=u,i._shadow&&(i._shadow.y=E))}}),Object.defineProperty(i,"decay",{get:function(){return A},set:function(u){A!==u&&(A=u,i._shadow&&(i._shadow.decay=A))}}),Object.defineProperty(i,"shadowPower",{get:function(){return l},set:function(u){l!==u&&(l=u,i._shadow&&(i._shadow.power=l))}}),Object.defineProperty(i,"shadowSamples",{get:function(){return T},set:function(u){T!==u&&(T=u,i._shadow&&(i._shadow.samples=T))}}),Object.defineProperty(i,"shadowIntensity",{get:function(){return e},set:function(u){e!==u&&(e=u,i._shadow&&(i._shadow.intensity=e))}}),i.shadowColor=null,Ht(i,"shadowColor"),i},c1=function(i){return re(i,"shiftToBGR"),i},p1=function(i){if(zt(i,"shineSpeed"))return i;var t=ue(i);if(!t)return i;var s,x=.5,E=3;return Object.defineProperty(i,"shineSpeed",{get:function(){return s},set:function(A){s!==A&&(s=A,s===null||s===!1?i._shine&&(t.remove(i._shine),i._shine=void 0):(i._shine||(i._shine=t.addShine(s,x,E)),i._shine.speed=s))}}),Object.defineProperty(i,"shineLineWidth",{get:function(){return x},set:function(A){x!==A&&(x=A,i._shine&&(i._shine.lineWidth=x))}}),Object.defineProperty(i,"shineGradient",{get:function(){return E},set:function(A){E!==A&&(E=A,i._shine&&(i._shine.gradient=E))}}),i.shineSpeed=null,Ht(i,"shineSpeed"),i},g1=function(i){return re(i,"technicolor"),i},m1=function(i){if(zt(i,"tiltShiftRadius"))return i;var t=ue(i);if(!t)return i;var s,x=1,E=.2,A=1,l=1,T=1;return Object.defineProperty(i,"tiltShiftRadius",{get:function(){return s},set:function(e){s!==e&&(s=e,s===null||s===!1?i._tiltShift&&(t.remove(i._tiltShift),i._tiltShift=void 0):(i._tiltShift||(i._tiltShift=t.addTiltShift(s,x,E,A,l,T)),i._tiltShift.radius=s))}}),Object.defineProperty(i,"tiltShiftAmount",{get:function(){return x},set:function(e){x!==e&&(x=e,i._tiltShift&&(i._tiltShift.amount=x))}}),Object.defineProperty(i,"tiltShiftContrast",{get:function(){return E},set:function(e){E!==e&&(E=e,i._tiltShift&&(i._tiltShift.contrast=E))}}),Object.defineProperty(i,"tiltShiftBlurX",{get:function(){return A},set:function(e){A!==e&&(A=e,i._tiltShift&&(i._tiltShift.blurX=A))}}),Object.defineProperty(i,"tiltShiftBlurY",{get:function(){return l},set:function(e){l!==e&&(l=e,i._tiltShift&&(i._tiltShift.blurY=l))}}),Object.defineProperty(i,"tiltShiftStrength",{get:function(){return T},set:function(e){T!==e&&(T=e,i._tiltShift&&(i._tiltShift.strength=T))}}),i.tiltShiftRadius=null,Ht(i,"tiltShiftRadius"),i},x1=function(i){if(zt(i,"vignetteColor"))return i;var t=ue(i);if(!t)return i;var s,x=.5,E=.5,A=.5;return Object.defineProperty(i,"vignetteRadius",{get:function(){return s},set:function(l){s!==l&&(s=l,s===null||s===!1?i._vignette&&(t.remove(i._vignette),i._vignette=void 0):(i._vignette||(i._vignette=t.addVignette(x,E,s,A)),i._vignette.radius=s))}}),Object.defineProperty(i,"vignetteX",{get:function(){return x},set:function(l){x!==l&&(x=l,i._vignette&&(i._vignette.x=x))}}),Object.defineProperty(i,"vignetteY",{get:function(){return E},set:function(l){E!==l&&(E=l,i._vignette&&(i._vignette.y=E))}}),Object.defineProperty(i,"vignetteStrength",{get:function(){return A},set:function(l){A!==l&&(A=l,i._vignette&&(i._vignette.strength=A))}}),i.vignetteRadius=null,Ht(i,"vignetteRadius"),i},y1=function(i){return re(i,"vintagePinhole"),i},T1=function(i){if(zt(i,"wipeLeft"))return i;var t=ue(i);if(!t)return i;var s,x,E,A,l=.1,T=function(){s=null,x=null,E=null,A=null},e=function(u){u._wipeEffect&&(t.remove(u._wipeEffect),u._wipeEffect=void 0)};return Object.defineProperty(i,"wipeLeft",{get:function(){return s},set:function(u){s!==u&&(T(),s=u,s===null||s===!1?e(i):(i._wipeEffect||(i._wipeEffect=t.addWipe(l,0,0)),i._wipeEffect.direction=1,i._wipeEffect.axis=0,i._wipeEffect.progress=s))}}),Object.defineProperty(i,"wipeRight",{get:function(){return x},set:function(u){x!==u&&(T(),x=u,x===null||x===!1?e(i):(i._wipeEffect||(i._wipeEffect=t.addWipe(l,0,0)),i._wipeEffect.direction=0,i._wipeEffect.axis=0,i._wipeEffect.progress=x))}}),Object.defineProperty(i,"wipeUp",{get:function(){return E},set:function(u){E!==u&&(T(),E=u,E===null||E===!1?e(i):(i._wipeEffect||(i._wipeEffect=t.addWipe(l,0,0)),i._wipeEffect.direction=1,i._wipeEffect.axis=1,i._wipeEffect.progress=E))}}),Object.defineProperty(i,"wipeDown",{get:function(){return A},set:function(u){A!==u&&(T(),A=u,A===null||A===!1?e(i):(i._wipeEffect||(i._wipeEffect=t.addWipe(l,0,0)),i._wipeEffect.direction=0,i._wipeEffect.axis=1,i._wipeEffect.progress=A))}}),Object.defineProperty(i,"wipeWidth",{get:function(){return l},set:function(u){l!==u&&(l=u,i._wipeEffect&&(i._wipeEffect.wipeWidth=l))}}),i.wipeLeft=null,Ht(i,"wipeLeft"),Ht(i,"wipeRight"),Ht(i,"wipeUp"),Ht(i,"wipeDown"),i};const Mr={barrel:Wy,blackWhite:ky,bloom:Hy,blur:$y,bokeh:Ky,brightness:Zy,brown:Jy,circle:Qy,contrast:jy,desaturate:qy,desaturateLuminance:_y,displacement:t1,glow:e1,gradient:i1,grayscale:s1,hue:n1,kodachrome:r1,lsd:a1,negative:h1,pixelate:o1,polaroid:l1,reveal:u1,saturate:d1,sepia:f1,shadow:v1,shiftToBGR:c1,shine:p1,technicolor:g1,tiltShift:m1,vignette:x1,vintagePinhole:y1,wipe:T1};var Ea=function(i,t){if(t===void 0)t=!0;else if(typeof t=="string")t={config:!0};else if(Array.isArray(t))for(var s=t,t={},x=0,E=s.length;x<E;x++)t[s[x]]=!0;if(t===!0)for(var A in Mr)Mr[A](i);else for(var A in t)t[A]&&Mr[A]&&Mr[A](i);return i};const Lv=0,Fv=1,To=2,Dv=3,bv=4,Co=5,C1={tint:Lv,alpha:Fv,revealUp:To,revealDown:Dv,revealLeft:bv,revealRight:Co},S1={setGOFadeMode(i){return typeof i=="string"&&(i=C1[i]),this.fadeMode=i,this},setGOFadeTime(i){return this.fadeTime=i,this},useTintFadeEffect(i){return(this.fadeMode===void 0||this.fadeMode===Lv)&&this.fadeTime>0&&i.setTint!==void 0},useAlphaFadeEffect(i){return(this.fadeMode===void 0||this.fadeMode===Fv)&&this.fadeTime>0&&i.setAlpha!==void 0},useRevealEffect(i){return this.fadeMode>=To&&this.fadeMode<=Co&&this.fadeTime>0&&(i.preFX||i.postFX)},fadeBob(i,t,s,x){var E=i.gameObject;if(this.useTintFadeEffect(E))t!==void 0&&i.setProperty("tintGray",255*t),i.easeProperty("tintGray",Math.floor(255*s),this.fadeTime,"Linear",0,!1,x);else if(this.useAlphaFadeEffect(E))t!==void 0&&i.setProperty("alpha",t),i.easeProperty("alpha",s,this.fadeTime,"Linear",0,!1,x);else if(this.useRevealEffect(E)){Ea(E,"reveal");var A;switch(this.fadeMode){case To:A="revealUp";break;case Dv:A="revealDown";break;case bv:A="revealLeft";break;case Co:A="revealRight";break}t===void 0&&(t=0),E[A]=t,i.easeProperty(A,s,this.fadeTime,"Linear",0,!1,x),i.getTweenTask(A).once("complete",function(){E[A]=null})}else x&&x(E);return this}};var Nn=function(i){return i>>16&255},Vn=function(i){return i>>8&255},zn=function(i){return i&255};const E1=~(255<<16)&16777215,P1=16711935,M1=16776960;var R1=function(i,t){return(t&255)<<16|i&E1},A1=function(i,t){return(t&255)<<8|i&P1},w1=function(i,t){return t&255|i&M1},O1=function(i,t,s,x){return(t&255)<<16|(s&255)<<8|x&255},L1=function(i,t){if(i.hasOwnProperty("tintR"))return i;t===void 0&&(t=16777215);var s=Nn(t),x=Vn(t),E=zn(t);return Object.defineProperty(i,"tint",{get:function(){return t},set:function(A){A=Math.floor(A)&16777215,i.setTint&&i.setTint(A),t!==A&&(t=A,s=Nn(t),x=Vn(t),E=zn(t))}}),Object.defineProperty(i,"tintR",{get:function(){return s},set:function(A){A=Math.floor(A)&255,s!==A&&(s=A,i.tint=R1(t,A))}}),Object.defineProperty(i,"tintG",{get:function(){return x},set:function(A){A=Math.floor(A)&255,x!==A&&(x=A,i.tint=A1(t,A))}}),Object.defineProperty(i,"tintB",{get:function(){return E},set:function(A){A=Math.floor(A)&255,E!==A&&(E=A,i.tint=w1(t,A))}}),Object.defineProperty(i,"tintGray",{get:function(){return Math.floor((s+x+E)/3)},set:function(A){A=Math.floor(A)&255,(s!==A||x!==A||E!==A)&&(s=A,x=A,E=A,i.tint=O1(t,A,A,A))}}),i.tint=t,i};const F1=Phaser.Events.EventEmitter;var D1=function(i){if(i.events)return i;var t=new F1,s=i.x;Object.defineProperty(i,"x",{get:function(){return s},set:function(l){s!==l&&(s=l,t.emit("update",i))}});var x=i.y;Object.defineProperty(i,"y",{get:function(){return x},set:function(l){x!==l&&(x=l,t.emit("update",i))}});var E=i.width;Object.defineProperty(i,"width",{get:function(){return E},set:function(l){E!==l&&(E=l,t.emit("update",i))}});var A=i.height;return Object.defineProperty(i,"height",{get:function(){return A},set:function(l){A!==l&&(A=l,t.emit("update",i))}}),i.events=t,i},b1=function(i,t,s,x,E,A){return A===void 0?A={}:A===!0&&(A=B1),typeof s!="number"&&(s=0,x=0),A.x=E.x+E.width*i+s,A.y=E.y+E.height*t+x,A},B1={},I1=function(i,t,s,x,E,A,l){if(i.hasOwnProperty("vp"))return i;typeof s=="function"&&(l=s,s=void 0),typeof E=="function"&&(l=E,E=void 0),s===void 0&&(s=.5),x===void 0&&(x=.5),E===void 0&&(E=0),A===void 0&&(A=0),l===void 0&&(l=b1),D1(t);var T=t.events;i.vp=t;var e=function(){l(s,x,E,A,t,i)};T.on("update",e),i.once("destroy",function(){T.off("update",e),i.vp=void 0}),Object.defineProperty(i,"vpx",{get:function(){return s},set:function(u){s!==u&&(s=u,e())}}),Object.defineProperty(i,"vpy",{get:function(){return x},set:function(u){x!==u&&(x=u,e())}}),Object.defineProperty(i,"vpxOffset",{get:function(){return E},set:function(u){E!==u&&(E=u,e())}}),Object.defineProperty(i,"vpyOffset",{get:function(){return A},set:function(u){A!==u&&(A=u,e())}}),e()};const G1=Phaser.Utils.Array.Remove,N1={has(i){return this.bobs.hasOwnProperty(i)},exists(i){return this.bobs.hasOwnProperty(i)},get(i){return this.bobs[i]},getGO(i){var t=this.get(i);return t?t.gameObject:null},addGO(i,t){this.remove(i,!0),this.useTintFadeEffect(t)&&L1(t),this.viewportCoordinateEnable&&I1(t,this.viewport),this.effectPropertiesConfig&&Ea(t,this.effectPropertiesConfig),t.once("destroy",function(){G1(this.removedGOs,t),this.isEmpty&&this.emit("empty")},this);var s=new this.BobClass(this,t,i);return this.bobs[i]=s,this},add(i,...t){var s=this.createGameObjectCallback,x=this.createGameObjectScope,E=s.call(x,this.scene,...t);this.addGO(i,E);var A=this.get(i);return this.fadeBob(A,0,1),this},forEachGO(i,t){for(var s in this.bobs){var x=this.bobs[s].gameObject,E;if(t?E=i.call(t,x,s,this):E=i(x,s,this),E)break}return this}},V1={remove(i,t){if(!this.has(i))return this;var s=this.get(i);return delete this.bobs[i],this.removedGOs.push(s.gameObject),t?s.destroy():this.fadeBob(s,void 0,0,function(){s.destroy()}),this},removeAll(){var i=this.bobs;for(var t in i)this.remove(t);return this},clear(i){i===void 0&&(i=!0);var t=this.bobs;for(var s in t)i&&t[s].destroy(),delete t[s];return this.removedGOs.length=0,this}},z1={hasProperty(i,t){return this.has(i)?this.get(i).hasProperty(t):!1},getProperty(i,t){if(this.has(i))return this.get(i).getProperty(t)},isNumberProperty(i,t){var s=this.getProperty(i,t);return typeof s=="number"},setProperty(i,t,s){return this.has(i)?(this.symbols&&typeof s=="string"&&this.isNumberProperty(i,t)&&(s in this.symbols?s=this.symbols[s]:console.warn(`Can't find symbol ${s}`)),this.get(i).setProperty(t,s),this):this},easeProperty(i,t,s,x,E,A,l,T){return this.has(i)?(x===void 0&&(x=1e3),E===void 0&&(E="Linear"),A===void 0&&(A=0),l===void 0&&(l=!1),this.symbols&&typeof s=="string"&&this.isNumberProperty(i,t)&&(s in this.symbols?s=this.symbols[s]:console.warn(`Can't find symbol ${s}`)),this.get(i).easeProperty(t,s,x,E,A,l,T),this):this},hasTweenTask(i,t){if(!this.has(i))return!1;var s=this.get(i).tweens;return s.hasOwnProperty(t)},getTweenTask(i,t){if(!this.has(i))return null;var s=this.get(i).tweens,x=s[t];return x||null}},X1={hasMethod(i,t){return this.has(i)?this.get(i).hasMethod(t):!1},call(i,t,...s){return this.has(i)?(this.get(i).call(t,...s),this):this}},Y1={hasData(i,t){return this.has(i)?this.get(i).hasData(t):!1},getData(i,t){if(this.has(i))return this.get(i).getData(t)},setData(i,t,s){return this.has(i)?(this.get(i).setData(t,s),this):this}};var Bt=function(i){return i.displayWidth!==void 0?i.displayWidth:i.width},At=function(i){return i.displayHeight!==void 0?i.displayHeight:i.height};const mu=Phaser.Geom.Rectangle,Ki=Phaser.Math.Vector2,U1=Phaser.Math.RotateAround;var Zo=function(i,t){if(t===void 0?t=new mu:t===!0&&(sh===void 0&&(sh=new mu),t=sh),i.getBounds)return i.getBounds(t);var s,x,E,A,l,T,e,u;if(i.parentContainer){var m=i.parentContainer.getBoundsTransformMatrix();So(i,t),m.transformPoint(t.x,t.y,t),s=t.x,x=t.y,Eo(i,t),m.transformPoint(t.x,t.y,t),E=t.x,A=t.y,Po(i,t),m.transformPoint(t.x,t.y,t),l=t.x,T=t.y,Mo(i,t),m.transformPoint(t.x,t.y,t),e=t.x,u=t.y}else So(i,t),s=t.x,x=t.y,Eo(i,t),E=t.x,A=t.y,Po(i,t),l=t.x,T=t.y,Mo(i,t),e=t.x,u=t.y;return t.x=Math.min(s,E,l,e),t.y=Math.min(x,A,T,u),t.width=Math.max(s,E,l,e)-t.x,t.height=Math.max(x,A,T,u)-t.y,t},sh=void 0,So=function(i,t,s){return t===void 0?t=new Ki:t===!0&&(Xe===void 0&&(Xe=new Ki),t=Xe),i.getTopLeft?i.getTopLeft(t):(t.x=i.x-Bt(i)*i.originX,t.y=i.y-At(i)*i.originY,Pa(i,t,s))},Eo=function(i,t,s){return t===void 0?t=new Ki:t===!0&&(Xe===void 0&&(Xe=new Ki),t=Xe),i.getTopRight?i.getTopRight(t):(t.x=i.x-Bt(i)*i.originX+Bt(i),t.y=i.y-At(i)*i.originY,Pa(i,t,s))},Po=function(i,t,s){return t===void 0?t=new Ki:t===!0&&(Xe===void 0&&(Xe=new Ki),t=Xe),i.getBottomLeft?i.getBottomLeft(t):(t.x=i.x-Bt(i)*i.originX,t.y=i.y-At(i)*i.originY+At(i),Pa(i,t,s))},Mo=function(i,t,s){return t===void 0?t=new Ki:t===!0&&(Xe===void 0&&(Xe=new Ki),t=Xe),i.getBottomRight?i.getBottomRight(t):(t.x=i.x-Bt(i)*i.originX+Bt(i),t.y=i.y-At(i)*i.originY+At(i),Pa(i,t,s))},Xe=void 0,Pa=function(i,t,s){if(s===void 0&&(s=!1),i.rotation!==0&&U1(t,i.x,i.y,i.rotation),s&&i.parentContainer){var x=i.parentContainer.getBoundsTransformMatrix();x.transformPoint(t.x,t.y,t)}return t};const Tn=Phaser.Utils.Objects.GetValue;var Bv=function(i,t,s){var x,E,A,l,T;if(typeof s=="number"?x=s:(x=Tn(s,"color"),E=Tn(s,"lineWidth"),A=Tn(s,"fillColor"),l=Tn(s,"fillAlpha",1),T=Tn(s,"padding",0)),Array.isArray(i))for(var e=0,u=i.length;e<u;e++)xu(i[e],t,x,E,A,l,T);else xu(i,t,x,E,A,l,T)},xu=function(i,t,s,x,E,A,l){var T=i.getBounds||i.width!==void 0&&i.height!==void 0;if(T){s===void 0&&(s=16777215),x===void 0&&(x=1),E===void 0&&(E=null),A===void 0&&(A=1),l===void 0&&(l=0);var e=So(i,Ds[0]);e.x-=l,e.y-=l;var u=Eo(i,Ds[1]);u.x+=l,u.y-=l;var m=Mo(i,Ds[2]);m.x+=l,m.y+=l;var d=Po(i,Ds[3]);d.x-=l,d.y+=l,E!==null&&t.fillStyle(E,A).fillPoints(Ds,!0,!0),s!==null&&t.lineStyle(x,s).strokePoints(Ds,!0,!0)}},Ds=[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],W1=function(i,t){return this.forEachGO(function(s){s.drawBounds?s.drawBounds(i,t):Bv(s,i,t)}),this},Iv={drawGameObjectsBounds:W1};Object.assign(Iv,S1,N1,V1,z1,X1,Y1);const k1=Phaser.Cameras.Scene2D.BaseCamera;var H1=function(i){return i instanceof k1};const Gv=Phaser.Geom.Rectangle;var jn=function(i,t,s){return H1(t)||(s=t,t=void 0),s===void 0?s=new Gv:s===!0&&(s=$1),t?i.scale.getViewPort(t,s):i.scale.getViewPort(s)},$1=new Gv;const Oe=Phaser.Utils.Objects.GetValue;class Ma{constructor(t,s){this.scene=t,this.BobClass=Oe(s,"BobClass",$o),this.setCreateGameObjectCallback(Oe(s,"createGameObject"),Oe(s,"createGameObjectScope")),this.setEventEmitter(Oe(s,"eventEmitter",void 0));var x=Oe(s,"fade",500);typeof x=="number"?(this.setGOFadeMode(),this.setGOFadeTime(x)):(this.setGOFadeMode(Oe(x,"mode")),this.setGOFadeTime(Oe(x,"time",500)));var E=Oe(s,"viewportCoordinate",!1);E!==!1?(this.setViewportCoordinateEnable(Oe(s,"enable",!0)),this.setViewport(Oe(E,"viewport"))):this.setViewportCoordinateEnable(!1);var A=Oe(s,"effectProperties",!1);this.setEffectPropertiesConfig(A),this.setSymbols(Oe(s,"symbols")),this.bobs={},this.removedGOs=[],this._timeScale=1}destroy(t){this.clear(!t),this.createGameObjectCallback=void 0,this.viewport=void 0,this.scene=void 0}set timeScale(t){if(this._timeScale!==t){this._timeScale=t;var s=this.bobs;for(var x in s)s[x].setTimeScale(t)}}get timeScale(){return this._timeScale}setTimeScale(t){return this.timeScale=t,this}setCreateGameObjectCallback(t,s){return this.createGameObjectCallback=t,this.createGameObjectScope=s,this}setViewportCoordinateEnable(t){return t===void 0&&(t=!0),this.viewportCoordinateEnable=t,this}setEffectPropertiesConfig(t){return t===void 0&&(t=!0),this.effectPropertiesConfig=t,this}setViewport(t){return t===void 0&&(t=jn(this.scene,this.scene.cameras.main)),this.viewport=t,this}setSymbols(t){return this.symbols=t,this}get isEmpty(){return Ko(this.bobs)&&this.removedGOs.length===0}}Object.assign(Ma.prototype,ys,Iv);var Mi=function(i,t){if(i.length<=1)return i;t===void 0&&(t=!1);var s=i[0].scene,x=s.sys.displayList;return x.depthSort(),t?i.sort(function(E,A){return x.getIndex(A)-x.getIndex(E)}):i.sort(function(E,A){return x.getIndex(E)-x.getIndex(A)}),i};const K1=Phaser.Utils.Objects.GetValue;class Z1 extends Ma{constructor(t,s){s===void 0?s={}:Array.isArray(s)&&(s={layers:s}),s.hasOwnProperty("fade")||(s.fade=0),s.viewportCoordinate=!1,super(t,s);var x=K1(s,"layers");if(x)for(var E=0,A=x.length;E<A;E++)this.add(x[E])}setCreateGameObjectCallback(t,s){return t||(t=J1),super.setCreateGameObjectCallback(t,s),this}addGO(t,s){return super.addGO(t,s),s.name=t,this}getLayer(t){return this.getGO(t)}getLayers(t){return t===void 0&&(t=[]),this.forEachGO(function(s){t.push(s)}),Mi(t,!1),t}addToLayer(t,s){var x=this.getGO(t);if(!x){console.warn(`Can't get layer "${t}"`);return}return s.isRexContainerLite?s.addToLayer(x):x.add(s),this}}var J1=function(i,t){var s=i.add.layer();return t!==void 0&&s.setDepth(t),s},Q1=function(i){return gs(i)?i.sys.sound:i.sound};const Cn=Phaser.Utils.Objects.GetValue,j1={setBackgroundMusicLoop(i){return i===void 0&&(i=!0),this.backgroundMusicLoop=i,this},setBackgroundMusicFadeTime(i){return this.backgroundMusicFadeTime=i,this},getBackgroundMusic(){return this.backgroundMusic},setCurrentBackgroundMusic(i){return this.backgroundMusic=i,i&&(i.once("complete",function(){this.backgroundMusic===i&&(this.backgroundMusic.destroy(),this.backgroundMusic=void 0)},this).once("destroy",function(){this.backgroundMusic===i&&(this.backgroundMusic=void 0)},this),i.isPlaying||i.play()),this},playBackgroundMusic(i,t){if(this.backgroundMusic&&this.backgroundMusic.key===i)return this;this.stopBackgroundMusic();var s=this.sound.add(i,{loop:Cn(t,"loop",this.backgroundMusicLoop),mute:Cn(t,"mute",this.backgroundMusicMute),volume:Cn(t,"volume",this.backgroundMusicVolume),detune:Cn(t,"detune",0),rate:Cn(t,"rate",1)});return this.setCurrentBackgroundMusic(s),this.backgroundMusicFadeTime>0&&this.fadeInBackgroundMusic(this.backgroundMusicFadeTime),this},pauseBackgroundMusic(){return this.backgroundMusic&&this.backgroundMusic.pause(),this},resumeBackgroundMusic(){return this.backgroundMusic&&this.backgroundMusic.resume(),this},stopBackgroundMusic(){return this.backgroundMusic&&(this.backgroundMusicFadeTime>0?this.fadeOutBackgroundMusic(this.backgroundMusicFadeTime,!0):(this.backgroundMusic.stop(),this.backgroundMusic.destroy(),this.backgroundMusic=void 0)),this},fadeInBackgroundMusic(i){return this.backgroundMusic&&$n(this.backgroundMusic,i,this.backgroundMusicVolume,0),this},fadeOutBackgroundMusic(i,t){return this.backgroundMusic&&ms(this.backgroundMusic,i,t),this},crossFadeBackgroundMusic(i,t){var s=this.backgroundMusicFadeTime;return this.backgroundMusicFadeTime=0,this.fadeOutBackgroundMusic(t,!0).playBackgroundMusic(i).fadeInBackgroundMusic(t),this.backgroundMusicFadeTime=s,this},setBackgroundMusicMute(i){return i===void 0&&(i=!0),this.backgroundMusicMute=i,this},setBackgroundMusicVolume(i){return this.backgroundMusicVolume=i,this},setBackgroundMusicRate(i){return this.backgroundMusic&&this.backgroundMusic.setRate(i),this},setBackgroundMusicDetune(i){return this.backgroundMusic&&this.backgroundMusic.setDetune(i),this}},Sn=Phaser.Utils.Objects.GetValue,q1={setBackgroundMusic2Loop(i){return i===void 0&&(i=!0),this.backgroundMusic2Loop=i,this},setBackgroundMusic2FadeTime(i){return this.backgroundMusic2FadeTime=i,this},getBackgroundMusic2(){return this.backgroundMusic2},setCurrentBackgroundMusic2(i){return this.backgroundMusic2=i,i&&(i.once("complete",function(){this.backgroundMusic2===i&&(this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0)},this).once("destroy",function(){this.backgroundMusic2===i&&(this.backgroundMusic2=void 0)},this),i.isPlaying||i.play()),this},playBackgroundMusic2(i,t){if(this.backgroundMusic2&&this.backgroundMusic2.key===i)return this;this.stopBackgroundMusic2();var s=this.sound.add(i,{loop:Sn(t,"loop",this.backgroundMusicLoop),mute:Sn(t,"mute",this.backgroundMusic2Mute),volume:Sn(t,"volume",this.backgroundMusic2Volume),detune:Sn(t,"detune",0),rate:Sn(t,"rate",1)});return this.setCurrentBackgroundMusic2(s),this.backgroundMusic2FadeTime>0&&this.fadeInBackgroundMusic2(this.backgroundMusic2FadeTime),this},pauseBackgroundMusic2(){return this.backgroundMusic2&&this.backgroundMusic2.pause(),this},resumeBackgroundMusic2(){return this.backgroundMusic2&&this.backgroundMusic2.resume(),this},stopBackgroundMusic2(){return this.backgroundMusic2&&(this.backgroundMusic2FadeTime>0?this.fadeOutBackgroundMusic2(this.backgroundMusic2FadeTime,!0):(this.backgroundMusic2.stop(),this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0)),this},fadeInBackgroundMusic2(i){return this.backgroundMusic2&&$n(this.backgroundMusic2,i,this.backgroundMusic2Volume,0),this},fadeOutBackgroundMusic2(i,t){return this.backgroundMusic2&&ms(this.backgroundMusic2,i,t),this},crossFadeBackgroundMusic2(i,t){var s=this.backgroundMusic2FadeTime;return this.backgroundMusic2FadeTime=0,this.fadeOutBackgroundMusic2(t,!0).playBackgroundMusic2(i).fadeInBackgroundMusic2(t),this.backgroundMusic2FadeTime=s,this},setBackgroundMusic2Mute(i){return i===void 0&&(i=!0),this.backgroundMusic2Mute=i,this},setBackgroundMusic2Volume(i){return this.backgroundMusic2Volume=i,this},setBackgroundMusic2Rate(i){return this.backgroundMusic2&&this.backgroundMusic2.setRate(i),this},setBackgroundMusic2Detune(i){return this.backgroundMusic2&&this.backgroundMusic2.setDetune(i),this}},yu=Phaser.Utils.Array.Remove,Rr=Phaser.Utils.Objects.GetValue,_1={getSoundEffects(){return this.soundEffects},getLastSoundEffect(){return this.soundEffects[this.soundEffects.length-1]},playSoundEffect(i,t){var s=this.sound.add(i,{mute:Rr(t,"mute",this.soundEffectsMute),volume:Rr(t,"volume",this.soundEffectsVolume),detune:Rr(t,"detune",0),rate:Rr(t,"rate",1)});return this.soundEffects.push(s),s.once("complete",function(){s.destroy(),this.sound&&yu(this.soundEffects,s)},this).once("destroy",function(){this.sound&&yu(this.soundEffects,s)},this).play(),this},stopAllSoundEffects(){for(var i=this.soundEffects.length-1;i>=0;i--){var t=this.soundEffects[i];t.stop(),t.destroy()}return this},fadeInSoundEffect(i){var t=this.getLastSoundEffect();return t&&$n(t,i,this.soundEffectsVolume,0),this},fadeOutSoundEffect(i,t){var s=this.getLastSoundEffect();return s&&ms(s,i,t),this},fadeOutAllSoundEffects(i,t){for(var s=this.soundEffects.length-1;s>=0;s--)ms(this.soundEffects[s],i,t);return this},setSoundEffectMute(i,t){if(i===void 0&&(i=!0),t===void 0&&(t=!1),t){var s=this.getLastSoundEffect();s&&s.setMute(i)}else this.soundEffectsMute=i;return this},setSoundEffectVolume(i,t){if(t===void 0&&(t=!1),t){var s=this.getLastSoundEffect();s&&s.setVolume(i)}else this.soundEffectsVolume=i;return this},setSoundEffectDetune(i,t){t===void 0&&(t=!1);var s;t?s=[this.getLastSoundEffect()]:s=this.soundEffects;for(var x=0,E=s.length;x<E;x++)s[x].setDetune(i);return this},setSoundEffectRate(i,t){t===void 0&&(t=!1);var s;t?s=[this.getLastSoundEffect()]:s=this.soundEffects;for(var x=0,E=s.length;x<E;x++)s[x].setRate(i);return this}},Tu=Phaser.Utils.Array.Remove,Ar=Phaser.Utils.Objects.GetValue,tT={getSoundEffects2(){return this.soundEffects2},getLastSoundEffect2(){return this.soundEffects2[this.soundEffects2.length-1]},playSoundEffect2(i,t){var s=this.sound.add(i,{mute:Ar(t,"mute",this.soundEffects2Mute),volume:Ar(t,"volume",this.soundEffects2Volume),detune:Ar(t,"detune",0),rate:Ar(t,"rate",1)});return this.soundEffects2.push(s),s.once("complete",function(){s.destroy(),this.sound&&Tu(this.soundEffects2,s)},this).once("destroy",function(){this.sound&&Tu(this.soundEffects2,s)},this).play(),this},stopAllSoundEffects2(){for(var i=this.soundEffects.length-1;i>=0;i--){var t=this.soundEffects[i];t.stop(),t.destroy()}return this},fadeInSoundEffect2(i){var t=this.getLastSoundEffect2();return t&&$n(t,i,this.soundEffects2Volume,0),this},fadeOutSoundEffect2(i,t){var s=this.getLastSoundEffect2();return s&&ms(s,i,t),this},fadeOutAllSoundEffects2(i,t){for(var s=this.soundEffects2.length-1;s>=0;s--)ms(this.soundEffects2[s],i,t);return this},setSoundEffect2Mute(i,t){if(i===void 0&&(i=!0),t===void 0&&(t=!1),t){var s=this.getLastSoundEffect2();s&&s.setMute(i)}else this.soundEffects2Mute=i;return this},setSoundEffect2Volume(i,t){if(t===void 0&&(t=!1),t){var s=this.getLastSoundEffect2();s&&s.setVolume(i)}else this.soundEffects2Volume=i;return this},setSoundEffect2Detune(i,t){t===void 0&&(t=!1);var s;t?s=[this.getLastSoundEffect2()]:s=this.soundEffects2;for(var x=0,E=s.length;x<E;x++)s[x].setDetune(i);return this},setSoundEffect2Rate(i,t){t===void 0&&(t=!1);var s;t?s=[this.getLastSoundEffect2()]:s=this.soundEffects2;for(var x=0,E=s.length;x<E;x++)s[x].setRate(i);return this}};var Nv={};Object.assign(Nv,j1,q1,_1,tT);const Le=Phaser.Utils.Objects.GetValue;class Vv{constructor(t,s){this.sound=Q1(t),this.backgroundMusic=void 0,this._backgroundMusicVolume=Le(s,"bgm.volume",1),this._backgroundMusicMute=Le(s,"bgm.mute",!1),this.setBackgroundMusicLoop(Le(s,"bgm.loop",!0)),this.setBackgroundMusicFadeTime(Le(s,"bgm.fade",500)),this.backgroundMusic2=void 0,this._backgroundMusic2Volume=Le(s,"bgm2.volume",1),this._backgroundMusic2Mute=Le(s,"bgm2.mute",!1),this.setBackgroundMusic2Loop(Le(s,"bgm2.loop",!0)),this.setBackgroundMusic2FadeTime(Le(s,"bgm2.fade",500)),this.soundEffects=[],this._soundEffectsVolume=Le(s,"soundEffect.volume",1),this.soundEffects2=[],this._soundEffects2Volume=Le(s,"soundEffect2.volume",1);var x=Le(s,"bgm.initial",void 0);x&&this.setCurrentBackgroundMusic(x);var E=Le(s,"bgm2.initial",void 0);E&&this.setCurrentBackgroundMusic2(E)}destroy(){if(this.backgroundMusic&&this.backgroundMusic.destroy(),this.backgroundMusic=void 0,this.backgroundMusic2&&this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0,this.soundEffects.length)for(var t=this.soundEffects.length-1;t>=0;t--)this.soundEffects[t].destroy();if(this.soundEffects.length=0,this.soundEffects2.length)for(var t=this.soundEffects2.length-1;t>=0;t--)this.soundEffects2[t].destroy();return this.soundEffects2.length=0,this.sound=void 0,this}get backgroundMusicMute(){return this._backgroundMusicMute}set backgroundMusicMute(t){this._backgroundMusicMute=t,this.backgroundMusic&&this.backgroundMusic.setMute(mute)}get backgroundMusicVolume(){return this._backgroundMusicVolume}set backgroundMusicVolume(t){this._backgroundMusicVolume=t,this.backgroundMusic&&this.backgroundMusic.setVolume(t)}get backgroundMusic2Mute(){return this._backgroundMusic2Mute}set backgroundMusic2Mute(t){this._backgroundMusic2Mute=t,this.backgroundMusic2&&this.backgroundMusic2.setMute(mute)}get backgroundMusic2Volume(){return this._backgroundMusic2Volume}set backgroundMusic2Volume(t){this._backgroundMusic2Volume=t,this.backgroundMusic2&&this.backgroundMusic2.setVolume(t)}get soundEffectsMute(){return this._soundEffectsMute}set soundEffectsMute(t){this._soundEffectsMute=t;for(var s=this.soundEffects,x=0,E=s.length;x<E;x++)s[x].setMute(t)}get soundEffectsVolume(){return this._soundEffectsVolume}set soundEffectsVolume(t){this._soundEffectsVolume=t;for(var s=this.soundEffects,x=0,E=s.length;x<E;x++)s[x].setVolume(t)}get soundEffects2Mute(){return this._soundEffects2Mute}set soundEffects2Mute(t){this._soundEffects2Mute=t;for(var s=this.soundEffects,x=0,E=soundEffects2.length;x<E;x++)s[x].setMute(t)}get soundEffects2Volume(){return this._soundEffects2Volume}set soundEffects2Volume(t){this._soundEffects2Volume=t;for(var s=this.soundEffects2,x=0,E=s.length;x<E;x++)s[x].setVolume(t)}}Object.assign(Vv.prototype,Nv);const nh=Phaser.Utils.Objects.GetValue;class eT extends ma{constructor(t,s){super(t,s),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.isRunning=nh(t,"isRunning",!1),this.timeScale=nh(t,"timeScale",1),this.now=nh(t,"now",0),this}toJSON(){return{isRunning:this.isRunning,timeScale:this.timeScale,now:this.now,tickingMode:this.tickingMode}}start(t){return t===void 0&&(t=0),this.delta=0,this.now=t,super.start(),this}seek(t){return this.now=t,this}setTimeScale(t){return this.timeScale=t,this}tick(t){return t*=this.timeScale,this.now+=t,this.delta=t,this.emit("update",this.now,this.delta),this}}class iT extends eT{startTicking(){super.startTicking(),this.scene.sys.events.on("update",this.update,this)}stopTicking(){super.stopTicking(),this.scene&&this.scene.sys.events.off("update",this.update,this)}update(t,s){return!this.isRunning||this.timeScale===0?this:(this.tick(s),this)}}var sT=function(i,t){return t===void 0&&(t=.5),i<=t?i=i/t:i=1-(i-t)/(1-t),i};const Cu=Phaser.Math.Clamp;class nT{constructor(t,s){this.setTimeline(t).reset(s)}setTimeline(t){return this.timeline=t,this}setName(t){return this.name=t,this}setCallbacks(t,s,x,E){return this.target=t,this.onStart=s,this.onProgress=x,this.onComplete=E,this}setDuration(t,s){return s===void 0&&(s=!1),this.duration=t,this.remainder=t,this.t=0,this.yoyo=s,this}setPaused(t){return this.isPaused=t,this}pause(){return this.isPaused=!0,this}resume(){return this.isPaused=!1,this}setRemoved(t){return this.removed=t,this}remove(){return this.removed=!0,this}seek(t){return this.remainder=this.duration*(1-t),this}reset(t){return this.setName(t.name).setDuration(t.duration,t.yoyo).setCallbacks(t.target,t.onStart,t.onProgress,t.onComplete).setPaused(!1).setRemoved(!1),this}onFree(){this.setTimeline().setCallbacks()}getProgress(){var t=1-this.remainder/this.duration;return t=Cu(t,0,1),this.yoyo&&(t=sT(t)),t}setProgress(t){t=Cu(t,0,1),this.remainder=this.duration*(1-t)}runCallback(t){t&&t(this.target,this.t,this)}update(t,s){if(this.removed)return!0;if(this.isPaused)return!1;this.remainder-=s,this.t=this.getProgress(),this.runCallback(this.onProgress);var x=this.remainder<=0;return x&&this.runCallback(this.onComplete),x}}let rT=class extends ci{allocate(){return this.pop()}free(t){t.onFree(),this.push(t)}freeMultiple(t){for(var s=0,x=t.length;s<x;s++)this.free(t[s]);return this}};const aT=Phaser.Utils.Objects.GetValue,hT=new rT;class oT extends iT{constructor(t,s){super(t,s),this.addedTimers=[],this.timers=[],this.timerPool=aT(s,"pool",hT)}shutdown(){this.isShutdown||(this.timerPool.freeMultiple(this.addedTimers).freeMultiple(this.timers),this.timerPool=void 0,this.addedTimers=void 0,this.timers=void 0,super.shutdown())}addTimer(t){var s=this.timerPool.allocate();return s?s.setTimeline(this).reset(t):s=new nT(this,t),this.addedTimers.push(s),s.runCallback(s.onStart),this.isRunning||this.start(),s}delayCall(t,s,x,E){var A=this.addTimer({duration:t,onComplete:function(l,T,e){x===void 0&&(x=[]),x.push(e),s.apply(E,x)}});return A}delayEvent(t,s){this.removeDelayEvent(s);var x=this.delayCall(t,function(){this.removeDelayEvent(s),this.emit(s)},[],this);return this.once(`_remove.${s}`,function(){x.remove(),x=void 0}),this}removeDelayEvent(t){return this.emit(`_remove.${t}`),this}getTimers(t){for(var s=[],x=[this.addedTimers,this.timers],E=0,A=x.length;E<A;E++)for(var l=x[E],T=0,e=l.length;T<e;T++){var u=l[T];u.name===t&&s.push(u)}return s}update(t,s){if(super.update(t,s),!!this.isRunning){this.timers.push(...this.addedTimers),this.addedTimers.length=0;for(var x=[],E=0,A=this.timers.length;E<A;E++){var l=this.timers[E],T=l.update(this.now,this.delta);T?this.timerPool.free(l):x.push(l)}this.timers=x,this.timers.length===0&&this.addedTimers.length===0&&this.complete()}}}const lT="_wait.complete",uT="_remove.wait";var dT=function(i,t,s,x,E){var A=Hn(i),l=A.time.delayedCall(t,function(){A.sys.events.once("preupdate",function(){s.call(x,E)})});return l};let zv=class{constructor(t){t||(this.setEventEmitter(!0),t=this),this.parent=t,this.waitId=0,this.waitCompleteEventName=lT,this.removeWaitEventsEventName=uT}destroy(){this.removeWaitEvents(),this.clearWaitCompleteCallbacks(),this.parent=null}waitEvent(t,s,x){var E=this.getWaitCompleteTriggerCallback(x);return t.once(s,E,this),this.parent.once(this.removeWaitEventsEventName,function(){t.off(s,E,this)}),this.parent}getWaitCompleteTriggerCallback(t){t===void 0&&(t=!0);var s=this.waitId,x=this,E=function(){s<x.waitId||(x.waitId++,x.removeWaitEvents(),x.parent.emit(x.waitCompleteEventName))};if(t){var A=function(){dT(x.parent,0,E)};return A}else return E}removeWaitEvents(){return this.parent.emit(this.removeWaitEventsEventName),this}addWaitCompleteCallback(t,s){return this.parent.on(this.waitCompleteEventName,t,s),this}clearWaitCompleteCallbacks(){return this.parent.off(this.waitCompleteEventName),this}};Object.assign(zv.prototype,ys);const fT={waitTime(i){var t=this.parent.timeline;return t.delayEvent(i,"delay"),this.parent.once(this.removeWaitEventsEventName,function(){t.removeDelayEvent("delay")}),this.waitEvent(t,"delay")}};var vT=function(i,t){var s=`(?<!\\\\)\\${t}`,x=`\\${t}`;return i.split(new RegExp(s,"g")).map(function(E){return E.replace(x,t)})};const cT={setClickTarget(i){this.clickTarget=i,i?gs(i)?this.clickEE=i.input:this.clickEE=i.setInteractive():this.clickEE=null},waitClick(){return this.clickEE?this.waitEvent(this.clickEE,"pointerdown"):this.waitTime(0)},waitKeyDown(i){var t=this.scene.input.keyboard;if(typeof i=="string"){if(i.indexOf("|")===-1)return this.waitEvent(t,`keydown-${i.toUpperCase()}`);for(var s=vT(i,"|"),x=0,E=s.length;x<E;x++)this.waitEvent(t,`keydown-${i.toUpperCase()}`);return this.parent}else return this.waitEvent(t,"keydown")}},pT={waitGameObjectTweenComplete(i,t,s){var x=this.parent.getGameObjectTweenTask(i,t,s);return x?this.waitEvent(x,"complete"):this.waitTime(0)},waitGameObjectDataFlag(i,t,s,x){var E=this.parent.getGameObject(i,t);if(!E)return this.waitTime(0);if(E.getData(s)===x)return this.waitTime(0);var A=`changedata-${s}`,l=function(T,e,u){e=!!e,e===x&&T.emit("_dataFlagMatch")};return E.on(A,l),this.parent.once(this.removeWaitEventsEventName,function(){E.off(A,l)}),this.waitEvent(E,"_dataFlagMatch")},waitGameObjectDestroy(i,t){var s=this.parent.getGameObject(i,t);return s?this.waitEvent(s,"destroy"):this.waitTime(0)},waitGameObjectManagerEmpty(i){if(i){var t=this.parent.getGameObjectManager(i);return t?this.waitEvent(t,"empty"):this.waitTime(0)}else{var s=this.parent.gameObjectManagers,x=!1;for(var E in s)x=!0,this.waitEvent(s[E],"empty");return x?this.parent:this.waitTime(0)}}},gT={setCameraTarget(i){return this.cameraTarget=i,this},waitCameraEffectComplete(i){var t=this.cameraTarget;if(!t)return this.waitTime(0);var s,x;switch(i){case"camera.fadein":s=t.fadeEffect,x="camerafadeincomplete";break;case"camera.fadeout":s=t.fadeEffect,x="camerafadeoutcomplete";break;case"camera.flash":s=t.flashEffect,x="cameraflashcomplete";break;case"camera.shake":s=t.shakeEffect,x="camerashakecomplete";break;case"camera.zoom":s=t.zoomEffect,x="camerazoomcomplete";break;case"camera.rotate":s=t.rotateToEffect,x="camerarotatecomplete";break;case"camera.scroll":s=t.panEffect,x="camerapancomplete";break}return s.isRunning?this.waitEvent(t,x):this.waitTime(0)}},mT={waitSoundEffectComplete(){if(!this.parent.soundManager)return this.waitTime(0);var i=this.parent.soundManager.getLastSoundEffect();return i?this.waitEvent(i,"complete"):this.waitTime(0)},waitSoundEffect2Complete(){if(!this.parent.soundManager)return this.waitTime(0);var i=this.parent.soundManager.getLastSoundEffect2();return i?this.waitEvent(i,"complete"):this.waitTime(0)},waitBackgroundMusicComplete(){if(!this.parent.soundManager)return this.waitTime(0);var i=this.parent.soundManager.getBackgroundMusic();return i?this.waitEvent(i,"complete"):this.waitTime(0)},waitBackgroundMusic2Complete(){if(!this.parent.soundManager)return this.waitTime(0);var i=this.parent.soundManager.getBackgroundMusic2();return i?this.waitEvent(i,"complete"):this.waitTime(0)}};var xT=function(i){if(!i)return this.waitTime(0);var t=!1;for(var s in i)switch(s){case"time":t=!0,this.waitTime(i.time);break;case"click":t=!0,this.waitClick(i.key);break;case"key":t=!0,this.waitKeyDown(i.key);break;case"bgm":t=!0,this.waitBackgroundMusicComplete();break;case"bgm2":t=!0,this.waitBackgroundMusic2Complete();break;case"se":t=!0,this.waitSoundEffectComplete();break;case"se2":t=!0,this.waitSoundEffect2Complete();break;case"camera":t=!0,this.waitCameraEffectComplete(`camera.${i.camera.toLowerCase()}`);break;default:var x=s.split(".");if(x.length===2){var E=x[0],A=x[1],l=this.parent.getGameObjectManager(void 0,E);if(!l)continue;if(A==="destroy")return this.waitGameObjectDestroy(void 0,E);var T=l.getProperty(E,A);if(typeof T=="number"){t=!0,this.waitGameObjectTweenComplete(void 0,E,A);continue}var e=A,u=e.startsWith("!");u&&(e=e.substring(1)),l.hasData(E,A)&&(t=!0,this.waitGameObjectDataFlag(void 0,E,e,!u))}break}return t||this.waitTime(0),this.parent};class Xv extends zv{constructor(t,s){super(t),this.waitCompleteEventName=Vt(s,"completeEventName",this.waitCompleteEventName),this.setClickTarget(Vt(s,"clickTarget",this.scene)),this.setCameraTarget(Vt(s,"camera",this.scene.cameras.main))}get clickTarget(){return this.parent.clickTarget}set clickTarget(t){this.parent.clickTarget=t}get cameraTarget(){return this.parent.cameraTarget}set cameraTarget(t){this.parent.cameraTarget=t}destroy(){super.destroy(),this.setClickTarget(),this.setCameraTarget()}get scene(){return this.parent.managersScene}}var yT={waitAny:xT};Object.assign(Xv.prototype,fT,cT,pT,gT,mT,yT);const Su=Phaser.Utils.Objects.GetValue;var TT=function(i,t){this.clickTarget=void 0,this.cameraTarget=void 0,this.managersScene=i,this.gameObjectManagers={};var s=Su(t,"layers",!1);s!==!1&&(this.gameObjectManagers.layer=new Z1(i,s));var x=Su(t,"sounds");return x!==!1&&(this.soundManager=new Vv(i,x)),this.timeline=new oT(this),this.waitEventManager=new Xv(this,t),this},CT=function(i){this.timeline.timeScale=i;for(var t in this.gameObjectManagers)this.gameObjectManagers[t].setTimeScale(i);return this},ST=function(){return this.timeline.timeScale},ET=function(i){this.waitEventManager.destroy(),this.waitEventManager=void 0;for(var t in this.gameObjectManagers)this.gameObjectManagers[t].destroy(i),delete this.gameObjectManagers[t];this.soundManager&&(this.soundManager.destroy(),this.soundManager=void 0),this.timeline&&(this.timeline.destroy(),this.timeline=void 0),this.clickTarget=void 0,this.cameraTarget=void 0,this.managersScene=void 0};const Yv={addGameObjectManager(i,t){i===void 0&&(i={}),t===void 0&&(t=Ma),i.createGameObjectScope||(i.createGameObjectScope=this);var s=new t(this.managersScene,i);return this.gameObjectManagers[i.name]=s,this},getGameObjectManager(i,t){if(i){var s=this.gameObjectManagers[i];return s}else for(var i in this.gameObjectManagers){var s=this.gameObjectManagers[i];if(s.has(t))return s}},getGameObjectManagerNames(){var i=[];for(var t in this.gameObjectManagers)i.push(t);return i},getGameObjectManagerName(i){for(var t in this.gameObjectManagers)if(this.gameObjectManagers[t].has(i))return t},hasGameObjectMananger(i){return i in this.gameObjectManagers}},PT={createGameObject(i,t,...s){return this.getGameObjectManager(i,t).add(t,...s),this},destroyGameObject(i,t){var s=this.getGameObjectManager(i,t);return t===void 0?s.removeAll():s.remove(t),this},hasGameObject(i,t){return!!this.getGameObjectManager(i,t)},callGameObjectMethod(i,t,s,...x){return this.getGameObjectManager(i,t).call(t,s,...x),this},setGameObjectProperty(i,t,s,x){return this.getGameObjectManager(i,t).setProperty(t,s,x),this},easeGameObjectProperty(i,t,s,x,E,A,l,T){return this.getGameObjectManager(i,t).easeProperty(t,s,x,E,A,l,T),this},getGameObjectTweenTask(i,t,s){return this.getGameObjectManager(i,t).getTweenTask(t,s)},getGameObject(i,t,s){var x=this.getGameObjectManager(i,t);if(typeof t=="string")return x.getGO(t);var E=t;E===void 0&&(E=x.bobs),s===void 0&&(s={});for(t in E)s[t]=x.getGO(t);return s},addGameObject(i,t,s){var x=this.getGameObjectManager(i,t);if(typeof t=="string")x.addGO(t,s);else{var E=t;for(t in E)x.addGO(t,E[t])}return this},drawGameObjectsBounds(i,t,s){i instanceof Phaser.GameObjects.Graphics&&(s=t,t=i,i=void 0),i===void 0&&(i=this.getGameObjectManagerNames()),Array.isArray(i)||(i=[i]);for(var x=0,E=i.length;x<E;x++)this.getGameObjectManager(i[x]).drawGameObjectsBounds(t,s);return this}};var MT=function(i){class t extends i{}var s={initManagers:TT,setTimeScale:CT,getTimeScale:ST,destroyManagers:ET};return Object.assign(t.prototype,s,Yv,PT),t},RT=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,AT=/^0x[0-9A-F]+$/i,Uv=function(i){if(typeof i!="string")return i;if(i==="")i=null;else if(RT.test(i))i=parseFloat(i);else if(AT.test(i))i=parseInt(i,16);else switch(i){case"false":i=!1;break;case"true":i=!0;break;case"null":i=null;break;case"undefined":i=void 0;break}return i};let Wv=class{constructor(t){this.setEventEmitter(Vt(t,"eventEmitter",void 0)),this.setValueConverter(Vt(t,"valueConvert",!0)),this.setLoopEnable(Vt(t,"loop",!1)),this.setMultipleLinesTagEnable(Vt(t,"multipleLinesTag",!1));var s=Vt(t,"delimiters","<>");this.setDelimiters(s[0],s[1]),this.setTranslateTagNameCallback(Vt(t,"translateTagNameCallback")),this.isRunning=!1,this.isPaused=!1,this.skipEventFlag=!1,this.justCompleted=!1,this.lastTagStart=null,this.lastTagEnd=null,this.lastContent=null}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}setMultipleLinesTagEnable(t){return t===void 0&&(t=!0),this.multipleLinesTagEnable=t,this}setDelimiters(t,s){s===void 0&&(s=t[1],t=t[0]),this.delimiterLeft=t,this.delimiterRight=s,t=an(this.delimiterLeft),s=an(this.delimiterRight);var x=this.multipleLinesTagEnable?"gs":"gi";return this.reSplit=RegExp(`${t}(.+?)${s}`,x),this}setTranslateTagNameCallback(t){return this.translateTagNameCallback=t,this}setValueConverter(t){return t===!0?t=Uv:t||(t=wT),this.valueConverter=t,this}setLoopEnable(t){return t===void 0&&(t=!0),this.loopEnable=t,this}setSource(t){return this.source=t,this}resetIndex(t){return t===void 0&&(t=0),this.progressIndex=t,this.reSplit.lastIndex=t,this.lastTagStart=null,this.lastTagEnd=null,this.lastContent=null,this.justCompleted=!1,this.isRunning=!1,this}start(t){return this.setSource(t).restart(),this}restart(){this.resetIndex().next()}next(){if(this.isPaused&&this.onResume(),this.isRunning)return this;if(this.isRunning=!0,this.justCompleted)return this.isRunning=!1,this;this.reSplit.lastIndex===0&&this.onStart();var t=this.source,s=t.length;for(this.reSplit.lastIndex=this.progressIndex;;){var x=this.reSplit.exec(t);if(!x){if(this.progressIndex<s&&(this.onContent(t.substring(this.progressIndex,s)),this.isPaused)){this.progressIndex=s;break}this.onComplete(),this.isRunning=!1;return}var E=this.reSplit.lastIndex,A=E-x[0].length;if(this.progressIndex<A&&(this.onContent(t.substring(this.progressIndex,A)),this.isPaused)){this.progressIndex=A;break}if(this.onTag(x[1]),this.progressIndex=E,this.isPaused)break}return this.isRunning=!1,this}skipEvent(){return this.skipEventFlag=!0,this}pause(){return this.isPaused||this.onPause(),this}pauseUntilEvent(t,s){return this.isPaused?this:(this.pause(),t.once(s,function(){this.next()},this),this)}onContent(t){this.skipEventFlag=!1,this.emit("content",t),this.lastContent=t}onTag(t){}onStart(){this.isRunning=!0,this.emit("start",this)}onComplete(){this.isRunning=!1,this.justCompleted=!0,this.emit("complete",this),this.loopEnable&&this.resetIndex()}onPause(){this.isPaused=!0,this.emit("pause",this)}onResume(){this.isPaused=!1,this.emit("resume",this)}};const wT=function(i){return i};Object.assign(Wv.prototype,ys);var OT=function(i,t){if(i==null)return[];t===void 0&&(t=Uv);for(var s=i.split(","),x=0,E=s.length;x<E;x++)s[x]=t(s[x]);return s};class LT extends Wv{constructor(t){t===void 0&&(t={}),t.hasOwnProperty("multipleLinesTag")||(t.multipleLinesTag=!1),super(t),this.setTagExpression(Vt(t,"regex.tag",void 0)),this.setValueExpression(Vt(t,"regex.value",void 0));var s=Vt(t,"delimiters","<>");this.setDelimiters(s[0],s[1])}setTagExpression(t){return t||(t=wr),this.tagExpression=t,this}setValueExpression(t){return t||(t=wr),this.valueExpression=t,this}setDelimiters(t,s){super.setDelimiters(t,s);var x=`(${this.tagExpression})(=(${this.valueExpression}))?`;if(this.reTag=RegExp(x,"i"),this.tagExpression!==wr||this.valueExpression!==wr){var E=`${this.tagExpression}(=${this.valueExpression})?`,A=`/${this.tagExpression}`;t=an(this.delimiterLeft),s=an(this.delimiterRight);var l=this.multipleLinesTagEnable?"gs":"gi";this.reSplit=RegExp(`${t}((${E})|(${A}))${s}`,l)}return this}onTag(t){var s=t.match(this.reTag),x=s[1],E=x.charAt(0)==="/";if(E&&(x=x.substring(1,x.length)),this.translateTagNameCallback&&(x=this.translateTagNameCallback(x)),this.skipEventFlag=!1,E)this.emit(`-${x}`),this.skipEventFlag||this.emit("-",x),this.lastTagEnd=x;else{var A=OT(s[3],this.valueConverter);this.emit(`+${x}`,...A),this.skipEventFlag||this.emit("+",x,...A),this.lastTagStart=x}}}const wr="[^=]+";var FT=function(i,t,s){var x="color",E;t.on("start",function(){E=i.textStyle.color}).on(`+${x}`,function(A){i.textStyle.setColor(A),t.skipEvent()}).on(`-${x}`,function(){i.textStyle.setColor(E),t.skipEvent()}).on("complete",function(){i.textStyle.setColor(E)})},DT=function(i,t,s){var x="stroke",E;t.on("start",function(){E=i.textStyle.stroke,i.textStyle.setStrokeStyle(null)}).on(`+${x}`,function(A){A===void 0&&(A=E),i.textStyle.setStrokeStyle(A),t.skipEvent()}).on(`-${x}`,function(){i.textStyle.setStrokeStyle(null),t.skipEvent()}).on("complete",function(){i.textStyle.setStrokeStyle(E)})},bT=function(i,t,s){var x="b";t.on("start",function(){i.textStyle.setBold(!1)}).on(`+${x}`,function(){i.textStyle.setBold(!0),t.skipEvent()}).on(`-${x}`,function(){i.textStyle.setBold(!1),t.skipEvent()})},BT=function(i,t,s){var x="i";t.on("start",function(){i.textStyle.setItalic(!1)}).on(`+${x}`,function(){i.textStyle.setItalic(!0),t.skipEvent()}).on(`-${x}`,function(){i.textStyle.setItalic(!1),t.skipEvent()})},IT=function(i,t,s){var x="size",E;t.on("start",function(){E=i.textStyle.fontSize}).on(`+${x}`,function(A){i.textStyle.setFontSize(A),t.skipEvent()}).on(`-${x}`,function(){i.textStyle.setFontSize(E),t.skipEvent()}).on("complete",function(){i.textStyle.setFontSize(E)})},GT=function(i,t,s){var x="y",E;t.on("start",function(){E=i.textStyle.offsetY,i.textStyle.setOffsetY(0)}).on(`+${x}`,function(A){A===void 0&&(A=E),i.textStyle.setOffsetY(A),t.skipEvent()}).on(`-${x}`,function(){i.textStyle.setOffsetY(0),t.skipEvent()}).on("complete",function(){i.textStyle.setOffsetY(0)})},NT=function(i,t,s){var x="x",E;t.on("start",function(){E=i.textStyle.offsetY,i.textStyle.setOffsetX(0)}).on(`+${x}`,function(A){A===void 0&&(A=E),i.textStyle.setOffsetX(A),t.skipEvent()}).on(`-${x}`,function(){i.textStyle.setOffsetX(0),t.skipEvent()}).on("complete",function(){i.textStyle.setOffsetX(0)})},VT=function(i,t,s){var x="left",E;t.on("start",function(){E=i.textStyle.leftSpace,i.textStyle.setLeftSpace(0)}).on(`+${x}`,function(A){A===void 0&&(A=E),i.textStyle.setLeftSpace(A),t.skipEvent()}).on(`-${x}`,function(){i.textStyle.setLeftSpace(0),t.skipEvent()}).on("complete",function(){i.textStyle.setLeftSpace(0)})},zT=function(i,t,s){var x="right",E;t.on("start",function(){E=i.textStyle.rightSpace,i.textStyle.setRightSpace(0)}).on(`+${x}`,function(A){A===void 0&&(A=E),i.textStyle.setRightSpace(A),t.skipEvent()}).on(`-${x}`,function(){i.textStyle.setRightSpace(0),t.skipEvent()}).on("complete",function(){i.textStyle.setRightSpace(0)})},XT=function(i,t,s){var x="shadow",E;t.on("start",function(){E=i.textStyle.shadowColor,i.textStyle.setShadowColor(null)}).on(`+${x}`,function(A){A===void 0&&(A=E),i.textStyle.setShadowColor(A),t.skipEvent()}).on(`-${x}`,function(){i.textStyle.setShadowColor(null),t.skipEvent()}).on("complete",function(){i.textStyle.setShadowColor(E)})},YT=function(i,t,s){var x="align";t.on(`+${x}`,function(E){i.textStyle.setAlign(E),t.skipEvent()}).on(`-${x}`,function(){i.textStyle.setAlign(),t.skipEvent()}).on("complete",function(){i.textStyle.setAlign()})},UT=function(i,t,s){var x="img";t.on(`+${x}`,function(E){var A=i.imageManager.get(E);Mv.call(i,A.key,A.frame,{width:A.width,hieght:A.height,leftSpace:A.left,rightSpace:A.right}),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()})},WT=function(i,t,s){var x="space";t.on(`+${x}`,function(E){Rv.call(i,E),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()})},kT=function(i,t,s){var x="speed";t.on(`+${x}`,function(E){Eu(i,E),t.skipEvent()}).on(`-${x}`,function(){Eu(i,void 0),t.skipEvent()})},HT=function(i){this.typeWriter.setTypingSpeed(i)},Eu=function(i,t){pt.call(i,"speed",HT,t,i)},$T=function(i,t,s){var x="se";t.on(`+${x}`,function(E,A){pt.call(i,x,KT,[E,A],i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()});var x="se2";t.on(`+${x}`,function(E,A){pt.call(i,x,ZT,[E,A],i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()})},KT=function(i){if(!this.skipSoundEffect){var t=i[0],s=i[1];this.soundManager.playSoundEffect(t),s&&this.soundManager.fadeInSoundEffect(s)}},ZT=function(i){if(!this.skipSoundEffect){var t=i[0],s=i[1];this.soundManager.playSoundEffect2(t),s&&this.soundManager.fadeInSoundEffect2(s)}},JT=function(i,t,s){var x="se.fadein";t.on(`+${x}`,function(E){pt.call(i,x,QT,E,i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()});var x="se2.fadein";t.on(`+${x}`,function(E){pt.call(i,x,jT,E,i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()})},QT=function(i){this.soundManager.fadeInSoundEffect(i)},jT=function(i){this.soundManager.fadeInSoundEffect2(i)},qT=function(i,t,s){var x="se.fadeout";t.on(`+${x}`,function(E,A){A=A==="stop",pt.call(i,x,_T,[E,A],i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()});var x="se2.fadeout";t.on(`+${x}`,function(E,A){A=A==="stop",pt.call(i,x,tC,[E,A],i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()})},_T=function(i){this.soundManager.fadeOutSoundEffect(...i)},tC=function(i){this.soundManager.fadeOutSoundEffect2(...i)},eC=function(i,t,s){var x="se.volume";t.on(`+${x}`,function(E){pt.call(i,x,iC,E,i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()});var x="se2.volume";t.on(`+${x}`,function(E){pt.call(i,x,sC,E,i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()})},iC=function(i){this.soundManager.setSoundEffectVolume(i,!0)},sC=function(i){this.soundManager.setSoundEffectVolume2(i,!0)},nC=function(i,t,s){var x="se.mute";t.on(`+${x}`,function(){pt.call(i,x,rC,void 0,i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()});var x="se2.mute";t.on(`+${x}`,function(){pt.call(i,x,aC,void 0,i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()});var x="se.unmute";t.on(`+${x}`,function(){pt.call(i,x,hC,void 0,i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()});var x="se2.unmute";t.on(`+${x}`,function(){pt.call(i,x,oC,void 0,i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()})},rC=function(){this.soundManager.setSoundEffectMute(!0)},aC=function(){this.soundManager.setSoundEffect2Mute(!0)},hC=function(){this.soundManager.setSoundEffectMute(!1)},oC=function(){this.soundManager.setSoundEffect2Mute(!1)},lC=function(i,t,s){var x="bgm";t.on(`+${x}`,function(E,A){pt.call(i,x,uC,[E,A],i),t.skipEvent()}).on(`-${x}`,function(){pt.call(i,"bgm.stop",dC,void 0,i),t.skipEvent()});var x="bgm2";t.on(`+${x}`,function(E,A){pt.call(i,x,fC,[E,A],i),t.skipEvent()}).on(`-${x}`,function(){pt.call(i,"bgm2.stop",vC,void 0,i),t.skipEvent()})},uC=function(i){var t=i[0],s=i[1];this.soundManager.playBackgroundMusic(t),s&&this.soundManager.fadeInBackgroundMusic(s)},dC=function(){this.soundManager.stopBackgroundMusic()},fC=function(i){var t=i[0],s=i[1];this.soundManager.playBackgroundMusic2(t),s&&this.soundManager.fadeInBackgroundMusic2(s)},vC=function(){this.soundManager.stopBackgroundMusic2()},cC=function(i,t,s){var x="bgm.fadein";t.on(`+${x}`,function(E){pt.call(i,x,pC,E,i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()});var x="bgm2.fadein";t.on(`+${x}`,function(E){pt.call(i,x,gC,E,i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()})},pC=function(i){this.soundManager.fadeInBackgroundMusic(i)},gC=function(i){this.soundManager.fadeInBackgroundMusic2(i)},mC=function(i,t,s){var x="bgm.fadeout";t.on(`+${x}`,function(E,A){A=A==="stop",pt.call(i,x,xC,[E,A],i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()});var x="bgm2.fadeout";t.on(`+${x}`,function(E,A){A=A==="stop",pt.call(i,x,yC,[E,A],i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()})},xC=function(i){this.soundManager.fadeOutBackgroundMusic(...i)},yC=function(i){this.soundManager.fadeOutBackgroundMusic2(...i)},TC=function(i,t,s){var x="bgm.cross";t.on(`+${x}`,function(E,A){pt.call(i,x,CC,[E,A],i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()});var x="bgm2.cross";t.on(`+${x}`,function(E,A){pt.call(i,x,SC,[E,A],i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()})},CC=function(i){this.soundManager.crossFadeBackgroundMusic(...i)},SC=function(i){this.soundManager.crossFadeBackgroundMusic2(...i)},EC=function(i,t,s){var x="bgm.pause";t.on(`+${x}`,function(){pt.call(i,x,PC,void 0,i),t.skipEvent()}).on(`-${x}`,function(){pt.call(i,"bgm.resume",MC,void 0,i),t.skipEvent()});var x="bgm2.pause";t.on(`+${x}`,function(){pt.call(i,x,RC,void 0,i),t.skipEvent()}).on(`-${x}`,function(){pt.call(i,"bgm2.resume",AC,void 0,i),t.skipEvent()})},PC=function(){this.soundManager.pauseBackgroundMusic()},MC=function(){this.soundManager.resumeBackgroundMusic()},RC=function(){this.soundManager.pauseBackgroundMusic2()},AC=function(){this.soundManager.resumeBackgroundMusic2()},wC=function(i,t,s){var x="bgm.volume";t.on(`+${x}`,function(E){pt.call(i,x,OC,E,i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()});var x="bgm2.volume";t.on(`+${x}`,function(E){pt.call(i,x,LC,E,i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()})},OC=function(i){this.soundManager.setBackgroundMusicVolume(i)},LC=function(i){this.soundManager.setBackgroundMusicVolume2(i)},FC=function(i,t,s){var x="bgm.mute";t.on(`+${x}`,function(){pt.call(i,x,DC,void 0,i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()});var x="bgm2.mute";t.on(`+${x}`,function(){pt.call(i,x,bC,void 0,i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()});var x="bgm.unmute";t.on(`+${x}`,function(){pt.call(i,x,BC,void 0,i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()});var x="bgm2.unmute";t.on(`+${x}`,function(){pt.call(i,x,IC,void 0,i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()})},DC=function(){this.soundManager.setBackgroundMusicMute(!0)},bC=function(){this.soundManager.setBackgroundMusic2Mute(!0)},BC=function(){this.soundManager.setBackgroundMusicMute(!1)},IC=function(){this.soundManager.setBackgroundMusic2Mute(!1)},GC=function(i,t,s){var x="camera.fadein";t.on(`+${x}`,function(E,A,l,T){pt.call(i,x,NC,[E,A,l,T],i),t.skipEvent()})},NC=function(i){this.cameraTarget.fadeIn(...i)},VC=function(i,t,s){var x="camera.fadeout";t.on(`+${x}`,function(E,A,l,T){pt.call(i,x,zC,[E,A,l,T],i),t.skipEvent()})},zC=function(i){this.cameraTarget.fadeOut(...i)},XC=function(i,t,s){var x="camera.shake";t.on(`+${x}`,function(E,A){pt.call(i,x,YC,[E,A],i),t.skipEvent()})},YC=function(i){this.cameraTarget.shake(...i)},UC=function(i,t,s){var x="camera.flash";t.on(`+${x}`,function(E,A,l,T){pt.call(i,x,WC,[E,A,l,T],i),t.skipEvent()})},WC=function(i){this.cameraTarget.flash(...i)},kC=function(i,t,s){var x="camera.zoom";t.on(`+${x}`,function(E){pt.call(i,x,HC,E,i),t.skipEvent()}).on(`+${x}.to`,function(E,A,l){pt.call(i,"camera.zoom.to",$C,[E,A,l],i),t.skipEvent()})},HC=function(i){this.cameraTarget.setZoom(i)},$C=function(i){this.cameraTarget.zoomTo(...i)};const Pu=Phaser.Math.DegToRad;var KC=function(i,t,s){var x="camera.rotate";t.on(`+${x}`,function(E){E=Pu(E),pt.call(i,x,ZC,E,i),t.skipEvent()}).on(`+${x}.to`,function(E,A,l){E=Pu(E),pt.call(i,"camera.rotate.to",JC,[E,A,l],i),t.skipEvent()})},ZC=function(i){this.cameraTarget.setRotation(i)},JC=function(i){var t=i[0],s=i[1],x=i[2];this.cameraTarget.rotateTo(t,!1,s,x)},QC=function(i,t,s){var x="camera.scroll";t.on(`+${x}`,function(E,A){pt.call(i,x,jC,[E,A],i),t.skipEvent()}).on(`+${x}.to`,function(E,A,l,T){pt.call(i,"camera.scroll.to",qC,[E,A,l,T],i),t.skipEvent()})},jC=function(i){this.cameraTarget.setScroll(...i)},qC=function(i){var t=i[0],s=i[1],x=i[2],E=i[3],A=this.cameraTarget,l=A.scrollX,T=A.scrollY;A.setScroll(t,s),t+=A.centerX,s+=A.centerY,A.setScroll(l,T),A.pan(t,s,x,E)},_C=function(i,t,s){var x="wait",E="click";t.on(`+${x}`,function(A){Mu(i,A),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()}).on(`+${E}`,function(){Mu(i,"click"),t.skipEvent()}).on(`-${E}`,function(){t.skipEvent()})},tS=function(i){this.typeWriter.wait(i)},Mu=function(i,t){pt.call(i,"wait",tS,t,i)},eS=function(i,t,s){var x="r";t.on(`+${x}`,function(){Qn.call(i,`
`),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()})},iS=function(i,t,s){for(var x=["pagebreak","pb"],E=0,A=x.length;E<A;E++){var l=x[E];t.on(`+${l}`,function(){Qn.call(i,"\f"),t.skipEvent()}).on(`-${l}`,function(){t.skipEvent()})}},sS=function(i,t,s){var x="content.off";t.on(`+${x}`,function(){t.setContentOutputEnable(!1),t.skipEvent()})},nS=function(i,t,s){var x="content.on";t.on(`+${x}`,function(){t.setContentOutputEnable(),t.skipEvent()})},rS=function(i,t,s){t.on("content",function(x){if(t.contentOutputEnable)Qn.call(i,x);else{var E=`+${t.lastTagStart}`;i.emit(`parser.${E}#content`,t,x)}})},aS=function(i,t,s){t.on("start",function(){i.emit("parser.start",t)}).on("+",function(x,...E){if(!t.skipEventFlag){var A=`+${x}`,l=E;i.emit(`parser.${A}`,t,...E,l),Ru(i,A,l)}}).on("-",function(x){if(!t.skipEventFlag){var E=`-${x}`,A=[];i.emit(`parser.${E}`,t,A),Ru(i,E,A)}}).on("complete",function(){i.emit("parser.complete",t)})},hS=function(i,t){var s=`tag.${t}`;i==null?this.emit(s):this.emit(s,...i)},Ru=function(i,t,s){pt.call(i,t,hS,s,i)};const Au=[FT,DT,bT,BT,IT,XT,YT,GT,NT,VT,zT,UT,WT,kT,$T,JT,qT,eC,nC,lC,cC,mC,TC,EC,wC,FC,GC,VC,XC,UC,kC,KC,QC,_C,eS,iS,sS,nS,rS,aS];var oS=function(i,t,s){for(var x=0,E=Au.length;x<E;x++)Au[x](i,t,s)},lS=function(i,t){for(var s=i.commentLineStart,x=t.split(`
`),E=0,A=x.length;E<A;E++){var l=x[E];l===""||(l.trim().length===0||s&&l.startsWith(s))&&(x[E]="")}return x.join("")};const uS=Phaser.Utils.Objects.GetValue;class dS extends LT{constructor(t,s){s===void 0&&(s={}),s.hasOwnProperty("delimiters")||(s.delimiters="[]"),super(s),oS(t,this,s),this.setCommentLineStartSymbol(uS(s,"comment","//")),this.setContentOutputEnable()}setCommentLineStartSymbol(t){return this.commentLineStart=t,this}setContentOutputEnable(t){return t===void 0&&(t=!0),this.contentOutputEnable=t,this}start(t){return super.start(lS(this,t)),this}}const fS={setDefaultTypingSpeed(i){return this.defaultSpeed=i,this},setTypingSpeed(i){return i===void 0&&(i=this.defaultSpeed),this.speed=i,this}},vs="page.fadeout",Ro="_remove.play",wu=[vs,Ro];var vS=function(){if(!this.fadeOutPageCallback||!this.children)return this.emit(vs),this;var i=this.children.filter(function(x){return x.renderable}),t=this.fadeOutPageCallback(i,this.fadeOutPageDuration);if(!t)this.emit(vs);else if(t.once)t.once("complete",function(){this.emit(vs)},this);else if(t.then){var s=this;t.then(function(){s.emit(vs)})}else this.emit(vs);return this},Jo=function(i,t){return new Promise(function(s,x){i.once(t,function(){s()})})},le=function(i){return Jo(i,"complete")},cS=function(i){return this.children=i,this.index=0,this.isPageTyping=!0,this.onTypeStart&&this.onTypeStart(i),this.typing(),le(this)};const pS="delay",kv="anim";var Hv=function(i){i===void 0&&(i=0);var t=0;for(this.inTypingProcessLoop=!0;this.inTypingProcessLoop;){var s=this.getNextChild();if(!s){this.timeline.isRunning?this.timeline.once("complete",function(){this.isPageTyping=!1,this.emit("complete")},this):(this.isPageTyping=!1,this.emit("complete"));break}if(s.renderable){var x=this.animationConfig;if(x.duration>0){var E=this.timeline.addTimer({name:kv,target:s,duration:x.duration,yoyo:x.yoyo,onStart:x.onStart,onProgress:x.onProgress,onComplete:x.onComplete});this.skipTypingAnimation&&E.seek(1)}else x.onStart&&x.onStart(s,0);this.minSizeEnable&&this.textPlayer.setToMinSize(),this.textPlayer.emit("typing",s);var A=this.nextChild;if(A&&!(this.skipSpaceEnable&&Lx(A))){if(t+=this.speed+i,i=0,t>0){this.typingTimer=this.timeline.addTimer({name:pS,target:this,duration:t,onComplete:function(l,T,e){l.typingTimer=void 0,Hv.call(l,e.remainder)}});break}}}else Fx(s)&&s.exec()}this.minSizeEnable&&this.textPlayer.setToMinSize(),this.inTypingProcessLoop=!1},gS=function(){return this.timeline.pause(),this},mS=function(){return this.timeline.resume(),this},xS=function(){return this.isTypingPaused?this:(this.typingTimer?(this.typingTimer.pause(),this.isTypingPaused=!0):this.inTypingProcessLoop&&(this.inTypingProcessLoop=!1,this.isTypingPaused=!0),this)},yS=function(i){return this.isTypingPaused?(i===void 0&&(i=0),this.typingTimer?(this.isTypingPaused=!1,this.typingTimer.resume(),this.typingTimer.remainder+=i):this.isTypingPaused&&(this.isTypingPaused=!1,this.typing(i)),this):this},TS=function(i){switch(i){case"camera.fadein":case"camera.fadeout":case"camera.flash":case"camera.shake":case"camera.zoom":case"camera.rotate":case"camera.scroll":return!0;default:return!1}},CS=function(i,t){var s=t.split(".");return i.gameObjectManagers.hasOwnProperty(s[0])},SS=function(i,t,s,x){var E=i.waitEventManager,A=t.split("."),l=A[0],T=i.getGameObjectManager(l),e=`wait.${l}`;switch(A.length){case 1:E.waitGameObjectManagerEmpty(l),i.emit(e);return;case 2:var u=A[1];E.waitGameObjectDestroy(l,u),i.emit(e,u);return;case 3:var u=A[1],m=A[2],d=T.getProperty(u,m);if(typeof d=="number"){E.waitGameObjectTweenComplete(l,u,m),i.emit(e,u,m);return}var o=m,h=o.startsWith("!");if(h&&(o=o.substring(1)),T.hasData(u,o)){E.waitGameObjectDataFlag(l,u,o,!h),i.emit(e,u,o);return}else{E.waitTime(0);return}}};const ES=Phaser.Input.Keyboard.KeyCodes;var $v=function(i,t,s,x){var E=i.waitEventManager;E.clearWaitCompleteCallbacks().addWaitCompleteCallback(s,x),typeof t=="string"&&t.length>1&&t.indexOf("|")!==-1?t=t.split("|"):t=[t];for(var A=0,l=t.length;A<l;A++){var T=t[A];if(T==null||T==="wait"){var e=i.waitEventManager.getWaitCompleteTriggerCallback();i.emit("wait",e)}else if(typeof T=="number"||!isNaN(T)){var u=parseFloat(T);E.waitTime(u),i.emit("wait.time",u)}else if(T==="click")E.waitClick(),i.emit("wait.click");else if(T==="se"){E.waitSoundEffectComplete();var m=i.soundManager.getLastSoundEffect();i.emit("wait.music",m)}else if(T==="se2"){E.waitSoundEffect2Complete();var m=i.soundManager.getLastSoundEffect2();i.emit("wait.music",m)}else if(T==="bgm"){E.waitBackgroundMusicComplete();var m=i.soundManager.getBackgroundMusic();i.emit("wait.music",m)}else if(T==="bgm2"){E.waitBackgroundMusic2Complete();var m=i.soundManager.getBackgroundMusic2();i.emit("wait.music",m)}else if(ES.hasOwnProperty(T.toUpperCase()))E.waitKeyDown(T),i.emit("wait.keydown",T);else if(TS(T))E.waitCameraEffectComplete(T),i.emit("wait.camera",T);else if(CS(i,T))SS(i,T);else{var e=i.waitEventManager.getWaitCompleteTriggerCallback();i.emit(`wait.${T}`,e)}}},PS=function(i){return this.ignoreWait?this:(this.pauseTyping(),$v(this.textPlayer,i,this.resumeTyping,this),this)},MS=function(i){return i===void 0&&(i=!0),this.ignoreWait=i,this},RS=function(i){return i===void 0&&(i=!0),this.skipSpaceEnable=i,this},AS=function(i){if(i===void 0&&(i=!0),this.skipTypingAnimation=i,i)for(var t=this.timeline.getTimers(kv),s=0,x=t.length;s<x;s++)t[s].seek(1);return this},wS=function(i){if(i===void 0&&(i=!0),this.skipSoundEffect=i,i){var t=this.textPlayer._soundManager;t&&t.fadeOutAllSoundEffects(100,!0)}return this},OS=function(){return this.typingTimer&&this.typingTimer.seek(1),this},Kv={fadeOutPage:vS,start:cS,typing:Hv,pause:gS,resume:mS,pauseTyping:xS,resumeTyping:yS,wait:PS,setIgnoreWait:MS,setSkipSpaceEnable:RS,setSkipTypingAnimation:AS,setSkipSoundEffect:wS,skipCurrentTypingDelay:OS};Object.assign(Kv,fS);const bs=Phaser.Utils.Objects.GetValue;class Zv{constructor(t,s){this.setEventEmitter(),this.textPlayer=t,this.isPageTyping=!1,this.typingTimer=void 0,this.pauseTypingTimer=void 0,this.inTypingProcessLoop=!1,this.isTypingPaused=!1,this.setIgnoreWait(!1),this.setSkipTypingAnimation(!1),this.setTypingStartCallback(bs(s,"onTypingStart",FS)),this.setDefaultTypingSpeed(bs(s,"speed",250)),this.setTypingSpeed(),this.setSkipSpaceEnable(bs(s,"skipSpace",!1)),this.setAnimationConfig(bs(s,"animation",void 0)),this.setMinSizeEnable(bs(s,"minSizeEnable",!1)),this.setFadeOutPageCallback(bs(s,"fadeOutPage"))}destroy(){this.destroyEventEmitter(),this.textPlayer=void 0,this.typingTimer=void 0,this.pauseTypingTimer=void 0,this.onTypeStart=void 0,this.animationConfig=void 0}get timeline(){return this.textPlayer.timeline}setTypingStartCallback(t){return this.onTypeStart=t,this}setAnimationConfig(t){return t||(t={}),t.hasOwnProperty("duration")||(t.duration=0),t.hasOwnProperty("onStart")||(t.onStart=LS),this.animationConfig=t,this}setFadeOutPageCallback(t){return this.fadeOutPageCallback=t,this}setMinSizeEnable(t){return t===void 0&&(t=!0),this.minSizeEnable=t,this}getNextChild(){var t=this.nextChild;return this.index=Math.min(this.index+1,this.children.length),this._nextChild=void 0,t}get nextChild(){return this._nextChild||(this._nextChild=this.children[this.index]),this._nextChild}}var LS=function(i){i.setVisible&&i.setVisible()},FS=function(i){for(var t=0,s=i.length;t<s;t++){var x=i[t];x.setVisible&&x.setVisible(!1)}};Object.assign(Zv.prototype,ys,Kv);class DS extends $o{playAnimation(t){return this.gameObject.anims.timeScale=this.timeScale,this.gameObject.play(t),this}stopAnimation(){return this.gameObject.stop(),this}chainAnimation(t){return this.gameObject.chain(t),this}pauseAnimation(){return this.gameObject.anims.pause(),this}setTimeScale(t){return super.setTimeScale(t),this.gameObject.anims&&(this.gameObject.anims.timeScale=t),this}}const bS={playAnimation(i,t){return this.has(i)||this.add(i),this.get(i).playAnimation(t),this},stopAnimation(i){return this.has(i)?(this.get(i).stopAnimation(),this):this},chainAnimation(i,t){return this.has(i)?(this.get(i).chainAnimation(t),this):this},pauseAnimation(i){return this.has(i)?(this.get(i).pauseAnimation(),this):this}};var Jv={};Object.assign(Jv,bS);class Qv extends Ma{constructor(t,s){s===void 0&&(s={}),s.BobClass=DS,super(t,s)}setCreateGameObjectCallback(t,s){return!t||t==="sprite"?t=BS:t==="image"&&(t=IS),super.setCreateGameObjectCallback(t,s),this}}var BS=function(i,t,s){return typeof s!="string"&&typeof s!="number"&&(s=void 0),i.add.sprite(0,0,t,s)},IS=function(i,t,s){return typeof s!="string"&&typeof s!="number"&&(s=void 0),i.add.image(0,0,t,s)};Object.assign(Qv.prototype,Jv);var Ou=function(i,t){return i.length===3&&i[0]===t&&i[2]==="play"},GS=function(i,t){return i.length===3&&i[0]===t&&i[2]==="stop"},NS=function(i,t,s){var x=s.name;t.on("+",function(E,...A){if(!t.skipEventFlag){var l=E.split("."),T;if(Ou(l,x))T=l[1];else return;pt.call(i,`${x}.play`,VS,[x,T,A],i),t.skipEvent()}}).on("+",function(E){if(!t.skipEventFlag){var A=E.split("."),l;if(GS(A,x))l=A[1];else return;pt.call(i,`${x}.stop`,Lu,[x,l],i),t.skipEvent()}}).on("-",function(E){if(!t.skipEventFlag){var A=E.split("."),l;if(Ou(A,x))l=A[1];else return;pt.call(i,`${x}.stop`,Lu,[x,l],i),t.skipEvent()}})},VS=function(i){var t,s,x;[t,s,x]=i;var E=x.shift(),A=this.getGameObjectManager(t);A.playAnimation(s,E),x.length>0&&A.chainAnimation(s,x)},Lu=function(i){var t,s;[t,...s]=i;var x=this.getGameObjectManager(t);x.stopAnimation(...s)},zS=function(i,t){return i.length===3&&i[0]===t&&i[2]==="pause"},XS=function(i,t,s){var x=s.name;t.on("+",function(E){if(!t.skipEventFlag){var A=E.split("."),l;if(zS(A,x))l=A[1];else return;pt.call(i,`${x}.pause`,YS,[x,l],i),t.skipEvent()}})},YS=function(i){var t,s;[t,...s]=i;var x=this.getGameObjectManager(t);x.pauseAnimation(...s)},US=function(i,t){return i.length===3&&i[0]===t&&i[2]==="chain"},WS=function(i,t,s){var x=s.name;t.on("+",function(E){if(!t.skipEventFlag){var A=E.split("."),l;if(US(A,x))l=A[1];else return;var T=Array.prototype.slice.call(arguments,1);pt.call(i,`${x}.chain`,kS,[x,l,T],i),t.skipEvent()}})},kS=function(i){var t,s;[t,...s]=i;var x=this.getGameObjectManager(t);x.chainAnimation(...s)};const HS=[NS,XS,WS];var $S=function(i){i===void 0&&(i={}),i.name="sprite",i.parseCallbacks=HS,this.addGameObjectManager(i,Qv)},Fu=function(i,t){return i.length===2&&i[0]===t},KS=function(i,t,s){var x=s.name;t.on("+",function(E,...A){if(!t.skipEventFlag){var l=E.split("."),T;if(Fu(l,x))T=l[1];else return;pt.call(i,`${x}.add`,ZS,[x,T,...A],i),t.skipEvent()}}).on("-",function(E){if(!t.skipEventFlag){var A=E.split("."),l;if(Fu(A,x))l=A[1];else return;pt.call(i,`${x}.remove`,JS,[x,l],i),t.skipEvent()}})},ZS=function(i){var t,s;[t,...s]=i;var x=this.getGameObjectManager(t);x.add(...s)},JS=function(i){var t,s;[t,...s]=i;var x=this.getGameObjectManager(t);x.remove(...s)},QS=function(i,t,s){var x=s.name;t.on("-",function(E){t.skipEventFlag||E===x&&(pt.call(i,`${x}.removeall`,jS,x,i),t.skipEvent())})},jS=function(i){var t=this.getGameObjectManager(i);t.removeAll()},qS=function(i,t){return i.length===3&&i[0]===t},_S=function(i,t,s){var x=s.name;t.on("+",function(E,...A){if(!t.skipEventFlag){var l=E.split("."),T,e;if(qS(l,x))T=l[1],e=l[2];else return;pt.call(i,`${x}.call`,tE,[x,T,e,...A],i),t.skipEvent()}})},tE=function(i){var t,s,x,E;[t,s,x,...E]=i;var A=`${t}.${x}`;if(this.emit(A,s,...E),!(this.listenerCount(A)>0)){var l=this.getGameObjectManager(t);l.hasMethod(s,x)?l.call(s,x,...E):l.setProperty(s,x,E[0])}},eE={to:!0,yoyo:!0,from:!0,toLeft:!0,toRight:!0,toUp:!0,toDown:!0,yoyoLeft:!0,yoyoRight:!0,yoyoUp:!0,yoyoDown:!0,fromLeft:!0,fromRight:!0,fromUp:!0,fromDown:!0},iE=function(i,t){return i.length===4&&i[0]===t&&eE[i[3]]},sE=function(i,t,s){var x=s.name;i.getGameObjectManager(x),t.on("+",function(E,A,l,T,e){if(!t.skipEventFlag){var u=E.split("."),m,d,o;if(iE(u,x))m=u[1],d=u[2],o=u[3];else return;typeof T=="number"&&(e=T,T=void 0),pt.call(i,`${x}.ease`,nE,[x,m,d,A,l,T,e,o],i),t.skipEvent()}})},nE=function(i){var t,s,x,E,A,l,T,e;[t,s,x,E,A,l,T,e]=i;var u=this.getGameObjectManager(t),m=u.getProperty(s,x);if(typeof m=="number"){e.endsWith("Left")||e.endsWith("Up")?e.startsWith("to")||e.startsWith("yoyo")?E=m-E:e.startsWith("from")&&(u.setProperty(s,x,m-E),E=m):e.endsWith("Right")||e.endsWith("Down")?e.startsWith("to")||e.startsWith("yoyo")?E=m+E:e.startsWith("from")&&(u.setProperty(s,x,m+E),E=m):e==="from"&&(u.setProperty(s,x,E),E=m);var d=e.startsWith("yoyo");u.easeProperty(s,x,E,A,l,T,d)}};const Du=[KS,QS,_S,sE],rE=Yv.addGameObjectManager,aE={addGameObjectManager(i,t){i===void 0&&(i={});var s=i.name;s||console.warn("Parameter 'name' is required in TextPlayer.addGameObjectManager(config) method"),rE.call(this,i,t);var x=i.parseCallbacks;x?x=[...x,...Du]:x=Du;for(var E=0,A=x.length;E<A;E++)x[E](this,this.parser,i);return this}};var hE=function(i){return this.waitEventManager.setClickTarget(i),this},oE=function(i){return this.waitEventManager.setCameraTarget(i),this},lE=function(i){var t=this;i?typeof i=="function"?this.nextPageInput=function(s,x){var E=t.waitEventManager;E.clearWaitCompleteCallbacks().addWaitCompleteCallback(s,x);var A=E.getWaitCompleteTriggerCallback();i.call(t,A)}:this.nextPageInput=function(s,x){$v(t,i,s,x)}:this.nextPageInput=null},uE=function(i,t){return this.imageManager.add(i,t),this};const dE={play(i){return this.isPlaying?this:(this.removeChildren(),this.parser.start(i),this.isPlaying=!0,this.once("complete",function(){this.isPlaying=!1},this),this.lastWrapResult=void 0,this.typingNextPage(),this)},playPromise(i){var t=le(this);return this.play(i),t}};var Ao=function(){return!this.isPlaying||this.isPageTyping?this:(this.typeWriter.once(vs,fE,this).fadeOutPage(),this)},fE=function(){var i=this.runWrap(this.lastWrapResult);this.lastWrapResult=i,this.emit("page.start");var t=function(){this.emit(Ro),i.isLastPage?this.emit("complete"):(this.emit("page.complete"),this.ignoreNextPageInput?Ao.call(this):this.nextPageInput&&this.nextPageInput(Ao,this))};this.once(Ro,function(){this.typeWriter.off("complete",t,this)},this),this.typeWriter.once("complete",t,this).start(i.children)};const vE={pause(){return this.timeline.pause(),this},pauseTyping(){return this.typeWriter.pauseTyping(),this}},cE={resume(){return this.timeline.resume(),this},resumeTyping(i){return this.typeWriter.resumeTyping(i),this}};var pE=function(i){return this.typeWriter.wait(i),this};const gE={setDefaultTypingSpeed(i){return this.defaultTypingSpeed=i,this},setTypingSpeed(i){return this.typingSpeed=i,this}};var mE=function(i){return this.typeWriter.setIgnoreWait(i),this},xE=function(i){return i===void 0&&(i=!0),this.ignoreNextPageInput=i,this},yE=function(){if(!this.isPlaying||!this.isPageTyping)return this;var i=this.typeWriter.speed,t=this.typeWriter.ignoreWait,s=this.typeWriter.skipTypingAnimation,x=this.typeWriter.skipSoundEffect;return this.typeWriter.once("complete",function(){this.typeWriter.setTypingSpeed(i).setIgnoreWait(t).setSkipTypingAnimation(s).setSkipSoundEffect(x)},this).setTypingSpeed(0).skipCurrentTypingDelay().setIgnoreWait(!0).setSkipTypingAnimation(!0).setSkipSoundEffect(!0),this};const TE={getSprite(i){return this.getGameObject("sprite",i)},addSprite(i,t){return this.addGameObject("sprite",i,t),this}},CE={setContentOutputEnable(i){return this.parser.setContentOutputEnable(i),this},setContentCallback(i,t){return this.contentCallback=i,this.contentCallbackScope=t,this}};var jv={setClickTarget:hE,setCameraTarget:oE,setNextPageInput:lE,addImage:uE,typingNextPage:Ao,wait:pE,setIgnoreWait:mE,setIgnoreNextPageInput:xE,showPage:yE};Object.assign(jv,aE,dE,vE,cE,gE,TE,CE);var SE=function(i){for(var t=0,s=wu.length;t<s;t++)i.emit(wu[t])};const bu=Phaser.Utils.Objects.IsPlainObject,Bs=Phaser.Utils.Objects.GetValue;class EE extends MT(Sa){constructor(t,s,x,E,A,l){bu(s)?l=s:bu(E)&&(l=E),l===void 0&&(l={});var T=l.text;delete l.text,super(t,s,x,E,A,l),this.type="rexTextPlayer",this.initManagers(t,l),this.parser=new dS(this,Bs(l,"parser",void 0)),this.typeWriter=new Zv(this,Bs(l,"typing",void 0)),this._imageManager=void 0;var e=Bs(l,"images",void 0);e&&this.addImage(e);var u=Bs(l,"sprites");u!==!1&&u!==null&&$S.call(this,u),this.setIgnoreNextPageInput(Bs(l,"ignoreNextPageInput",!1)),this.setNextPageInput(Bs(l,"nextPageInput",null)),this.isPlaying=!1,T&&this.play(T)}get imageManager(){return this._imageManager===void 0&&(this._imageManager=new Uo(this.scene)),this._imageManager}get spriteManager(){return this.getGameObjectManager("sprite")}destroy(t){!this.scene||this.ignoreDestroy||(SE(this),this.parser.destroy(),this.parser=void 0,this.typeWriter.destroy(t),this.typeWriter=void 0,this._imageManager&&this._imageManager.destroy(t),this._imageManager=void 0,this.destroyManagers(t),super.destroy(t))}get isPageTyping(){return this.typeWriter.isPageTyping}set defaultTypingSpeed(t){this.typeWriter.setDefaultTypingSpeed(t)}get defaultTypingSpeed(){return this.typeWriter.defaultTypingSpeed}set typingSpeed(t){this.typeWriter.setTypingSpeed(t)}get typingSpeed(){return this.typeWriter.speed}set timeScale(t){this.setTimeScale(t)}get timeScale(){return this.getTimeScale()}}Object.assign(EE.prototype,jv);const qv={maxLength:["maxLength",void 0],minLength:["minLength",void 0],readOnly:["readOnly",!1]},_v={direction:["direction",void 0]};var Ui=function(i,t,s){if(typeof s=="string")i.hasOwnProperty(s)&&(t[s]=i[s]);else{var x=s;if(Array.isArray(x))for(var E=0,A=x.length;E<A;E++)Ui(i,t,x[E]);else for(var s in x)Ui(i,t,s)}},PE=function(i){i===void 0&&(i={});var t={};return Ui(i,t,"inputType"),Ui(i,t,"type"),Ui(i,t,"style"),Ui(i,t,_v),Ui(i,t,qv),t},tc=function(i,t,s,x){if(t)return!(s&&!s(i,t)||!Bu(i,t)||x&&!x(i,t));for(var E=i.scene.input.manager,A=E.pointersTotal,l=E.pointers,t,T=0;T<A;T++)if(t=l[T],!(s&&!s(i,t))&&Bu(i,t)&&!(x&&!x(i,t)))return!0;return!1},Bu=function(i,t){for(var s=i.scene,x=s.input.cameras.getCamerasBelowPointer(t),E=s.input.manager,A=[i],l=0,T=x.length;l<T;l++)if(E.hitTest(t,A,x[l],Or),Or.length>0)return Or.length=0,!0;return Or.length=0,!1},Or=[],js=void 0,ME=function(i){i!==js&&(js!==void 0&&js.close(),js=i)},RE=function(i){i===js&&(js=void 0)};const AE=Phaser.Utils.Objects.GetValue;var la=function(i,t,s){s===void 0&&(s={});var x,E;for(var A in i)x=i[A],E=AE(t,A,x[1]),E!==void 0&&(s[x[0]]=E);return s},ec=function(i){i.addEventListener("touchstart",Is,!1),i.addEventListener("touchmove",Is,!1),i.addEventListener("touchend",Is,!1),i.addEventListener("mousedown",Is,!1),i.addEventListener("mouseup",Is,!1),i.addEventListener("mousemove",Is,!1)},Is=function(i){i.stopPropagation()};const rh=Phaser.Utils.Objects.GetValue;var wE=function(i,t){var s,x=rh(t,"inputType",void 0);x===void 0&&(x=rh(t,"type","text")),x==="textarea"?(s=document.createElement("textarea"),s.style.resize="none"):(s=document.createElement("input"),s.type=x);var E=rh(t,"style",void 0),A=s.style;la(_v,E,A),A.position="absolute",A.opacity=0,A.pointerEvents="none",A.zIndex=0,A.transform="scale(0)",la(qv,t,s),ec(s);var l=i.scene.sys.scale,T=l.isFullscreen?l.fullscreenTarget:document.body;return T.appendChild(s),s},OE=function(){return this.isOpened?this:this.readOnly?this:(ME(this),this.isOpened=!0,this.node||(this.node=wE(this,this.nodeConfig)),this.setFocus(),this.initText(),this.enterCloseEnable&&this.scene.input.keyboard.once("keydown-ENTER",this.close,this),this.scene.sys.events.on("postupdate",this.updateText,this),this.scene.input.on("pointerdown",this.onClickOutside,this),this.onOpenCallback&&this.onOpenCallback(this.parent,this),this.emit("open",this),this)},LE=function(i){if(i){var t=i.parentElement;t&&t.removeChild(i)}},FE=function(){return this.isOpened?(RE(this),this.setBlur(),this.isOpened=!1,this.updateText(),this.scene.sys.events.off("postupdate",this.updateText,this),this.scene.input.off("pointerdown",this.onClickOutside,this),this.onCloseCallback&&this.onCloseCallback(this.parent,this),LE(this.node),this.node=void 0,this.emit("close",this),this):this},DE={open:OE,close:FE};const Ni=Phaser.Utils.Objects.GetValue;class ic extends ie{constructor(t,s){super(t);var x=Ni(s,"inputType",void 0);x===void 0&&(x=Ni(s,"type","text")),this.setEnterCloseEnable(Ni(s,"enterClose",x!=="textarea"));var E=Ni(s,"onOpen",void 0);E||(E=Ni(s,"onFocus",void 0)),this.onOpenCallback=E;var A=Ni(s,"onClose",void 0);A||(A=Ni(s,"onBlur",void 0)),this.onCloseCallback=A,this.onUpdateCallback=Ni(s,"onUpdate",void 0),this.isOpened=!1,t.on("pointerdown",function(){this.open()},this).setInteractive(),this.nodeConfig=PE(s),this.node=void 0}destroy(){this.close(),super.destroy()}onClickOutside(t){tc(this.parent,t)||this.close()}setEnterCloseEnable(t){return t===void 0&&(t=!0),this.enterCloseEnable=t,this}initText(){}updateText(){}get text(){return this.node?this.node.value:""}set text(t){this.node&&(this.node.value=t)}setText(t){return this.text=t,this}get maxLength(){return this.nodeConfig.maxLength}set maxLength(t){this.nodeConfig.maxLength=t,this.node&&(this.node.maxLength=t)}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.nodeConfig.minLength}set minLength(t){this.nodeConfig.minLength=t,this.node&&(this.node.minLength=t)}setMinLength(t){return this.minLength=t,this}get placeholder(){return this.node.placeholder}set placeholder(t){this.node&&(this.node.placeholder=t)}setPlaceholder(t){return this.placeholder=t,this}selectText(t,s){return this.node?(t===void 0?this.node.select():this.node.setSelectionRange(t,s),this):this}selectAll(){return this.selectText(),this}get selectionStart(){return this.node?this.node.selectionStart:0}get selectionEnd(){return this.node?this.node.selectionEnd:0}get selectedText(){if(!this.node)return"";var t=this.node;return t.value.substring(t.selectionStart,t.selectionEnd)}get cursorPosition(){return this.node?this.node.selectionStart:0}set cursorPosition(t){this.node&&this.node.setSelectionRange(t,t)}setCursorPosition(t){return t===void 0?t=this.text.length:t<0&&(t=this.text.length+t),this.cursorPosition=t,this}get tooltip(){return this.node?this.node.title:""}set tooltip(t){if(!this.node)return this;this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.nodeConfig.readOnly}set readOnly(t){this.nodeConfig.readOnly=t,this.node&&(this.node.readOnly=t)}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node?this.node.spellcheck:""}set spellCheck(t){this.node&&(this.node.spellcheck=t)}setSpellCheck(t){return this.spellCheck=t,this}get fontColor(){if(this.node)return this.node.style.color}set fontColor(t){this.node&&(this.node.style.color=t)}setFontColor(t){return this.fontColor=t,this}setStyle(t,s){return this.node?(this.node.style[t]=s,this):this}getStyle(t){if(this.node)return this.node.style[t]}scrollToBottom(){return this.node?(this.node.scrollTop=this.node.scrollHeight,this):this}setEnabled(t){return this.node?(t===void 0&&(t=!0),this.node.disabled=!t,this):this}setBlur(){return this.node?(this.node.blur(),this):this}setFocus(){return this.node?(this.node.focus(),this):this}get isFocused(){return this.isOpened}}Object.assign(ic.prototype,DE);var bE=function(i,t,s){i=i.replace(" ","");var x=s.previousText;if(i===x)return i;if(isNaN(i)){s.emit("nan",i,s),i=x;var E=s.cursorPosition-1;s.setText(i),s.setCursorPosition(E)}else s.previousText=i;return i},BE=function(i){var t=i.parent,s=i.isOpened?i.selectionStart:null,x=i.isOpened?i.selectionEnd:null,E=i.prevSelectionStart,A=i.prevSelectionEnd;if(!(E===s&&A===x)){var l,T;E===null?(l=s,T=x):(l=Math.min(E,s),T=Math.max(A,x));for(var e=l;e<T;e++){var u=E===null?!1:e>=E&&e<A,m=e>=s&&e<x;if(!(u&&m)){var d=t.getCharChild(e);d&&(u?t.emit("cursorout",d,e,t):t.emit("cursorin",d,e,t))}}i.prevSelectionStart=s,i.prevSelectionEnd=x}},IE=function(i){var t=i.parent,s=t.text,x=i.cursorPosition;if(i.prevCursorPosition!==x){if(i.prevCursorPosition!==null&&i.prevCursorPosition>s.length&&(i.prevCursorPosition=null),i.prevCursorPosition!==null){var E=t.getCharChild(i.prevCursorPosition);E&&(E.text===`
`&&E.clearTextSize(),t.emit("cursorout",E,i.prevCursorPosition,t))}if(x!=null){var E=t.getCharChild(x);E&&(E.text===`
`&&E.copyTextSize(t.lastInsertCursor),t.emit("cursorin",E,x,t))}t.emit("movecursor",x,i.prevCursorPosition,t),i.prevCursorPosition=x}},Iu=function(i){var t=i.prevSelectionStart;if(t!==null){for(var s=i.prevSelectionEnd,x=i.parent,E=t;E<s;E++){var A=x.getCharChild(E);A&&x.emit("cursorout",A,E,x)}i.prevSelectionStart=null,i.prevSelectionEnd=null}},Gu=function(i){var t=i.prevCursorPosition;if(t!==null){var s=i.parent,x=s.getCharChild(t);x&&s.emit("cursorout",x,t,s),i.prevCursorPosition=null}};const GE=Phaser.Utils.Objects.GetValue;class NE extends ic{constructor(t,s){super(t,s),this.setSelectAllWhenFocusEnable(GE(s,"selectAll",!1)),this.cursorMoveStartIndex=null,this.prevCursorPosition=null,this.prevSelectionStart=null,this.prevSelectionEnd=null,this.firstClickAfterOpen=!1,t.on("pointerdown",function(x,E,A,l){var T=t.getNearestChild(E,A),e=t.getCharIndex(T);(!this.selectAllWhenFocus||!this.firstClickAfterOpen)&&this.setCursorPosition(e),this.cursorMoveStartIndex=e,this.firstClickAfterOpen=!1},this).on("pointermove",function(x,E,A,l){if(x.isDown){var T=t.getNearestChild(E,A),e=t.getCharIndex(T);this.cursorMoveStartIndex<e?this.selectText(this.cursorMoveStartIndex,e+1):this.selectText(e,this.cursorMoveStartIndex+1)}},this),this.on("open",function(){this.selectAllWhenFocus&&this.selectAll(),this.firstClickAfterOpen=!0,t.emit("open")},this).on("close",function(){t.emit("close")},this)}initText(){var t=this.parent;return this.prevCursorPosition=null,this.setText(t.text),this}updateText(){var t=this.parent,s=this.text;if(this.onUpdateCallback){var x=this.onUpdateCallback(s,t,this);x!=null&&(s=x)}return t.text!==s&&(t.setText(s),t.emit("textchange",s,t,this)),this.isOpened?this.selectionStart!==this.selectionEnd?(Gu(this),BE(this)):(Iu(this),IE(this)):(Iu(this),Gu(this)),this}setNumberInput(){return this.onUpdateCallback=bE,this}setSelectAllWhenFocusEnable(t){return t===void 0&&(t=!0),this.selectAllWhenFocus=t,this}}const VE=Phaser.Utils.Objects.GetValue,zE=["inputType","onOpen","onFocus","onClose","onBlur","onUpdate","enterClose","readOnly","maxLength","minLength","selectAll"];var XE=function(i,t){var s=VE(t,"edit");return s===void 0&&(s={}),Ui(t,s,zE),new NE(i,s)},vi=function(i,t){if(!i||typeof i=="number")return!1;if(i.hasOwnProperty(t))return!0;if(t.indexOf(".")!==-1){for(var s=t.split("."),x=i,E=0;E<s.length;E++)if(x.hasOwnProperty(s[E]))x=x[s[E]];else return!1;return!0}else return!1},sc=function(i){return i==null||i===""||i.length===0},YE=function(i,t,s){var x=i;if(!sc(t)){typeof t=="string"&&(t=t.split("."));for(var E,A=0,l=t.length;A<l;A++){if(E=t[A],x[E]==null||typeof x[E]!="object"){var T;A===l-1?s===void 0?T={}:T=s:T={},x[E]=T}x=x[E]}}return x},Wi=function(i,t,s,x){if(x===void 0&&(x="."),typeof i=="object"){if(sc(t)){if(s==null)return;typeof s=="object"&&(i=s)}else{typeof t=="string"&&(t=t.split(x));var E=t.pop(),A=YE(i,t);A[E]=s}return i}},UE=function(i){var t=!i.textArea;if(!vi(i,"wrap.vAlign")){var s=t?"center":"top";Wi(i,"wrap.vAlign",s)}if(vi(i,"wrap.charWrap")||Wi(i,"wrap.charWrap",!0),!vi(i,"wrap.maxLines")){var s=t?1:void 0;Wi(i,"wrap.maxLines",s)}if(vi(i,"wrap.useDefaultTextHeight")||Wi(i,"wrap.useDefaultTextHeight",!0),i.edit||(i.edit={}),!vi(i.edit,"inputType")){var s=t?"text":"textarea";Wi(i.edit,"inputType",s)}return i},wo=function(i,t,s,x){if(s===void 0&&(s="."),x===void 0&&(x={}),!i)return x;if(t in i)return Object.assign(x,i[t]);t+=s;for(var E in i)E.startsWith(t)&&(x[E.replace(t,"")]=i[E]);return x},Qo=function(i,t,s){if(s===void 0&&(s={}),Array.isArray(t))for(var x,E=0,A=t.length;E<A;E++)x=t[E],s[x]=i[x];else for(var x in t)s[x]=i[x];return s},jo=function(i,t){for(var s in i)if(!(s in t)||i[s]!==t[s])return!1;for(var s in t)if(!(s in i))return!1;return!0},WE=function(i){Ko(i)||this.setCursorStyle(i).on("cursorin",function(t){var s=this.cursorStyle,x=Qo(t.style,s);jo(s,x)||(t.styleSave=x,t.modifyStyle(s))},this).on("cursorout",function(t){t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},kE=function(i){Ko(i)||this.setFocusStyle(i).on("open",function(){var t=this.background,s=this.focusStyle,x=Qo(t,s);jo(s,x)||(t.styleSave=x,t.modifyStyle(s))},this).on("close",function(){var t=this.background;t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},HE=function(i){var t=i.createCharChild("|");return t.text="",t};function Fi(){}Fi.prototype={diff(i,t,s={}){let x=s.callback;typeof s=="function"&&(x=s,s={}),this.options=s;let E=this;function A(h){return x?(setTimeout(function(){x(void 0,h)},0),!0):h}i=this.castInput(i),t=this.castInput(t),i=this.removeEmpty(this.tokenize(i)),t=this.removeEmpty(this.tokenize(t));let l=t.length,T=i.length,e=1,u=l+T;s.maxEditLength&&(u=Math.min(u,s.maxEditLength));let m=[{newPos:-1,components:[]}],d=this.extractCommon(m[0],t,i,0);if(m[0].newPos+1>=l&&d+1>=T)return A([{value:this.join(t),count:t.length}]);function o(){for(let h=-1*e;h<=e;h+=2){let n,r=m[h-1],f=m[h+1],a=(f?f.newPos:0)-h;r&&(m[h-1]=void 0);let v=r&&r.newPos+1<l,p=f&&0<=a&&a<T;if(!v&&!p){m[h]=void 0;continue}if(!v||p&&r.newPos<f.newPos?(n=KE(f),E.pushComponent(n.components,void 0,!0)):(n=r,n.newPos++,E.pushComponent(n.components,!0,void 0)),a=E.extractCommon(n,t,i,h),n.newPos+1>=l&&a+1>=T)return A($E(E,n.components,t,i,E.useLongestToken));m[h]=n}e++}if(x)(function h(){setTimeout(function(){if(e>u)return x();o()||h()},0)})();else for(;e<=u;){let h=o();if(h)return h}},pushComponent(i,t,s){let x=i[i.length-1];x&&x.added===t&&x.removed===s?i[i.length-1]={count:x.count+1,added:t,removed:s}:i.push({count:1,added:t,removed:s})},extractCommon(i,t,s,x){let E=t.length,A=s.length,l=i.newPos,T=l-x,e=0;for(;l+1<E&&T+1<A&&this.equals(t[l+1],s[T+1]);)l++,T++,e++;return e&&i.components.push({count:e}),i.newPos=l,T},equals(i,t){return this.options.comparator?this.options.comparator(i,t):i===t||this.options.ignoreCase&&i.toLowerCase()===t.toLowerCase()},removeEmpty(i){let t=[];for(let s=0;s<i.length;s++)i[s]&&t.push(i[s]);return t},castInput(i){return i},tokenize(i){return i.split("")},join(i){return i.join("")}};function $E(i,t,s,x,E){let A=0,l=t.length,T=0,e=0;for(;A<l;A++){let m=t[A];if(m.removed){if(m.value=i.join(x.slice(e,e+m.count)),e+=m.count,A&&t[A-1].added){let d=t[A-1];t[A-1]=t[A],t[A]=d}}else{if(!m.added&&E){let d=s.slice(T,T+m.count);d=d.map(function(o,h){let n=x[e+h];return n.length>o.length?n:o}),m.value=i.join(d)}else m.value=i.join(s.slice(T,T+m.count));T+=m.count,m.added||(e+=m.count)}}let u=t[l-1];return l>1&&typeof u.value=="string"&&(u.added||u.removed)&&i.equals("",u.value)&&(t[l-2].value+=u.value,t.pop()),t}function KE(i){return{newPos:i.newPos,components:i.components.slice(0)}}const ZE=new Fi;function JE(i,t,s){return ZE.diff(i,t,s)}const Nu=/^[a-zA-Z\u{C0}-\u{FF}\u{D8}-\u{F6}\u{F8}-\u{2C6}\u{2C8}-\u{2D7}\u{2DE}-\u{2FF}\u{1E00}-\u{1EFF}]+$/u,Vu=/\S/,nc=new Fi;nc.equals=function(i,t){return this.options.ignoreCase&&(i=i.toLowerCase(),t=t.toLowerCase()),i===t||this.options.ignoreWhitespace&&!Vu.test(i)&&!Vu.test(t)};nc.tokenize=function(i){let t=i.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/);for(let s=0;s<t.length-1;s++)!t[s+1]&&t[s+2]&&Nu.test(t[s])&&Nu.test(t[s+2])&&(t[s]+=t[s+2],t.splice(s+1,2),s--);return t};const rc=new Fi;rc.tokenize=function(i){let t=[],s=i.split(/(\n|\r\n)/);s[s.length-1]||s.pop();for(let x=0;x<s.length;x++){let E=s[x];x%2&&!this.options.newlineIsToken?t[t.length-1]+=E:(this.options.ignoreWhitespace&&(E=E.trim()),t.push(E))}return t};const QE=new Fi;QE.tokenize=function(i){return i.split(/(\S.+?[.!?])(?=\s+|$)/)};const jE=new Fi;jE.tokenize=function(i){return i.split(/([{}:;,]|\s+)/)};const qE=Object.prototype.toString,Xn=new Fi;Xn.useLongestToken=!0;Xn.tokenize=rc.tokenize;Xn.castInput=function(i){const{undefinedReplacement:t,stringifyReplacer:s=(x,E)=>typeof E>"u"?t:E}=this.options;return typeof i=="string"?i:JSON.stringify(Oo(i,null,null,s),s,"  ")};Xn.equals=function(i,t){return Fi.prototype.equals.call(Xn,i.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function Oo(i,t,s,x,E){t=t||[],s=s||[],x&&(i=x(E,i));let A;for(A=0;A<t.length;A+=1)if(t[A]===i)return s[A];let l;if(qE.call(i)==="[object Array]"){for(t.push(i),l=new Array(i.length),s.push(l),A=0;A<i.length;A+=1)l[A]=Oo(i[A],t,s,x,E);return t.pop(),s.pop(),l}if(i&&i.toJSON&&(i=i.toJSON()),typeof i=="object"&&i!==null){t.push(i),l={},s.push(l);let T=[],e;for(e in i)i.hasOwnProperty(e)&&T.push(e);for(T.sort(),A=0;A<T.length;A+=1)e=T[A],l[e]=Oo(i[e],t,s,x,e);t.pop(),s.pop()}else l=i;return l}const Lo=new Fi;Lo.tokenize=function(i){return i.slice()};Lo.join=Lo.removeEmpty=function(i){return i};const _E=Phaser.Utils.Array.Remove;var t2=function(i,t){var s=i.text;if(t!==s){if(s||(s=""),_E(i.children,i.lastInsertCursor),t==="")i.removeChildren();else for(var x=JE(s,t),E=0,A=0,l=x.length;A<l;A++){var T=x[A];T.removed?i.removeText(E,T.count):(T.added&&i.insertText(E,T.value),E+=T.count)}i.children.push(i.lastInsertCursor),i.runWordWrap()}};const zu=Phaser.Utils.Objects.IsPlainObject;class e2 extends Sa{constructor(t,s,x,E,A,l){zu(s)?l=s:zu(E)&&(l=E),l===void 0&&(l={}),UE(l);var T=l.text;T&&delete l.text;var e=wo(l.background,"focus"),u=wo(l.style,"cursor");super(t,s,x,E,A,l),this.type="rexCanvasInput",this._text,this.textEdit=XE(this,l),l.focusStyle&&Object.assign(e,l.focusStyle),kE.call(this,e),l.cursorStyle&&Object.assign(u,l.cursorStyle),WE.call(this,u);var m=l.onAddChar;m&&this.on("addchar",m);var d=l.onCursorOut;d&&this.on("cursorout",d);var o=l.onCursorIn;o&&this.on("cursorin",o);var h=l.onMoveCursor;h&&this.on("movecursor",h),this.setParseTextCallback(l.parseTextCallback),this.lastInsertCursor=HE(this),T||(T=""),this.setText(T)}addChild(t,s){if(super.addChild(t,s),Array.isArray(t))for(var x=t,E=0,A=x.length;E<A;E++){var t=x[E];hn(t)&&this.emit("addchar",t,s+E,this)}else hn(t)&&this.emit("addchar",t,s,this);return this}get text(){return this._text}set text(t){t==null?t="":t=t.toString(),this._text!==t&&(t2(this,t),this._text=t)}setText(t){return this.text=t,this}appendText(t){return this.setText(this.text+t),this}setSize(t,s){return this.width===t&&this.height===s?this:(super.setSize(t,s),this.runWrap(),this)}get displayText(){return this.text}set displayText(t){this.text=t}setDisplayText(t){return this.displayText=t,this}get inputText(){return this.textEdit.text}set inputText(t){this.textEdit.text=t}setInputText(t){return this.inputText=t,this}setParseTextCallback(t){return t||(t=i2),this.parseTextCallback=t,this}get value(){return this.parseTextCallback(this.text)}set value(t){this.setText(t)}getValue(){return this.value}setValue(t){return this.value=t,this}get readOnly(){return this.textEdit.readOnly}set readOnly(t){this.textEdit.readOnly=t}setReadOnly(t){return this.textEdit.setReadOnly(t),this}open(t){return t&&this.textEdit.once("close",t),this.textEdit.open(),this}close(){return this.textEdit.close(),this}get isOpened(){return this.textEdit.isOpened}setFocusStyle(t){return this.focusStyle=t,this}setCursorStyle(t){return this.cursorStyle=t,this}setNumberInput(){return this.textEdit.setNumberInput(),this.parseTextCallback=Number,this}get maxLength(){return this.textEdit.maxLength}set maxLength(t){this.textEdit.maxLength=t}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.textEdit.minLength}set minLength(t){this.textEdit.minLength=t}setMinLength(t){return this.minLength=t,this}}var i2=function(i){return i},ac=function(i){return nn(i).loop.delta};Phaser.Utils.Objects.GetValue;Phaser.Math.Wrap;const s2=Phaser.GameObjects.GetCalcMatrix;var n2=function(i,t,s,x){t.updateData(),s.addToRenderList(t);var E=i.pipelines.set(t.pipeline),A=s2(t,s,x),l=E.calcMatrix.copyFrom(A.calc),T=t._displayOriginX,e=t._displayOriginY,u=s.alpha*t.alpha;i.pipelines.preBatch(t);for(var m=t.geom,d=0,o=m.length;d<o;d++)m[d].webglRender(E,l,u,T,e);i.pipelines.postBatch(t)};const r2=Phaser.Renderer.Canvas.SetTransform;var a2=function(i,t,s,x){t.updateData(),s.addToRenderList(t);var E=i.currentContext;if(r2(i,E,t,s,x)){for(var A=t._displayOriginX,l=t._displayOriginY,T=t.geom,e=0,u=T.length;e<u;e++)T[e].canvasRender(E,A,l);E.restore()}};const h2={renderWebGL:n2,renderCanvas:a2},o2=Phaser.GameObjects.Shape,l2=Phaser.Utils.Array.Remove;class Cs extends o2{constructor(t,s,x,E,A){s===void 0&&(s=0),x===void 0&&(x=0),E===void 0&&(E=2),A===void 0&&(A=E),super(t,"rexShapes",[]),this._width=-1,this._height=-1,this.dirty=!0,this.isSizeChanged=!0,this.shapes={},this.setPosition(s,x),this.setSize(E,A),this.updateDisplayOrigin()}get width(){return this._width}set width(t){this.setSize(t,this._height)}get height(){return this._height}set height(t){this.setSize(this._width,t)}setDirty(t){return t===void 0&&(t=!0),this.dirty=t,this}setSize(t,s){this.isSizeChanged=this.isSizeChanged||this._width!==t||this._height!==s,this.dirty=this.dirty||this.isSizeChanged,this._width=t,this._height=s,this.updateDisplayOrigin();var x=this.input;return x&&!x.customHitArea&&(x.hitArea.width=t,x.hitArea.height=s),this}resize(t,s){return this.setSize(t,s),this}get fillColor(){return this._fillColor}set fillColor(t){this.setFillStyle(t,this._fillAlpha)}get fillAlpha(){return this._fillAlpha}set fillAlpha(t){this.setFillStyle(this._fillColor,t)}setFillStyle(t,s){return s===void 0&&(s=1),this.dirty=this.dirty||this.fillColor!==t||this.fillAlpha!==s,this._fillColor=t,this._fillAlpha=s,this}get lineWidth(){return this._lineWidth}set lineWidth(t){this.setStrokeStyle(t,this._strokeColor,this._strokeAlpha)}get strokeColor(){return this._strokeColor}set strokeColor(t){this.setStrokeStyle(this._lineWidth,t,this._strokeAlpha)}get strokeAlpha(){return this._strokeAlpha}set strokeAlpha(t){this.setStrokeStyle(this._lineWidth,this._strokeColor,t)}setStrokeStyle(t,s,x){return x===void 0&&(x=1),this.dirty=this.dirty||this.lineWidth!==t||this.strokeColor!==s||this.strokeAlpha!==x,this._lineWidth=t,this._strokeColor=s,this._strokeAlpha=x,this}updateShapes(){}updateData(){if(!this.dirty)return this;this.updateShapes();for(var t=this.geom,s=0,x=t.length;s<x;s++){var E=t[s];E.dirty&&E.updateData()}return this.isSizeChanged=!1,this.dirty=!1,this}clear(){return this.geom.length=0,Ri(this.shapes),this}getShape(t){return this.shapes[t]}getShapes(){return this.geom}addShape(t){this.geom.push(t);var s=t.name;return s&&(this.shapes[s]=t),this.dirty=!0,this}deleteShape(t){var s=this.getShape(t);return s&&(delete this.shapes[t],l2(this.geom,s)),this}}Object.assign(Cs.prototype,h2);const u2={setBoxFillStyle(i,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.boxFillColor!==i||this.boxFillAlpha!==t,this.boxFillColor=i,this.boxFillAlpha=t,this},setUncheckedBoxFillStyle(i,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.uncheckedBoxFillColor!==i||this.uncheckedBoxFillAlpha!==t,this.uncheckedBoxFillColor=i,this.uncheckedBoxFillAlpha=t,this},setBoxStrokeStyle(i,t,s){return s===void 0&&(s=1),this.dirty=this.dirty||this.boxLineWidth!==i||this.boxStrokeColor!==t||this.boxStrokeAlpha!==s,this.boxLineWidth=i,this.boxStrokeColor=t,this.boxStrokeAlpha=s,this},setUncheckedBoxStrokeStyle(i,t,s){return s===void 0&&(s=1),this.dirty=this.dirty||this.uncheckedBoxLineWidth!==i||this.uncheckedBoxStrokeColor!==t||this.uncheckedBoxStrokeAlpha!==s,this.uncheckedBoxLineWidth=i,this.uncheckedBoxStrokeColor=t,this.uncheckedBoxStrokeAlpha=s,this},setCheckerStyle(i,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.checkerColor!==i||this.checkAlpha!==t,this.checkerColor=i,this.checkAlpha=t,this},setBoxShape(i){return i===void 0&&(i=!1),this.isCircleShape===i?this:(this.isCircleShape=i,this.isSizeChanged=!0,this.dirty=!0,this)}},d2={setBoxSize(i){return this.dirty=this.dirty||this.boxSize!==i,this.boxSize=i,this},setCheckerSize(i){return this.dirty=this.dirty||this.checkerSize!==i,this.checkerSize=i,this}};var f2=function(i,t){return i==null?this.isFilled=!1:(t===void 0&&(t=1),this.isFilled=!0,this.fillColor=i,this.fillAlpha=t),this},v2=function(i,t,s){return i==null||t==null?this.isStroked=!1:(s===void 0&&(s=1),this.isStroked=!0,this.lineWidth=i,this.strokeColor=t,this.strokeAlpha=s),this};const c2={fillStyle:f2,lineStyle:v2};class Ra{constructor(){this.name=void 0,this.dirty=!0,this.data=void 0,this.isFilled=!1,this.fillColor=void 0,this.fillAlpha=1,this.isStroked=!1,this.lineWidth=1,this.strokeColor=void 0,this.strokeAlpha=1}setName(t){return this.name=t,this}reset(){return this.fillStyle().lineStyle(),this}webglRender(t,s,x,E,A){}canvasRender(t,s,x){}updateData(){this.dirty=!1}}Object.assign(Ra.prototype,c2,ya);const p2=Phaser.Geom.Polygon.Earcut;class qn extends Ra{constructor(){super(),this.pathData=[],this.pathIndexes=[],this.closePath=!1}updateData(){return this.pathIndexes=p2(this.pathData),super.updateData(),this}webglRender(t,s,x,E,A){this.isFilled&&av(t,s,this,x,E,A),this.isStroked&&Ta(t,this,x,E,A)}canvasRender(t,s,x){var E=this.pathData,A=E.length-1,l=E[0]-s,T=E[1]-x;t.beginPath(),t.moveTo(l,T),this.closePath||(A-=2);for(var e=2;e<A;e+=2){var u=E[e]-s,m=E[e+1]-x;t.lineTo(u,m)}this.closePath&&t.closePath(),this.isFilled&&(Kn(t,this),t.fill()),this.isStroked&&(Zn(t,this),t.stroke())}}const Xu=Phaser.Math.DegToRad;class Aa extends qn{constructor(t,s,x,E,A,l,T,e){t===void 0&&(t=0),s===void 0&&(s=0),x===void 0&&(x=0),E===void 0&&(E=0),A===void 0&&(A=0),l===void 0&&(l=360),T===void 0&&(T=!1),e===void 0&&(e=!1),super(),this.setCenterPosition(t,s),this.setRadius(x,E),this.setAngle(A,l,T),this.setPie(e),this.setIterations(32)}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setCenterPosition(t,s){return s===void 0&&(s=t),this.x=t,this.y=s,this}get radiusX(){return this._radiusX}set radiusX(t){this.dirty=this.dirty||this._radiusX!==t,this._radiusX=t}get radiusY(){return this._radiusY}set radiusY(t){this.dirty=this.dirty||this._radiusY!==t,this._radiusY=t}setRadius(t,s){return s===void 0&&(s=t),this.radiusX=t,this.radiusY=s,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!==t,this._startAngle=t}get endAngle(){return this._endAngle}set endAngle(t){this.dirty=this.dirty||this._endAngle!==t,this._endAngle=t}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!==t,this._anticlockwise=t}setAngle(t,s,x){return x===void 0&&(x=!1),this.startAngle=t,this.endAngle=s,this.anticlockwise=x,this}get pie(){return this._pie}set pie(t){this.dirty=this.dirty||this._pie!==t,this._pie=t}setPie(t){return t===void 0&&(t=!0),this.pie=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){return this.pathData.length=0,this.pie&&this.pathData.push(this.x,this.y),ee(this.x,this.y,this.radiusX,this.radiusY,this.startAngle,this.endAngle,this.anticlockwise,this.iterations,this.pathData),this.pie&&this.pathData.push(this.x,this.y),this.pathData.push(this.pathData[0],this.pathData[1]),super.updateData(),this}canvasRender(t,s,x){t.beginPath();var E=this.x-s,A=this.y-x,l=Xu(this.startAngle),T=Xu(this.endAngle);this.pie&&(t.moveTo(E,A),t.lineTo(E+Math.cos(l)*this.radiusX,A+Math.sin(l)*this.radiusY)),t.ellipse(E,A,this.radiusX,this.radiusY,0,l,T,this.anticlockwise),this.pie&&t.lineTo(E,A),this.isFilled&&(Kn(t,this),t.fill()),this.isStroked&&(Zn(t,this),t.stroke())}}class Fo extends Aa{constructor(t,s,x){super(t,s,x,x,0,360)}}class g2 extends qn{constructor(t){super(),this.setCurve(t),this.setIterations(32)}get curve(){return this._curve}set curve(t){this.dirty=this.dirty||this._curve!==t,this._curve=t}setCurve(t){return this.curve=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){this.pathData.length=0;for(var t=this.curve.getPoints(this.iterations),s=0,x=t.length;s<x;s++)this.pathData.push(t[s].x,t[s].y);return this.pathData.push(t[0].x,t[0].y),super.updateData(),this}}class m2 extends Aa{constructor(t,s,x,E){super(t,s,x,E,0,360)}}class x2 extends qn{constructor(t,s,x,E){t===void 0&&(t=0),s===void 0&&(s=0),x===void 0&&(x=0),E===void 0&&(E=0),super(),this.setP0(t,s),this.setP1(x,E)}get x0(){return this._x0}set x0(t){this.dirty=this.dirty||this._x0!==t,this._x0=t}get y0(){return this._y0}set y0(t){this.dirty=this.dirty||this._y0!==t,this._y0=t}setP0(t,s){return this.x0=t,this.y0=s,this}get x1(){return this._x1}set x1(t){this.dirty=this.dirty||this._x1!==t,this._x1=t}get y1(){return this._y1}set y1(t){this.dirty=this.dirty||this._y1!==t,this._y1=t}setP1(t,s){return this.x1=t,this.y1=s,this}updateData(){return this.pathData.length=0,this.pathData.push(this.x0,this.y0),this.pathData.push(this.x1,this.y1),this.pathData.push(this.x0,this.y0),super.updateData(),this}}var y2=function(i,t,s){return s.length=0,i!=null&&s.push(i,t),s};const Yu=Phaser.Math.Interpolation.QuadraticBezier;var T2=function(i,t,s,x,E,A){for(var l=A.length,T=A[l-2],e=A[l-1],u=1,m=E-1;u<=m;u++){var d=u/m;A.push(Yu(d,T,i,s),Yu(d,e,t,x))}return A};const Uu=Phaser.Math.Interpolation.CubicBezier;var C2=function(i,t,s,x,E,A,l,T){for(var e=T.length,u=T[e-2],m=T[e-1],d=1,o=l-1;d<=o;d++){var h=d/o;T.push(Uu(h,u,i,s,E),Uu(h,m,t,x,A))}return T},hc=function(i){var t=i.length;if(t<2)return i;var s=i[t-2],x=i[t-1];return i.push(s),i.push(x),i};const S2={clear(){return this.start(),this},start(){return this.startAt(),this},startAt(i,t){return this.restorePathData(),this.accumulationLengths=void 0,y2(i,t,this.pathData),this.firstPointX=i,this.firstPointY=t,this.lastPointX=i,this.lastPointY=t,this},lineTo(i,t,s){return s===void 0&&(s=!1),s&&(i+=this.lastPointX,t+=this.lastPointY),pi(i,t,this.pathData),this.lastPointX=i,this.lastPointY=t,this},verticalLineTo(i,t){return this.lineTo(i,this.lastPointY,t),this},horizontalLineTo(i,t){return this.lineTo(this.lastPointX,i,t),this},ellipticalArc(i,t,s,x,E,A,l){return l===void 0&&(l=!1),ee(i,t,s,x,E,A,l,this.iterations,this.pathData),this.lastPointX=this.pathData[this.pathData.length-2],this.lastPointY=this.pathData[this.pathData.length-1],this},arc(i,t,s,x,E,A){return this.ellipticalArc(i,t,s,s,x,E,A),this},quadraticBezierTo(i,t,s,x){return T2(i,t,s,x,this.iterations,this.pathData),this.lastPointX=s,this.lastPointY=x,this.lastCX=i,this.lastCY=t,this},smoothQuadraticBezierTo(i,t){var s=this.lastPointX*2-this.lastCX,x=this.lastPointY*2-this.lastCY;return this.quadraticBezierTo(s,x,i,t),this},cubicBezierCurveTo(i,t,s,x,E,A){return C2(i,t,s,x,E,A,this.iterations,this.pathData),this.lastPointX=E,this.lastPointY=A,this.lastCX=s,this.lastCY=x,this},smoothCubicBezierCurveTo(i,t,s,x){var E=this.lastPointX*2-this.lastCX,A=this.lastPointY*2-this.lastCY;return this.cubicBezierCurveTo(E,A,i,t,s,x),this},close(){return this.closePath=!0,this},end(){return hc(this.pathData),this}},E2=Phaser.Math.RotateAround;var P2=function(i,t,s,x){for(var E={x:0,y:0},A=0,l=x.length-1;A<l;A+=2)E.x=x[A],E.y=x[A+1],E2(E,i,t,s),x[A]=E.x,x[A+1]=E.y;return x},M2=function(i,t,s,x,E){for(var A=0,l=E.length-1;A<l;A+=2){var T=E[A]-i,e=E[A+1]-t;T*=s,e*=x,E[A]=T+i,E[A+1]=e+t}return E},oc=function(i,t,s){for(var x=0,E=s.length-1;x<E;x+=2)s[x]+=i,s[x+1]+=t;return s};const R2=Phaser.Math.DegToRad,A2=Phaser.Math.RotateAround,w2={rotateAround(i,t,s){if(this.pathData.length===0)return this;s=R2(s),P2(i,t,s,this.pathData);var x=this.pathData.length;if(this.lastPointX=this.pathData[x-2],this.lastPointY=this.pathData[x-1],this.lastCX!==void 0){var E={x:this.lastCX,y:this.lastCY};A2(E,i,t,s),this.lastCX=E.x,this.lastCY=E.y}return this},scale(i,t,s,x){if(this.pathData.length===0)return this;if(M2(i,t,s,x,this.pathData),this.lastPointX=this.pathData[pathDataCnt-2],this.lastPointY=this.pathData[pathDataCnt-1],this.lastCX!==void 0){var E=this.lastCX-i,A=this.lastCY-t;E*=s,A*=x,this.lastCX=E+i,this.lastCY=A+t}return this},offset(i,t){return oc(i,t,this.pathData),this}};var O2=function(i,t,s,x){s===void 0&&(s=0),x===void 0&&(x=t.length),i.length=x-s;for(var E=0,A=i.length;E<A;E++)i[E]=t[E+s];return i};const L2={savePathData(){return this.pathDataSaved?this:(this.pathDataSave=[...this.pathData],this.pathData.length=0,this.pathDataSaved=!0,this)},restorePathData(){return this.pathDataSaved?(O2(this.pathData,this.pathDataSave),this.pathDataSave=void 0,this.pathDataSaved=!1,this):this}},F2=Phaser.Math.Distance.Between,D2=Phaser.Math.Wrap,b2=Phaser.Math.Linear;var Wu=function(i,t,s,x,E){if(x===void 0&&(x=s,s=0),s=ku(s),x=ku(x),s!==x){var A=t[t.length-1],l=A*s,T=A*x;s<x?ah(i,t,l,T,E):(ah(i,t,l,A,E),ah(i,t,0,T,E)),hc(E)}},ah=function(i,t,s,x,E){for(var A=s>0,l=0,T=t.length;l<T;l++){var e=l*2,u=t[l];if(A){if(u<s)continue;if(u==s)A=!1;else{var m=u-t[l-1],d=1-(u-s)/m;E.push(Lr(i,e-2,e,d)),E.push(Lr(i,e-1,e+1,d)),A=!1}}if(u<=x){if(E.push(i[e]),E.push(i[e+1]),u===x)break}else{var m=u-t[l-1],d=1-(u-x)/m;E.push(Lr(i,e-2,e,d)),E.push(Lr(i,e-1,e+1,d));break}}},Lr=function(i,t,s,x){var E=i[t],A=i[s];return b2(E,A,x)},ku=function(i){return i===0?0:i%1===0?1:D2(i,0,1)};const B2={updateAccumulationLengths(){if(this.accumulationLengths==null)this.accumulationLengths=[];else if(this.accumulationLengths.length===this.pathData.length/2)return this;for(var i=this.accumulationLengths,t=this.pathData,s,x,E,A,l,T=0,e=0,u=t.length;e<u;e+=2)E=t[e],A=t[e+1],l=s===void 0?0:F2(s,x,E,A),T+=l,i.push(T),s=E,x=A;return this.totalPathLength=T,this},setDisplayPathSegment(i,t){return this.pathDataSaved||(this.updateAccumulationLengths(),this.savePathData()),this.pathData.length=0,Wu(this.pathDataSave,this.accumulationLengths,i,t,this.pathData),this},appendFromPathSegment(i,t,s){return t===void 0?this.pathData.push(...i.pathData):(i.updateAccumulationLengths(),Wu(i.pathData,i.accumulationLengths,t,s,this.pathData)),this.firstPointX=this.pathData[0],this.firstPointY=this.pathData[1],this.lastPointX=this.pathData[this.pathData.length-2],this.lastPointY=this.pathData[this.pathData.length-1],this}},I2={draw(i,t,s){var x=this.toPoints();return t&&i.fillPoints(x,this.closePath,this.closePath),s&&i.strokePoints(x,this.closePath,this.closePath),this}};var G2=function(i,t){t===void 0&&(t=[]);for(var s=0,x=i.length-1;s<x;s+=2)t.push({x:i[s],y:i[s+1]});return t};const N2=Phaser.Geom.Polygon;var V2=function(i,t){return t===void 0&&(t=new N2),t.setTo(i),t};class lc{constructor(t){t===void 0&&(t=[]),this.pathData=t,this.closePath=!1,this.setIterations(32),this.firstPointX=void 0,this.firstPointY=void 0,this.lastPointX=void 0,this.lastPointY=void 0,this.accumulationLengths=void 0}setIterations(t){return this.iterations=t,this}toPoints(){return G2(this.pathData)}toPolygon(t){return V2(this.pathData,t)}}Object.assign(lc.prototype,S2,w2,L2,B2,I2);class tn extends qn{constructor(){super(),this.builder=new lc(this.pathData)}get iterations(){return this.builder.iterations}set iterations(t){this.dirty=this.dirty||this.builder.iterations!==t,this.builder.setIterations(t)}setIterations(t){return this.iterations=t,this}get lastPointX(){return this.builder.lastPointX}get lastPointY(){return this.builder.lastPointY}start(){return this.builder.start(),this.dirty=!0,this}startAt(t,s){return this.builder.startAt(t,s),this.dirty=!0,this}lineTo(t,s,x){return this.builder.lineTo(t,s,x),this.dirty=!0,this}verticalLineTo(t,s){return this.builder.verticalLineTo(t,s),this.dirty=!0,this}horizontalLineTo(t,s){return this.builder.horizontalLineTo(t,s),this.dirty=!0,this}ellipticalArc(t,s,x,E,A,l,T){return this.builder.ellipticalArc(t,s,x,E,A,l,T),this.dirty=!0,this}arc(t,s,x,E,A,l){return this.builder.arc(t,s,x,E,A,l),this.dirty=!0,this}quadraticBezierTo(t,s,x,E){return this.builder.quadraticBezierTo(t,s,x,E),this.dirty=!0,this}smoothQuadraticBezierTo(t,s){return this.builder.smoothQuadraticBezierTo(t,s),this.dirty=!0,this}cubicBezierCurveTo(t,s,x,E,A,l){return this.builder.cubicBezierCurveTo(t,s,x,E,A,l),this.dirty=!0,this}smoothCubicBezierCurveTo(t,s,x,E){return this.builder.smoothCubicBezierCurveTo(t,s,x,E),this.dirty=!0,this}close(){return this.builder.close(),this.closePath=this.builder.closePath,this.dirty=!0,this}end(){return this.builder.end(),this.dirty=!0,this}rotateAround(t,s,x){return this.builder.rotateAround(t,s,x),this.dirty=!0,this}scale(t,s,x,E){return this.builder.scale(t,s,x,E),this.dirty=!0,this}offset(t,s){return this.builder.offset(t,s),this.dirty=!0,this}toPolygon(t){return this.builder.toPolygon(t)}appendPathFrom(t,s,x){return this.builder.appendFromPathSegment(t.builder,s,x),this}copyPathFrom(t,s,x){return this.builder.clear().appendFromPathSegment(t.builder,s,x),this}setDisplayPathSegment(t,s){return this.builder.setDisplayPathSegment(t,s),this}}const z2=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;let X2=class extends Ra{constructor(t,s,x,E){t===void 0&&(t=0),s===void 0&&(s=0),x===void 0&&(x=0),E===void 0&&(E=x),super(),this.pathData=[],this.closePath=!0,this.setTopLeftPosition(t,s),this.setSize(x,E)}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setTopLeftPosition(t,s){return this.x=t,this.y=s,this}get width(){return this._width}set width(t){this.dirty=this.dirty||this._width!==t,this._width=t}get height(){return this._height}set height(t){this.dirty=this.dirty||this._height!==t,this._height=t}setSize(t,s){return this.width=t,this.height=s,this}get centerX(){return this.x+this.width/2}set centerX(t){this.x=t-this.width/2}get centerY(){return this.y+this.height/2}set centerY(t){this.y=t-this.height/2}setCenterPosition(t,s){return this.centerX=t,this.centerY=s,this}updateData(){this.pathData.length=0;var t=this.x,s=t+this.width,x=this.y,E=x+this.height;return this.pathData.push(t,x),this.pathData.push(s,x),this.pathData.push(s,E),this.pathData.push(t,E),this.pathData.push(t,x),super.updateData(),this}webglRender(t,s,x,E,A){if(this.isFilled){var l=t.fillTint,T=z2(this.fillColor,this.fillAlpha*x);l.TL=T,l.TR=T,l.BL=T,l.BR=T,t.batchFillRect(-E+this.x,-A+this.y,this.width,this.height)}this.isStroked&&Ta(t,this,x,E,A)}canvasRender(t,s,x){this.isFilled&&(Kn(t,this),t.fillRect(-s,-x,this.width,this.height)),this.isStroked&&(Zn(t,this),t.beginPath(),t.rect(-s,-x,this.width,this.height),t.stroke())}};const Fr=Phaser.Utils.Objects.GetValue;class ua extends qn{constructor(t,s,x,E,A,l){t===void 0&&(t=0),s===void 0&&(s=0),x===void 0&&(x=0),E===void 0&&(E=x),A===void 0&&(A=0),l===void 0&&(l=6),super(),this.setTopLeftPosition(t,s),this.setSize(x,E),this.setRadius(A),this.setIterations(l),this.closePath=!0}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setTopLeftPosition(t,s){return this.x=t,this.y=s,this}get width(){return this._width}set width(t){this.dirty=this.dirty||this._width!==t,this._width=t}get height(){return this._height}set height(t){this.dirty=this.dirty||this._height!==t,this._height=t}setSize(t,s){return this.width=t,this.height=s,this}get centerX(){return this.x+this.width/2}set centerX(t){this.x=t-this.width/2}get centerY(){return this.y+this.height/2}set centerY(t){this.y=t-this.height/2}setCenterPosition(t,s){return this.centerX=t,this.centerY=s,this}get radiusTL(){return this._radiusTL}set radiusTL(t){var s=t>0;this.dirty=this.dirty||this._radiusTL!==t||this._convexTL!==s,this._convexTL=s,this._radiusTL=Math.abs(t)}get radiusTR(){return this._radiusTR}set radiusTR(t){var s=t>0;this.dirty=this.dirty||this._radiusTR!==t||this._convexTR!==s,this._convexTR=s,this._radiusTR=Math.abs(t)}get radiusBL(){return this._radiusBL}set radiusBL(t){var s=t>0;this.dirty=this.dirty||this._radiusBL!==t||this._convexBL!==s,this._convexBL=s,this._radiusBL=Math.abs(t)}get radiusBR(){return this._radiusBR}set radiusBR(t){var s=t>0;this.dirty=this.dirty||this._radiusBR!==t||this._convexBR!==s,this._convexBR=s,this._radiusBR=Math.abs(t)}get radius(){return Math.max(this.radiusTL,this.radiusTR,this.radiusBL,this.radiusBR)}set radius(t){typeof t=="number"?(this.radiusTL=t,this.radiusTR=t,this.radiusBL=t,this.radiusBR=t):(this.radiusTL=Fr(t,"tl",0),this.radiusTR=Fr(t,"tr",0),this.radiusBL=Fr(t,"bl",0),this.radiusBR=Fr(t,"br",0))}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){var t=this.pathData;t.length=0;var s=this.width,x=this.height,E,A=this.iterations+1;if(E=this.radiusTL,E>0)if(this._convexTL){var l=E,T=E;ee(l,T,E,E,180,270,!1,A,t)}else{var l=0,T=0;ee(l,T,E,E,90,0,!0,A,t)}else pi(0,0,t);if(E=this.radiusTR,E>0)if(this._convexTR){var l=s-E,T=E;ee(l,T,E,E,270,360,!1,A,t)}else{var l=s,T=0;ee(l,T,E,E,180,90,!0,A,t)}else pi(s,0,t);if(E=this.radiusBR,E>0)if(this._convexBR){var l=s-E,T=x-E;ee(l,T,E,E,0,90,!1,A,t)}else{var l=s,T=x;ee(l,T,E,E,270,180,!0,A,t)}else pi(s,x,t);if(E=this.radiusBL,E>0)if(this._convexBL){var l=E,T=x-E;ee(l,T,E,E,90,180,!1,A,t)}else{var l=0,T=x;ee(l,T,E,E,360,270,!0,A,t)}else pi(0,x,t);return t.push(t[0],t[1]),oc(this.x,this.y,t),super.updateData(),this}}const Y2=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;let U2=class extends Ra{constructor(t,s,x,E,A,l){t===void 0&&(t=0),s===void 0&&(s=0),x===void 0&&(x=0),E===void 0&&(E=0),A===void 0&&(A=0),l===void 0&&(l=0),super(),this.pathData=[],this.closePath=!0,this.setP0(t,s),this.setP1(x,E),this.setP2(A,l)}get x0(){return this._x0}set x0(t){this.dirty=this.dirty||this._x0!==t,this._x0=t}get y0(){return this._y0}set y0(t){this.dirty=this.dirty||this._y0!==t,this._y0=t}setP0(t,s){return this.x0=t,this.y0=s,this}get x1(){return this._x1}set x1(t){this.dirty=this.dirty||this._x1!==t,this._x1=t}get y1(){return this._y1}set y1(t){this.dirty=this.dirty||this._y1!==t,this._y1=t}setP1(t,s){return this.x1=t,this.y1=s,this}get x2(){return this._x2}set x2(t){this.dirty=this.dirty||this._x2!==t,this._x2=t}get y2(){return this._y2}set y2(t){this.dirty=this.dirty||this._y2!==t,this._y2=t}setP2(t,s){return this.dirty=this.dirty||this.x2!==t||this.y2!==s,this.x2=t,this.y2=s,this}updateData(){return this.pathData.length=0,this.pathData.push(this.x0,this.y0),this.pathData.push(this.x1,this.y1),this.pathData.push(this.x2,this.y2),this.pathData.push(this.x0,this.y0),super.updateData(),this}webglRender(t,s,x,E,A){if(this.isFilled){var l=Y2(this.fillColor,this.fillAlpha*x),T=this.x0-E,e=this.y0-A,u=this.x1-E,m=this.y1-A,d=this.x2-E,o=this.y2-A,h=s.getX(T,e),n=s.getY(T,e),r=s.getX(u,m),f=s.getY(u,m),a=s.getX(d,o),v=s.getY(d,o);t.batchTri(h,n,r,f,a,v,l,l,l)}this.isStroked&&Ta(t,this,x,E,A)}canvasRender(t,s,x){var E=this.x1-s,A=this.y1-x,l=this.x2-s,T=this.y2-x,e=this.x3-s,u=this.y3-x;t.beginPath(),t.moveTo(E,A),t.lineTo(l,T),t.lineTo(e,u),t.closePath(),this.isFilled&&(Kn(t,this),t.fill()),this.isStroked&&(Zn(t,this),t.stroke())}};const W2={buildShapes(){this.addShape(new ua().setName("box")).addShape(new tn().setName("checker"))},updateShapes(){var i=this.width/2,t=this.height/2,s=Math.min(i,t),x=s*2,E=i-s,A=t-s,l=this.boxLineWidth,T=Math.max(x/10,2),e=this.getShape("box"),u=this.getShape("checker");if(this.isSizeChanged){var o=x*(1-this.boxSize)/2,m=l/2,d=x*this.boxSize-l;e.setTopLeftPosition(E+m+o,A+m+o).setSize(d,d),this.isCircleShape?e.setRadius(d/2):e.setRadius(0);var o=x*(1-this.checkerSize)/2,h=x*this.checkerSize/4,n=h*1,r=h*2,f=h*3;u.startAt(n,r).lineTo(r,f).lineTo(f,n).offset(E+o,A+o).end()}this.checked?(e.fillStyle(this.boxFillColor,this.boxFillAlpha).lineStyle(l,this.boxStrokeColor,this.boxStrokeAlpha),u.lineStyle(T,this.checkerColor)):(e.fillStyle(this.uncheckedBoxFillColor,this.uncheckedBoxFillAlpha).lineStyle(l,this.uncheckedBoxStrokeColor,this.uncheckedBoxStrokeAlpha),u.lineStyle()),this.checked&&u.setDisplayPathSegment(this.checkerAnimProgress)}},Vi=Phaser.Utils.Objects.GetValue,k2=Phaser.Math.Linear;class Ss extends ln{constructor(t,s){super(t,s),this.resetFromJSON(),this.boot()}start(t){if(this.timer.isRunning)return this;var s=this.target;this.propertyKey=Vi(t,"key","value");var x=s[this.propertyKey];return this.fromValue=Vi(t,"from",x),this.toValue=Vi(t,"to",x),this.setEase(Vi(t,"ease",this.ease)),this.setDuration(Vi(t,"duration",this.duration)),this.setRepeat(Vi(t,"repeat",0)),this.setDelay(Vi(t,"delay",0)),this.setRepeatDelay(Vi(t,"repeatDelay",0)),this.timer.setDuration(this.duration).setRepeat(this.repeat).setDelay(this.delay).setRepeatDelay(this.repeatDelay),s[this.propertyKey]=this.fromValue,super.start(),this}updateGameObject(t,s){var x=s.t;x=this.easeFn(x),t[this.propertyKey]=k2(this.fromValue,this.toValue,x)}}const H2={setCheckerAnimationDuration(i){return i===void 0&&(i=0),this.checkerAnimDuration=i,this},playCheckerAnimation(){return this.checkerAnimProgressTask===void 0&&(this.checkerAnimProgressTask=new Ss(this,{eventEmitter:null})),this.checkerAnimProgressTask.restart({key:"checkerAnimProgress",from:0,to:1,duration:this.checkerAnimDuration}),this},stopCheckerAnimation(){return this.checkerAnimProgressTask===void 0?this:(this.checkerAnimProgressTask.stop(),this)}};var uc={};Object.assign(uc,u2,d2,W2,H2);const Wt=Phaser.Utils.Objects.GetValue,Hu=Phaser.Utils.Objects.IsPlainObject,hh=23730,$2=16777215;class dc extends Cs{constructor(t,s,x,E,A,l,T){Hu(s)?(T=s,s=Wt(T,"x",0),x=Wt(T,"y",0),E=Wt(T,"width",2),A=Wt(T,"height",2),l=Wt(T,"color",hh)):Hu(l)&&(T=l,l=Wt(T,"color",hh)),super(t,s,x,E,A),this.type="rexCheckbox",l===void 0&&(l=hh),this.setBoxShape(Wt(T,"circleBox",!1)),this.setBoxFillStyle(l,Wt(T,"boxFillAlpha",1)),this.setUncheckedBoxFillStyle(Wt(T,"uncheckedColor",null),Wt(T,"uncheckedBoxFillAlpha",1)),this.setBoxStrokeStyle(Wt(T,"boxLineWidth",4),Wt(T,"boxStrokeColor",l),Wt(T,"boxStrokeAlpha",1)),this.setUncheckedBoxStrokeStyle(this.boxLineWidth,Wt(T,"uncheckedBoxStrokeColor",this.boxStrokeColor),Wt(T,"uncheckedBoxStrokeAlpha",this.boxStrokeAlpha)),this.setCheckerStyle(Wt(T,"checkerColor",$2),Wt(T,"checkerAlpha",1)),this.setBoxSize(Wt(T,"boxSize",1)),this.setCheckerSize(Wt(T,"checkerSize",1)),this.setCheckerAnimationDuration(Wt(T,"animationDuration",150)),this.buildShapes();var e=Wt(T,"checked");e===void 0&&(e=Wt(T,"value",!1)),this.setValue(e)}get value(){return this._value}set value(t){t=!!t,this._value!==t&&(this.dirty=!0,this._value=t,t?this.playCheckerAnimation():this.stopCheckerAnimation(),this.emit("valuechange",t))}setValue(t){return this.value=t,this}toggleValue(){return this.setValue(!this.value),this}get checked(){return this.value}set checked(t){this.value=t}setChecked(t){return t===void 0&&(t=!0),this.setValue(t),this}toggleChecked(){return this.toggleValue(),this}get checkerAnimProgress(){return this._checkerAnimProgress}set checkerAnimProgress(t){this._checkerAnimProgress!==t&&(this._checkerAnimProgress=t,this.dirty=!0)}}Object.assign(dc.prototype,uc);const En=Phaser.Utils.Objects.GetValue;class Es extends ie{constructor(t,s){super(t,s),this._enable=void 0,t.setInteractive(En(s,"inputConfig",void 0)),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.lastClickTime=void 0,this.setEnable(En(t,"enable",!0)),this.setMode(En(t,"mode",1)),this.setClickInterval(En(t,"clickInterval",100)),this.setDragThreshold(En(t,"threshold",void 0)),this}boot(){var t=this.parent;t.on("pointerdown",this.onPress,this),t.on("pointerup",this.onRelease,this),t.on("pointerout",this.onPointOut,this),t.on("pointermove",this.onMove,this),t.on("pointerover",this.onOver,this),t.on("pointerout",this.onOut,this)}shutdown(t){this.isShutdown||(this.pointer=null,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t){t||this.cancel(),this._enable=t;var s=t?"enable":"disable";this.emit(s,this,this.parent)}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(t){return typeof t=="string"&&(t=K2[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}onPress(t,s,x,E){this.pointer===void 0&&(this.pointer=t,this.emit("down",this,this.parent,t,E),this.mode===0&&this.click(t.downTime,t,E))}onRelease(t,s,x,E){this.pointer===t&&(this.emit("up",this,this.parent,t,E),this.mode===1&&this.click(t.upTime,t,E),this.pointer=void 0)}onPointOut(t,s){this.pointer===t&&this.cancel()}onMove(t,s,x,E){this.pointer===t&&this.dragThreshold!==void 0&&this.mode===1&&t.getDistance()>=this.dragThreshold&&this.cancel()}click(t,s,x){if(!this.enable)return this;if(t===void 0)return this.emit("click",this,this.parent,s,x),this;this.pointer=void 0;var E=this.lastClickTime;return E!==void 0&&t-E<=this.clickInterval?this:(this.lastClickTime=t,this.emit("click",this,this.parent,s,x),this)}cancel(){return this.pointer=void 0,this}onOver(t,s,x,E){return this.enable?(this.emit("over",this,this.parent,t,E),this):this}onOut(t,s){return this.enable?(this.emit("out",this,this.parent,t,s),this):this}}const K2={press:0,pointerdown:0,release:1,pointerup:1},$u=Phaser.Utils.Objects.GetValue;class Z2 extends dc{constructor(t,s,x,E,A,l,T){super(t,s,x,E,A,l,T),this._click=new Es(this,$u(T,"click")),this._click.on("click",function(){this.toggleValue()},this),this.setReadOnly($u(T,"readOnly",!1))}get readOnly(){return!this._click.enable}set readOnly(t){this._click.enable=!t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}}const J2={setTrackFillStyle(i,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.trackFillColor!==i||this.trackFillAlpha!==t,this.trackFillColor=i,this.trackFillAlpha=t,this},setFalseValueTrackFillStyle(i,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.falseValueTrackColor!==i||this.uncheckedTrackFillAlpha!==t,this.falseValueTrackColor=i,this.falseValueTrackFillAlpha=t,this},setThumbStyle(i,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.thumbColor!==i||this.checkAlpha!==t,this.thumbColor=i,this.thumbAlpha=t,this}},Q2={setTrackSize(i,t){return this.dirty=this.dirty||this.trackWidth!==i||this.trackHeight!==t,this.trackWidth=i,this.trackHeight=t,this},setTrackRadius(i){return this.dirty=this.dirty||this.trackRadius!==i,this.trackRadius=i,this},setThumbSize(i,t){return t===void 0&&(t=i),this.dirty=this.dirty||this.thumbWidth!==i||this.thumbHeight!==t,this.thumbWidth=i,this.thumbHeight=t,this},setThumbRadius(i){return this.dirty=this.dirty||this.thumbRadius!==i,this.thumbRadius=i,this}},j2={setThumbPosition(i,t){return t===void 0&&(t=1-i),this.thumbLeftX=i,this.thumbRightX=t,this},setRTL(i){return i===void 0&&(i=!0),this.rtl=i,this}};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var oh=function(i,t,s){return(t-i)*s+i},q2=function(i,t,s){var x=oh(Nn(i),Nn(t),s),E=oh(Vn(i),Vn(t),s),A=oh(zn(i),zn(t),s);return(x&255)<<16|(E&255)<<8|A&255};const Ku=Phaser.Math.Linear,_2={buildShapes(){this.addShape(new ua().setName("track")).addShape(new ua().setName("thumb"))},updateShapes(){var i=this.width,t=this.height,s=this.value?this.toggleAnimProgress:1-this.toggleAnimProgress,x=this.getShape("track");if(this.isSizeChanged){var E=i*this.trackWidth,A=t*this.trackHeight,l=(i-E)/2,T=(t-A)/2,e=t*this.trackRadius;x.setTopLeftPosition(l,T).setSize(E,A).setRadius(e)}var u=q2(this.falseValueTrackColor,this.trackFillColor,s),m=Ku(this.falseValueTrackFillAlpha,this.trackFillAlpha,s);x.fillStyle(u,m);var d=this.getShape("thumb");if(this.isSizeChanged){var o=i*this.thumbWidth,h=t*this.thumbHeight,n=t*this.thumbRadius;d.setSize(o,h).setRadius(n)}var r=Ku(this.thumbLeftX,this.thumbRightX,s)*i;this.rtl&&(r=i-r);var f=t/2;d.setCenterPosition(r,f),d.fillStyle(this.thumbColor,this.thumbAlpha)}},tP={setToggleAnimationDuration(i){return i===void 0&&(i=0),this.toggleAnimDuration=i,this},playToggleAnimation(){return this.toggleAnimProgressTask===void 0&&(this.toggleAnimProgressTask=new Ss(this,{eventEmitter:null})),this.toggleAnimProgressTask.restart({key:"toggleAnimProgress",from:0,to:1,duration:this.toggleAnimDuration}),this},stopToggleAnimation(){return this.toggleAnimProgressTask===void 0?this:(this.toggleAnimProgressTask.stop(),this)}};var fc={};Object.assign(fc,J2,Q2,j2,_2,tP);var eP=function(i){var t=.3*Nn(i)+.59*Vn(i)+.11*zn(i);return(t&255)<<16|(t&255)<<8|t&255};const kt=Phaser.Utils.Objects.GetValue,Zu=Phaser.Utils.Objects.IsPlainObject,lh=23730,iP=16777215;class vc extends Cs{constructor(t,s,x,E,A,l,T){Zu(s)?(T=s,s=kt(T,"x",0),x=kt(T,"y",0),E=kt(T,"width",2),A=kt(T,"height",2),l=kt(T,"color",lh)):Zu(l)&&(T=l,l=kt(T,"color",lh)),super(t,s,x,E,A),this.type="rexToggleSwitch",l===void 0&&(l=lh),this.setTrackFillStyle(l,kt(T,"trackFillAlpha",1)),this.setFalseValueTrackFillStyle(kt(T,"falseValueTrackColor",eP(l)),kt(T,"falseValueTrackFillAlpha",1)),this.setThumbStyle(kt(T,"thumbColor",iP),kt(T,"thumbAlpha",1)),this.setTrackSize(kt(T,"trackWidth",.9),kt(T,"trackHeight",.5)),this.setTrackRadius(kt(T,"trackRadius",this.trackHeight*.5));var e=kt(T,"thumbHeight",void 0),u=kt(T,"thumbWidth",e);u===void 0&&(u=this.trackHeight*.9),this.setThumbSize(u,e),this.setThumbRadius(kt(T,"thumbRadius",this.thumbHeight*.5)),this.setThumbPosition(kt(T,"thumbLeft",.3),kt(T,"thumbRight",void 0)),this.setRTL(kt(T,"rtl",!1)),this.setToggleAnimationDuration(kt(T,"animationDuration",150)),this.buildShapes(),this.setValue(kt(T,"value",!1),0)}get value(){return this._value}set value(t){t=!!t,this._value!==t&&(this.dirty=!0,this._value=t,this.playToggleAnimation(),this.emit("valuechange",t))}setValue(t,s){s===void 0&&(s=this.toggleAnimDuration);var x=this.toggleAnimDuration;return this.toggleAnimDuration=s,this.value=t,this.toggleAnimDuration=x,this}toggleValue(t){return this.setValue(!this.value,t),this}get toggleAnimProgress(){return this._toggleAnimProgress}set toggleAnimProgress(t){this._toggleAnimProgress!==t&&(this._toggleAnimProgress=t,this.dirty=!0)}}Object.assign(vc.prototype,fc);const Ju=Phaser.Utils.Objects.GetValue;class sP extends vc{constructor(t,s,x,E,A,l,T){super(t,s,x,E,A,l,T),this._click=new Es(this,Ju(T,"click")),this._click.on("click",function(){this.toggleValue()},this),this.setReadOnly(Ju(T,"readOnly",!1))}get readOnly(){return!this._click.enable}set readOnly(t){this._click.enable=!t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}}const nP={loadFromURL(i,t){var s=this,x=new Image;return x.onload=function(){s.width!==x.width||s.height!==x.height?s.resize(x.width,x.height):s.clear(),s.context.drawImage(x,0,0),s.updateTexture(),t&&t(),x.onload=null,x.src="",x.remove()},x.src=i,this},loadFromURLPromise(i){var t=this;return new Promise(function(s,x){t.loadFromURL(i,s)})},loadFromFile(i,t){var s=URL.createObjectURL(i);return this.loadFromURL(s,function(){URL.revokeObjectURL(s),t&&t()}),this},loadFromFilePromise(i){var t=this;return new Promise(function(s,x){t.loadFromFile(i,s)})}};class wa extends Jn{}Object.assign(wa.prototype,nP);Phaser.Utils.Objects.GetValue;Phaser.Utils.Objects.GetValue;const rP=Phaser.Math.Linear,Qu=Phaser.Math.Percent,aP={setValue(i,t,s){return i==null?this:(t!==void 0&&(i=Qu(i,t,s)),this.value=i,this)},addValue(i,t,s){return t!==void 0&&(i=Qu(i,t,s)),this.value+=i,this},getValue(i,t){var s=this.value;return i!==void 0&&(s=rP(i,t,s)),s}},hP=Phaser.Math.Percent;var oP=function(i){return this.easeValuePropName=i,this},lP=function(i){return this.easeValueDuration=i,this},uP=function(i){return this.easeFunction=i,this},dP=function(){return this.easeValueTask&&this.easeValueTask.stop(),this},fP=function(i,t,s){return i==null?this:(t!==void 0&&(i=hP(i,t,s)),this.easeValueTask===void 0&&(this.easeValueTask=new Ss(this,{eventEmitter:null})),this.easeValueTask.restart({key:this.easeValuePropName,to:i,duration:this.easeValueDuration,ease:this.easeFunction}),this)},vP=function(i,t,s,x){return s===void 0&&(s=-1),x===void 0&&(x=0),this.easeValueTask===void 0&&(this.easeValueTask=new Ss(this,{eventEmitter:null})),this.easeValueTask.restart({key:this.easeValuePropName,from:i,to:t,duration:this.easeValueDuration,ease:this.easeFunction,repeat:s,repeatDelay:x}),this};const cP={setEaseValuePropName:oP,setEaseValueDuration:lP,setEaseValueFunction:uP,stopEaseValue:dP,easeValueTo:fP,easeValueRepeat:vP},Pn=Phaser.Utils.Objects.GetValue,pP=Phaser.Math.Clamp;function Ps(i){class t extends i{bootProgressBase(x){this.eventEmitter=Pn(x,"eventEmitter",this);var E=Pn(x,"valuechangeCallback",null);if(E!==null){var A=Pn(x,"valuechangeCallbackScope",void 0);this.eventEmitter.on("valuechange",E,A)}return this.setEaseValuePropName("value").setEaseValueDuration(Pn(x,"easeValue.duration",0)).setEaseValueFunction(Pn(x,"easeValue.ease","Linear")),this}get value(){return this._value}set value(x){x=pP(x,0,1);var E=this._value,A=E!=x;this.dirty=this.dirty||A,this._value=x,A&&this.eventEmitter.emit("valuechange",this._value,E,this.eventEmitter)}}return Object.assign(t.prototype,aP,cP),t}const gP=Phaser.Math.RadToDeg,mP={buildShapes(){this.addShape(new Fo().setName("track")).addShape(new Aa().setName("bar")).addShape(new Fo().setName("center"))},updateShapes(){var i=this.radius,t=this.thickness*this.radius,s=this.radius-t/2,x=this.radius-t,E=this.getShape("track");this.trackColor!=null&&t>0?E.setCenterPosition(i,i).setRadius(s).lineStyle(t,this.trackColor):E.reset();var A=this.getShape("bar");if(this.barColor!=null&&s>0){var l,T,e;if(this.value===1)l=!1,T=0,e=361;else{l=this.anticlockwise,T=gP(this.startAngle);var u=360*(l?1-this.value:this.value);e=u+T}A.setCenterPosition(i,i).setRadius(s).setAngle(T,e,l).lineStyle(t,this.barColor)}else A.reset();var m=this.getShape("center");this.centerColor&&x>0?m.setCenterPosition(i,i).setRadius(x).fillStyle(this.centerColor):m.reset()}},ti=Phaser.Utils.Objects.GetValue,xP=Phaser.Utils.Objects.IsPlainObject,yP=Phaser.Math.Clamp,TP=Phaser.Math.DegToRad(270);let cc=class extends Ps(Cs){constructor(t,s,x,E,A,l,T){xP(s)&&(T=s,s=ti(T,"x",0),x=ti(T,"y",0),E=ti(T,"radius",1),A=ti(T,"barColor",void 0),l=ti(T,"value",0)),E===void 0&&(E=1);var e=E*2;super(t,s,x,e,e),this.type="rexCircularProgress",this.bootProgressBase(T),this.setRadius(E),this.setTrackColor(ti(T,"trackColor",void 0)),this.setBarColor(A),this.setCenterColor(ti(T,"centerColor",void 0)),this.setThickness(ti(T,"thickness",.2)),this.setStartAngle(ti(T,"startAngle",TP)),this.setAnticlockwise(ti(T,"anticlockwise",!1)),this.buildShapes(),this.setValue(l)}resize(t,s){return t=Math.floor(Math.min(t,s)),t===this.width?this:(super.resize(t,t),this.setRadius(t/2),this)}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t;var s=t*2;this.resize(s,s)}setRadius(t){return this.radius=t,this}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!=t,this._startAngle=t}setStartAngle(t){return this.startAngle=t,this}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!=t,this._anticlockwise=t}setAnticlockwise(t){return t===void 0&&(t=!0),this.anticlockwise=t,this}get thickness(){return this._thickness}set thickness(t){t=yP(t,0,1),this.dirty=this.dirty||this._thickness!=t,this._thickness=t}setThickness(t){return this.thickness=t,this}get centerColor(){return this._centerColor}set centerColor(t){this.dirty=this.dirty||this._centerColor!=t,this._centerColor=t}setCenterColor(t){return this.centerColor=t,this}};Object.assign(cc.prototype,mP);var uh=function(i,t,s,x,E,A,l,T,e,u,m,d){u===void 0&&(u=0),m===void 0&&(m=2*Math.PI),d===void 0&&(d=!1),t.beginPath(),t.ellipse(s,x,E,A,0,u,m,d),l!=null&&(t.fillStyle=l,t.fill()),T!=null&&(t.strokeStyle=T,t.lineWidth=e,t.stroke())},CP=function(i,t,s,x,E,A,l,T,e,u,m){e===void 0&&T!=null&&(e=2),u===void 0&&(u="start"),m===void 0&&(m="alphabetic"),t.font=A,t.textAlign=u,t.textBaseline=m,t.fillStyle=l,t.strokeStyle=T,t.lineWidth=e,t.lineCap="round",t.lineJoin="round",T!=null&&T!=="none"&&e>0&&t.strokeText(E,s,x),l!=null&&l!=="none"&&t.fillText(E,s,x)},SP=function(){var i=this.radius,t=this.thickness*this.radius,s=this.radius-t/2,x=this.radius-t,E=this.canvas,A=this.context;if(this.trackColor&&t>0&&(A.save(),uh(E,A,i,i,s,s,void 0,this.trackColor,t),A.restore()),this.barColor&&s>0){var l,T,e;if(this.value===1)l=!1,T=0,e=2*Math.PI;else{l=this.anticlockwise,T=this.startAngle;var u=2*Math.PI*(l?1-this.value:this.value);e=u+T}A.save(),uh(E,A,i,i,s,s,void 0,this.barColor,t,T,e,l),A.restore()}if(this.centerColor&&x>0){var m;this.centerColor2?(m=this.context.createRadialGradient(i,i,0,i,i,x),m.addColorStop(0,this.centerColor),m.addColorStop(1,this.centerColor2)):m=this.centerColor,A.save(),uh(E,A,i,i,x,x,m),A.restore()}this.textFormatCallback&&(this.textColor||this.textStrokeColor)&&(A.save(),CP(E,A,i,i,this.getFormatText(),this.textFont,this.textColor,this.textStrokeColor,this.textStrokeThickness,"center","middle"),A.restore())};const jt=Phaser.Utils.Objects.GetValue,EP=Phaser.Utils.Objects.IsPlainObject,PP=Phaser.Math.Clamp,MP=Phaser.Math.DegToRad(270);class S9 extends Ps(Jn){constructor(t,s,x,E,A,l,T){EP(s)&&(T=s,s=jt(T,"x",0),x=jt(T,"y",0),E=jt(T,"radius",1),A=jt(T,"barColor",void 0),l=jt(T,"value",0));var e=E*2;super(t,s,x,e,e),this.type="rexCircularProgressCanvas",this.bootProgressBase(T),this.setRadius(E),this.setTrackColor(jt(T,"trackColor",void 0)),this.setBarColor(A),this.setCenterColor(jt(T,"centerColor",void 0)),this.setThickness(jt(T,"thickness",.2)),this.setStartAngle(jt(T,"startAngle",MP)),this.setAnticlockwise(jt(T,"anticlockwise",!1)),this.setTextColor(jt(T,"textColor",void 0)),this.setTextStrokeColor(jt(T,"textStrokeColor",void 0),jt(T,"textStrokeThickness",void 0));var u=jt(T,"textFont",void 0);u?this.setTextFont(u):this.setTextFont(jt(T,"textSize","16px"),jt(T,"textFamily","Courier"),jt(T,"textStyle","")),this.setTextFormatCallback(jt(T,"textFormatCallback",void 0),jt(T,"textFormatCallbackScope",void 0)),this.setValue(l)}resize(t,s){return t=Math.floor(Math.min(t,s)),t===this.width?this:(super.resize(t,t),this.setRadius(t/2),this)}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t;var s=t*2;this.resize(s,s)}setRadius(t){return this.radius=t,this}get trackColor(){return this._trackColor}set trackColor(t){t=yt(t,this.canvas,this.context),this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get barColor(){return this._barColor}set barColor(t){t=yt(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!=t,this._startAngle=t}setStartAngle(t){return this.startAngle=t,this}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!=t,this._anticlockwise=t}setAnticlockwise(t){return t===void 0&&(t=!0),this.anticlockwise=t,this}get thickness(){return this._thickness}set thickness(t){t=PP(t,0,1),this.dirty=this.dirty||this._thickness!=t,this._thickness=t}setThickness(t){return this.thickness=t,this}get centerColor(){return this._centerColor}set centerColor(t){t=yt(t,this.canvas,this.context),this.dirty=this.dirty||this._centerColor!=t,this._centerColor=t}get centerColor2(){return this._centerColor2}set centerColor2(t){t=yt(t,this.canvas,this.context),this.dirty=this.dirty||this._centerColor2!=t,this._centerColor2=t}setCenterColor(t,s){return this.centerColor=t,this.centerColor2=s,this}get textColor(){return this._textColor}set textColor(t){t=yt(t,this.canvas,this.context),this.dirty=this.dirty||this._textColor!=t,this._textColor=t}setTextColor(t){return this.textColor=t,this}get textStrokeColor(){return this._textStrokeColor}set textStrokeColor(t){t=yt(t,this.canvas,this.context),this.dirty=this.dirty||this._textStrokeColor!=t,this._textStrokeColor=t}get textStrokeThickness(){return this._textStrokeThickness}set textStrokeThickness(t){this.dirty=this.dirty||this._textStrokeThickness!=t,this._textStrokeThickness=t}setTextStrokeColor(t,s){return s===void 0&&(s=2),this.textStrokeColor=t,this.textStrokeThickness=s,this}get textFont(){return this._textFont}set textFont(t){this.dirty=this.dirty||this._textFont!=t,this._textFont=t}setTextFont(t,s,x){var E;return s===void 0?E=t:E=x+" "+t+" "+s,this.textFont=E,this}setTextFormatCallback(t,s){return this.textFormatCallback=t,this.textFormatCallbackScope=s,this}updateTexture(){return this.clear(),SP.call(this),super.updateTexture(),this}getFormatText(t){t===void 0&&(t=this.value);var s;return this.textFormatCallbackScope?s=this.textFormatCallback(t):s=this.textFormatCallback.call(this.textFormatCallbackScope,t),s}}var RP=function(){var i=this.skewX,t=this.width-Math.abs(i),s=this.height,x=this.getShape("trackFill");x.fillStyle(this.trackColor),x.isFilled&&dh(x,0,0,t,s,i).close();var E=this.getShape("bar");if(E.fillStyle(this.barColor),E.isFilled){var A,l;this.rtl?(A=t*(1-this.value),l=t):(A=0,l=t*this.value),dh(E,A,0,l,s,i).close()}var T=this.getShape("trackStroke");T.lineStyle(this.trackStrokeThickness,this.trackStrokeColor),T.isStroked&&dh(T,0,0,t,s,i).end()},dh=function(i,t,s,x,E,A){var l=(t+x)/2;return A>=0?i.startAt(l+A,s).lineTo(x+A,s).lineTo(x,E).lineTo(t,E).lineTo(t+A,s).lineTo(l+A,s):i.startAt(l,s).lineTo(x,s).lineTo(x-A,E).lineTo(t-A,E).lineTo(t,s).lineTo(l,s),i};const se=Phaser.Utils.Objects.GetValue,fh=Phaser.Utils.Objects.IsPlainObject;let AP=class extends Ps(Cs){constructor(t,s,x,E,A,l,T,e){fh(s)?(e=s,s=se(e,"x",0),x=se(e,"y",0),E=se(e,"width",2),A=se(e,"height",2),l=se(e,"barColor",void 0),T=se(e,"value",0)):fh(E)?(e=E,E=se(e,"width",2),A=se(e,"height",2),l=se(e,"barColor",void 0),T=se(e,"value",0)):fh(l)&&(e=l,l=se(e,"barColor",void 0),T=se(e,"value",0)),super(t,s,x,E,A,e),this.type="rexLineProgress",this.bootProgressBase(e),this.addShape(new tn().setName("trackFill")).addShape(new tn().setName("bar")).addShape(new tn().setName("trackStroke")),this.setTrackColor(se(e,"trackColor",void 0)),this.setBarColor(l),this.setTrackStroke(se(e,"trackStrokeThickness",2),se(e,"trackStrokeColor",void 0)),this.setSkewX(se(e,"skewX",0)),this.setRTL(se(e,"rtl",!1)),this.setValue(T)}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,s){return this.trackStrokeThickness=t,this.trackStrokeColor=s,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get skewX(){return this._skewX}set skewX(t){this.dirty=this.dirty||this._skewX!=t,this._skewX=t}setSkewX(t){return this.skewX=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}};var wP={updateShapes:RP};Object.assign(AP.prototype,wP);var OP=function(i,t){i.save(),i.beginPath();var s=t[0];i.moveTo(s.x,s.y);for(var x=1,E=t.length;x<E;x++)s=t[x],i.lineTo(s.x,s.y);i.closePath(),i.restore()},vh=function(i,t,s,x,E,A,l){l===void 0&&(l="round"),OP(t,s),t.lineJoin=l,x!=null&&(t.fillStyle=x,t.fill()),E!=null&&(t.strokeStyle=E,t.lineWidth=A,t.stroke())},LP=function(){var i=this.skewX,t=this.width-Math.abs(i),s=this.height,x=this.canvas,E=this.context;(this.trackColor||this.trackStrokeColor)&&ju(0,0,t,s,i,this.trackPoints);var A,l;if(this.barColor&&(this.rtl?(A=t*(1-this.value),l=t):(A=0,l=t*this.value),ju(A,0,l,s,i,this.barPoints)),this.trackColor&&(E.save(),vh(x,E,this.trackPoints,this.trackColor),E.restore()),this.barColor){E.save();var T;if(this.barColor2){var e;if(this.isHorizontalGradient){var u=s/2;e=E.createLinearGradient(A,u,l,u)}else{var m=t/2;e=E.createLinearGradient(m,0,m,s)}e.addColorStop(0,this.rtl?this.barColor:this.barColor2),e.addColorStop(1,this.rtl?this.barColor2:this.barColor),T=e}else T=this.barColor;vh(x,E,this.barPoints,T),E.restore()}this.trackStrokeColor&&this.trackStrokeThickness>0&&(E.save(),vh(x,E,this.trackPoints,void 0,this.trackStrokeColor,this.trackStrokeThickness),E.restore())},ju=function(i,t,s,x,E,A){A===void 0&&(A=[]),A.length=4;for(var l=0;l<4;l++)A[l]||(A[l]={});var T;return E>=0?(T=A[0],T.x=i+E,T.y=t,T=A[1],T.x=s+E,T.y=t,T=A[2],T.x=s,T.y=x,T=A[3],T.x=i,T.y=x):(T=A[0],T.x=i,T.y=t,T=A[1],T.x=s,T.y=t,T=A[2],T.x=s-E,T.y=x,T=A[3],T.x=i-E,T.y=x),A};const qt=Phaser.Utils.Objects.GetValue,ch=Phaser.Utils.Objects.IsPlainObject;class FP extends Ps(Jn){constructor(t,s,x,E,A,l,T,e){ch(s)?(e=s,s=qt(e,"x",0),x=qt(e,"y",0),E=qt(e,"width",2),A=qt(e,"height",2),l=qt(e,"barColor",void 0),T=qt(e,"value",0)):ch(E)?(e=E,E=qt(e,"width",2),A=qt(e,"height",2),l=qt(e,"barColor",void 0),T=qt(e,"value",0)):ch(l)&&(e=l,l=qt(e,"barColor",void 0),T=qt(e,"value",0)),super(t,s,x,E,A),this.type="rexLineProgressCanvas",this.trackPoints=[],this.barPoints=[],this.bootProgressBase(e),this.setTrackColor(qt(e,"trackColor",void 0)),this.setBarColor(l,qt(e,"barColor2",void 0),qt(e,"isHorizontalGradient",void 0)),this.setTrackStroke(qt(e,"trackStrokeThickness",2),qt(e,"trackStrokeColor",void 0)),this.setSkewX(qt(e,"skewX",0)),this.setRTL(qt(e,"rtl",!1)),this.setValue(T)}get trackColor(){return this._trackColor}set trackColor(t){t=yt(t,this.canvas,this.context),this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){t=yt(t,this.canvas,this.context),this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,s){return this.trackStrokeThickness=t,this.trackStrokeColor=s,this}get barColor(){return this._barColor}set barColor(t){t=yt(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor!=t,this._barColor=t}get barColor2(){return this._barColor2}set barColor2(t){t=yt(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor2!=t,this._barColor2=t}get isHorizontalGradient(){return this._isHorizontalGradient}set isHorizontalGradient(t){this.dirty|=this._isHorizontalGradient!=t,this._isHorizontalGradient=t}setBarColor(t,s,x){return x===void 0&&(x=!0),this.barColor=t,this.barColor2=s,this.isHorizontalGradient=x,this}get skewX(){return this._skewX}set skewX(t){this.dirty=this.dirty||this._skewX!=t,this._skewX=t}setSkewX(t){return this.skewX=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}updateTexture(){return this.clear(),LP.call(this),super.updateTexture(),this}}Phaser.Math.Wrap;const Gs=Phaser.Math.Linear;var DP=function(){var i=this.getShape("triangle"),t=this.padding,s=this.width-t.right,x=0+t.left,E=this.height-t.bottom,A=0+t.top,l=(x+s)/2,T=(A+E)/2,e={0:{a:{x,y:A},b:{x:s,y:T},c:{x,y:E}},1:{a:{x,y:A},b:{x:l,y:E},c:{x:s,y:A}},2:{a:{x:s,y:A},b:{x,y:T},c:{x:s,y:E}},3:{a:{x,y:E},b:{x:l,y:A},c:{x:s,y:E}}},u,m,d,o,h,n;if(this.previousDirection===void 0){var r=e[this.direction],f=r.a,a=r.b,v=r.c;u=f.x,m=f.y,d=a.x,o=a.y,h=v.x,n=v.y}else{var p=e[this.previousDirection],c=e[this.direction],g=this.easeDirectionProgress;u=Gs(p.a.x,c.a.x,g),m=Gs(p.a.y,c.a.y,g),d=Gs(p.b.x,c.b.x,g),o=Gs(p.b.y,c.b.y,g),h=Gs(p.c.x,c.c.x,g),n=Gs(p.c.y,c.c.y,g)}i.startAt(u,m).lineTo(d,o).lineTo(h,n),this.arrowOnly?i.end():i.close()};const bP=Phaser.Math.DegToRad,Dr=bP(120);var BP=function(t){var t=this.getShape("triangle"),s=this.width/2,x=this.height/2,E=Math.min(s,x)*this.radius,A=this.verticeRotation;t.startAt(s+E*Math.cos(A+Dr),x+E*Math.sin(A+Dr)).lineTo(s+E*Math.cos(A),x+E*Math.sin(A)).lineTo(s+E*Math.cos(A-Dr),x+E*Math.sin(A-Dr)),this.arrowOnly?t.end():t.close()};const IP={buildShapes(){this.addShape(new tn().setName("triangle"))},updateShapes(){var i=this.getShape("triangle");this.arrowOnly?i.fillStyle().lineStyle(this.lineWidth,this.strokeColor,this.strokeAlpha):i.fillStyle(this.fillColor,this.fillAlpha).lineStyle(this.lineWidth,this.strokeColor,this.strokeAlpha),this.shapeMode===0?DP.call(this):BP.call(this)}},GP={setEaseDuration(i){return i===void 0&&(i=0),this.easeDuration=i,this},playEaseDirectionation(){return this.easeDirectionProgressTask===void 0&&(this.easeDirectionProgressTask=new Ss(this,{eventEmitter:null})),this.easeDirectionProgressTask.restart({key:"easeDirectionProgress",from:0,to:1,duration:this.easeDuration}),this},stopEaseDirection(){return this.easeDirectionProgressTask===void 0?this:(this.easeDirectionProgressTask.stop(),this)}},Ns=Phaser.Utils.Objects.GetValue,NP=Phaser.Utils.Objects.IsPlainObject,VP=Phaser.Math.DegToRad,zP=Phaser.Math.RadToDeg;class pc extends Cs{constructor(t,s,x,E,A,l,T){var e,u,m,d,o,h,n,r;if(NP(s)){var f=s;s=f.x,x=f.y,E=f.width,A=f.height,l=f.color,T=f.alpha,e=f.strokeColor,u=f.strokeAlpha,m=f.strokeWidth,d=f.arrowOnly,o=f.direction,h=f.easeDuration,n=f.padding,r=f.radius}s===void 0&&(s=0),x===void 0&&(x=0),E===void 0&&(E=1),A===void 0&&(A=E),d===void 0&&(d=!1),o===void 0&&(o=0),h===void 0&&(h=0),n===void 0&&(n=0),r===void 0&&(r=void 0),super(t,s,x,E,A),this.type="rexTriangle",this.setFillStyle(l,T),e!==void 0&&m===void 0&&(m=2),this.setStrokeStyle(m,e,u),this.setArrowOnly(d),this.setDirection(o,h),this.setPadding(n),this.setRadius(r),this.buildShapes()}get arrowOnly(){return this._arrowOnly}set arrowOnly(t){this.dirty=this.dirty||this._arrowOnly!=t,this._arrowOnly=t}setArrowOnly(t){return t===void 0&&(t=!0),this.arrowOnly=t,this}get direction(){return this._direction}set direction(t){t=YP(t),this._direction!==t&&(this.easeDuration>0&&this._direction!==void 0?this.previousDirection=this._direction:this.previousDirection=void 0,this._direction=t,this.verticeAngle=t*90,this.dirty=!0,this.previousDirection!==void 0?this.playEaseDirectionation():this.stopEaseDirection())}setDirection(t,s){return s!==void 0&&this.setEaseDuration(s),this.direction=t,this}toggleDirection(t){return this.setDirection(this.direction+2,t),this}get easeDirectionProgress(){return this._easeDirectionProgress}set easeDirectionProgress(t){this._easeDirectionProgress!==t&&(this._easeDirectionProgress=t,this.dirty=!0)}setPadding(t,s,x,E){if(typeof t=="object"){var A=t,l=Ns(A,"x",null);l!==null?(t=l,x=l):(t=Ns(A,"left",0),x=Ns(A,"right",t));var T=Ns(A,"y",null);T!==null?(s=T,E=T):(s=Ns(A,"top",0),E=Ns(A,"bottom",s))}else t===void 0&&(t=0),s===void 0&&(s=t),x===void 0&&(x=t),E===void 0&&(E=s);return this.padding===void 0&&(this.padding={}),this.dirty=this.dirty||this.padding.left!=t||this.padding.top!=s||this.padding.right!=x||this.padding.bottom!=E,this.padding.left=t,this.padding.top=s,this.padding.right=x,this.padding.bottom=E,this.setRadius(),this}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t}setRadius(t){return this.radius=t,this.shapeMode=t==null?0:1,this}get verticeRotation(){return this._verticeRotation}set verticeRotation(t){this.dirty=this.dirty||this._verticeRotation!=t,this._verticeRotation=t}setVerticeRotation(t){return this.verticeRotation=t,this}get verticeAngle(){return zP(this.verticeRotation)}set verticeAngle(t){this.verticeRotation=VP(t)}setVerticeAngle(t){return this.verticeAngle=t,this}}const XP={right:0,down:1,left:2,up:3};var YP=function(i){return typeof i=="string"&&(i=XP[i]),i=i%4,i};Object.assign(pc.prototype,IP,GP);xa();const UP=Phaser.GameObjects.Zone,WP=Phaser.Utils.Array.Add,kP=Phaser.Utils.Array.Remove;let _n=class extends UP{constructor(t,s,x,E,A){s===void 0&&(s=0),x===void 0&&(x=0),E===void 0&&(E=1),A===void 0&&(A=1),super(t,s,x,E,A),this.children=[]}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(t)for(var s,x=this.children.length-1;x>=0;x--)s=this.children[x],!s.parentContainer&&!s.displayList&&s.destroy(t);this.clear(!t),super.destroy(t)}}contains(t){return this.children.indexOf(t)!==-1}add(t){var s=this;return WP(this.children,t,0,function(x){x.once("destroy",s.onChildDestroy,s)},this),this}remove(t,s){var x=this;return kP(this.children,t,function(E){E.off("destroy",x.onChildDestroy,x),s&&E.destroy()}),this}onChildDestroy(t,s){this.remove(t,!1)}clear(t){for(var s=this,x,E=0,A=this.children.length;E<A;E++)x=this.children[E],x.off("destroy",s.onChildDestroy,s),t&&x.destroy();return this.children.length=0,this}};const qu=Phaser.GameObjects.Components;Phaser.Class.mixin(_n,[qu.Alpha,qu.Flip]);var qe=function(i,t){var s;if(t===void 0)i.hasOwnProperty("rexContainer")&&(s=i.rexContainer.parent);else for(s=qe(i);s&&s.name!==t;)s=qe(s);return s},HP=function(i){for(var t=qe(i);t;)i=t,t=qe(t);return i};const $P=Phaser.Math.DegToRad,KP=Phaser.Math.RadToDeg;var Rt=function(i){if(!i.hasOwnProperty("rexContainer")){var t={parent:null,self:null,layer:null,x:0,y:0,syncPosition:!0,rotation:0,syncRotation:!0,scaleX:0,scaleY:0,syncScale:!0,alpha:0,syncAlpha:!0,visible:!0,active:!0};Object.defineProperty(t,"angle",{get:function(){return KP(this.rotation)},set:function(s){this.rotation=$P(s)}}),Object.defineProperty(t,"displayWidth",{get:function(){return i.width*this.scaleX},set:function(s){this.scaleX=s/i.width}}),Object.defineProperty(t,"displayHeight",{get:function(){return i.height*this.scaleY},set:function(s){this.scaleY=s/i.height}}),i.rexContainer=t}return i.rexContainer};const ZP={setParent(i,t){t===void 0&&(t=this);var s=Rt(i);return t?(s.parent=t,s.self=i):(s.parent=null,s.self=null),this},getParent(i,t){return typeof i=="string"&&(t=i,i=void 0),i===void 0&&(i=this),qe(i,t)},getTopmostParent(i){return i===void 0&&(i=this),HP(i)}},Mn=Phaser.Utils.Objects.GetValue,gc=_n.prototype.add;var ph=function(i,t){this.setParent(i);var s=Rt(i);return mc(s,t),this.resetChildState(i).updateChildVisible(i).updateChildActive(i).updateChildScrollFactor(i).updateChildMask(i),gc.call(this,i),this.addToParentContainer(i),this.addToRenderLayer(i),this},gh=function(i,t){this.setParent(i);var s=Rt(i);return mc(s,t),s.x=i.x,s.y=i.y,s.rotation=i.rotation,s.scaleX=i.scaleX,s.scaleY=i.scaleY,s.alpha=i.alpha,s.visible=i.visible,s.active=i.active,this.updateChildPosition(i).updateChildAlpha(i).updateChildVisible(i).updateChildActive(i).updateChildScrollFactor(i).updateChildMask(i),gc.call(this,i),this.addToRenderLayer(i),this},mc=function(i,t){t===void 0&&(t=!0),typeof t=="boolean"?(i.syncPosition=t,i.syncRotation=t,i.syncScale=t,i.syncAlpha=t,i.syncScrollFactor=t):(i.syncPosition=Mn(t,"syncPosition",!0),i.syncRotation=Mn(t,"syncRotation",!0),i.syncScale=Mn(t,"syncScale",!0),i.syncAlpha=Mn(t,"syncAlpha",!0),i.syncScrollFactor=Mn(t,"syncScrollFactor",!0))};const JP={add(i){return Array.isArray(i)?this.addMultiple(i):ph.call(this,i),this},pin(i,t){return Array.isArray(i)?this.addMultiple(i,t):ph.call(this,i,t),this},addMultiple(i){for(var t=0,s=i.length;t<s;t++)ph.call(this,i[t]);return this},addLocal(i){return Array.isArray(i)?this.addMultiple(i):gh.call(this,i),this},pinLocal(i,t){return Array.isArray(i)?this.addMultiple(i,t):gh.call(this,i,t),this},addLocalMultiple(i){for(var t=0,s=i.length;t<s;t++)gh.call(this,i[t]);return this}},_u=_n.prototype.remove,QP=_n.prototype.clear,jP={remove(i,t){return qe(i)!==this?this:(this.setParent(i,null),t||this.removeFromRenderLayer(i),_u.call(this,i,t),this)},unpin(i,t){return qe(i)!==this?this:(this.setParent(i,null),t||this.removeFromRenderLayer(i),_u.call(this,i,t),this)},clear(i){for(var t=this.children,s=0,x=t.length;s<x;s++){var E=t[s];this.setParent(E,null),i||this.removeFromRenderLayer(E)}return QP.call(this,i),this}},qP={getLocalState(i){return Rt(i)},resetChildState(i){return this.resetChildPositionState(i).resetChildVisibleState(i).resetChildAlphaState(i).resetChildActiveState(i),this},resetChildrenState(i){for(var t=0,s=i.length;t<s;t++)this.resetChildState(i[t]);return this},syncProperties(){return this.syncPosition().syncVisible().syncAlpha().syncActive().syncScrollFactor().syncMask(),this}},td=Phaser.Math.RotateAround,_P={worldToLocal(i){return i.x-=this.x,i.y-=this.y,td(i,0,0,-this.rotation),i.x/=this.scaleX,i.y/=this.scaleY,i},localToWorld(i){return i.x*=this.scaleX,i.y*=this.scaleY,td(i,0,0,this.rotation),i.x+=this.x,i.y+=this.y,i}};var Yn=function(i,t){return i===t?1:i/t};const tM={updateChildPosition(i){i.isRexContainerLite&&(i.syncChildrenEnable=!1);var t=Rt(i),s=t.parent;return t.syncPosition&&(i.x=t.x,i.y=t.y,s.localToWorld(i)),t.syncRotation&&(i.rotation=t.rotation+s.rotation),t.syncScale&&(i.scaleX=t.scaleX*s.scaleX,i.scaleY=t.scaleY*s.scaleY),i.isRexContainerLite&&(i.syncChildrenEnable=!0,i.syncPosition()),this},syncPosition(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildPosition,this),this},resetChildPositionState(i){var t=Rt(i),s=t.parent;return t.x=i.x,t.y=i.y,s.worldToLocal(t),t.scaleX=Yn(i.scaleX,s.scaleX),t.scaleY=Yn(i.scaleY,s.scaleY),t.rotation=i.rotation-s.rotation,this},setChildPosition(i,t,s){return i.x=t,i.y=s,this.resetChildPositionState(i),this},setChildLocalPosition(i,t,s){var x=Rt(i);return x.x=t,x.y=s,this.updateChildPosition(i),this},resetLocalPositionState(){var i=Rt(this).parent;return i&&i.resetChildPositionState(this),this}},eM=Phaser.Math.DegToRad,iM={updateChildRotation(i){var t=Rt(i),s=t.parent;return t.syncRotation&&(i.rotation=s.rotation+t.rotation),this},syncRotation(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildRotation,this),this},resetChildRotationState(i){var t=Rt(i),s=t.parent;return t.rotation=i.rotation-s.rotation,this},setChildRotation(i,t){return i.rotation=t,this.resetChildRotationState(i),this},setChildAngle(i,t){return i.angle=t,this.resetChildRotationState(i),this},setChildLocalRotation(i,t){var s=Rt(i);return s.rotation=t,this.updateChildRotation(i),this},setChildLocalAngle(i,t){var s=Rt(i);return s.rotation=eM(t),this.updateChildRotation(i),this},resetLocalRotationState(){var i=Rt(this).parent;return i&&i.resetChildRotationState(this),this}},sM={updateChildScale(i){var t=Rt(i),s=t.parent;return t.syncScale&&(i.scaleX=s.scaleX*t.scaleX,i.scaleY=s.scaleY*t.scaleY),this},syncScale(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScale,this),this},resetChildScaleState(i){var t=Rt(i),s=t.parent;return t.scaleX=Yn(i.scaleX,s.scaleX),t.scaleY=Yn(i.scaleY,s.scaleY),this},setChildScale(i,t,s){return s===void 0&&(s=t),i.scaleX=t,i.scaleY=s,this.resetChildScaleState(i),this},setChildLocalScale(i,t,s){s===void 0&&(s=t);var x=Rt(i);return x.scaleX=t,x.scaleY=s,this.updateChildScale(i),this},setChildDisplaySize(i,t,s){return i.setDisplaySize(t,s),this.resetChildScaleState(i),this},resetLocalScaleState(){var i=Rt(this).parent;return i&&i.resetChildScaleState(this),this}},nM={updateChildVisible(i){var t=Rt(i),s=t.parent,x=t.hasOwnProperty("maskVisible")?t.maskVisible:!0;return i.visible=s.visible&&t.visible&&x,this},syncVisible(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildVisible,this),this},resetChildVisibleState(i){var t=Rt(i);return t.hasOwnProperty("maskVisible")&&delete t.maskVisible,t.visible=i.visible,this},setChildVisible(i,t){return this.setChildLocalVisible(i,t),this},setChildLocalVisible(i,t){t===void 0&&(t=!0);var s=Rt(i);return s.visible=t,this.updateChildVisible(i),this},setChildMaskVisible(i,t){t===void 0&&(t=!0);var s=Rt(i);return s.maskVisible=t,this.updateChildVisible(i),this},resetLocalVisibleState(){var i=Rt(this).parent;return i&&i.resetChildVisibleState(this),this}},rM={updateChildAlpha(i){var t=Rt(i),s=t.parent;return t.syncAlpha&&(i.alpha=s.alpha*t.alpha),this},syncAlpha(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildAlpha,this),this},resetChildAlphaState(i){var t=Rt(i),s=t.parent;return t.alpha=Yn(i.alpha,s.alpha),this},setChildAlpha(i,t){return i.alpha=t,this.resetChildAlphaState(i),this},setChildLocalAlpha(i,t){var s=Rt(i);return s.alpha=t,this.updateChildAlpha(i),this},resetLocalAlphaState(){var i=Rt(this).parent;return i&&i.resetChildAlphaState(this),this}},aM={updateChildActive(i){var t=Rt(i),s=t.parent;return i.active=s.active&&t.active,this},syncActive(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildActive,this),this},resetChildActiveState(i){var t=Rt(i);return t.active=i.active,this},setChildActive(i,t){return i.active=t,this.resetChildActiveState(i),this},setChildLocalActive(i,t){t===void 0&&(t=!0);var s=Rt(i);return s.active=t,this.updateChildActive(i),this},resetLocalActiveState(){var i=Rt(this).parent;return i&&i.resetChildActiveState(this),this}},hM={updateChildScrollFactor(i){var t=Rt(i),s=t.parent;return t.syncScrollFactor&&(i.scrollFactorX=s.scrollFactorX,i.scrollFactorY=s.scrollFactorY),this},syncScrollFactor(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScrollFactor,this),this}},oM={updateChildMask(i){if(this.mask==null)return this;var t=this.mask.hasOwnProperty("geometryMask")?this.mask.geometryMask:this.mask.bitmapMask;return t!==i&&(i.mask=this.mask),this},syncMask(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildMask,this),this},setMask(i){return this.mask=i,this},clearMask(i){return i===void 0&&(i=!1),this._mask=null,this.children.forEach(function(t){t.clearMask&&t.clearMask(!1)}),i&&this.mask&&this.mask.destroy(),this}},lM={setDepth(i,t){if(this.depth=i,!t&&this.children)for(var s=this.getAllChildren(),x=0,E=s.length;x<E;x++)s[x].depth=i;return this},swapDepth(i){var t=this.depth,s=i.depth;return this.setDepth(s),i.setDepth(t),this},incDepth(i){if(this.depth+=i,this.children)for(var t=this.getAllChildren(),s=0,x=t.length;s<x;s++)t[s].depth+=i;return this},bringToTop(){var i=this.displayList,t=this.getAllChildren([this]);Mi(t,!1);for(var s=0,x=t.length;s<x;s++){var E=t[s];i.exists(E)&&i.bringToTop(E)}return this},moveDepthBelow(i){var t=this.displayList;if(i.displayList!==t)return this;var s=this.getAllChildren([this]);Mi(s,!1);for(var x=0,E=s.length;x<E;x++){var A=s[x];if(t.exists(A)){t.moveBelow(i,A);break}}return this},moveDepthAbove(i){var t=this.displayList;if(i.displayList!==t)return this;var s=this.getAllChildren([this]);Mi(s,!0);for(var x=0,E=s.length;x<E;x++){var A=s[x];if(t.exists(A)){t.moveAbove(i,A);break}}return this},bringChildToTop(i){var t=this.getAllChildren([this]);Mi(t,!0);var s=t[0];return s===i?this:s.displayList!==i.displayList?this:(s.displayList.moveAbove(i,s),this)},sendChildToBack(i){var t=this.getAllChildren([this]);Mi(t,!1);var s=t[0];return s===i?this:s.displayList!==i.displayList?this:(s.displayList.moveBelow(i,s),this)}};var xc=function(i,t){var s=t(i);if(!s&&i.isRexContainerLite)for(var x=i.children,E=0,A=x.length;E<A;E++)xc(x[E],t)},mh=function(i,t){for(var s=[i];s.length>0;){var x=s.shift(),E=t(x);!E&&x.isRexContainerLite&&s.push(...x.children)}};const es=Phaser.Utils.Array,uM={getChildren(i){if(!i)i=this.children;else for(var t=0,s=this.children.length;t<s;t++)i.push(this.children[t]);return i},getAllChildren(i){i===void 0&&(i=[]);var t=this;return mh(t,function(s){s!==t&&i.push(s)}),i},getAllVisibleChildren(i){i===void 0&&(i=[]);var t=this;return mh(t,function(s){if(s!==t){if(!s.visible)return!0;i.push(s)}}),i},bfs(i,t){return t===void 0&&(t=this),mh(t,i),this},dfs(i,t){return t===void 0&&(t=this),xc(t,i),this},contains(i){var t=qe(i);return t?t===this?!0:this.contains(t):!1},getByName(i,t){if(t){for(var s=[this],x,E;s.length;){x=s.shift();for(var A=0,l=x.children.length;A<l;A++){if(E=x.children[A],E.name===i)return E;E.isRexContainerLite&&s.push(E)}}return null}else return es.GetFirst(this.children,"name",i)},getRandom(i,t){return es.GetRandom(this.children,i,t)},getFirst(i,t,s,x){return es.GetFirstElement(this.children,i,t,s,x)},getAll(i,t,s,x){return es.GetAll(this.children,i,t,s,x)},count(i,t,s,x){return es.CountAllMatching(this.children,i,t,s,x)},swap(i,t){return es.Swap(this.children,i,t),this},setAll(i,t,s,x){return es.SetAll(this.children,i,t,s,x),this}};var ed=function(i){for(var t=[],s=0,x=i.length;s<x;s++){var E=i[s];E.hasOwnProperty("rexContainer")&&t.push(E.rexContainer)}return t},dM=function(i){for(var t=0,s=i.length;t<s;t++){var x=i[t].scene;if(x)return x}return null},id=function(i,t,s){if(!s.parent){i.remove();return}var x=s.parent,E=s.self;switch(t){case"x":case"y":x.updateChildPosition(E);break;case"angle":case"rotation":x.updateChildRotation(E);break;case"scaleX":case"scaleY":case"displayWidth":case"displayHeight":x.updateChildScale(E);break;case"alpha":x.updateChildAlpha(E);break;default:x.updateChildPosition(E),x.updateChildRotation(E),x.updateChildScale(E),x.updateChildAlpha(E);break}};const fM={tweenChild(i){var t=i.targets;Array.isArray(t)||(t=[t]);var s=this.scene||dM(t);if(s){i.targets=ed(t);var x=s.tweens.add(i);return x.on("update",id),x}},tweenSelf(i){return i.targets=[this],this.tweenChild(i)},createTweenChildConfig(i){var t=i.targets;t&&(Array.isArray(t)||(t=[t]),i.targets=ed(t));var s=i.onUpdate;return i.onUpdate=function(x,E){s&&s(x,E),id(x,void 0,E)},i},tween(i){var t=this.scene;return i.targets||(i.targets=this),t.tweens.add(i)}},vM={addToContainer(i){this._setParentContainerFlag=!0;var t=this.getAllChildren([this]);return Mi(t),i.add(t),this._setParentContainerFlag=!1,this},addToLayer(i){return this.addToContainer(i),this},removeFromContainer(){if(!this.parentContainer)return this;var i=this.getAllChildren([this]).filter(function(t){return!!t.scene});return i.length===0?this:(this._setParentContainerFlag=!0,i.length>1&&(Mi(i),i.reverse()),this.parentContainer.remove(i),this._setParentContainerFlag=!1,this)},getParentContainer(){if(this.parentContainer)return this.parentContainer;for(var i=this.getParent();i;){var t=i.parentContainer;if(t)return t;i=i.getParent()}return null},addToParentContainer(i){if(!i.displayList)return this;var t=this.getParentContainer();return t?(i.isRexContainerLite?i.addToContainer(t):t.add(i),this):this}},cM={enableLayer(){if(this.privateRenderLayer)return this;var i=this.scene.add.layer();return this.moveDepthBelow(i),this.addToLayer(i),this.privateRenderLayer=i,this},getLayer(){return this.privateRenderLayer||this.enableLayer(),this.privateRenderLayer},getRenderLayer(){if(this.privateRenderLayer)return this.privateRenderLayer;for(var i=this.getParent();i;){var t=i.privateRenderLayer;if(t)return t;i=i.getParent()}return null},addToRenderLayer(i){if(!i.displayList)return this;var t=this.getRenderLayer();if(!t)return this;i.isRexContainerLite?i.addToLayer(t):t.add(i);var s=Rt(i);return s.layer=t,this},removeFromRenderLayer(i){var t=Rt(i),s=t.layer;return s?(s.remove(i),t.layer=null,this):this}},sd=Phaser.Geom.Rectangle,pM=Phaser.Geom.Rectangle.Union;var gM=function(i,t){t===void 0?t=new sd:t===!0&&(xh===void 0&&(xh=new sd),t=xh),t.setTo(0,0,0,0);for(var s,x=!0,E=0,A=i.length;E<A;E++)if(s=i[E],!!s.getBounds){var l=Zo(s,!0);x?(t.setTo(l.x,l.y,l.width,l.height),x=!1):pM(l,t,t)}return t},xh;const mM=Phaser.GameObjects.GameObject;var Oa=function(i){return i instanceof mM},is=Phaser.Utils.Objects.GetValue,xM=Phaser.Textures.DynamicTexture,yM=Phaser.Utils.String.UUID,yc=function(i){if(i){var t=i.gameObjects,s=i.renderTexture,x=is(i,"x",void 0),E=is(i,"y",void 0),A=is(i,"width",void 0),l=is(i,"height",void 0),T=is(i,"originX",0),e=is(i,"originY",0),u=is(i,"padding",0),m,d;if(A===void 0||l===void 0||x===void 0||E===void 0){var o=gM(t,!0),h=x!==void 0&&E!==void 0;h?(A=Math.max(x-o.left,o.right-x)*2,l=Math.max(E-o.top,o.bottom-E)*2,T=.5,e=.5):(x=o.x,E=o.y,A=o.width,l=o.height,T=0,e=0),m=o.x,d=o.y}else m=x+(0-T)*A,d=E+(0-e)*l;m-=u,d-=u,A+=u*2,l+=u*2;var n=t[0].scene;r&&!s&&(s=new xM(n.sys.textures,yM(),A,l)),s||(s=n.add.renderTexture(0,0,A,l)),s.setPosition&&s.setPosition(x,E),(s.width!==A||s.height!==l)&&s.setSize(A,l),s.setOrigin&&s.setOrigin(T,e),s.camera.setScroll(m,d),t=Mi(xs(t)),s.draw(t);var r=i.saveTexture;if(r)if(Oa(s))s.saveTexture(r);else{var f=s,a=f.manager;a.exists(f.key)?a.renameTexture(f.key,key):(f.key=key,a.list[key]=f,a.emit("addtexture",key,f),a.emit(`addtexture-${key}`,f))}return s}};const TM={snapshot(i){var t=this.scaleX,s=this.scaleY,x=t===1&&s===1;x||this.setScale(1),i===void 0&&(i={}),i.gameObjects=this.getAllVisibleChildren(),i.x=this.x,i.y=this.y,i.originX=this.originX,i.originY=this.originY;var E=yc(i),A=!!E.scene;return x||(this.setScale(t,s),A&&E.setScale(t,s)),A?E:this}},nd=Phaser.Utils.Objects.GetValue;var CM=function(i,t){var s=nd(t,"drawContainer",!0),x=nd(t,"children");return x===void 0&&(x=this.getAllVisibleChildren([this])),s||(x=x.filter(function(E){return!E.isRexContainerLite})),Bv(x,i,t),this};const SM=Phaser.Math.RotateAround;var EM=function(i,t,s){s===void 0&&(s=t);var x={x:(t-i.originX)*i.displayWidth,y:(s-i.originY)*i.displayHeight};return SM(x,0,0,i.rotation),i.originX=t,i.originY=s,i.x=i.x+x.x,i.y=i.y+x.y,i},PM=function(i,t){this.syncChildrenEnable=!1,EM(this,i,t),this.syncChildrenEnable=!0;for(var s=this.getAllChildren(),x=0,E=s.length;x<E;x++)this.resetChildPositionState(s[x]);return this},Tc={changeOrigin:PM,drawBounds:CM};Object.assign(Tc,ZP,JP,jP,qP,_P,tM,iM,sM,nM,rM,aM,hM,oM,lM,uM,fM,vM,cM,TM);class _e extends _n{constructor(t,s,x,E,A,l){Array.isArray(E)&&(l=E,E=void 0,A=void 0),super(t,s,x,E,A),this.type="rexContainerLite",this.isRexContainerLite=!0,this.syncChildrenEnable=!0,this._active=!0,this._mask=null,this._scrollFactorX=1,this._scrollFactorY=1,this.privateRenderLayer=void 0,l&&this.add(l)}destroy(t){!this.scene||this.ignoreDestroy||(this.syncChildrenEnable=!1,super.destroy(t),this.privateRenderLayer&&(this.privateRenderLayer.list.length=0,this.privateRenderLayer.destroy()))}resize(t,s){return this.setSize(t,s),this}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.syncPosition())}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.syncPosition())}get rotation(){return super.rotation}set rotation(t){this.rotation!==t&&(super.rotation=t,this.syncPosition())}get scaleX(){return super.scaleX}set scaleX(t){this.scaleX!==t&&(super.scaleX=t,this.syncPosition())}get scaleY(){return super.scaleY}set scaleY(t){this.scaleY!==t&&(super.scaleY=t,this.syncPosition())}get scale(){return super.scale}set scale(t){this.scale!==t&&(super.scale=t,this.syncPosition())}get visible(){return super.visible}set visible(t){super.visible!==t&&(super.visible=t,this.syncVisible())}get alpha(){return super.alpha}set alpha(t){super.alpha!==t&&(super.alpha=t,this.syncAlpha())}get active(){return this._active}set active(t){this._active!==t&&(this._active=t,this.syncActive())}get mask(){return this._mask}set mask(t){this._mask!==t&&(this._mask=t,this.syncMask())}get scrollFactorX(){return this._scrollFactorX}set scrollFactorX(t){this._scrollFactorX!==t&&(this._scrollFactorX=t,this.syncScrollFactor())}get scrollFactorY(){return this._scrollFactorY}set scrollFactorY(t){this._scrollFactorY!==t&&(this._scrollFactorY=t,this.syncScrollFactor())}get list(){return this.children}static GetParent(t){return qe(t)}get parentContainer(){return this._parentContainer}set parentContainer(t){if(!this._parentContainer&&!t){this._parentContainer=t;return}if(this.setParentContainerFlag){this._parentContainer=t;return}this._parentContainer&&!t?(this.removeFromContainer(),this._parentContainer=t):t?(this._parentContainer=t,this.addToContainer(t)):this._parentContainer=t}get setParentContainerFlag(){if(this._setParentContainerFlag)return!0;var t=qe(this);return t?t.setParentContainerFlag:!1}}Object.assign(_e.prototype,Tc);var La=function(i){return i.hasOwnProperty("rexSizer")||(i.rexSizer={}),i.rexSizer};function MM(i){return i===void 0&&(i=this),La(i)}var RM=function(i){var t=La(i);return t.hasOwnProperty("prevState")||(t.prevState={}),t.prevState},AM=function(i){return i===void 0&&(i=jn(this.scene)),this.left=Math.max(this.left,i.left),this.right=Math.min(this.right,i.right),this.top=Math.max(this.top,i.top),this.bottom=Math.min(this.bottom,i.bottom),this};const xe=Phaser.Display.Align,dn={center:xe.CENTER,left:xe.LEFT_CENTER,right:xe.RIGHT_CENTER,top:xe.TOP_CENTER,bottom:xe.BOTTOM_CENTER,"left-top":xe.TOP_LEFT,"left-center":xe.LEFT_CENTER,"left-bottom":xe.BOTTOM_LEFT,"center-top":xe.TOP_CENTER,"center-center":xe.CENTER,"center-bottom":xe.BOTTOM_CENTER,"right-top":xe.TOP_RIGHT,"right-center":xe.RIGHT_CENTER,"right-bottom":xe.BOTTOM_RIGHT};var Do=new Phaser.GameObjects.Zone({sys:{queueDepthSort:Ge,events:{once:Ge}}},0,0,1,1);Do.setOrigin(0);var Di={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12},qo=function(i){var t=At(i);return i.y+t-t*i.originY},_o=function(i){var t=Bt(i);return i.x-t*i.originX+t*.5},tl=function(i,t){var s=At(i);return i.y=t-s+s*i.originY,i},el=function(i,t){var s=Bt(i),x=s*i.originX;return i.x=t+x-s*.5,i},wM=function(i,t,s,x){return s===void 0&&(s=0),x===void 0&&(x=0),el(i,_o(t)+s),tl(i,qo(t)+x),i},il=function(i){var t=Bt(i);return i.x-t*i.originX},sl=function(i,t){var s=Bt(i);return i.x=t+s*i.originX,i},OM=function(i,t,s,x){return s===void 0&&(s=0),x===void 0&&(x=0),sl(i,il(t)-s),tl(i,qo(t)+x),i},nl=function(i){var t=Bt(i);return i.x+t-t*i.originX},rl=function(i,t){var s=Bt(i);return i.x=t-s+s*i.originX,i},LM=function(i,t,s,x){return s===void 0&&(s=0),x===void 0&&(x=0),rl(i,nl(t)+s),tl(i,qo(t)+x),i},al=function(i,t){var s=At(i),x=s*i.originY;return i.y=t+x-s*.5,i},FM=function(i,t,s){return el(i,t),al(i,s)},hl=function(i){var t=At(i);return i.y-t*i.originY+t*.5},DM=function(i,t,s,x){return s===void 0&&(s=0),x===void 0&&(x=0),FM(i,_o(t)+s,hl(t)+x),i},bM=function(i,t,s,x){return s===void 0&&(s=0),x===void 0&&(x=0),sl(i,il(t)-s),al(i,hl(t)+x),i},BM=function(i,t,s,x){return s===void 0&&(s=0),x===void 0&&(x=0),rl(i,nl(t)+s),al(i,hl(t)+x),i},ol=function(i){var t=At(i);return i.y-t*i.originY},ll=function(i,t){var s=At(i);return i.y=t+s*i.originY,i},IM=function(i,t,s,x){return s===void 0&&(s=0),x===void 0&&(x=0),el(i,_o(t)+s),ll(i,ol(t)-x),i},GM=function(i,t,s,x){return s===void 0&&(s=0),x===void 0&&(x=0),sl(i,il(t)-s),ll(i,ol(t)-x),i},NM=function(i,t,s,x){return s===void 0&&(s=0),x===void 0&&(x=0),rl(i,nl(t)+s),ll(i,ol(t)-x),i},xi=[];xi[Di.BOTTOM_CENTER]=wM;xi[Di.BOTTOM_LEFT]=OM;xi[Di.BOTTOM_RIGHT]=LM;xi[Di.CENTER]=DM;xi[Di.LEFT_CENTER]=bM;xi[Di.RIGHT_CENTER]=BM;xi[Di.TOP_CENTER]=IM;xi[Di.TOP_LEFT]=GM;xi[Di.TOP_RIGHT]=NM;var Cc=function(i,t,s,x,E){return xi[s](i,t,x,E)},tr=function(i,t,s,x,E,A){Do.setPosition(t,s).setSize(x,E),Cc(i,Do,A)};const Vs=Phaser.Utils.Objects.GetValue,VM=Phaser.GameObjects.Group;var zM=function(i,t){var s=i.scene,x,E,A,l,T;if(typeof t=="number")x=t;else{x=Vs(t,"color"),E=Vs(t,"lineWidth");var e=Vs(t,"name",!1);e&&(A=Vs(e,"createTextCallback",XM),l=Vs(e,"createTextCallbackScope",void 0),T=Vs(e,"align","left-top"),typeof T=="string"&&(T=dn[T]))}if(x===void 0&&(x=16777215),E===void 0&&(E=1),A&&!i.children){i.children=new VM(s),i.once("destroy",function(r,f){r.children.destroy(!f),r.children=void 0});var u=i.clear.bind(i);i.clear=function(){u(),i.children.clear(!1,!0)}}for(var m=this.getAllShownChildren([this]),d,o,h=0,n=m.length;h<n;h++){if(d=m[h],d.getBounds||d.width!==void 0&&d.height!==void 0)ss=Zo(d,ss);else continue;x!=null&&i.lineStyle(E,x).strokeRectShape(ss),d.name&&A&&(l?o=A.call(l,s):o=A(s),o&&(o.setText(d.name),i.children.add(o),tr(o,ss.x,ss.y,ss.width,ss.height,T)))}return this},XM=function(i,t,s){return i.add.text(0,0,"")},ss=void 0;const br=Phaser.Utils.Objects.GetValue;var fn=function(i,t){return t===void 0&&(t={}),typeof i=="number"?(t.left=i,t.right=i,t.top=i,t.bottom=i):(t.left=br(i,"left",0),t.right=br(i,"right",0),t.top=br(i,"top",0),t.bottom=br(i,"bottom",0)),t};const YM=_e.prototype.add;var er=function(i){return YM.call(this,i),this.sizerEventsEnable&&(i.emit("sizer.add",i,this),this.emit("add",i,this)),this};const UM={addBackground(i,t,s){this.backgroundChildren===void 0&&(this.backgroundChildren=[]),typeof t=="string"&&(s=t,t=void 0),t===void 0&&(t=0),er.call(this,i),this.backgroundChildren.push(i);var x=this.getSizerConfig(i);return x.padding=fn(t),s!==void 0&&this.addChildrenMap(s,i),this},isBackground(i){return this.backgroundChildren===void 0?!1:this.backgroundChildren.indexOf(i)!==-1}},WM=Phaser.Utils.Array.Remove,kM=_e.prototype.remove;var ir=function(i,t){return this.isBackground(i)&&WM(this.backgroundChildren,i),kM.call(this,i,t),!t&&this.sizerEventsEnable&&(i.emit("sizer.remove",i,this),this.emit("remove",i,this)),this},$i=function(i,t){var s=null;if(t===void 0)i.hasOwnProperty("rexContainer")&&(s=i.rexContainer.parent,s?s.isRexSizer||(s=$i(s)):s=null);else for(s=$i(i);s&&s.name!==t;)s=$i(s);return s},HM=function(i){for(var t=$i(i);t;)i=t,t=$i(t);return i};const sr={getParentSizer(i,t){return typeof i=="string"&&(t=i,i=void 0),i===void 0&&(i=this),$i(i,t)},getTopmostSizer(i){return i===void 0&&(i=this),HM(i)},hasParentSizer(i,t){t===void 0&&(t=this);for(var s=$i(t);s;){if(s===i)return!0;s=$i(s)}return!1},hasChild(i,t){return t===void 0&&(t=this),this.hasParentSizer(t,i)}},$M=Phaser.Utils.Array.Remove,KM={removeFromParentSizer(){var i=sr.getParentSizer(gameObject);return i&&i.remove(this),this},removeBackground(i,t){return this.backgroundChildren===void 0?this:this.getParentSizer(i)!==this?this:($M(this.backgroundChildren,i),ir.call(this,i,t),this)},removeAllBackgrounds(i){if(this.backgroundChildren===void 0)return this;for(var t=this.backgroundChildren.length-1;t>=0;t--)this.remove(this.backgroundChildren[t],i);return this}};var rd=function(i,t){if(typeof i=="string")this.childrenMap[i]=t;else{var s=i;for(i in s)this.childrenMap[i]=s[i]}return this},ZM=function(i){if(typeof i=="object"){var t=i;for(var i in this.childrenMap)if(this.childrenMap[i]===t)return delete this.childrenMap[i],this}return delete this.childrenMap[i],this},JM=function(i,t){if(typeof i=="string"&&(i=i.split(".")),i.length!==0){var s=i.shift(),x=null;if(s.charAt(0)==="#")s=s.substring(1),x=this.getByName(s,t);else if(s.indexOf("[")===-1)this.childrenMap&&(x=this.childrenMap[s]);else{var E=s.match(QM);if(E!=null&&this.childrenMap){var A=this.childrenMap[E[1]];A&&(x=A[E[2]])}}return i.length===0?x:x&&x.childrenMap?x.getElement(i):null}};const QM=/(\S+)\[(\d+)\]/i,jM={getInnerPadding(i){return sa(this.space,i)},setInnerPadding(i,t){return Hi(this.space,i,t),this},getOuterPadding(i){return sa(this.getSizerConfig(this).padding,i)},setOuterPadding(i,t){return Hi(this.getSizerConfig(this).padding,i,t),this},getChildOuterPadding(i,t){return typeof i=="string"&&(i=this.getElement(i)),sa(this.getSizerConfig(i).padding,t)},setChildOuterPadding(i,t,s){return typeof i=="string"&&(i=this.getElement(i)),Hi(this.getSizerConfig(i).padding,t,s),this}};var ul=function(i){var t=this.childrenWidth,s=this.minWidth!==void 0?this.minWidth:0;return i===void 0?(i=Math.max(s,t),s>0&&t>s&&console.warn(`Layout width warn: ${this.constructor.name}'s minWidth (${s}) < childrenWidth (${t})`)):(s>i||t>i)&&console.warn(`Layout width warn: ${this.constructor.name}'s minWidth (${s}) or childrenWidth (${t} > targetWidth ${i})`),i},qM=function(i){var t,s;for(var x in this.sizerChildren)t=this.sizerChildren[x],t&&t.isRexSizer&&!t.ignoreLayout&&(s=this.getExpandedChildWidth(t,i),s=t.resolveWidth(s),t.resolveChildrenWidth(s))},dl=function(i){var t=this.childrenHeight,s=this.minHeight!==void 0?this.minHeight:0;return i===void 0?(i=Math.max(s,t),s>0&&t>s&&console.warn(`Layout height warn: ${this.constructor.name}'s minHeight (${s}) < childrenHeight (${t})`)):(s>i||t>i)&&console.warn(`Layout height warn: ${this.constructor.name}'s minHeight (${s}) or childrenHeight (${t}) > targetHeight (${i})`),i},_M=function(i,t){},tR=function(i){var t;return i.isRexSizer?t=Math.max(i.minWidth,i.childrenWidth):i.minWidth!==void 0?t=i.minWidth:t=Bt(i),t},eR=function(i){var t;return i.isRexSizer?t=Math.max(i.minHeight,i.childrenHeight):i.minHeight!==void 0?t=i.minHeight:t=At(i),t},iR=function(i,t){return t},sR=function(i,t){return t},nR=function(){return 0},rR=function(){return 0},aR=function(i){i===void 0&&(i=[]);for(var t=i.length,s=this.getChildrenSizers(i),x=i.length,E=t;E<x;E++)s[E].getAllChildrenSizers(i);return i},hR=function(i){return i===void 0&&(i=[]),i};const oR={getShownChildren(i){i===void 0&&(i=[]);for(var t=this.children,s,x=0,E=t.length;x<E;x++)s=t[x],!(s.rexSizer&&s.rexSizer.hidden)&&i.push(s);return i},getAllShownChildren(i){i===void 0&&(i=[]);for(var t=[this];t.length>0;){var s=t.shift();s.rexSizer&&s.rexSizer.hidden||(s!==this&&i.push(s),s.isRexContainerLite&&t.push(...s.children))}return i}};var nr=function(){this._childrenWidth=void 0,this._childrenHeight=void 0;for(var i=this.getChildrenSizers(),t,s=0,x=i.length;s<x;s++)t=i[s],!t.ignoreLayout&&t.preLayout()},lR=function(){var i=this.scaleX,t=this.scaleY,s=i===1&&t===1;return s||this.setScale(1),this.runLayout(),s||this.setScale(i,t),this},uR=function(i,t,s){if(this.ignoreLayout)return this;var x=!i;return x&&this.preLayout(),t=this.resolveWidth(t),x&&(this.resolveChildrenWidth(t),this.runWidthWrap(t)),s=this.resolveHeight(s),this.postResolveSize(t,s),this.resize(t,s),this.sizerEventsEnable&&this.layoutedChildren===void 0&&(this.layoutedChildren=[]),this.layoutChildren(),this.layoutBackgrounds(),this.sizerEventsEnable&&(this.emit("postlayout",this.layoutedChildren,this),this.layoutedChildren.length=0),this.postLayout()},dR=function(){},fR=function(i,t,s){return this._anchor&&this._anchor.updatePosition(),this},Sc=function(i){var t,s;for(var x in this.sizerChildren)t=this.sizerChildren[x],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runWidthWrap)&&(s=this.getExpandedChildWidth(t,i),t.isRexSizer&&(s=t.resolveWidth(s)),t.runWidthWrap(s));return this};class vR extends ie{constructor(t,s){super(t,{eventEmitter:!1}),this.viewport=void 0,this.resetFromJSON(s)}shutdown(t){this.isShutdown||(this.autoAnchor(!1),this.viewport=void 0,this.onUpdateViewportCallback=void 0,this.onUpdateViewportCallbackScope=void 0,this.onResizeCallback=void 0,this.onResizeCallbackScope=void 0,super.shutdown(t))}resetFromJSON(t){t===void 0&&(t={});var s,x;t.x!==void 0?(s=null,x=t.x):t.left!==void 0?(s=0,x=t.left):t.right!==void 0?(s=1,x=t.right):t.centerX!==void 0&&(s=.5,x=t.centerX);var E,A;t.y!==void 0?(E=null,A=t.y):t.top!==void 0?(E=0,A=t.top):t.bottom!==void 0?(E=1,A=t.bottom):t.centerY!==void 0&&(E=.5,A=t.centerY);var l,T;x!==void 0&&(x=x.replace("left","0%").replace("right","100%").replace("center","50%").split("%"),l=parseFloat(x[0])/100,T=x[1]===""?0:parseFloat(x[1]));var e,u;A!==void 0&&(A=A.replace("top","0%").replace("bottom","100%").replace("center","50%").split("%"),e=parseFloat(A[0])/100,u=A[1]===""?0:parseFloat(A[1]));var m=t.width,d,o;m!==void 0&&(m=m.split("%"),d=parseFloat(m[0])/100,o=m[1]===""?0:parseFloat(m[1]));var h=t.height,n,r;h!==void 0&&(h=h.split("%"),n=parseFloat(h[0])/100,r=h[1]===""?0:parseFloat(h[1])),this.setAlign(s,E),this.setPercentage(l,e),this.setOffset(T,u),this.setSizePercentage(d,n),this.setSizePadding(o,r);var f=t.onResizeCallback,a=t.onResizeCallbackScope;f!==void 0&&this.setResizeCallback(f,a);var v=t.onUpdateViewportCallback,p=t.onUpdateViewportCallbackScope;return v!==void 0&&this.setUpdateViewportCallback(v,p),this.autoAnchor(t.enable),this}autoAnchor(t){return t===void 0&&(t=!0),t=!!t,this.autoAnchorEnable===t?this:(t?(this.scene.sys.scale.on("resize",this.anchor,this),this.anchor()):this.scene.sys.scale.off("resize",this.anchor,this),this.autoAnchorEnable=t,this)}setAlign(t,s){return this.alignX=t,this.alignY=s,this}setPercentage(t,s){return this.percentageX=t,this.percentageY=s,this}setOffset(t,s){return this.offsetX=t,this.offsetY=s,this}setSizePercentage(t,s){return this.percentageWidth=t,this.percentageHeight=s,this}setSizePadding(t,s){return this.paddingWidth=t,this.paddingHeight=s,this}setResizeCallback(t,s){return this.onResizeCallback=t,this.onResizeCallbackScope=s,this}setUpdateViewportCallback(t,s){return this.onUpdateViewportCallback=t,this.onUpdateViewportCallbackScope=s,this}anchor(){return this.updateViewport(),this.updateSize(),this.updatePosition(),this}updateSize(){var t=this.onResizeCallback,s=this.onResizeCallbackScope,x=this.anchorWidth,E=this.anchorHeight;if(!(x===void 0&&E===void 0||!t)){var A=this.parent;x===void 0&&(x=A.width),E===void 0&&(E=A.height),s?t.call(s,x,E,A,this):t(x,E,A,this)}}updatePosition(){var t=this.parent;return this.alignX===null?t.x=this.anchorX:this.alignX!==void 0&&(t.x=this.anchorX+t.displayWidth*(t.originX-this.alignX)),this.alignY===null?t.y=this.anchorY:this.alignY!==void 0&&(t.y=this.anchorY+t.displayHeight*(t.originY-this.alignY)),this}get anchorX(){return this.viewport.x+this.viewport.width*this.percentageX+this.offsetX}get anchorY(){return this.viewport.y+this.viewport.height*this.percentageY+this.offsetY}get anchorWidth(){if(this.percentageWidth!==void 0)return this.viewport.width*this.percentageWidth+this.paddingWidth}get anchorHeight(){if(this.percentageHeight!==void 0)return this.viewport.height*this.percentageHeight+this.paddingHeight}updateViewport(){var t=this.parent.scene.cameras.main;this.viewport=jn(this.scene,t,this.viewport);var s=this.viewport,x=this.onUpdateViewportCallback,E=this.onUpdateViewportCallbackScope;x&&(E?x.call(E,s,this.parent,this):x(s,this.parent,this))}}var cR=function(i){i===void 0&&(i={});var t=i.hasOwnProperty("width"),s=i.hasOwnProperty("height"),x=i.hasOwnProperty("onResizeCallback");return(t||s)&&!x&&(i.onResizeCallback=function(E,A,l){t&&l.setMinWidth(E),s&&l.setMinHeight(A),l.layout()}),this._anchor===void 0?this._anchor=new vR(this,i):this._anchor.resetFromJSON(i),this};const pR=Phaser.Utils.Objects.GetValue,zs=Phaser.Utils.Objects.GetAdvancedValue,ad=Phaser.Math.Linear;class Un extends ln{constructor(t,s){super(t,s),this.scaleStart={},this.scaleEnd={},this.resetFromJSON(s),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(pR(t,"mode",0)),this.setScaleRange(zs(t,"start",void 0),zs(t,"end",0)),this}setMode(t){return typeof t=="string"&&(t=gR[t]),this.mode=t,this}setScaleRange(t,s){return typeof t=="number"?(this.startX=t,this.startY=t):(this.startX=zs(t,"x",this.parent.scaleX),this.startY=zs(t,"y",this.parent.scaleY)),typeof s=="number"?(this.endX=s,this.endY=s):(this.endX=zs(s,"x",void 0),this.endY=zs(s,"y",void 0)),this.hasScaleX=this.startX!==void 0&&this.endX!==void 0,this.hasScaleY=this.startY!==void 0&&this.endY!==void 0,this}start(){if(this.timer.isRunning)return this;var t=this.parent;this.hasScaleX&&(t.scaleX=this.startX),this.hasScaleY&&(t.scaleY=this.startY);var s=this.repeat;return this.mode===2&&s!==-1&&(s=(s+1)*2-1),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(s),super.start(),this}updateGameObject(t,s){var x=s.t;s.isOddIteration&&(x=1-x),x=this.easeFn(x),this.hasScaleX&&(t.scaleX=ad(this.startX,this.endX,x)),this.hasScaleY&&(t.scaleY=ad(this.startY,this.endY,x))}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}}const gR={stop:0,destroy:1,yoyo:2};var fl=function(i,t,s,x,E){x===void 0&&(x="Cubic");var A,l;switch(s){case 0:case"x":A={x:0},l={x:i.scaleX};break;case 1:case"y":A={y:0},l={y:i.scaleY};break;default:A=0,l=i.scale;break}var T={mode:0,start:A,end:l,duration:t,ease:x};return E===void 0?E=new Un(i,T):E.resetFromJSON(T),E.restart(),E},Ec=function(i,t,s,x,E,A){x===void 0&&(x="Linear"),E instanceof Un&&(A=E,E=void 0),E===void 0&&(E=!0);var l={};switch(l.mode=E?1:0,s){case 0:case"x":l.end={x:0};break;case 1:case"y":l.end={y:0};break;default:l.end=0;break}return l.duration=t,l.ease=x,A===void 0?A=new Un(i,l):A.resetFromJSON(l),A.restart(),A},mR=function(i,t,s,x,E,A,l){s===void 0&&(s=1.2),x===void 0&&(x=0),A===void 0&&(A="Cubic");var T,e;switch(E){case 0:case"x":T={x:i.scaleX},e={x:s};break;case 1:case"y":T={y:i.scaleX},e={y:s};break;default:T=i.scaleX,e=s;break}var u={mode:2,start:T,end:e,duration:t/2,ease:A,repeat:x};return l===void 0?l=new Un(i,u):l.resetFromJSON(u),l.restart(),l};const yh=Phaser.Utils.Objects.IsPlainObject;var Th=function(i,t){t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(i.emit(t.completeEventName,i),t.completeEventName=void 0)}),t.on("update",function(){var s=sr.getParentSizer(i);s&&s.resetChildPositionState(i)})};const vl={popUp(i,t,s){if(yh(i)){var x=i;i=x.duration,t=x.orientation,s=x.ease}var E=this._scaleBehavior===void 0;return this._scaleBehavior=fl(this,i,t,s,this._scaleBehavior),E&&Th(this,this._scaleBehavior),this._scaleBehavior.completeEventName="popup.complete",this},popUpPromise(i,t,s){return this.popUp(i,t,s),le(this._scaleBehavior)},scaleDownDestroy(i,t,s,x){if(yh(i)){var E=i;i=E.duration,t=E.orientation,s=E.ease,x=E.destroy}var A=this._scaleBehavior===void 0;return this._scaleBehavior=Ec(this,i,t,s,x,this._scaleBehavior),A&&Th(this,this._scaleBehavior),this._scaleBehavior.completeEventName="scaledown.complete",this},scaleDownDestroyPromise(i,t,s,x){return this.scaleDownDestroy(i,t,s,x),le(this._scaleBehavior)},scaleDown(i,t,s){return this.scaleDownDestroy(i,t,s,!1),this},scaleDownPromise(i,t,s){return this.scaleDown(i,t,s),le(this._scaleBehavior)},scaleYoyo(i,t,s,x,E){if(yh(i)){var A=i;i=A.duration,t=A.peakValue,s=A.repeat,x=A.orientation,E=A.ease}var l=this._scaleBehavior===void 0;return this._scaleBehavior=mR(this,i,t,s,x,E,this._scaleBehavior),l&&Th(this,this._scaleBehavior),this._scaleBehavior.completeEventName="scaleyoyo.complete",this},scaleYoyoPromise(i,t,s,x,E){return this.scaleYoyo(i,t,s,x,E),le(this._scaleBehavior)}},xR=Phaser.Utils.Objects.GetValue,hd=Phaser.Utils.Objects.GetAdvancedValue,yR=Phaser.Math.Linear;let bo=class extends ln{constructor(t,s){super(t,s),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(xR(t,"mode",0)),this.setAlphaRange(hd(t,"start",this.parent.alpha),hd(t,"end",0)),this}setMode(t){return typeof t=="string"&&(t=TR[t]),this.mode=t,this}setAlphaRange(t,s){return this.alphaStart=t,this.alphaEnd=s,this}start(){if(this.timer.isRunning)return this;var t=this.parent;return t.setAlpha(this.alphaStart),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(this.mode===2?-1:0),super.start(),this}updateGameObject(t,s){var x=s.t;s.isOddIteration&&(x=1-x),t.alpha=yR(this.alphaStart,this.alphaEnd,x)}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}};const TR={stop:0,destroy:1,yoyo:2},CR=Phaser.Utils.Objects.IsPlainObject;var cl=function(i,t,s,x){var E,A;CR(s)?(E=s.start,A=s.end):A=s,E===void 0&&(E=0),A===void 0&&(A=1);var l={mode:0,start:E,end:A,duration:t};return x===void 0?x=new bo(i,l):x.resetFromJSON(l),x.restart(),x},pl=function(i,t,s,x){s instanceof bo&&(x=s,s=void 0),s===void 0&&(s=!0);var E={mode:s?1:0,end:0,duration:t};return x===void 0?x=new bo(i,E):x.resetFromJSON(E),x.restart(),x};const od=Phaser.Utils.Objects.IsPlainObject;var ld=function(i,t){t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(i.emit(t.completeEventName,i),t.completeEventName=void 0)}),t.on("update",function(){var s=sr.getParentSizer(i);s&&s.resetChildAlphaState(i)})};const SR={fadeIn(i,t){if(od(i)){var s=i;i=s.duration,t=s.alpha}var x=this._fade===void 0;return this._fade=cl(this,i,t,this._fade),x&&ld(this,this._fade),this._fade.completeEventName="fadein.complete",this},fadeInPromise(i,t){return this.fadeIn(i,t),le(this._fade)},fadeOutDestroy(i,t){if(od(i)){var s=i;i=s.duration,t=s.destroy}var x=this._fade===void 0;return this._fade=pl(this,i,t,this._fade),x&&ld(this,this._fade),this._fade.completeEventName="fadeout.complete",this},fadeOutDestroyPromise(i,t){return this.fadeOutDestroy(i,t),le(this._fade)},fadeOut(i){return this.fadeOutDestroy(i,!1),this},fadeOutPromise(i){return this.fadeOut(i),le(this._fade)}},ER=Phaser.Utils.Objects.GetValue,Xs=Phaser.Utils.Objects.GetAdvancedValue,ud=Phaser.Math.Linear;class da extends ln{constructor(t,s){super(t,s),this.resetFromJSON(s),this.boot()}resetFromJSON(t){if(super.resetFromJSON(t),this.setMode(ER(t,"mode",0)),t&&(t.hasOwnProperty("x")||t.hasOwnProperty("y"))){var s=Xs(t,"x",void 0),x=Xs(t,"y",void 0);this.setTargetPosition(s,x)}else this.setTargetPosition(t);return this}setMode(t){return typeof t=="string"&&(t=PR[t]),this.mode=t,this}setTargetPosition(t,s){if(typeof t=="number"||typeof s=="number")this.startX=this.parent.x,this.startY=this.parent.y,this.endX=t,this.endY=s;else{var x=t;this.startX=Xs(x,"startX",void 0),this.startY=Xs(x,"startY",void 0),this.endX=Xs(x,"endX",void 0),this.endY=Xs(x,"endY",void 0)}return this.hasMoveX=this.startX!==void 0&&this.endX!==void 0,this.hasMoveY=this.startY!==void 0&&this.endY!==void 0,this}start(){if(this.timer.isRunning)return this;var t=this.parent;return this.hasMoveX&&(t.x=this.startX),this.hasMoveY&&(t.y=this.startY),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(this.mode===2?-1:0),super.start(),this}updateGameObject(t,s){var x=s.t;s.isOddIteration&&(x=1-x),x=this.easeFn(x),this.hasMoveX&&(t.x=ud(this.startX,this.endX,x)),this.hasMoveY&&(t.y=ud(this.startY,this.endY,x))}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}}const PR={stop:0,destroy:1,yoyo:2};var fa=function(i,t){if(typeof i=="number")return i;var s=i[0],x=parseFloat(i.substr(2));switch(s){case"+":return t+x;case"-":return t-x;case"*":return t*x;case"/":return t/x}},MR=function(i,t,s,x,E,A,l){A instanceof da&&(l=A,A=void 0),A===void 0&&(A=!1);var T={};return T.mode=A?1:0,s!==void 0&&(T.startX=i.x,T.endX=fa(s,i.x)),x!==void 0&&(T.startY=i.y,T.endY=fa(x,i.y)),T.duration=t,T.ease=E===void 0?"Linear":E,l===void 0?l=new da(i,T):l.resetFromJSON(T),l.restart(),l},RR=function(i,t,s,x,E,A,l){A instanceof da&&(l=A,A=void 0),A===void 0&&(A=!1);var T={};return T.mode=A?1:0,s!==void 0&&(T.startX=fa(s,i.x),T.endX=i.x),x!==void 0&&(T.startY=fa(x,i.y),T.endY=i.y),T.duration=t,T.ease=E===void 0?"Linear":E,l===void 0?l=new da(i,T):l.resetFromJSON(T),l.restart(),l};const dd=Phaser.Utils.Objects.IsPlainObject,fd=Phaser.Math.Distance.Between;var vd=function(i,t){t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(i.emit(t.completeEventName,i),t.completeEventName=void 0)}),t.on("update",function(){var s=sr.getParentSizer(i);s&&s.resetChildPositionState(i)})};const AR={moveFrom(i,t,s,x,E){if(dd(i)){var A=i;t=A.x,s=A.y,A.hasOwnProperty("speed")?i=fd(t,s,this.x,this.y)*1e3/A.speed:i=A.duration,x=A.ease}var l=this._easeMove===void 0;return this._easeMove=RR(this,i,t,s,x,E,this._easeMove),l&&vd(this,this._easeMove),this._easeMove.completeEventName="movefrom.complete",this},moveFromPromise(i,t,s,x,E){return this.moveFrom(i,t,s,x,E),le(this._easeMove)},moveFromDestroy(i,t,s,x){return this.moveFrom(i,t,s,x,!0),this},moveFromDestroyPromise(i,t,s,x){return this.moveFromDestroy(i,t,s,x),le(this._easeMove)},moveTo(i,t,s,x,E){if(dd(i)){var A=i;t=A.x,s=A.y,A.hasOwnProperty("speed")?i=fd(t,s,this.x,this.y)*1e3/A.speed:i=A.duration,x=A.ease}var l=this._easeMove===void 0;return this._easeMove=MR(this,i,t,s,x,E,this._easeMove),l&&vd(this,this._easeMove),this._easeMove.completeEventName="moveto.complete",this},moveToPromise(i,t,s,x,E){return this.moveTo(i,t,s,x,E),le(this._easeMove)},moveToDestroy(i,t,s,x){return this.moveTo(i,t,s,x,!0),this},moveToDestroyPromise(i,t,s,x){return this.moveToDestroy(i,t,s,x,!0),le(this._easeMove)},moveStop(i){return this._easeMove?(this._easeMove.stop(i),this):this}},Fe=Phaser.Utils.Objects.GetValue;class wR extends ma{constructor(t,s){super(t,s),this.timer=new $f,this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.timer.resetFromJSON(Fe(t,"timer")),this.setEnable(Fe(t,"enable",!0)),this.setMode(Fe(t,"mode",1)),this.isRunning=Fe(t,"isRunning",!1),this.setMagnitudeMode(Fe(t,"magnitudeMode",1)),this.setAxisMode(Fe(t,"axis",0)),this.setDuration(Fe(t,"duration",500)),this.setMagnitude(Fe(t,"magnitude",10)),this.ox=Fe(t,"ox",void 0),this.oy=Fe(t,"oy",void 0),this}toJSON(){return{timer:this.timer.toJSON(),enable:this.enable,mode:this.mode,isRunning:this.isRunning,magnitudeMode,duration:this.duration,magnitude:this.magnitude,ox:this.ox,oy:this.oy}}shutdown(t){this.isShutdown||(super.shutdown(t),this.timer.destroy(),this.timer=void 0)}startTicking(){super.startTicking(),this.mode===0?(this.scene.game.events.on("poststep",this.update,this),this.scene.game.events.on("prestep",this.backToOrigin,this)):this.scene.sys.events.on("preupdate",this.update,this)}stopTicking(){super.stopTicking(),this.scene&&(this.mode===0?(this.scene.game.events.off("poststep",this.update,this),this.scene.game.events.off("prestep",this.backToOrigin,this)):this.scene.sys.events.off("preupdate",this.update,this))}setEnable(t){return t==null&&(t=!0),this.enable=t,this}setMode(t){return typeof t=="string"&&(t=OR[t]),this.mode=t,this}setMagnitudeMode(t){return typeof t=="string"&&(t=FR[t]),this.magnitudeMode=t,this}setAxisMode(t){return typeof t=="string"&&(t=LR[t]),this.axisMode=t,this}setDuration(t){return this.duration=t,this}setMagnitude(t){return this.magnitude=t,this}start(t,s){if(typeof t!="number"){var x=t;s=Fe(x,"magnitude",void 0),t=Fe(x,"duration",void 0)}return s!==void 0&&this.setMagnitude(s),t!==void 0&&this.setDuration(t),this.timer.setDuration(this.duration).start(),super.start(),this}shake(t,s){return this.start(t,s),this}update(t,s){if(!this.isRunning||!this.enable)return this;var x=this.parent;if(!x.active)return this;if(this.timer.update(t,s),this.timer.isDone)this.backToOrigin(),this.complete();else{this.ox===void 0&&(this.ox=x.x,this.oy=x.y);var E=this.magnitude;this.magnitudeMode===1&&(E*=1-this.timer.t);var A=Math.random()*Math.PI*2,l=this.ox+Math.cos(A)*E,T=this.oy+Math.sin(A)*E;switch(this.axisMode){case 1:x.x=l;break;case 2:x.y=T;break;default:x.x=l,x.y=T;break}}return this}backToOrigin(){if(!this.isRunning||!this.enable)return this;if(this.ox===void 0)return this;var t=this.parent;switch(this.axisMode){case 1:t.x=this.ox;break;case 2:t.y=this.oy;break;default:t.x=this.ox,t.y=this.oy;break}return this.ox=void 0,this.oy=void 0,this}}const OR={effect:0,behavior:1},LR={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2},FR={constant:0,decay:1},DR=Phaser.Utils.Objects.IsPlainObject;var bR=function(i,t){t.on("complete",function(){i.emit("shake.complete",i)})};const BR={shake(i,t,s){if(DR(i)){var x=i;i=x.duration,t=x.magnitude,s=x.magnitudeMode}return this._shake===void 0&&(this._shake=new wR(this,{mode:0,magnitudeMode:1}),bR(this,this._shake)),i!==void 0&&this._shake.setDuration(i),t!==void 0&&this._shake.setMagnitude(t),s!==void 0&&this._shake.setMagnitudeMode(s),this._shake.shake(),this},shakePromise(i,t){return this.shake(i,t),le(this._shake)}},cd=Phaser.Utils.Objects.IsPlainObject;class IR extends ie{constructor(t,s){super(t,s),this.parent.setDataEnabled(),this.easeTasks={}}complete(t){this.emit(`complete-${t}`,this.parent,this),this.emit("complete",t,this.parent,this)}getEaseTask(t){var s=this.easeTasks[t];return s===void 0&&(s=new Ss(this.parent),this.easeTasks[t]=s,s.setTarget(this.parent.data.values).on("complete",function(){this.complete(t)},this)),s}easeTo(t,s,x,E){if(cd(t)){var A=t;t=A.key,s=A.value,x=A.duration,E=A.ease;var l=A.speed;x===void 0&&l!==void 0&&(x=Math.abs(s-this.parent.data.values[t])/l*1e3)}x===void 0&&(x=1e3),E===void 0&&(E="Linear");var T=this.getEaseTask(t);return T.restart({key:t,to:s,duration:x,ease:E}),this}easeFrom(t,s,x,E){if(cd(t)){var A=t;t=A.key,s=A.value,x=A.duration,E=A.ease;var l=A.speed;x===void 0&&l!==void 0&&(x=Math.abs(s-this.parent.data.values[t])/l*1e3)}x===void 0&&(x=1e3),E===void 0&&(E="Linear");var T=this.getEaseTask(t);return T.restart({key:t,from:s,duration:x,ease:E}),this}stopEase(t,s){s===void 0&&(s=!0);var x=this.easeTasks[t];return x&&x.stop(s),this}stopAll(t){t===void 0&&(t=!0);for(var s in this.easeTasks)this.stopEase(s,t);return this}}var GR=function(i,t){t.on("complete",function(s){i.emit(`easedata.${s}.complete`,i),i.emit("easedata.complete",s,i)})};const NR={easeDataTo(i,t,s,x){return this._easeData||(this._easeData=new IR(this),GR(this,this._easeData)),this._easeData.easeTo(i,t,s,x),this},easeDataToPromise(i,t,s,x){return this.easeDataTo(i,t,s,x),Jo(this._easeData,`complete-${i}`)},stopEaseData(i,t){return this._easeData?(this._easeData.stopEase(i,t),this):this},stopAllEaseData(i){return this._easeData?(this._easeData.stopAll(i),this):this}};var cs=function(i){Mc(i,!1)},ps=function(i){Mc(i,!0)},Pc=function(i){if(!i)return!1;var t=La(i);return!t.hidden},Mc=function(i,t){if(i){var s=La(i);s.hidden=t;var x=qe(i);x?x.setChildVisible(i,!t):i.setVisible(!t)}};const VR={show(i){return i===void 0&&(i=this),cs(i),this},hide(i){return i===void 0&&(i=this),ps(i),this},isShow(i){return i===void 0&&(i=this),Pc(i)}},zR=["next","exit","enter"];let Rc=class{constructor(t){var s=Vt(t,"states",void 0);s&&this.addStates(s);var x=Vt(t,"extend",void 0);if(x)for(var E in x)(!this.hasOwnProperty(E)||this[E]===void 0)&&(this[E]=x[E]);var A=Vt(t,"eventEmitter",void 0),l=Vt(t,"EventEmitterClass",void 0);this.setEventEmitter(A,l),this._stateLock=!1,this.resetFromJSON(t)}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}resetFromJSON(t){this.setEnable(Vt(t,"enable",!0)),this.start(Vt(t,"start",void 0));var s=Vt(t,"init",void 0);return s&&s.call(this),this}toJSON(){return{curState:this.state,prevState:this.prevState,enable:this.enable,start:this._start}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}set state(t){if(!(!this.enable||this._stateLock)&&this._state!==t){if(this._prevState=this._state,this._state=t,this._stateLock=!0,this.emit("statechange",this),this._prevState!=null){var s="exit_"+this._prevState,x=this[s];x&&x.call(this),this.emit(s,this)}if(this._stateLock=!1,this._state!=null){var E="enter_"+this._state,A=this[E];A&&A.call(this),this.emit(E,this)}}}get state(){return this._state}get prevState(){return this._prevState}start(t){return this._start=t,this._prevState=void 0,this._state=t,this}goto(t){return t!=null&&(this.state=t),this}next(){var t,s=this["next_"+this.state];return s&&(typeof s=="string"?t=s:t=s.call(this)),this.goto(t),this}get stateProperties(){return zR}addState(t,s){typeof t!="string"&&(s=t,t=s.name);for(var x=this.stateProperties,E=0,A=x.length;E<A;E++){var l=x[E],T=s[l];T&&(this[`${l}_${t}`]=T)}return this}addStates(t){if(Array.isArray(t))for(var s=0,x=t.length;s<x;s++)this.addState(t[s]);else for(var E in t)this.addState(E,t[E]);return this}runMethod(t,s,x,E,A,l){var T=this[t+"_"+this.state];if(T){var e=arguments.length;switch(e){case 1:return T.call(this);case 2:return T.call(this,s);case 3:return T.call(this,s,x);case 4:return T.call(this,s,x,E);case 5:return T.call(this,s,x,E,A);case 6:return T.call(this,s,x,E,A,l)}for(var u=new Array(e-1),m=1;m<e;m++)u[m-1]=arguments[m];return T.apply(this,u)}}};Object.assign(Rc.prototype,ys);var Ch=function(i,t,s,x,E){E===void 0&&(E=!1);var A=i._events[t];if(!A)return!1;for(var l=0,T=A.length;l<T;l++){var e=A[l];if(e.fn===s&&e.context===x&&e.once===E)return!0}return!1};const XR=["next","exit","enter","update","preupdate","postupdate"];class Ms extends Rc{shutdown(){this.stopUpdate(),this.stopPreUpdate(),this.stopPostUpdate(),this._scene=void 0,super.shutdown()}resetFromJSON(t){return super.resetFromJSON(t),this._scene=Vt(t,"scene",void 0),this}get stateProperties(){return XR}update(t,s){this.runMethod("update",t,s)}preupdate(t,s){this.runMethod("preupdate",t,s)}postupdate(t,s){this.runMethod("postupdate",t,s)}startUpdate(t){t||(t=this._scene);var s=t.sys.events;return Ch(s,"update",this.update,this)?this:(this._scene=t,s.on("update",this.update,this),this)}stopUpdate(){return this._scene?(this._scene.sys.events.off("update",this.update,this),this):this}startPreUpdate(t){t||(t=this._scene);var s=t.sys.events;return Ch(s,"preupdate",this.preupdate,this)?this:(this._scene=t,s.on("preupdate",this.preupdate,this),this)}stopPreUpdate(){return this._scene?(this._scene.sys.events.off("preupdate",this.preupdate,this),this):this}startPostUpdate(t){t||(t=this._scene);var s=t.sys.events;return Ch(s,"postupdate",this.postupdate,this)?this:(this._scene=t,s.on("postupdate",this.postupdate,this),this)}stopPostUpdate(){return this._scene?(this._scene.sys.events.off("postupdate",this.postupdate,this),this):this}}let YR=class extends Ms{constructor(t,s){super(s),this.parent=t;var x=s.initState||"IDLE";this.start(x)}init(){this.start("IDLE")}next_IDLE(){return"TRANS_OPNE"}next_TRANS_OPNE(){return"OPEN"}enter_TRANS_OPNE(){var t=this.parent;if(t.transitInTime>0){var s=t.runTransitionInCallback();t.delayCall(s,this.next,this)}else this.next()}exit_TRANS_OPNE(){var t=this.parent;t.removeDelayCall()}next_OPEN(){return"TRANS_CLOSE"}enter_OPEN(){var t=this.parent;t.onOpen()}exit_OPEN(){var t=this.parent;t.removeDelayCall()}next_TRANS_CLOSE(){return"CLOSE"}enter_TRANS_CLOSE(){var t=this.parent;if(t.transitOutTime>0){var s=t.runTransitionOutCallback();t.delayCall(s,this.next,this)}else this.next()}exit_TRANS_CLOSE(){var t=this.parent;t.removeDelayCall()}next_CLOSE(){return"TRANS_OPNE"}enter_CLOSE(){var t=this.parent;t.onClose()}exit_CLOSE(){}canOpen(){return this.state==="IDLE"||this.state==="CLOSE"}canClose(){return this.state==="IDLE"||this.state==="OPEN"}};var UR=function(i,t,s,x,E){var A=Hn(i),l=A.time.delayedCall(t,function(){A.game.events.once("poststep",function(){s.call(x,E)})});return l};const WR={delayCall(i,t,s){return this.delayCallTimer=UR(this,i,t,s),this},removeDelayCall(){return this.delayCallTimer&&(this.delayCallTimer.remove(!1),this.delayCallTimer=void 0),this}},kR={setTransitInTime(i){return this.transitInTime=i,this},setTransitOutTime(i){return this.transitOutTime=i,this},setTransitInCallback(i){return i||(i=Ge),this.transitInCallback=i,this},setTransitOutCallback(i){return i||(i=Ge),this.transitOutCallback=i,this}},HR={runTransitionInCallback(){return this.transitInCallback(this.parent,this.transitInTime),this.transitInTime},onOpen(){},requestOpen(i,t){if(!this._state.canOpen())return this;this.openEventData=arguments.length>0?i:this.parent;var s=this.transitInTime;return t!==void 0&&(this.transitInTime=t),this._state.goto("TRANS_OPNE"),this.transitInTime=s,this}},$R={runTransitionOutCallback(){return this.transitOutCallback(this.parent,this.transitOutTime),this.transitOutTime},onClose(){this.oneShotMode&&this.parent.destroy()},requestClose(i,t){if(!this._state.canClose)return this;this.closeEventData=arguments.length>0?i:this.parent;var s=this.transitOutTime;return t!==void 0&&(this.transitOutTime=t),this._state.goto("TRANS_CLOSE"),this.transitOutTime=s,this}};var Ac={};Object.assign(Ac,WR,kR,HR,$R);const Ys=Phaser.Utils.Objects.GetValue;class Fa extends ie{constructor(t,s){super(t,s),this.setTransitInTime(Ys(s,"duration.in",200)),this.setTransitOutTime(Ys(s,"duration.out",200)),this.setTransitInCallback(Ys(s,"transitIn")),this.setTransitOutCallback(Ys(s,"transitOut")),this.oneShotMode=Ys(s,"destroy",!1),this.delayCallTimer=void 0,this._state=new YR(this,{eventEmitter:!1,initState:Ys(s,"initState","IDLE")}),this.openEventData=void 0,this.closeEventData=void 0}get state(){return this._state.state}shutdown(t){this.isShutdown||(this.transitInCallback=void 0,this.transitOutCallback=void 0,this.openEventData=void 0,this.closeEventData=void 0,this.removeDelayCall(),super.shutdown(t))}}Object.assign(Fa.prototype,Ac);const KR=Phaser.GameObjects.Rectangle;class ZR extends KR{constructor(t,s,x){super(t,0,0,2,2,s,1),this.setAlpha(x),this.setScrollFactor(0),this.boot()}boot(){var t=this.scene;t.sys.events.on("prerender",this.resize,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.scene.sys.events.off("prerender",this.resize,this),super.destroy(t))}get tint(){return this.fillColor}set tint(t){this.setFillStyle(t,this.fillAlpha)}resize(){var t=this.scene,s=t.sys.scale.gameSize,x=t.sys.cameras.main,E=s.width,A=s.height,l=1/x.zoom,T=E/2,e=A/2,u=E*l,m=A*l;(this.x!==T||this.y!==e)&&this.setPosition(T,e),(this.width!==u||this.height!==m)&&this.setSize(u,m).setOrigin(.5)}}const Sh=Phaser.Utils.Objects.GetValue;class wc extends ie{constructor(t,s){super(t,{eventEmitter:!1}),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.setHitAreaMode(Sh(t,"hitAreaMode",0)),this.setEnable(Sh(t,"enable",!0)),this.setStopMode(Sh(t,"stopAllLevels",!0)),this}boot(){this.parent.on("pointerdown",function(t,s,x,E){this.stopAllLevels&&E.stopPropagation()},this).on("pointerup",function(t,s,x,E){this.stopAllLevels&&E.stopPropagation()},this).on("pointermove",function(t,s,x,E){this.stopAllLevels&&E.stopPropagation()},this).on("pointerover",function(t,s,x,E){this.stopAllLevels&&E.stopPropagation()},this).on("pointerout",function(t,s){this.stopAllLevels&&s.stopPropagation()},this)}setHitAreaMode(t){typeof t=="string"&&(t=JR[t]);var s=this.parent;return s.input&&s.removeInteractive(),t===0?s.setInteractive():s.setInteractive({hitArea:{},hitAreaCallback:function(){return!0}}),this}setEnable(t){return t===void 0&&(t=!0),t?this.parent.setInteractive():this.parent.disableInteractive(),this.enable=t,this}setStopMode(t){return t===void 0&&(t=!0),this.stopAllLevels=t,this}toggleEnable(){return this.setEnable(!this.enable),this}}var JR={default:0,fullWindow:1};const pd=Phaser.Utils.Objects.GetValue;class QR extends ZR{constructor(t,s){var x=pd(s,"color",0),E=pd(s,"alpha",.8);super(t,x,E),this.touchEventStop=new wc(this,{hitAreaMode:1})}}var jR=function(i,t){var s=i.scene,x=new QR(s,t);return s.add.existing(x),i.isRexContainerLite?(i.moveDepthBelow(x),i.pin(x,{syncPosition:!1,syncRotation:!1,syncScale:!1,syncAlpha:!1,syncScrollFactor:!1})):s.children.moveBelow(x,i),x};const Br={popUp(i,t){i._modalScaleSave!==void 0?(i.scaleX=i._modalScaleSave,i.scaleY=i._modalScaleSave):i._modalScaleSave=i.scaleX,fl(i,t)},scaleDown(i,t){Ec(i,t,void 0,void 0,!1)},fadeIn(i,t){i._modalAlphaSave!==void 0?i.alpha=i._modalAlphaSave:i._modalAlphaSave=i.alpha,cl(i,t)},fadeOut(i,t){pl(i,t,!1)}};var qR=function(i,t){i._modalAlphaSave!==void 0?i.alpha=i._modalAlphaSave:i._modalAlphaSave=i.alpha,cl(i,t,i.alpha)},_R=function(i,t){pl(i,t,!1)},Wn=function(i,t,s,x,E){if(!i||x&&!x(i,t,s))return!1;var A=Zo(i,!0);return!(!A.contains(t,s)||E&&!E(i,t,s))};const ei=Phaser.Utils.Objects.GetValue;let tA=class extends Fa{constructor(t,s){s===void 0&&(s={}),s.transitIn==null&&(s.transitIn=zi.popUp),s.transitOut==null&&(s.transitOut=zi.scaleDown),s.destroy=ei(s,"destroy",!0),super(t,s);var x=ei(s,"cover");this.cover=x!==!1?jR(t,x):void 0,this.cover&&(this.setCoverTransitInCallback(ei(x,"transitIn",qR)),this.setCoverTransitOutCallback(ei(x,"transitOut",_R)));var E=ei(s,"touchOutsideClose",!1),A=ei(s,"duration.hold",-1),l=ei(s,"timeOutClose",A>=0),T=ei(s,"anyTouchClose",!1),e=ei(s,"manualClose",!1);e&&(E=!1,T=!1,l=!1),T&&(E=!1),l?this.setDisplayTime(A):this.setDisplayTime(-1),T?this.once("open",this.anyTouchClose,this):E&&this.once("open",this.touchOutsideClose,this),ei(s,"openOnStart",!0)&&this.delayCall(0,this.requestOpen,this)}shutdown(t){this.isShutdown||(this.cover||this.scene.input.off("pointerup",this.touchCloseCallback,this),this.cover&&!t&&(this.cover.destroy(),this.cover=void 0),super.shutdown(t))}touchOutsideClose(){return this.cover?this.cover.on("pointerup",this.touchCloseCallback,this):this.scene.input.on("pointerup",this.touchCloseCallback,this),this.clickOutsideTest=!0,this}anyTouchClose(){return this.cover?this.cover.once("pointerup",this.touchCloseCallback,this):this.scene.input.once("pointerup",this.touchCloseCallback,this),this}touchCloseCallback(t){this.clickOutsideTest&&Wn(this.parent,t.worldX,t.worldY)||this.requestClose()}runTransitionInCallback(){var t=super.runTransitionInCallback(),s=this.cover;return s&&this.coverTransitInCallback&&this.coverTransitInCallback(s,t),t}runTransitionOutCallback(){var t=super.runTransitionOutCallback(),s=this.cover;return s&&this.coverTransitOutCallback&&this.coverTransitOutCallback(s,t),t}onOpen(){var t=this.displayTime;t>=0&&this.delayCall(t,this.requestClose,this),this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.closeEventData),super.onClose()}setDisplayTime(t){return this.displayTime=t,this}setTransitInCallback(t){switch(typeof t=="string"&&(t=zi[t]),t){case zi.popUp:t=Br.popUp;break;case zi.fadeIn:t=Br.fadeIn;break}return super.setTransitInCallback(t),this}setTransitOutCallback(t){switch(typeof t=="string"&&(t=zi[t]),t){case zi.scaleDown:t=Br.scaleDown;break;case zi.fadeOut:t=Br.fadeOut;break}return super.setTransitOutCallback(t),this}setCoverTransitInCallback(t){return this.coverTransitInCallback=t,this}setCoverTransitOutCallback(t){return this.coverTransitOutCallback=t,this}};const zi={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1};var eA=function(i,t){var s=new tA(i,t);return s.on("open",function(){i.emit("modal.open",s)}),s.on("close",function(x){i.emit("modal.close",x,s)}),i.on("modal.requestClose",s.requestClose,s),s},iA=function(i,t){i.emit("modal.requestClose",t)},Zi=function(i){return i&&typeof i=="function"};const gl={modal(i,t){return Zi(i)&&(t=i,i=void 0),this._modalBehavior===void 0&&(this.onCreateModalBehavior&&this.onCreateModalBehavior(this,i),this._modalBehavior=eA(this,i)),t&&this._modalBehavior.once("close",t),this._modalBehavior.requestOpen(),this},modalPromise(i){var t=this;return new Promise(function(s,x){t.modal(i,s)})},modalClose(i){return iA(this,i),this}};var ml=function(i,t,s,x){if(t)return Wn(i,t.worldX,t.worldY,s,x);for(var E=i.scene.input.manager,A=E.pointersTotal,l=E.pointers,T=0;T<A;T++)if(t=l[T],Wn(i,t.worldX,t.worldY,s,x))return!0;return!1},sA=function(i,t){return(Oa(i)||typeof i=="string")&&(t=i,i=void 0),t===void 0?t=this:typeof t=="string"&&(t=this.getElement(t)),ml(t,i)},Li=function(i){return Object.prototype.toString.call(i)==="[object Array]"},Bo=function(i,t,s,x,E){return Wn(i,t,s,nA(x),rA(E))},gd=function(i){var t=i.rexSizer&&i.rexSizer.hidden;return!t},nA=function(i){return i?function(t,s,x){return gd(t)?(i(t,s,x),!0):!1}:gd},rA=function(i){return i},aA=function(i,t,s,x,E){if(Zi(s)||(E=s,s=void 0,x=void 0),E===void 0&&(this.sizerChildren?E=this.sizerChildren:E=this.children),Li(E)){for(var A,l=0,T=E.length;l<T;l++)if(A=E[l],Bo(A,i,t,s,x))return A}else{var A;for(var e in E)if(A=E[e],Bo(A,i,t,s,x))return A}return null},Re=function(i,t,s){!i||t===void 0&&s===void 0||(i.resize||i.setSize?(t===void 0&&(t=i.width),s===void 0&&(s=i.height),i.resize?i.resize(t,s):i.setSize(t,s)):(t!==void 0&&(i.displayWidth=t),s!==void 0&&(i.displayHeight=s)))},hA=function(i,t){return t===void 0?t={}:t===!0&&(t=oA),t.x=i.x,t.y=i.y,t.scaleX=i.scaleX,t.scaleY=i.scaleY,t.width=i.width,t.height=i.height,t.displayWidth=i.displayWidth,t.displayHeight=i.displayHeight,t},oA={},rr=function(i){this.sizerEventsEnable&&(hA(i,this.getChildPrevState(i)),this.layoutedChildren.push(i))},ar=function(i,t,s,x,E,A,l,T){tr(i,t,s,x,E,A),l!==void 0&&(i.x+=l),T!==void 0&&(i.y+=T),this.resetChildPositionState(i),this.sizerEventsEnable&&i.emit("sizer.postlayout",i,this)};const lA=Phaser.Display.Align.CENTER;var uA=function(){if(this.backgroundChildren!==void 0)for(var i=this.backgroundChildren,t=this.left,s=this.top,x=this.width,E=this.height,A,l,T,e,u,m,d,o=0,h=i.length;o<h;o++)A=i[o],l=A.rexSizer,!l.hidden&&(T=l.padding,rr.call(this,A),e=t+T.left,u=s+T.top,m=x-T.left-T.right,d=E-T.top-T.bottom,Re(A,m,d),ar.call(this,A,e,u,m,d,lA))},dA=function(i,t){var s=typeof i;if(s==="string"){var x=i;if(i=this.getElement(x),!i)return console.error(`Can get element '${x}'`),this}else(i===void 0||s!="object")&&(t=i,i=this);return t===void 0&&(t=!0),i.input&&i.input._dragTopmostSizer?i.input.draggable=t:t&&(i.setInteractive(),i.scene.input.setDraggable(i),i.on("drag",function(E,A,l){var T=this.getTopmostSizer();T.x+=A-i.x,T.y+=l-i.y,T.emit("sizer.drag",E,A,l)},this).on("dragstart",function(E,A,l){var T=this.getTopmostSizer();T.emit("sizer.dragstart",E,A,l)},this).on("dragend",function(E,A,l,T){var e=this.getTopmostSizer();e.emit("sizer.dragend",E,A,l,T)},this),i.input._dragTopmostSizer=!0),this};const Oc={onClick(i,t,s,x){return i?(typeof i=="function"&&(x=s,s=t,t=i,i=this),i._click===void 0&&(i._click=new Es(i,x)),i._click.on("click",t,s),this):this},offClick(i,t,s){return typeof i=="function"&&(s=t,t=i,i=this),i._click===void 0?this:(i._click.off("click",t,s),this)},enableClick(i,t){return i&&typeof i!="object"&&(t=i,i=this),i._click===void 0?this:(i._click.setEnable(t),this)},disableClick(i){return i&&typeof i!="object"&&(i=this),i._click===void 0?this:(i._click.setEnable(!1),this)}},Rn=Phaser.Utils.Objects.GetValue;class fA extends ie{constructor(t,s){super(t,s),this._enable=void 0;var x=Rn(s,"inputConfig",void 0);x&&t.setInteractive(x),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.lastClickTime=void 0,this.setEnable(Rn(t,"enable",!0)),this.setMode(Rn(t,"mode",1)),this.setClickInterval(Rn(t,"clickInterval",100)),this.setDragThreshold(Rn(t,"threshold",void 0)),this}boot(){var t=this.parent.scene;t.input.on("pointerdown",this.onPress,this),t.input.on("pointerup",this.onRelease,this),t.input.on("pointermove",this.onMove,this)}shutdown(t){if(!this.isShutdown){var s=this.parent.scene;s.input.off("pointerdown",this.onPress,this),s.input.off("pointerup",this.onRelease,this),s.input.off("pointermove",this.onMove,this),this.pointer=null,super.shutdown(t)}}get enable(){return this._enable}set enable(t){if(this._enable!==t){t||this.cancel(),this._enable=t;var s=t?"enable":"disable";this.emit(s,this,this.parent)}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(t){return typeof t=="string"&&(t=vA[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}isPointerInside(t){var s=this.parent,x=s.input?tc:ml;return x(s,t)}onPress(t){this.parent.willRender(t.camera)&&this.pointer===void 0&&(this.pointer=t,this.mode===0&&(this.isPointerInside(t)||this.click(t.downTime,t)))}onRelease(t){this.parent.willRender(t.camera)&&this.pointer===t&&(this.mode===1&&(this.isPointerInside(t)||this.click(t.upTime,t)),this.pointer=void 0)}onMove(t,s,x,E){this.pointer===t&&this.dragThreshold!==void 0&&this.mode===1&&(t.getDistance()>=this.dragThreshold||this.isPointerInside(t))&&this.cancel()}click(t,s){if(!this.enable)return this;if(t===void 0)return this.emit("clickoutside",this,this.parent,s),this;this.pointer=void 0;var x=this.lastClickTime;return x!==void 0&&t-x<=this.clickInterval?this:(this.lastClickTime=t,this.emit("clickoutside",this,this.parent,s),this)}cancel(){return this.pointer=void 0,this}}const vA={press:0,pointerdown:0,release:1,pointerup:1},cA={onClickOutside(i,t,s,x){return i?(typeof i=="function"&&(x=s,s=t,t=i,i=this),i._clickOutside===void 0&&(i._clickOutside=new fA(i,x)),i._clickOutside.on("clickoutside",t,s),this):this},offClickOutside(i,t,s){return typeof i=="function"&&(s=t,t=i,i=this),i._clickOutside===void 0?this:(i._clickOutside.off("clickoutside",t,s),this)},enableClickOutside(i,t){return i&&typeof i!="object"&&(t=i,i=this),i._clickOutside===void 0?this:(i._clickOutside.setEnable(t),this)},disableClickOutside(i){return i&&typeof i!="object"&&(i=this),i._clickOutside===void 0?this:(i._clickOutside.setEnable(!1),this)}};class pA extends Ms{constructor(){super({eventEmitter:!1}),this.goto("IDLE")}setCooldownTime(t){return this.cooldownTime=t,this.cooldownMode=t!==void 0,this}request(){return this.runMethod("request")}update_IDLE(){this.compensationTime=0}request_IDLE(){return this.next(),!0}next_IDLE(){if(this.cooldownMode)return"COOLDOWN"}enter_COOLDOWN(){this.remainderTime=this.cooldownTime+this.compensationTime}update_COOLDOWN(t,s){this.remainderTime-=s,this.remainderTime<0&&(this.compensationTime=this.cooldownTime>s?-this.remainderTime:0,this.goto("IDLE"))}request_COOLDOWN(){return!1}}const Eh=Phaser.Utils.Objects.GetValue;class va extends ie{constructor(t,s){super(t,s),this._enable=void 0,this.cooldown=new pA,this.parent.setInteractive(Eh(s,"inputConfig",void 0)),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.prevIsInTouch=!1,this.isInTouching=!1,this.setEnable(Eh(t,"enable",!0)),this.setCooldown(Eh(t,"cooldown",void 0)),this}boot(){var t=this.parent;t.on("pointerdown",this.onPointIn,this),t.on("pointerover",this.onPointIn,this),t.on("pointerup",this.onPointOut,this),t.on("pointerout",this.onPointOut,this),this.scene.sys.events.on("preupdate",this.preupdate,this)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this.preupdate,this),this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||(this.prevIsInTouch=!1,this.isInTouching=!1,this.pointer=void 0),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get cooldownTime(){return this.cooldown.cooldownTime}set cooldownTime(t){this.cooldown.setCooldownTime(t)}setCooldown(t){return this.cooldownTime=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointIn(t,s,x){!this.enable||!t.isDown||this.pointer!==void 0||(this.pointer=t,this.isInTouching=!0)}onPointOut(t){!this.enable||this.pointer!==t||(this.pointer=void 0,this.isInTouching=!1)}preupdate(t,s){this.cooldown.update(t,s),!this.prevIsInTouch&&this.isInTouching&&this.emit("touchstart",this,this.parent),this.isInTouching&&this.cooldown.request()&&this.emit("intouch",this,this.parent,this.pointer),this.prevIsInTouch&&!this.isInTouching&&this.emit("touchend",this,this.parent),this.prevIsInTouch=this.isInTouching}}const gA={isPointerInBounds(i){return i===void 0?i=this:typeof i=="string"&&(i=this.getElement(i)),i?ml(i):!1},onTouching(i,t,s,x){return i?(typeof i=="function"&&(x=s,s=t,t=i,i=this),i._inTouching===void 0&&(i._inTouching=new va(i,x)),i._inTouching.on("intouch",t,s),this):this},offTouching(i,t,s){return typeof i=="function"&&(s=t,t=i,i=this),i._inTouching===void 0?this:(i._inTouching.off("intouch",t,s),this)},onTouchingEnd(i,t,s,x){return i?(typeof i=="function"&&(x=s,s=t,t=i,i=this),i._inTouching===void 0&&(i._inTouching=new va(i,x)),i._inTouching.on("touchend",t,s),this):this},offTouchingEnd(i,t,s){return typeof i=="function"&&(s=t,t=i,i=this),i._inTouching===void 0?this:(i._inTouching.off("touchend",t,s),this)},enableTouching(i,t){return i&&typeof i!="object"&&(t=i,i=this),i._inTouching===void 0?this:(i._inTouching.setEnable(t),this)},disableTouching(i){return i&&typeof i!="object"&&(i=this),i._inTouching===void 0?this:(i._inTouching.setEnable(!1),this)}};var Lc=function(i,t,s){for(var x,E=0,A=i.length;E<A;E++)if(x=i[E],!!Bo(x,t,s))return x.pointToChild(t,s);return null},gi=function(i,t,s,x,E,A,l){var T;E===void 0?T=x:T=Lc(s,x,E),T&&i.emit(t,T,A,l)};const mA=Phaser.Utils.Objects.GetValue;var xA=function(i){var t=mA(i,"down",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointerdown",yA,this))},yA=function(i,t,s,x){var E=this._childrenInteractive;gi(E.eventEmitter,`${E.eventNamePrefix}down`,E.targetSizers,i.worldX,i.worldY,i,x)};const TA=Phaser.Utils.Objects.GetValue;var CA=function(i){var t=TA(i,"up",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointerup",SA,this))},SA=function(i,t,s,x){var E=this._childrenInteractive;gi(E.eventEmitter,`${E.eventNamePrefix}up`,E.targetSizers,i.worldX,i.worldY,i,x)};const EA=Phaser.Utils.Objects.GetValue;var PA=function(i){var t=EA(i,"over",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointermove",md,this).on("pointerover",md,this).on("pointerout",MA,this))},md=function(i,t,s,x){var E=this._childrenInteractive,A=Lc(E.targetSizers,i.worldX,i.worldY),l=E.lastOverChild;A&&l&&A===l||(E.lastOverChild=A,gi(E.eventEmitter,`${E.eventNamePrefix}out`,E.targetSizers,l,void 0,i,x),gi(E.eventEmitter,`${E.eventNamePrefix}over`,E.targetSizers,A,void 0,i,x))},MA=function(i,t){var s=this._childrenInteractive,x=s.lastOverChild;s.lastOverChild=null,gi(s.eventEmitter,`${s.eventNamePrefix}out`,s.targetSizers,x,void 0,i,t)};const RA=Phaser.Utils.Objects.GetValue;var AA=function(i){var t=RA(i,"click",void 0);if(t!==!1){t===!0&&(t=void 0),t===void 0&&(t={}),t.hasOwnProperty("threshold")||(t.threshold=10);var s=this._childrenInteractive;this._click=new Es(this,t),this._click.on("click",function(x,E,A,l){gi(s.eventEmitter,`${s.eventNamePrefix}click`,s.targetSizers,A.worldX,A.worldY,A,l)},this)}};const Ph=Phaser.Utils.Objects.GetValue;class xl extends ma{constructor(t,s){var x=Hn(t);x===t&&(t=void 0),super(x,s),this.gameObject=t,t&&t.setInteractive(Ph(s,"inputConfig",void 0)),this._enable=void 0,this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.setEnable(Ph(t,"enable",!0)),this.setDetectBounds(),this.gameObject===void 0?this.setDetectBounds(Ph(t,"bounds",void 0)):this.setDetectBounds(),this.tracerState=Mh,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,this.isTouchingAnyObject=!1,this}boot(){super.boot(),this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("gameout",this.dragCancel,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.sys.events.once("shutdown",this.destroy,this)}shutdown(t){this.scene&&(this.gameObject||this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("gameout",this.dragCancel,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.sys.events.off("shutdown",this.destroy,this),this.gameObject=void 0,this.bounds=void 0,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setDetectBounds(t){return this.bounds=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t,s){if(this.enable&&this.pointer===void 0){var x=this.bounds?this.bounds.contains(t.x,t.y):!0;x&&this.pointer!==t&&(this.pointer=t,this.lastPointer=t,this.movedState=!1,this.tracerState=xd,this.gameObject===void 0&&(this.isTouchingAnyObject=s.length>0),this.onDragStart())}}onPointerUp(t){if(this.enable){var s=this.bounds?this.bounds.contains(t.x,t.y):!0;s&&this.pointer===t&&(this.pointer=void 0,this.movedState=!1,this.tracerState=Mh,this.onDragEnd())}}onPointerMove(t){if(this.enable&&t.isDown){var s=this.bounds?this.bounds.contains(t.x,t.y):!0,x=this.pointer===t;!x&&s||(x&&!s?this.onPointerUp(t):(this.movedState||(this.movedState=t.x!==t.downX||t.y!==t.downY),this.movedState&&this.onDrag()))}}dragCancel(){return this.tracerState===xd&&this.onDragEnd(),this.pointer=void 0,this.tracerState=Mh,this}onDragStart(){this.emit("dragstart",this)}onDragEnd(){this.emit("dragend",this)}onDrag(){this.emit("drag",this)}preUpdate(t,s){}postUpdate(t,s){}startTicking(){super.startTicking(),this.scene.sys.events.on("preupdate",this.preUpdate,this),this.scene.sys.events.on("postupdate",this.postUpdate,this)}stopTicking(){super.stopTicking(),this.scene&&(this.scene.sys.events.off("preupdate",this.preUpdate,this),this.scene.sys.events.off("postupdate",this.postUpdate,this))}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=wA,this}}const Mh=0,xd=1,wA="IDLE",ns=Phaser.Utils.Objects.GetValue,OA=Phaser.Math.Distance.Between;class Fc extends xl{constructor(t,s){super(t,s);var x=this,E={states:{IDLE:{enter:function(){x.stop(),x.tapsCount=0,x.x=0,x.y=0,x.worldX=0,x.worldY=0},exit:function(){var A=x.lastPointer;x.x=A.x,x.y=A.y,x.worldX=A.worldX,x.worldY=A.worldY}},BEGIN:{enter:function(){x.start(),x.tapsCount=0,x.emit("tappingstart",x,x.gameObject,x.lastPointer)}},RECOGNIZED:{enter:function(){x.start(),x.emit("tap",x,x.gameObject,x.lastPointer),x.emit(`${x.tapsCount}tap`,x,x.gameObject,x.lastPointer)}}},init:function(){this.state=rs},eventEmitter:!1};this.setRecongizedStateObject(new Ms(E))}resetFromJSON(t){super.resetFromJSON(t),this.setHoldTime(ns(t,"time",250)),this.setTapInterval(ns(t,"tapInterval",200)),this.setDragThreshold(ns(t,"threshold",9)),this.setTapOffset(ns(t,"tapOffset",10));var s=ns(t,"taps",void 0);return s!==void 0?this.setTaps(s):(this.setMaxTaps(ns(t,"maxTaps",void 0)),this.setMinTaps(ns(t,"minTaps",void 0))),this}onDragStart(){switch(this.state){case rs:this.state=Us;break;case Us:var t=this.lastPointer,s=OA(t.upX,t.upY,t.x,t.y);s>this.tapOffset&&(this.state=Ws,this.state=Us);break;case Ws:this.state=Us;break}}onDragEnd(){this.state===Us&&(this.tapsCount++,this.emit("tapping",this,this.gameObject,this.lastPointer),this.maxTaps!==void 0&&this.tapsCount===this.maxTaps&&(this.state=Ws))}onDrag(){this.state!==rs&&this.pointer.getDistance()>this.dragThreshold&&(this.state=rs)}preUpdate(t,s){if(!(!this.isRunning||!this.enable)&&this.state===Us){var x=this.lastPointer;if(x.isDown){var E=t-x.downTime;E>this.holdTime&&(this.state=rs)}else{var A=t-x.upTime;A>this.tapInterval&&(this.minTaps===void 0||this.tapsCount>=this.minTaps?this.state=Ws:this.state=rs)}}}postUpdate(t,s){!this.isRunning||!this.enable||this.state===Ws&&(this.state=rs)}get isTapped(){return this.state===Ws}setHoldTime(t){return this.holdTime=t,this}setTapInterval(t){return this.tapInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setTapOffset(t){return this.tapOffset=t,this}setMaxTaps(t){return this.maxTaps=t,this}setMinTaps(t){return this.minTaps=t,this}setTaps(t,s){return s===void 0&&(s=t),this.setMinTaps(t).setMaxTaps(s),this}}const rs="IDLE",Us="BEGIN",Ws="RECOGNIZED",yd=Phaser.Utils.Objects.GetValue;class Dc extends xl{constructor(t,s){super(t,s);var x=this,E={states:{IDLE:{enter:function(){x.x=0,x.y=0,x.worldX=0,x.worldY=0},exit:function(){var A=x.lastPointer;x.x=A.x,x.y=A.y,x.worldX=A.worldX,x.worldY=A.worldY}},BEGIN:{enter:function(){x.start()},exit:function(){x.stop()}},RECOGNIZED:{enter:function(){x.emit("pressstart",x,x.gameObject,x.lastPointer)},exit:function(){x.emit("pressend",x,x.gameObject,x.lastPointer)}}},init:function(){this.state=Ir},eventEmitter:!1};this.setRecongizedStateObject(new Ms(E))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(yd(t,"threshold",9)),this.setHoldTime(yd(t,"time",251)),this}onDragStart(){this.state=Td,this.holdTime===0&&(this.state=Rh)}onDragEnd(){this.state=Ir}onDrag(){this.state!==Ir&&this.pointer.getDistance()>this.dragThreshold&&(this.state=Ir)}preUpdate(t,s){if(!(!this.isRunning||!this.enable)&&this.state===Td){var x=t-this.pointer.downTime;x>=this.holdTime&&(this.state=Rh)}}get isPressed(){return this.state===Rh}setHoldTime(t){return this.holdTime=t,this}setDragThreshold(t){return this.dragThreshold=t,this}}const Ir="IDLE",Td="BEGIN",Rh="RECOGNIZED";Phaser.Utils.Objects.GetValue;const LA=Phaser.Math.Distance.Between,FA=Phaser.Math.Angle.Between,DA={getDt:function(){var i=ac(this.scene);return i},getVelocity:function(){var i=this.pointer.position,t=this.pointer.prevPosition,s=LA(t.x,t.y,i.x,i.y),x=s/(this.getDt()*.001);return x},getVelocityX:function(){var i=this.pointer.position,t=this.pointer.prevPosition,s=Math.abs(i.x-t.x),x=s/(this.getDt()*.001);return x},getVelocityY:function(){var i=this.pointer.position,t=this.pointer.prevPosition,s=Math.abs(i.y-t.y),x=s/(this.getDt()*.001);return x},getVelocityAngle:function(){var i=this.pointer.position,t=this.pointer.prevPosition,s=FA(t.x,t.y,i.x,i.y);return s}},bA={"up&down":0,"left&right":1,"4dir":2,"8dir":3};var BA=function(i,t,s){switch(s===void 0?s={}:s===!0&&(s=IA),s.left=!1,s.right=!1,s.up=!1,s.down=!1,i=(i+360)%360,t){case 0:i<180?s.down=!0:s.up=!0;break;case 1:i>90&&i<=270?s.left=!0:s.right=!0;break;case 2:i>45&&i<=135?s.down=!0:i>135&&i<=225?s.left=!0:i>225&&i<=315?s.up=!0:s.right=!0;break;case 3:i>22.5&&i<=67.5?(s.down=!0,s.right=!0):i>67.5&&i<=112.5?s.down=!0:i>112.5&&i<=157.5?(s.down=!0,s.left=!0):i>157.5&&i<=202.5?s.left=!0:i>202.5&&i<=247.5?(s.left=!0,s.up=!0):i>247.5&&i<=292.5?s.up=!0:(i>292.5&&i<=337.5&&(s.up=!0),s.right=!0);break}return s},IA={};const Ah=Phaser.Utils.Objects.GetValue,GA=Phaser.Math.RadToDeg;class yl extends xl{constructor(t,s){super(t,s);var x=this,E={states:{IDLE:{enter:function(){x.x=0,x.y=0,x.worldX=0,x.worldY=0},exit:function(){var A=x.lastPointer;x.x=A.x,x.y=A.y,x.worldX=A.worldX,x.worldY=A.worldY}},BEGIN:{enter:function(){x.validDrag=!1}},RECOGNIZED:{enter:function(){x.start(),x.updateDirectionStates(),x.emit("swipe",x,x.gameObject,x.lastPointer)},exit:function(){x.stop(),x.clearDirectionStates()}}},init:function(){this.state=wh},eventEmitter:!1};this.setRecongizedStateObject(new Ms(E)),this.clearDirectionStates()}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(Ah(t,"threshold",10)),this.setVelocityThreshold(Ah(t,"velocityThreshold",1e3)),this.setDirectionMode(Ah(t,"dir","8dir")),this}onDragStart(){this.state=Cd}onDragEnd(){this.state=wh}onDrag(){this.state===Cd&&(this.validDrag||(this.validDrag=this.dragThreshold===0||this.pointer.getDistance()>=this.dragThreshold),this.validDrag&&this.dragVelocity>this.velocityThreshold&&(this.state=Oh))}postUpdate(t,s){!this.isRunning||!this.enable||this.state===Oh&&(this.state=wh)}get isSwiped(){return this.state===Oh}get dragVelocity(){var t;switch(this.dirMode){case 0:t=this.getVelocityY();break;case 1:t=this.getVelocityX();break;default:t=this.getVelocity();break}return t}setDragThreshold(t){return this.dragThreshold=t,this}setVelocityThreshold(t){return this.velocityThreshold=t,this}setDirectionMode(t){return typeof t=="string"&&(t=bA[t]),this.dirMode=t,this}updateDirectionStates(){var t=GA(this.getVelocityAngle());return BA(t,this.dirMode,this),this}clearDirectionStates(){return this.left=!1,this.right=!1,this.up=!1,this.down=!1,this}}Object.assign(yl.prototype,DA);const wh="IDLE",Cd="BEGIN",Oh="RECOGNIZED",Lh=Phaser.Utils.Objects.GetValue,NA=Phaser.Utils.Array.SpliceOne,VA=Phaser.Math.Distance.Between,zA=Phaser.Math.Angle.Between;class bc{constructor(t,s){var x=t.input.manager.pointersTotal-1;x<2&&t.input.addPointer(2-x),this.scene=t,this.setEventEmitter(Lh(s,"eventEmitter",void 0)),this._enable=void 0,this.pointers=[],this.movedState={},this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.setEnable(Lh(t,"enable",!0)),this.bounds=Lh(t,"bounds",void 0),this.tracerState=Gr,this.pointers.length=0,Ri(this.movedState),this}boot(){this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("gameout",this.dragCancel,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.sys.events.once("shutdown",this.destroy,this)}shutdown(){this.scene&&(this.destroyEventEmitter(),this.pointers.length=0,Ri(this.movedState),this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("gameout",this.dragCancel,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.sys.events.off("shutdown",this.destroy,this),this.scene=void 0)}destroy(){this.shutdown()}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t){if(this.enable&&this.pointers.length!==2){var s=this.bounds?this.bounds.contains(t.x,t.y):!0;if(s){var x=this.pointers.indexOf(t);if(x===-1)switch(this.movedState[t.id]=!1,this.pointers.push(t),this.tracerState){case Gr:this.tracerState=wn,this.onDrag1Start();break;case wn:this.tracerState=ii,this.onDrag2Start();break}}}}onPointerUp(t){if(this.enable){var s=this.bounds?this.bounds.contains(t.x,t.y):!0;if(s){var x=this.pointers.indexOf(t);if(x!==-1)switch(delete this.movedState[t.id],NA(this.pointers,x),this.tracerState){case wn:this.tracerState=Gr,this.onDrag1End();break;case ii:this.tracerState=wn,this.onDrag2End(),this.onDrag1Start();break}}}}onPointerMove(t){if(this.enable&&t.isDown){var s=this.bounds?this.bounds.contains(t.x,t.y):!0,x=this.pointers.indexOf(t)!==-1;if(!(!x&&s)){if(x&&!s)this.onPointerUp(t);else if(this.movedState[t.id]||(this.movedState[t.id]=t.x!==t.downX||t.y!==t.downY),this.movedState[t.id])switch(this.tracerState){case wn:this.onDrag1();break;case ii:this.onDrag2();break}}}}dragCancel(){return this.tracerState===ii&&this.onDrag2End(),this.pointers.length=0,Ri(this.movedState),this.tracerState=Gr,this}onDrag1Start(){this.emit("drag1start",this)}onDrag1End(){this.emit("drag1end",this)}onDrag1(){this.emit("drag1",this)}onDrag2Start(){this.emit("drag2start",this)}onDrag2End(){this.emit("drag2end",this)}onDrag2(){this.emit("drag2",this)}get distanceBetween(){if(this.tracerState!==ii)return 0;var t=this.pointers[0],s=this.pointers[1];return VA(t.x,t.y,s.x,s.y)}get angleBetween(){if(this.tracerState!==ii)return 0;var t=this.pointers[0],s=this.pointers[1];return zA(t.x,t.y,s.x,s.y)}get drag1Vector(){var t=this.pointers[0];if(t&&this.movedState[t.id]){var s=t.position,x=t.prevPosition;An.x=s.x-x.x,An.y=s.y-x.y}else An.x=0,An.y=0;return An}get centerX(){if(this.tracerState!==ii)return 0;var t=this.pointers[0].position,s=this.pointers[1].position;return(t.x+s.x)/2}get centerY(){if(this.tracerState!==ii)return 0;var t=this.pointers[0].position,s=this.pointers[1].position;return(t.y+s.y)/2}get prevCenterX(){if(this.tracerState!==ii)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,s=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.x+s.x)/2}get prevCenterY(){if(this.tracerState!==ii)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,s=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.y+s.y)/2}get movementCenterX(){return this.centerX-this.prevCenterX}get movementCenterY(){return this.centerY-this.prevCenterY}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=XA,this}}Object.assign(bc.prototype,ys);var An={};const Gr=0,wn=1,ii=2,XA="IDLE";Phaser.Utils.Objects.GetValue;const YA=Phaser.Math.RotateAround;var Sd=function(i,t,s,x){return YA(i,t,s,x),i.rotation+=x,i},UA=function(i,t,s,x){return x===void 0?x={}:x===!0&&(x=WA),s.getWorldPoint(i,t,x),x},WA={},kA=function(i,t){if(!this.isRotation)return this;t===void 0&&(t=this.pointers[0].camera);var s=this.movementCenterX,x=this.movementCenterY,E=UA(this.centerX,this.centerY,t,!0),A=E.x,l=E.y,T=this.rotation;if(Array.isArray(i))for(var e=i,u=0,m=e.length;u<m;u++)i=e[u],i.x+=s,i.y+=x,Sd(i,A,l,T);else i.x+=s,i.y+=x,Sd(i,A,l,T);return this};const HA=Phaser.Utils.Objects.GetValue,Fh=Phaser.Math.Angle.WrapDegrees,Ed=Phaser.Math.Angle.ShortestBetween,Dh=Phaser.Math.RadToDeg,$A=Phaser.Math.DegToRad;class KA extends bc{constructor(t,s){super(t,s);var x=this,E={states:{IDLE:{enter:function(){x.prevAngle=void 0,x.angle=0}},BEGIN:{},RECOGNIZED:{enter:function(){x.emit("rotatestart",x)},exit:function(){x.emit("rotateend",x)}}},init:function(){this.state=Pd},eventEmitter:!1};this.setRecongizedStateObject(new Ms(E))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(HA(t,"threshold",0)),this}onDrag2Start(){this.prevAngle=Fh(Dh(this.angleBetween)),this.state=Md,this.dragThreshold===0&&(this.state=Nr)}onDrag2End(){this.state=Pd}onDrag2(){switch(this.state){case Md:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=Fh(Dh(this.angleBetween));this.angle=Ed(this.prevAngle,t),this.prevAngle=t,this.state=Nr}break;case Nr:var t=Fh(Dh(this.angleBetween));this.angle=Ed(this.prevAngle,t),this.prevAngle=t,this.emit("rotate",this);break}}get isRotated(){return this.state===Nr}get rotation(){return $A(this.angle)}setDragThreshold(t){return this.dragThreshold=t,this}}var ZA={spinObject:kA};Object.assign(KA.prototype,ZA);const Pd="IDLE",Md="BEGIN",Nr="RECOGNIZED",JA=Phaser.Utils.Objects.GetValue;var QA=function(i){var t=JA(i,"tap",void 0);if(t!==!1){t===!0&&(t=void 0);var s=this._childrenInteractive;this._tap=new Fc(this,t),this._tap.on("tap",function(x,E,A){gi(s.eventEmitter,`${s.eventNamePrefix}${x.tapsCount}tap`,s.targetSizers,x.worldX,x.worldY,A)},this)}};const jA=Phaser.Utils.Objects.GetValue;var qA=function(i){var t=jA(i,"press",void 0);if(t!==!1){t===!0&&(t=void 0);var s=this._childrenInteractive;this._press=new Dc(this,t),this._press.on("pressstart",function(x,E,A){gi(s.eventEmitter,`${s.eventNamePrefix}pressstart`,s.targetSizers,x.worldX,x.worldY,A)},this).on("pressend",function(x,E,A){gi(s.eventEmitter,`${s.eventNamePrefix}pressend`,s.targetSizers,x.worldX,x.worldY,A)},this)}};const _A=Phaser.Utils.Objects.GetValue;var tw=function(i){var t=_A(i,"swipe",void 0);if(t!==!1){t===!0&&(t=void 0),t===void 0&&(t={}),t.hasOwnProperty("dir")||(t.dir="4dir");var s=this._childrenInteractive;this._swipe=new yl(this,t),this._swipe.on("swipe",function(x,E,A){var l=x.left?"left":x.right?"right":x.up?"up":"down";gi(s.eventEmitter,`${s.eventNamePrefix}swipe${l}`,s.targetSizers,x.worldX,x.worldY,A)},this)}};const bh=Phaser.Utils.Objects.GetValue;var Bc=function(i,t){return i.setInteractive(),i._childrenInteractive={targetSizers:bh(t,"targets",[i]),eventEmitter:bh(t,"eventEmitter",i),eventNamePrefix:bh(t,"inputEventPrefix","child.")},xA.call(i,t),CA.call(i,t),PA.call(i,t),AA.call(i,t),QA.call(i,t),qA.call(i,t),tw.call(i,t),i},ew=function(i){return Bc(this,i),this},iw=function(){for(var i=this.getAllChildren([this]),t=0,s=i.length;t<s;t++){var x=i[t];x.emit.apply(x,arguments)}return this},Ic={getSizerConfig:MM,getChildPrevState:RM,pushIntoBounds:AM,drawBounds:zM,resolveWidth:ul,resolveChildrenWidth:qM,resolveHeight:dl,postResolveSize:_M,getChildWidth:tR,getChildHeight:eR,getExpandedChildWidth:iR,getExpandedChildHeight:sR,getChildrenWidth:nR,getChildrenHeight:rR,addChildrenMap:rd,addElement:rd,removeChildrenMap:ZM,getElement:JM,getAllChildrenSizers:aR,getChildrenSizers:hR,preLayout:nr,layout:lR,runLayout:uR,layoutChildren:dR,runWidthWrap:Sc,layoutBackgrounds:uA,postLayout:fR,setAnchor:cR,isInTouching:sA,pointToChild:aA,setDraggable:dA,setChildrenInteractive:ew,broadcastEvent:iw};Object.assign(Ic,jM,UM,KM,sr,vl,SR,AR,BR,NR,Oc,cA,gA,VR,gl,oR);const ks=Phaser.Utils.Objects.GetValue;class Rs extends _e{constructor(t,s,x,E,A,l){super(t,s,x,1,1),this.isRexSizer=!0,this.setMinSize(E,A),this.setName(ks(l,"name","")),this.rexSizer={},this.space={},this.backgroundChildren=void 0,this.sizerChildren=void 0,this.childrenMap={},this.layoutedChildren=void 0;var T=ks(l,"anchor",void 0);T&&this.setAnchor(T),this.setInnerPadding(ks(l,"space",0));var e=ks(l,"draggable",!1);e&&this.setDraggable(e),this.setSizerEventsEnable(ks(l,"sizerEvents",!1)),this.setDirty(!0),ks(l,"enableLayer",!1)&&this.enableLayer()}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(t)for(var s=this.getAllChildrenSizers([this]),x=0,E=s.length;x<E;x++)s[x].sizerEventsEnable=!1;super.destroy(t),Ri(this.backgroundChildren),Ri(this.sizerChildren),this.childrenMap=void 0,this.space=void 0,this.rexSizer=void 0,this.layoutedChildren=void 0}}setMinSize(t,s){return this.setMinWidth(t).setMinHeight(s),this}setMinWidth(t){return t==null&&(t=0),this.minWidth=t,this}setMinHeight(t){return t==null&&(t=0),this.minHeight=t,this}setDirty(t){return t===void 0&&(t=!0),this.dirty=t,this}setSizerEventsEnable(t){return t===void 0&&(t=!0),this.sizerEventsEnable=t,this}get ignoreLayout(){return this.rexSizer.hidden||!this.dirty}get childrenWidth(){return this._childrenWidth===void 0&&(this._childrenWidth=this.getChildrenWidth()),this._childrenWidth}get childrenHeight(){return this._childrenHeight===void 0&&(this._childrenHeight=this.getChildrenHeight()),this._childrenHeight}get left(){return this.x-Bt(this)*this.originX}set left(t){this.x+=t-this.left}alignLeft(t){return this.left=t,this}get right(){return this.left+Bt(this)}set right(t){this.x+=t-this.right}alignRight(t){return this.right=t,this}get centerX(){return this.left+Bt(this)/2}set centerX(t){this.x+=t-this.centerX}alignCenterX(t){return this.centerX=t,this}get top(){return this.y-At(this)*this.originY}set top(t){this.y+=t-this.top}alignTop(t){return this.top=t,this}get bottom(){return this.top+At(this)}set bottom(t){this.y+=t-this.bottom}alignBottom(t){return this.bottom=t,this}get centerY(){return this.top+At(this)/2}set centerY(t){this.y+=t-this.centerY}alignCenterY(t){return this.centerY=t,this}get innerLeft(){return this.left+this.space.left}get innerRight(){return this.right-this.space.right}get innerTop(){return this.top+this.space.top}get innerBottom(){return this.bottom-this.space.bottom}get innerWidth(){return this.width-this.space.left-this.space.right}get innerHeight(){return this.height-this.space.top-this.space.bottom}get minInnerWidth(){var t=this.minWidth-this.space.left-this.space.right;return Math.max(t,0)}get minInnerHeight(){var t=this.minHeight-this.space.top-this.space.bottom;return Math.max(t,0)}}Object.assign(Rs.prototype,Ic);var sw=function(){if(this.rexSizer.hidden)return 0;var i=0,t=this.sizerChildren,s,x,E;for(var A in t)s=t[A],x=s.rexSizer.padding,E=this.getChildWidth(s)+x.left+x.right,i=Math.max(E,i);return i+this.space.left+this.space.right},nw=function(){if(this.rexSizer.hidden)return 0;var i=0,t=this.sizerChildren,s,x,E;for(var A in t)s=t[A],E=s.isRexSizer?Math.max(s.minHeight,s.childrenHeight):s.minHeight!==void 0?s.minHeight:At(s),x=s.rexSizer.padding,E+=x.top+x.bottom,i=Math.max(E,i);return i+this.space.top+this.space.bottom},rw=function(i,t){t===void 0&&(t=this.width);var s,x=i.rexSizer;if(x.expandWidth){var E=t-this.space.left-this.space.right,A=x.padding;s=E-A.left-A.right}return s},aw=function(i,t){t===void 0&&(t=this.height);var s,x=i.rexSizer;if(x.expandHeight){var E=t-this.space.top-this.space.bottom,A=x.padding;s=E-A.top-A.bottom}return s},hw=function(i){i===void 0&&(i=[]);var t=this.sizerChildren,s;for(var x in t)s=t[x],s.isRexSizer&&i.push(s);return i},Tl=function(i,t){i.width<i.childrenWidth&&console.warn(`Layout width error: Parent=${t.constructor.name}, Child=${i.constructor.name}`),i.height<i.childrenHeight&&console.warn(`Layout height error: Parent=${t.constructor.name}, Child=${i.constructor.name}`)},ow=function(){var i,t,s,x=this.innerLeft,E=this.innerTop,A=this.innerWidth,l=this.innerHeight,T,e,u,m,d,o,h=this.sizerChildren;for(var n in h)i=h[n],!i.rexSizer.hidden&&(t=i.rexSizer,s=t.padding,rr.call(this,i),i.isRexSizer?(i.runLayout(this,this.getExpandedChildWidth(i),this.getExpandedChildHeight(i)),Tl(i,this)):(d=void 0,o=void 0,t.expandWidth&&(d=A-s.left-s.right),t.expandHeight&&(o=l-s.top-s.bottom),Re(i,d,o)),T=x+s.left,u=A-s.left-s.right,e=E+s.top,m=l-s.top-s.bottom,ar.call(this,i,T,e,u,m,t.align,t.alignOffsetX,t.alignOffsetY))};const Rd=Phaser.Utils.Objects.IsPlainObject,si=Phaser.Utils.Objects.GetValue,Ad=Phaser.Display.Align.CENTER,lw=Phaser.Utils.String.UUID;var uw=function(i,t,s,x,E,A,l,T,e){if(er.call(this,i),Rd(t)){var m=t;t=si(m,"key",void 0),s=si(m,"align",Ad),T=si(m,"offsetX",0),e=si(m,"offsetY",0),x=si(m,"padding",0),E=si(m,"expand",!0),i.isRexSizer||(A=si(m,"minWidth",i._minWidth),l=si(m,"minHeight",i._minHeighted))}var u=t!==void 0;u||(t=lw()),typeof s=="string"&&(s=dn[s]),s===void 0&&(s=Ad),T===void 0&&(T=0),e===void 0&&(e=0),x===void 0&&(x=0),E===void 0&&(E=!0),i.isRexSizer||(A===void 0&&(A=i._minWidth),l===void 0&&(l=i._minHeight));var m=this.getSizerConfig(i);return m.align=s,m.alignOffsetX=T,m.alignOffsetY=e,m.padding=fn(x),Rd(E)?(m.expandWidth=si(E,"width",!1),m.expandHeight=si(E,"height",!1)):(m.expandWidth=E,m.expandHeight=E),i.isRexSizer||(m.expandWidth&&(i.minWidth=A===void 0?Bt(i):A),m.expandHeight&&(i.minHeight=l===void 0?At(i):l)),this.sizerChildren.hasOwnProperty(t)&&this.sizerChildren[t].destroy(),this.sizerChildren[t]=i,u&&this.addChildrenMap(t,i),this};const dw={add:uw},fw=_e.prototype.clear;var Da=function(i){this.backgroundChildren&&(this.backgroundChildren.length=0);var t=!i&&this.sizerEventsEnable,s;if(t&&(s=this.getChildren([])),fw.call(this,i),t)for(var x,E=0,A=s.length;E<A;E++)x=s[E],x.emit("sizer.remove",x,this),this.emit("remove",x,this);return this};const vw={remove(i,t){var s;if(typeof i=="string"){if(s=i,i=this.sizerChildren[s],!i)return this}else{if(this.getParentSizer(i)!==this)return this;s=this.childToKey(i)}return s&&(delete this.sizerChildren[s],this.childrenMap.hasOwnProperty(s)&&delete this.childrenMap[s]),ir.call(this,i,t),this},removeAll(i){for(var t in this.sizerChildren)this.remove(t,i);return this},clear(i){for(var t in this.sizerChildren)delete this.sizerChildren[t],this.childrenMap.hasOwnProperty(t)&&delete this.childrenMap[t];return Da.call(this,i),this}};var Gc={getChildrenWidth:sw,getChildrenHeight:nw,getExpandedChildWidth:rw,getExpandedChildHeight:aw,getChildrenSizers:hw,layoutChildren:ow};Object.assign(Gc,dw,vw);var ba=function(i,t){if(Array.isArray(i))return i.indexOf(t);for(var s in i)if(i[s]===t)return s;return null};const wd=Phaser.Utils.Objects.IsPlainObject,Hs=Phaser.Utils.Objects.GetValue;class bi extends Rs{constructor(t,s,x,E,A,l){wd(s)?(l=s,s=Hs(l,"x",0),x=Hs(l,"y",0),E=Hs(l,"width",void 0),A=Hs(l,"height",void 0)):wd(E)&&(l=E,E=Hs(l,"width",void 0),A=Hs(l,"height",void 0)),super(t,s,x,E,A,l),this.type="rexOverlapSizer",this.sizerChildren={},this.addChildrenMap("items",this.sizerChildren)}childToKey(t){if(typeof t=="string"){var s=t;if(this.sizerChildren.hasOwnPropery(s))return s}else return ba(this.sizerChildren,t);return null}}Object.assign(bi.prototype,Gc);var cw=Phaser.Math.Distance.Between,ca=function(i,t,s){var x=i.width/2;return cw(x,x,t,s)<=x};const pw=Phaser.Math.Angle.Between,gw=Phaser.Math.Angle.Normalize;var Od=function(i,t,s){if(this.enable&&i.isDown){var x=this.sizerChildren.knob;if(ca(x,t,s)){var E=x.width/2,A=x.startAngle,l=pw(E,E,t,s),T=x.anticlockwise?A-l:l-A,e=gw(T)/(2*Math.PI);this.stopEaseValue(),this.easeValueDuration===0||Math.abs(this.value-e)<.1?this.value=e:this.easeValueTo(e)}}},mw=function(){var i=this.sizerChildren.knob;i.on("pointerdown",Od,this).on("pointermove",Od,this).setInteractive()};const Ld=Phaser.Math.Angle.Between,xw=Phaser.Math.Angle.Wrap;var yw=function(i,t,s){if(!(!this.enable||this.panPointer)){var x=this.sizerChildren.knob;ca(x,t,s)&&Nc.call(this,i)}},Tw=function(i,t,s){if(this.enable&&i.isDown){var x=this.sizerChildren.knob;switch(this.panState){case Cl:ca(x,t,s)&&Nc.call(this,i);break;case zc:ca(x,t,s)?Sw.call(this):Vc.call(this);break}}},Cw=function(i,t,s){!this.enable||this.panPointer!==i||Vc.call(this)},Nc=function(i){this.panPointer=i,this.panState=zc},Vc=function(){this.panPointer=void 0,this.panState=Cl},Sw=function(){var i=this.panPointer.prevPosition,t=this.panPointer.position,s=this.sizerChildren.knob,x=Ld(s.x,s.y,i.x,i.y),E=Ld(s.x,s.y,t.x,t.y),A=s.anticlockwise?x-E:E-x,l=xw(A)/(Math.PI*2);this.stopEaseValue(),this.value+=l};const Cl=0,zc=1;var Ew=function(){var i=this.sizerChildren.knob;i.on("pointerdown",yw,this).on("pointermove",Tw,this).on("pointerup",Cw,this).setInteractive(),this.panPointer=void 0,this.panState=Cl},Pw=function(i,t){return this.textFormatCallback=i,this.textFormatCallbackScope=t,this},Xc=function(i){i===void 0&&(i=this.value);var t;return this.textFormatCallbackScope?t=this.textFormatCallback(i):t=this.textFormatCallback.call(this.textFormatCallbackScope,i),t},Mw=function(i){var t=this.sizerChildren.text;return t&&this.textFormatCallback&&(t.setText(Xc.call(this,i)),t.layout&&t.layout()),this};const Rw={setTextFormatCallback:Pw,getFormatText:Xc,updateText:Mw},He=Phaser.Utils.Objects.GetValue,Aw=Phaser.Math.Snap.To;class ww extends Ps(bi){constructor(t,s){s===void 0&&(s={}),super(t,s),this.type="rexKnob",this.bootProgressBase(s);var x=He(s,"background",void 0),E=He(s,"text",void 0);x&&this.addBackground(x),E&&(s.textColor=void 0,s.textStrokeColor=void 0,this.setTextFormatCallback(He(s,"textFormatCallback",void 0),He(s,"textFormatCallbackScope",void 0)));var A=new cc(t,s);A.setDepth(He(s,"knobDepth",0)),A._value=-1,t.add.existing(A),this.add(A,"knob"),E&&(this.add(E,"text","center",0,!1),t.children.moveBelow(A,E)),this.addChildrenMap("background",x),this.addChildrenMap("knob",A),this.addChildrenMap("text",E),this.setEnable(He(s,"enable",void 0)),this.setGap(He(s,"gap",void 0)),this.setValue(He(s,"value",0),He(s,"min",void 0),He(s,"max",void 0));var l=He(s,"input",0);switch(typeof l=="string"&&(l=Ow[l]),l){case 0:Ew.call(this);break;case 1:mw.call(this);break}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setGap(t){return this.gap=t,this}get value(){return this.sizerChildren.knob.value}set value(t){this.gap!==void 0&&(t=Aw(t,this.gap));var s=this.value;this.sizerChildren.knob.value=t;var x=this.value;s!==x&&(this.updateText(),this.eventEmitter.emit("valuechange",x,s,this.eventEmitter))}}const Ow={pan:0,drag:0,click:1,none:-1};Object.assign(ww.prototype,Rw);const Lw={arc:Aa,circle:Fo,curve:g2,ellipse:m2,line:x2,lines:tn,rectangle:X2,roundRectangle:ua,triangle:U2},Fd=Phaser.Utils.Objects.GetValue,Fw=Phaser.Utils.Objects.IsPlainObject,Dw=function(){for(var i=this.getShapes(),t=0,s=i.length;t<s;t++)i[t].lineStyle().fillStyle()},bw={createShape(i,t){var s=Lw[i],x=new s;return t&&x.setName(t),x},buildShapes(i){var t=Fd(i,"create",void 0);if(Fw(t)){var s=t;for(var x in s){var E=s[x];switch(typeof E){case"number":for(var A=0;A<E;A++)this.addShape(this.createShape(x));break;case"string":this.addShape(this.createShape(x,E));break;default:for(var l=E,A=0,T=l.length;A<T;A++)this.addShape(this.createShape(x,l[A]));break}}}else if(Array.isArray(t))for(var s=t,A=0,T=s.length;A<T;A++){var e=s[A];this.addShape(this.createShape(e.type,e.name))}else typeof t=="function"&&t.call(this);this.setUpdateShapesCallback(Fd(i,"update"))},setUpdateShapesCallback(i){return i===void 0&&(i=Dw),this.dirty=this.dirty||this.updateCallback!==i,this.updateCallback=i,this},updateShapes(){this.updateCallback.call(this)}},Dd=Phaser.GameObjects.Components.TransformMatrix,Bw=Phaser.Math.TransformXY;var Iw=function(i,t,s,x,E){x===void 0&&(x=i.scene.cameras.main),E===void 0?E={}:E===!0&&(E=Gw);var A=x.scrollX,l=x.scrollY,T=t+A*i.scrollFactorX-A,e=s+l*i.scrollFactorY-l;return i.parentContainer?(Vr===void 0&&(Vr=new Dd,bd=new Dd),i.getWorldTransformMatrix(Vr,bd),Vr.applyInverse(T,e,E)):Bw(T,e,i.x,i.y,i.rotation,i.scaleX,i.scaleY,E),E.x+=i.displayOriginX,E.y+=i.displayOriginY,E},Vr,bd,Gw={};const On=Phaser.Utils.Objects.GetValue,Nw=Phaser.Utils.Objects.IsPlainObject;class Yc extends Cs{constructor(t,s,x,E,A,l){Nw(s)&&(l=s,s=On(l,"x",0),x=On(l,"y",0),E=On(l,"width",2),A=On(l,"height",2)),super(t,s,x,E,A),this.type=On(l,"type","rexCustomShapes"),this.buildShapes(l)}get centerX(){return this.width/2}get centerY(){return this.height/2}worldToLocalXY(t,s,x,E){return typeof x=="boolean"&&(E=x,x=void 0),Iw(this,t,s,x,E)}}Object.assign(Yc.prototype,bw);const Ln=Phaser.Utils.Objects.GetValue,Vw=Phaser.Utils.Objects.IsPlainObject;class O9 extends Ps(Yc){constructor(t,s,x,E,A,l){Vw(s)&&(l=s,s=Ln(l,"x",0),x=Ln(l,"y",0),E=Ln(l,"width",2),A=Ln(l,"height",2)),l===void 0&&(l={}),l.type||(l.type="rexCustomProgress"),super(t,s,x,E,A,l),this.bootProgressBase(l),this.setValue(Ln(l,"value",0))}get centerX(){return this.width/2}get centerY(){return this.height/2}get radius(){return Math.min(this.centerX,this.centerY)}}const zw={setTransitionStartCallback(i,t){return this.onStartCallback=i,this.onStartCallbackScope=t,this},setTransitionProgressCallback(i,t){return this.onProgressCallback=i,this.onProgressCallbackScope=t,this},setTransitionCompleteCallback(i,t){return this.onCompleteCallback=i,this.onCompleteCallbackScope=t,this}},Bd=Phaser.Utils.Objects.IsPlainObject,Bh=Phaser.Utils.Objects.GetValue,Xw=Phaser.Utils.Array.GetRandom;var Yw={out:0,in:1},ni=function(i,t,...s){for(var x=0,E=s.length;x<E;x++){var A=s[x];if(A&&A.hasOwnProperty(i))return A[i]}return t};const Uw={setTransitionDirection(i){return typeof i=="string"&&(i=Yw[i]),this.dir=i,this},setDuration(i){return this.duration=i,this},setEaseFunction(i){return this.easeFunction=i,this},setNextTexture(i,t){return this.nextImage.setTexture(i,t),this},transit(i,t,s){if(this.isRunning&&(this.ignoreCompleteEvent=!0,this.stop(),this.ignoreCompleteEvent=!1),s!==void 0&&(i={key:i,frame:t,mode:s}),this.currentTransitionMode=void 0,Bd(i)){var x=i;i=Bh(x,"key",void 0),t=Bh(x,"frame",void 0),s=Bh(x,"mode"),Array.isArray(s)&&(s=Xw(s));var E;this.transitionModes&&this.transitionModes.hasOwnProperty(s)&&(E=this.transitionModes[s],this.currentTransitionMode=s),this.setDuration(ni("duration",this.duration,x,E)).setEaseFunction(ni("ease",this.easeFunction,x,E)).setTransitionDirection(ni("dir",this.dir,x,E));var A=ni("mask",void 0,x,E);A&&this.setMaskGameObject(A),this.setMaskEnable(A===!0);var l=ni("onStart",void 0,x,E),T=ni("onProgress",void 0,x,E),e=ni("onComplete",void 0,x,E);(l!==void 0||T!==void 0||e!==void 0)&&this.setTransitionStartCallback(l,ni("onStartScope",void 0,x,E)).setTransitionProgressCallback(T,ni("onProgressScope",void 0,x,E)).setTransitionCompleteCallback(e,ni("onCompleteScope",void 0,x,E))}return this.setNextTexture(i,t),this.start(),this},addTransitionMode(i,t){return this.transitionModes===void 0&&(this.transitionModes={}),Bd(i)&&(t=i,i=t.name,delete t.name),this.transitionModes[i]=t,this},start(){return this.easeValueTask===void 0&&(this.easeValueTask=new Ss(this,{eventEmitter:null})),this.easeValueTask.restart({key:"t",from:0,to:1,duration:this.duration,ease:this.easeFunction}),this},pause(){return this.easeValueTask&&this.easeValueTask.pause(),this},resume(){return this.easeValueTask&&this.easeValueTask.resume(),this},stop(){return this.easeValueTask&&this.easeValueTask.stop(),this.setT(1),this}};var Id=function(i,t,s,x,E){switch(this.clear().fillStyle(16777215),this.shape){case 1:var A=Math.min(i,t)/2;this.fillCircle(-i*(x-.5),-t*(E-.5),A+s);break;default:this.fillRect(-(i*x)-s,-(t*E)-s,i+2*s,t+2*s);break}};const Ww=Phaser.GameObjects.Graphics;class Io extends Ww{constructor(t,s,x){s===void 0&&(s=0),typeof s=="string"&&(s=kw[s]),x===void 0&&(x=0),super(t.scene),this.parent=t,this.shape=s,this.padding=x,this.setPosition().resize().setVisible(!1)}destroy(){return this.parent=void 0,super.destroy(),this}setPosition(t,s){var x=this.parent;return t===void 0&&(t=x.x),s===void 0&&(s=x.y),super.setPosition(t,s),this}resize(t,s,x){var E=this.parent;return t===void 0&&(t=E.width),s===void 0&&(s=E.height),x===void 0&&(x=this.padding),this.width===t&&this.height===s&&this.paddingSave===x?this:(this.width=t,this.height=s,this.originX=E.originX,this.originY=E.originY,this.paddingSave=x,Id.call(this,t,s,x,E.originX,E.originY),this)}setOrigin(t,s){s===void 0&&(s=t);var x=this.parent;return t===void 0&&(t=x.originX),s===void 0&&(s=x.originY),this.originX===t&&this.originY===s?this:(this.originX=t,this.originY=s,Id.call(this,this.width,this.height,this.paddingSave,t,s),this)}}const kw={rectangle:0,circle:1},Hw={setMaskGameObject(i){if(!i)return this.removeMaskGameObject(),this;if(this.maskGameObject){if(i===!0&&this.maskGameObject instanceof Io)return this;if(this.maskGameObject===i)return this;this.removeMaskGameObject()}return i===!0&&(i=new Io(this)),i.resize(this.width,this.height).setOrigin(this.originX,this.originY).setPosition(0,0).setScale(1).setVisible(!1),this.addLocal(i),this.maskGameObject=i,i._maskObject||(i._maskObject=i.createGeometryMask(),i.once("destroy",function(){i._maskObject.destroy(),i._maskObject=void 0})),this.childrenMask=i._maskObject,this},removeMaskGameObject(i){return i===void 0&&(i=!0),this.backImage.clearMask(),this.frontImage.clearMask(),this.childrenMask=void 0,this.remove(this.maskGameObject,i),this.maskGameObject=void 0,this},setImageMaskEnable(i,t,s){return t===void 0&&(t=!0),s===void 0&&(s=!1),t?(this.childrenMask||this.setMaskGameObject(!0),i.setMask(this.childrenMask),this.childrenMask.setInvertAlpha(s)):i.clearMask(),this},setCurrentImageMaskEnable(i,t){return this.setImageMaskEnable(this.currentImage,i,t),this},setNextImageMaskEnable(i,t){return this.setImageMaskEnable(this.nextImage,i,t),this},setCellImagesMaskEnable(i,t){for(var s=this.getCellImages(),x=0,E=s.length;x<E;x++)this.setImageMaskEnable(s[x],i,t);return this},setMaskEnable(i,t){return this.setImageMaskEnable(this.backImage,i,t),this.setImageMaskEnable(this.frontImage,i,t),this.setCellImagesMaskEnable(i,t),this}};var $w=function(i,t){t===void 0&&(t=",");var s;return i==="__BASE"?s=function(x,E){return`${x}${t}${E}`}:s=function(x,E){return`${i}_${x}${t}${E}`},s},Kw=function(i,t,s,x,E,A){s==null&&(s="__BASE"),A||(A=$w(s,A));for(var l=i.sys.textures.get(t),T=typeof s=="object"?s:l.get(s),e=T.width,u=T.height,m,d,o,h=e/x,n=u/E,r=0,f=0,a=0;a<E;a++){r=0;for(var v=0;v<x;v++)o=A(v,a),m=r+T.cutX,d=f+T.cutY,l.add(o,0,m,d,h,n),r+=h;f+=n}return{getFrameNameCallback:A,cellWidth:h,cellHeight:n,columns:x,rows:E}};const Ci=Phaser.Utils.Objects.GetValue,Zw=Phaser.GameObjects.Image,Jw=Phaser.Utils.Objects.IsPlainObject,Qw=Phaser.Math.RotateAround;var jw=function(i,t,s,x){Jw(t)&&(x=t,t=Ci(x,"columns",1),s=Ci(x,"rows",1));var E=Ci(x,"onCreateImage");if(!E){var A=Ci(x,"ImageClass",Zw);E=function(B,I,z){return new A(B,0,0,I,z)}}for(var l=Ci(x,"originX",.5),T=Ci(x,"originY",.5),e=Ci(x,"add",!0),u=Ci(x,"align",e),m=Ci(x,"objectPool",void 0),d=i.scene,o=i.texture,h=i.frame,n=Kw(d,o,h,t,s),r=n.getFrameNameCallback,f=i.scaleX,a=i.scaleY,v=i.rotation,p=i.getTopLeft(),c=p.x,g=p.y,y=[],S=n.cellWidth*f,P=n.cellHeight*a,C=0;C<s;C++)for(var M=0;M<t;M++){var R,w=r(M,C);m&&m.length>0?R=m.pop().setTexture(o,w):R=E(d,o,w),e&&d.add.existing(R);var O=c+S*M,F=g+P*C,L=O+l*S,b=F+T*P;u&&(R.setOrigin(l,T).setPosition(L,b).setScale(f,a).setRotation(v),Qw(R,c,g,v)),y.push(R)}return y};const qw={gridCutImage(i,t,s,x){x===void 0&&(x={}),x.objectPool=this.imagesPool;for(var E=jw(i,t,s,x),A,l=0,T=E.length;l<T;l++)A=E[l],A.setVisible(!0),this.add(A);return this.cellImages=E,this.setChildLocalVisible(i,!1),E},gridCutCurrentImage(i,t,s){return this.gridCutImage(this.currentImage,i,t,s)},gridCutNextImage(i,t,s){return this.gridCutImage(this.nextImage,i,t,s)},getCellImages(){return this.cellImages},freeCellImages(){if(this.cellImages.length===0)return this;for(var i=this.cellImages[0].texture,t=this.cellImages,s,x,E=0,A=t.length;E<A;E++)s=t[E],this.setChildLocalAlpha(s,1).setChildLocalScale(s,1).setChildLocalVisible(s,!1),s.clearMask(),x=s.frame.name,s.setTexture(),i.remove(x);return this.imagesPool.push(...t),t.length=0,this}},Uc={setFlipX(i){return this.flipX=i,this},setFlipY(i){return this.flipY=i,this},toggleFlipX(){return this.flipX=!this.flipX,this},toggleFlipY(){return this.flipY=!this.flipY,this},setFlip(i,t){return this.flipX=i,this.flipY=t,this},resetFlip(){return this.flipX=!1,this.flipY=!1,this}};var Wc={};Object.assign(Wc,zw,Uw,Hw,qw,Uc);var _w=function(i,t,s,x){},tO=function(i,t,s,x){i.setChildLocalAlpha(t,1-x).setChildLocalAlpha(s,x)},eO=function(i,t,s,x){i.setChildLocalAlpha(t,1)};const Gd=Phaser.Utils.Objects.IsPlainObject,te=Phaser.Utils.Objects.GetValue,iO=Phaser.Math.Clamp;class sO extends _e{constructor(t,s,x,E,A,l){Gd(s)?(l=s,s=te(l,"x",0),x=te(l,"y",0),E=te(l,"key",void 0),A=te(l,"frame",void 0)):Gd(A)&&(l=A,A=void 0);var T=te(l,"back",void 0),e=te(l,"front",void 0);T||(T=t.add.image(s,x,E,A)),e||(e=t.add.image(s,x,E,A));var u=te(l,"width",e.width),m=te(l,"height",e.height);super(t,s,x,u,m),this.type="rexTransitionImage",T.setVisible(!1),this.addMultiple([T,e]),this.backImage=T,this.frontImage=e,this.maskGameObject=void 0,this.cellImages=[],this.imagesPool=[],this.transitionModes=void 0,this.currentTransitionMode=void 0;var d=te(l,"onStart",void 0),o=te(l,"onProgress",void 0),h=te(l,"onComplete",void 0),n=te(l,"dir",0);d===void 0&&o===void 0&&h===void 0&&(d=_w,o=tO,h=eO,n=0),this.setTransitionStartCallback(d,te(l,"onStartScope",void 0)).setTransitionProgressCallback(o,te(l,"onProgressScope",void 0)).setTransitionCompleteCallback(h,te(l,"onCompleteScope",void 0)).setTransitionDirection(n).setDuration(te(l,"duration",1e3)).setEaseFunction(te(l,"ease","Linear"));var r=te(l,"mask",void 0);r&&this.setMaskGameObject(r),this.setMaskEnable(!1),this.ignoreCompleteEvent=!1}destroy(t){!this.scene||this.ignoreDestroy||(this.childrenMask&&(this.childrenMask.destroy(),this.childrenMask=void 0),this.backImage=void 0,this.frontImage=void 0,this.maskGameObject=void 0,this.cellImages.length=0,this.imagesPool.length=0,this.transitionModes=void 0,super.destroy(t),this.onStartCallback=void 0,this.onStartCallbackScope=void 0,this.onProgressCallback=void 0,this.onProgressCallbackScope=void 0,this.onCompleteCallback=void 0,this.onCompleteCallbackScope=void 0,this.easeValueTask=void 0)}get currentImage(){return this.dir===0?this.frontImage:this.backImage}get nextImage(){return this.dir===0?this.backImage:this.frontImage}get texture(){return this.nextImage.texture}get frame(){return this.nextImage.frame}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.backImage.setFlipX(t),this.frontImage.setFlipX(t))}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.backImage.setFlipY(t),this.frontImage.setFlipY(t))}get t(){return this._t}set t(t){if(t=iO(t,0,1),this._t!==t){this._t=t;var s=this.currentImage,x=this.nextImage;if(t===0&&(this.setChildVisible(this.frontImage,!0).setChildVisible(this.backImage,!0),Ih(this.onStartCallback,this.onStartCallbackScope,this,s,x,t)),Ih(this.onProgressCallback,this.onProgressCallbackScope,this,s,x,t),t===1){Ih(this.onCompleteCallback,this.onCompleteCallbackScope,this,s,x,t);var E=x.texture.key,A=x.frame.name;this.frontImage.setTexture(E,A),this.backImage.setTexture(E,A),this.setChildVisible(this.frontImage,!0).setChildVisible(this.backImage,!1).setMaskEnable(!1).freeCellImages()}t===1&&!this.ignoreCompleteEvent&&this.emit("complete")}}setT(t){return this.t=t,this}get isRunning(){return this.easeValueTask?this.easeValueTask.isRunning:!1}setOrigin(t,s){return super.setOrigin(t,s),this.backImage.setOrigin(t,s),this.frontImage.setOrigin(t,s),this.maskGameObject&&this.maskGameObject.setOrigin(t,s),this}setTexture(t,s){return this.frontImage.setTexture(t,s),this.backImage.setTexture(t,s).setVisible(!1),this}}var Ih=function(i,t,s,x,E,A){i&&(t?i.call(t,s,x,E,A):i(s,x,E,A))};Object.assign(sO.prototype,Wc);Phaser.Renderer.WebGL.Pipelines.PostFXPipeline;Phaser.Utils.Objects.GetValue;Phaser.Math.Clamp;Phaser.Utils.Array.SpliceOne;var nO=function(i,t,s){if(s===void 0?s={}:s===!0&&(s=rO),i.width<=t.width&&i.height<=t.height)return s.width=i.width,s.height=i.height,s;var x=i.width/i.height;s.width=Math.min(i.width,t.width),s.height=Math.min(i.height,t.height);var E=s.width/s.height;return E<x?s.height=s.width/x:E>x&&(s.width=s.height*x),s},rO={};const Nd=Phaser.Utils.Objects.IsPlainObject,as=Phaser.Utils.Objects.GetValue;class aO extends _e{constructor(t,s,x,E,A,l){Nd(s)?(l=s,s=as(l,"x",0),x=as(l,"y",0),E=as(l,"key",void 0),A=as(l,"frame",void 0)):Nd(A)&&(l=A,A=void 0);var T=as(l,"image");T?T.setPosition(s,x).setOrigin(.5):(T=t.add.image(s,x,E,A),E===void 0&&T.setVisible(!1)),super(t,s,x,1,1),this.type="rexImageBox",this.add(T),this.image=T;var e=as(l,"width",T.width),u=as(l,"height",T.height);this.resize(e,u)}get texture(){return this.image.texture}get frame(){return this.image.frame}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.image.setFlipX(t))}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.image.setFlipY(t))}scaleImage(){var t=this.image,s=nO(t,{width:this.width,height:this.height},!0);return t.setDisplaySize(s.width,s.height),this.resetChildScaleState(t),this}resize(t,s){return super.resize(t,s),this.scaleImage(),this}setTexture(t,s){var x=this.image;return x.setTexture(t,s),t!==null?(this.setChildVisible(x,!0),this.scaleImage()):this.setChildVisible(x,!1),this}}Object.assign(aO.prototype,Uc);var Sl=function(i,t){if(this.scene.sys.scale.autoRound&&(i=Math.floor(i),t=Math.floor(t)),this.width===i&&this.height===t)return this;var s=this.node.style;return s.width=`${i}px`,s.height=`${t}px`,this.updateSize(),this};const Vd={id:["id",void 0],text:["value",void 0],maxLength:["maxLength",void 0],minLength:["minLength",void 0],placeholder:["placeholder",void 0],tooltip:["title",void 0],readOnly:["readOnly",!1],spellCheck:["spellcheck",!1],autoComplete:["autocomplete","off"]},zd={align:["textAlign",void 0],paddingLeft:["padding-left",void 0],paddingRight:["padding-right",void 0],paddingTop:["padding-top",void 0],paddingBottom:["padding-bottom",void 0],fontFamily:["fontFamily",void 0],fontSize:["font-size",void 0],color:["color","#ffffff"],backgroundColor:["backgroundColor","transparent"],border:["border",0],borderColor:["borderColor","transparent"],outline:["outline","none"],direction:["direction",void 0]},hO={input:"textchange",click:"click",dblclick:"dblclick",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",keydown:"keydown",keyup:"keyup",keypress:"keypress",compositionstart:"compositionStart",compositionend:"compositionEnd",compositionupdate:"compositionUpdate",focus:"focus",blur:"blur",select:"select"},Xd=Phaser.Utils.Objects.GetValue;var kc=function(i,t,s,x){var E=Xd(x,"preventDefault",!1),A=Xd(x,"preTest");for(let l in s)t.addEventListener(l,function(T){(!A||A(i,l))&&i.emit(s[l],i,T),E&&T.preventDefault()})};const oO=Phaser.GameObjects.DOMElement,Yd=Phaser.Utils.Objects.IsPlainObject,ri=Phaser.Utils.Objects.GetValue;class Hc extends oO{constructor(t,s,x,E,A,l){Yd(s)?(l=s,s=ri(l,"x",0),x=ri(l,"y",0),E=ri(l,"width",0),A=ri(l,"height",0)):Yd(E)&&(l=E,E=ri(l,"width",0),A=ri(l,"height",0)),l===void 0&&(l={});var T,e=ri(l,"inputType",void 0);e===void 0&&(e=ri(l,"type","text")),e==="textarea"?(T=document.createElement("textarea"),T.style.resize="none"):(T=document.createElement("input"),T.type=e),la(Vd,l,T);var u=ri(l,"style",void 0);u=la(zd,l,u);var m=T.style;for(var d in l)d in Vd||d in zd||d in m&&(u[d]=l[d]);u["box-sizing"]="border-box",super(t,s,x,T,u),this.type="rexInputText",this.resize(E,A),kc(this,T,hO),ec(T),ri(l,"selectAll",!1)&&this.selectAll(),this._isFocused=!1,this.on("focus",function(){this._isFocused=!0},this).on("blur",function(){this._isFocused=!1},this)}get inputType(){return this.node.tagName.toLowerCase()==="textarea"?"textarea":this.node.type}get text(){return this.node.value}set text(t){this.node.value=t}setText(t){return this.text=t,this}get maxLength(){return this.node.maxLength}set maxLength(t){this.node.maxLength=t}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.node.minLength}set minLength(t){this.node.minLength=t}setMinLength(t){return this.minLength=t,this}get placeholder(){return this.node.placeholder}set placeholder(t){this.node.placeholder=t}setPlaceholder(t){return this.placeholder=t,this}selectText(t,s){return t===void 0?this.node.select():this.node.setSelectionRange(t,s),this}selectAll(){return this.selectText(),this}get selectionStart(){return this.node.selectionStart}get selectionEnd(){return this.node.selectionEnd}get selectedText(){var t=this.node;return t.value.substring(t.selectionStart,t.selectionEnd)}get cursorPosition(){return this.node.selectionStart}set cursorPosition(t){this.node.setSelectionRange(t,t)}setCursorPosition(t){return t===void 0?t=this.text.length:t<0&&(t=this.text.length+t),this.cursorPosition=t,this}get tooltip(){return this.node.title}set tooltip(t){this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.node.readOnly}set readOnly(t){this.node.readOnly=t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node.spellcheck}set spellCheck(t){this.node.spellcheck=t}setSpellCheck(t){return this.spellCheck=t,this}get fontColor(){return this.node.style.color}set fontColor(t){this.node.style.color=t}setFontColor(t){return this.fontColor=t,this}setStyle(t,s){return this.node.style[t]=s,this}getStyle(t){return this.node.style[t]}scrollToBottom(){return this.node.scrollTop=this.node.scrollHeight,this}setEnabled(t){return t===void 0&&(t=!0),this.node.disabled=!t,this}setBlur(){return this.node.blur(),this}setFocus(){return this.node.focus(),this}get isFocused(){return this._isFocused}}var lO={resize:Sl};Object.assign(Hc.prototype,lO);Phaser.Utils.Objects.GetValue;var uO=function(i,t){return i===void 0&&(i=0),new Promise(function(s,x){setTimeout(function(){s(t)},i)})},dO=function({game:i,fileInput:t,closeDelay:s}){return Jo(nn(i).events,"focus").then(function(){return uO(s)}).then(function(){var x={files:t.files};return Promise.resolve(x)})};Phaser.Utils.Objects.GetValue;var $c=function(i){return this.setOrigin(i.originX,i.originY),this.setPosition(i.x,i.y),this.resize(i.displayWidth,i.displayHeight),this},fO=function(i,t,s){if(s===void 0)switch(t){case"image":case"svg":s="textures";break;case"animation":s="json";break;case"tilemapTiledJSON":case"tilemapCSV":s="tilemap";break;case"glsl":s="shader";break;default:s=t;break}i=nn(i);var x;return s==="textures"?x=i.textures:x=i.cache[s],x},Kc=function(i,t,s,x,E,A){if(!(E===null||E===!1))if(Zi(E))E();else{var l=fO(i,s,E);l.exists(x)&&l.remove(x)}var T=i.load;if(A&&T.once(`filecomplete-${s}-${x}`,function(u,m,d){A(d)}),Zi(t))t();else{var e=window.URL.createObjectURL(t);T[s](x,e)}T.start()},vO=function(i,t,s,x,E){var A=this.scene;return Kc(A,i,t,s,x,E),this},cO=function(i,t,s,x){var E=this.scene;return new Promise(function(A,l){var T=function(e){A(e)};Kc(E,i,t,s,x,T)})};const Zc={loadFile:vO,loadFilePromise:cO},pO=Phaser.GameObjects.DOMElement,Ud=Phaser.Utils.Objects.IsPlainObject,ai=Phaser.Utils.Objects.GetValue;class Jc extends pO{constructor(t,s,x,E,A,l){Ud(s)?(l=s,s=ai(l,"x",0),x=ai(l,"y",0),E=ai(l,"width",0),A=ai(l,"height",0)):Ud(E)&&(l=E,E=ai(l,"width",0),A=ai(l,"height",0));var T=document.createElement("input");T.type="file";var e=T.style;e.display="none";var u=document.createElement("label");u.appendChild(T);var m=ai(l,"style",void 0);super(t,s,x,u,m),this.type="rexFileChooser",this.resetFromJSON(l),this.resize(E,A);var d=this;T.onchange=function(){d.emit("change",d)},this.setCloseDelay(ai(l,"closeDelay",200)),T.onclick=function(){dO({game:t,fileInput:T,closeDelay:d.closeDelay}).then(function(){d.emit("select",d)})}}resetFromJSON(t){return this.setAccept(ai(t,"accept","")),this.setMultiple(ai(t,"multiple",!1)),this}setAccept(t){return t===void 0&&(t=""),this.fileInput.setAttribute("accept",t),this}setMultiple(t){return t===void 0&&(t=!0),t?this.fileInput.setAttribute("multiple",""):this.fileInput.removeAttribute("multiple"),this}setCloseDelay(t){return t===void 0&&(t=200),this.closeDelay=t,this}get fileInput(){return this.node.children[0]}open(){return this.fileInput.click(),this}get files(){return this.fileInput.files}}var gO={resize:Sl,syncTo:$c};Object.assign(Jc.prototype,gO,Zc);const mO={setDropEnable(i){return i===void 0&&(i=!0),this.dropEnable=i,this},toggleDropEnable(){return this.dropEnable=!this.dropEnable,this}},xO={addFilter(i,t){return this.filters||(this.filters={}),this.filters[i]=t,this},addFilters(i){this.filters||(this.filters={});for(var t in i)this.filters[t]=i[t];return this}};var Qc={resize:Sl,syncTo:$c};Object.assign(Qc,mO,xO,Zc);const yO={dragenter:"dragenter",dragleave:"dragleave",dragover:"dragover",drop:"drop"},TO=Phaser.GameObjects.DOMElement,Wd=Phaser.Utils.Objects.IsPlainObject,Si=Phaser.Utils.Objects.GetValue;class CO extends TO{constructor(t,s,x,E,A,l){Wd(s)?(l=s,s=Si(l,"x",0),x=Si(l,"y",0),E=Si(l,"width",0),A=Si(l,"height",0)):Wd(E)&&(l=E,E=Si(l,"width",0),A=Si(l,"height",0)),l===void 0&&(l={});var T=document.createElement("div"),e=Si(l,"style",void 0);super(t,s,x,T,e),this.type="rexFileDropZone",this.resize(E,A),this._files=[],this.setDropEnable(Si(l,"dropEnable",!0));var u=Si(l,"filters");u&&this.addFilters(u),kc(this,T,yO,{preventDefault:!0,preTest(m){return m.dropEnable}}),this.on("drop",function(m,d){this._files=d.dataTransfer.files;var o=this._files;if(o&&this.filters)for(var h in this.filters){for(var n=this.filters[h],r=[],f=0,a=o.length;f<a;f++){var v=o[f];n(v,o)&&r.push(v)}r.length>0&&this.emit(`drop.${h}`,r)}},this)}get files(){return this._files}}Object.assign(CO.prototype,Qc);let SO=class extends ie{constructor(t,s){return super(t),new Proxy(this,this)}get(t,s){if(zt(t,s))return t[s];var x=t.parent;if(zt(x,s))return x[s]}set(t,s,x){return zt(t,s)?t[s]=x:zt(t.parent,s)&&(t.parent[s]=x),!0}get key(){return this.parent.texture.key}set key(t){this.parent.setTexture(t,this.frame)}get frame(){return this.parent.frame.name}set frame(t){this.parent.setFrame(t)}get scale(){return this.parent.scaleX}set scale(t){this.parent.setScale(t)}};const Gh=Phaser.Utils.Objects.GetValue;class EO extends ie{constructor(t,s){super(t,s),this.style=Gh(s,"style",this);var x=Gh(s,"propertiesMap");this.activeStyle=Nh(s,"active",x),this.hoverStyle=Nh(s,"hover",x),this.disableStyle=Nh(s,"disable",x),this.onModifyStyle=Gh(s,"onModifyStyle")}getStyle(t){return Qo(this.style,t)}modifyStyle(t){for(var s in t)this.style[s]=t[s];return this.onModifyStyle&&this.onModifyStyle(this.parent,t),this}applyStyle(t){if(t){var s=this.getStyle(t);if(!jo(s,t))return this.modifyStyle(t),s}}setActiveState(t){return Vh.call(this,"active",t),this}setHoverState(t){return Vh.call(this,"hover",t),this}setDisableState(t){return Vh.call(this,"disable",t),this}}var Nh=function(i,t,s){var x=wo(i,t);if(s)for(var E in x)s.hasOwnProperty(E)&&(x[s[E]]=x[E],delete x[E]);return x},Vh=function(i,t){t===void 0&&(t=!0);var s=`${i}State`,x=`${i}Style`,E=`${i}StyleSave`;this[s]!==t&&(this[s]=t,t?this[E]=this.applyStyle(this[x]):(this.applyStyle(this[E]),this[E]=void 0))};const Ba={addStyleManager(i){return this.styleManager=new EO(this,i),this},setActiveState(i){return this.styleManager.setActiveState(i),this},setHoverState(i){return this.styleManager.setHoverState(i),this},setDisableState(i){return this.styleManager.setDisableState(i),this}},PO=Phaser.GameObjects.Image,Fn=Phaser.Utils.Objects.GetValue;class El extends PO{constructor(t,s){s===void 0&&(s={});var x=Fn(s,"x",0),E=Fn(s,"y",0),A=Fn(s,"key",""),l=Fn(s,"frame",void 0);super(t,x,E,A,l),this.type="rexStatesImage";var T=Fn(s,"effects",!0);T&&Ea(this,T),this.style=new SO(this,s),s.style=this.style,this.addStyleManager(s),delete s.style}}Object.assign(El.prototype,Ba);class MO extends ie{constructor(t,s){return super(t),new Proxy(this,this)}get(t,s){if(zt(t,s))return t[s];var x=t.parent;if(zt(x,s))return x[s]}set(t,s,x){return zt(t,s)?t[s]=x:zt(t.parent,s)&&(t.parent[s]=x),!0}get key(){return this.parent.texture.key}set key(t){this.parent.setTexture(t,this.frame)}get frame(){return this.parent.frame.name}set frame(t){this.parent.setFrame(t)}get leftWidth(){return this.parent.leftWidth}set leftWidth(t){var s=this.parent;parent.setSlices(s.width,s.height,t,s.rightWidth,s.topHeight,s.bottomHeight)}get rightWidth(){return this.parent.rightWidth}set rightWidth(t){var s=this.parent;parent.setSlices(s.width,s.height,s.leftWidth,t,s.topHeight,s.bottomHeight)}get topHeight(){return this.parent.topHeight}set topHeight(t){var s=this.parent;parent.setSlices(s.width,s.height,s.leftWidth,s.rightWidth,t,s.bottomHeight)}get bottomHeight(){return this.parent.bottomHeight}set bottomHeight(t){var s=this.parent;parent.setSlices(s.width,s.height,s.leftWidth,s.rightWidth,s.topHeight,t)}}const RO=Phaser.GameObjects.NineSlice,$e=Phaser.Utils.Objects.GetValue;class jc extends RO{constructor(t,s){s===void 0&&(s={});var x=$e(s,"x",0),E=$e(s,"y",0),A=$e(s,"key",null),l=$e(s,"frame",null),T=$e(s,"width",0),e=$e(s,"height",0),u=$e(s,"leftWidth",0),m=$e(s,"rightWidth",0),d=$e(s,"topHeight",0),o=$e(s,"bottomHeight",0);super(t,x,E,A,l,T,e,u,m,d,o),this.type="rexStatesNineSlice";var h=$e(s,"effects",!0);h&&Ea(this,h),this.style=new MO(this,s),s.style=this.style,this.addStyleManager(s),delete s.style}}Object.assign(jc.prototype,Ba);class qc extends un{constructor(t,s){s===void 0&&(s={}),super(t,s),this.type="rexStatesRoundRectangleShape",s.style=this,s.propertiesMap=AO,this.addStyleManager(s),delete s.style,delete s.propertiesMap}}const AO={color:"fillColor",alpha:"fillAlpha",strokeWidth:"lineWidth"};Object.assign(qc.prototype,Ba);const wO=Phaser.GameObjects.Text,zh=Phaser.Utils.Objects.GetValue;class _c extends wO{constructor(t,s){s===void 0&&(s={});var x=zh(s,"x",0),E=zh(s,"y",0),A=zh(s,"text","");super(t,x,E,A,s),this.type="rexStatesText",s.style=this.style,s.onModifyStyle=function(l,T){var e=T.hasOwnProperty("fontStyle")||T.hasOwnProperty("fontSize")||T.hasOwnProperty("fontFamily");l.style.update(e)},this.addStyleManager(s),delete s.style}}Object.assign(_c.prototype,Ba);var OO=function(i){if(!window.Chart){var t=`Can not find chartjs! Load chartjs in preload stage.
scene.load.script('chartjs', 'https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.8.0/Chart.min.js');`;return console.error(t),this}return this.chart&&this.chart.destroy(),this.chart=new Chart(this.context,LO(this,i)),this},LO=function(i,t){t===void 0&&(t={}),t.options===void 0&&(t.options={});var s=t.options;s.responsive=!1,s.maintainAspectRatio=!1,s.hasOwnProperty("devicePixelRatio")||(s.devicePixelRatio=1);var x=!1;s.animation===void 0?s.animation={}:s.animation===!1&&(x=!0,s.animation={});var E=s.animation;x&&(E.duration=0);var A=E.onProgress;E.onProgress=function(T){A&&A(T),i.needRedraw()};var l=E.onComplete;return E.onComplete=function(T){l&&l(T),i.needRedraw()},t},FO=function(i){if(this.chart!==void 0)if(typeof i=="string"){for(var t=this.chart.data.datasets,s,x=0,E=t.length;x<E;x++)if(s=t[x],s.label===i)return s}else return this.chart.data.datasets[i]},DO=function(i,t){var s=this.getChartDataset(i);if(s!==void 0){if(typeof t=="string"){var x=this.chart.data.labels;if(t=x.indexOf(t),t===-1)return}return s.data[t]}},bO=function(i,t,s){if(this.chart===void 0)return this;var x=this.getChartDataset(i);if(typeof t=="string"){var E=this.chart.data.labels;if(t=E.indexOf(t),t===-1)return this}return x.data[t]=s,this},BO=function(){return this.chart===void 0?this:(this.chart.update(),this)};let IO=class extends wa{constructor(t,s,x,E,A,l){super(t,s,x,E,A),this.type="rexChart",this.chart=void 0,l!==void 0&&this.setChart(l)}destroy(t){this.scene&&(this.chart&&(this.chart.destroy(),this.chart=void 0),super.destroy(t))}resize(t,s){if(t===this.width&&s===this.height)return this;if(super.resize(t,s),this.chart){var x=this.chart;x.height=this.canvas.height,x.width=this.canvas.width,x.aspectRatio=x.height?x.width/x.height:null,x.update()}return this}};var GO={setChart:OO,getChartDataset:FO,getChartData:DO,setChartData:bO,updateChart:BO};Object.assign(IO.prototype,GO);var NO=function(i){if(this.rexSizer.hidden)return 0;i===void 0&&(i=!0);var t=0,s=this.sizerChildren,x,E,A;if(this.orientation===0)for(var l=this.space.item,T=!0,e=0,u=s.length;e<u;e++)x=s[e],!x.rexSizer.hidden&&(x.rexSizer.proportion===0||i?A=this.getChildWidth(x):A=0,E=x.rexSizer.padding,A+=E.left+E.right,T?T=!1:A+=l,t+=A);else for(var e=0,u=s.length;e<u;e++)x=s[e],x.hasOwnProperty("rexSizer")&&(x.rexSizer.hidden||(E=x.rexSizer.padding,A=this.getChildWidth(x)+E.left+E.right,t=Math.max(A,t)));return t+this.space.left+this.space.right},VO=function(i){if(this.rexSizer.hidden)return 0;i===void 0&&(i=!0);var t=0,s=this.sizerChildren,x,E,A;if(this.orientation===0)for(var l=0,T=s.length;l<T;l++)x=s[l],!x.rexSizer.hidden&&(E=x.rexSizer.padding,A=this.getChildHeight(x)+E.top+E.bottom,t=Math.max(A,t));else for(var e=this.space.item,u=!0,l=0,T=s.length;l<T;l++)x=s[l],x.hasOwnProperty("rexSizer")&&(x.rexSizer.hidden||(x.rexSizer.proportion===0||i?A=this.getChildHeight(x):A=0,E=x.rexSizer.padding,A+=E.top+E.bottom,u?u=!1:A+=e,t+=A));return t+this.space.top+this.space.bottom},zO=function(i,t){t===void 0&&(t=this.width);var s,x=i.rexSizer,E=x.padding;if(this.orientation===0)x.proportion>0&&this.proportionLength>0&&(s=x.proportion*this.proportionLength);else if(x.expand){var A=t-this.space.left-this.space.right;s=A-E.left-E.right}return s},XO=function(i,t){t===void 0&&(t=this.height);var s,x=i.rexSizer,E=x.padding;if(this.orientation===0){if(x.expand){var A=t-this.space.top-this.space.bottom;s=A-E.top-E.bottom}}else x.proportion>0&&this.proportionLength>0&&(s=x.proportion*this.proportionLength);return s},YO=function(i){i===void 0&&(i=[]);for(var t=this.sizerChildren,s,x=0,E=t.length;x<E;x++)s=t[x],s.isRexSizer&&i.push(s);return i},UO=function(){this.hasRatioFitChild=!1;for(var i=this.sizerChildren,t=0,s=i.length;t<s;t++){var x=i[t];x.rexSizer.hidden||x.rexSizer.fitRatio&&(Re(x,1,1),this.hasRatioFitChild=!0)}return this._childrenProportion=void 0,this.proportionLength=void 0,nr.call(this),this},WO=function(i,t){if(this.hasRatioFitChild){var s;this.orientation===0?s=t-this.getInnerPadding("top")-this.getInnerPadding("bottom"):i-this.getInnerPadding("left")-this.getInnerPadding("right");for(var x=this.sizerChildren,E,A,l=0,T=x.length;l<T;l++){var e=x[l];if(!e.rexSizer.hidden){var u=e.rexSizer.fitRatio;u&&(this.orientation===0?(A=s-this.getChildOuterPadding(e,"top")-this.getChildOuterPadding(e,"bottom"),E=A*u):(E=s-this.getChildOuterPadding(e,"top")-this.getChildOuterPadding(e,"bottom"),A=E/u),Re(e,E,A),e.isRexSizer&&e.setMinSize(E,A))}}this.proportionLength=void 0,this._childrenWidth=void 0,this.resolveWidth(i,!0)}};const kO=Phaser.Math.Wrap;var HO=function(){for(var i=this.sizerChildren,t,s,x,E=this.innerLeft,A=this.innerTop,l=this.innerWidth,T=this.innerHeight,e=E,u=A,m,d,o,h,n,r,f,a=this.startChildIndex,v=0,p=i.length;v<p;v++)a===0?f=v:f=kO(v+a,0,p),this.rtl&&(f=p-f-1),t=i[f],!t.rexSizer.hidden&&(s=t.rexSizer,x=s.padding,rr.call(this,t),t.isRexSpace?(n=0,r=0):(n=this.getExpandedChildWidth(t),r=this.getExpandedChildHeight(t)),t.isRexSizer?(t.runLayout(this,n,r),Tl(t,this)):Re(t,n,r),n===void 0&&(n=Bt(t)),r===void 0&&(r=At(t)),this.orientation===0?(m=e+x.left,s.proportion===0||this.proportionLength===0?o=n:o=s.proportion*this.proportionLength,d=u+x.top,h=T-x.top-x.bottom):(m=e+x.left,o=l-x.left-x.right,d=u+x.top,s.proportion===0||this.proportionLength===0?h=r:h=s.proportion*this.proportionLength),ar.call(this,t,m,d,o,h,s.align),this.orientation===0?e+=o+x.left+x.right+this.space.item:u+=h+x.top+x.bottom+this.space.item)},$O=function(t){var t=ul.call(this,t);if(this.proportionLength===void 0&&this.orientation===0){var s=t-this.childrenWidth;s>0?(s=t-this.getChildrenWidth(!1),this.proportionLength=s/this.childrenProportion):this.proportionLength=0}return t},KO=function(t){var t=dl.call(this,t);if(this.proportionLength===void 0&&this.orientation===1){var s=t-this.childrenHeight;s>0?(s=t-this.getChildrenHeight(!1),this.proportionLength=s/this.childrenProportion):this.proportionLength=0}return t};const ZO=Phaser.GameObjects.Zone;class JO extends ZO{constructor(t){super(t,0,0,1,1),this.isRexSpace=!0}}var QO=function(i,t){var s=this.sizerChildren;if(s.length===0)return-1;for(var x=-1,E=1/0,A=0,l=s.length;A<l;A++){var T=s[A],e;this.orientation===0?e=Math.abs(T.left-i):e=Math.abs(T.top-t),E>e&&(E=e,x=A)}var T=s[s.length-1],e;return this.orientation===0?e=Math.abs(T.right-i):e=Math.abs(T.bottom-t),E>e&&(E=e,x=A+1),x};const tp=Phaser.Utils.Objects.IsPlainObject,Ei=Phaser.Utils.Objects.GetValue,kd=Phaser.Display.Align.CENTER,jO={min:0,full:-1};var Xh=function(i,t,s,x,E,A,l,T,e,u){er.call(this,i);var m=i.isRexSpace,d=typeof t;if(t===null)return this;if(d!=="number"){if(d==="string")t=jO[t];else if(tp(t)){var o=t;t=Ei(o,"proportion",void 0),s=Ei(o,"align",kd),x=Ei(o,"padding",0),E=Ei(o,"expand",!1),A=Ei(o,"key",void 0),l=Ei(o,"index",void 0),i.isRexSizer||(T=Ei(o,"minWidth",void 0),e=Ei(o,"minHeight",void 0)),u=Ei(o,"fitRatio",0)}}typeof s=="string"&&(s=dn[s]),t===void 0&&(t=m?1:0),s===void 0&&(s=kd),x===void 0&&(x=0),E===void 0&&(E=!1),T===void 0&&(m?T=0:i.isRexSizer||(T=i._minWidth)),e===void 0&&(m?e=0:i.isRexSizer||(e=i._minHeight)),u===void 0&&(u=0);var o=this.getSizerConfig(i);return o.proportion=t,o.align=s,o.padding=fn(x),o.expand=E,o.fitRatio=t===0?u:0,l===void 0||l>=this.sizerChildren.length?this.sizerChildren.push(i):this.sizerChildren.splice(l,0,i),i.isRexSizer||(t>0&&(this.orientation===0?i.minWidth=T===void 0?Bt(i):T:i.minHeight=e===void 0?At(i):e),E&&(this.orientation===0?i.minHeight=e:i.minWidth=T)),A!==void 0&&this.addChildrenMap(A,i),this};const qO={add:Xh,addSpace(i){return this.insertSpace(void 0,i),this},insertSpace(i,t){return t===void 0&&(t=1),Xh.call(this,new JO(this.scene),{proportion:t,minWidth:0,minHeight:0,index:i}),this},insert(i,t,s,x,E,A,l,T){return tp(s)&&(s.index=i),Xh.call(this,t,s,x,E,A,l,i,T),this},insertAtPosition(i,t,s,x,E,A,l,T,e){var u=QO.call(this,i,t);return u===-1&&(u=void 0),this.insert(u,s,x,E,A,l,T,e),this}},_O=Phaser.Utils.Array.Remove,tL={remove(i,t){return this.getParentSizer(i)!==this?this:(_O(this.sizerChildren,i),ir.call(this,i,t),this)},removeAll(i){for(var t=this.sizerChildren.length-1;t>=0;t--)this.remove(this.sizerChildren[t],i);return this},clear(i){return this.sizerChildren.length=0,Da.call(this,i),this}},eL={getChildAlign(i){return this.getSizerConfig(i).align},setChildAlign(i,t){return typeof t=="string"&&(t=dn[t]),this.getSizerConfig(i).align=t,this}},iL={getChildProportion(i){return this.getSizerConfig(i).proportion},setChildProportion(i,t){return this.getSizerConfig(i).proportion=t,this}},sL={getChildExpand(i){return this.getSizerConfig(i).expand},setChildExpand(i,t){return this.getSizerConfig(i).expand=t,this}};var ep={getChildrenWidth:NO,getChildrenHeight:VO,getExpandedChildWidth:zO,getExpandedChildHeight:XO,getChildrenSizers:YO,preLayout:UO,postResolveSize:WO,layoutChildren:HO,resolveWidth:$O,resolveHeight:KO};Object.assign(ep,qO,tL,eL,iL,sL);var nL=function(){for(var i=0,t=this.sizerChildren,s,x,E=0,A=t.length;E<A;E++)s=t[E],!s.rexSizer.hidden&&(x=s.rexSizer.proportion,x>0&&(i+=x));return i},rL={x:0,h:0,horizontal:0,"left-to-right":0,y:1,v:1,vertical:1,"top-to-bottom":1},Ia=function(i){return typeof i=="string"&&(i=rL[i]),i};const Yh=Phaser.Utils.Objects.IsPlainObject,De=Phaser.Utils.Objects.GetValue;class bt extends Rs{constructor(t,s,x,E,A,l,T){Yh(s)?(T=s,s=De(T,"x",0),x=De(T,"y",0),E=De(T,"width",void 0),A=De(T,"height",void 0),l=De(T,"orientation",0)):Yh(E)?(T=E,E=De(T,"width",void 0),A=De(T,"height",void 0),l=De(T,"orientation",0)):Yh(l)&&(T=l,l=De(T,"orientation",0)),l===void 0&&(l=0),super(t,s,x,E,A,T),this.type="rexSizer",this.sizerChildren=[],this.setOrientation(l),this.setItemSpacing(De(T,"space.item",0)),this.setStartChildIndex(De(T,"startChildIndex",0)),this.setRTL(De(T,"rtl",!1)),this.addChildrenMap("items",this.sizerChildren)}setOrientation(t){return this.orientation=Ia(t),this}setItemSpacing(t){return this.space.item=t,this}setStartChildIndex(t){return this.startChildIndex=t,this}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get childrenProportion(){return this._childrenProportion===void 0&&(this._childrenProportion=nL.call(this)),this._childrenProportion}}Object.assign(bt.prototype,ep);var ip=function(){return Array.prototype.reduce.call(arguments,aL,0)},aL=function(i,t){return i+t},hL=function(i){if(this.rexSizer.hidden)return 0;i===void 0&&(i=!0);for(var t=0,s,x=this.sizerChildren,E,A,l,T,e=0;e<this.columnCount;e++){if(T=this.columnProportions[e],s=0,T===0||i){for(var u=0;u<this.rowCount;u++)E=x[u*this.columnCount+e],E&&(E.rexSizer.hidden||(A=E.rexSizer.padding,l=this.getChildWidth(E)+A.left+A.right,s=Math.max(s,l)));t+=s}this.columnWidth[e]=s}var m=this.space,d=Math.max(m.indentLeftOdd,m.indentLeftEven);return t+ip(m.left,d,...m.column,m.right)},oL=function(i){if(this.rexSizer.hidden)return 0;i===void 0&&(i=!0);for(var t=0,s,x=this.sizerChildren,E,A,l,T,e=0;e<this.rowCount;e++){if(T=this.rowProportions[e],s=0,T===0||i){for(var u=0;u<this.columnCount;u++)E=x[e*this.columnCount+u],E&&(E.rexSizer.hidden||(l=E.isRexSizer?Math.max(E.minHeight,E.childrenHeight):E.hasOwnProperty("minHeight")?E.minHeight:At(E),A=E.rexSizer.padding,l+=A.top+A.bottom,s=Math.max(s,l)));t+=s}this.rowHeight[e]=s}var m=this.space,d=Math.max(m.indentTopOdd,m.indentTopEven);return t+ip(m.top,d,...m.row,m.bottom)},lL=function(i,t){var s,x=i.rexSizer;if(x.expandWidth){var E=x.padding;s=t-E.left-E.right}return s},uL=function(i,t){var s,x=i.rexSizer;if(x.expandHeight){var E=x.padding;s=t-E.top-E.bottom}return s},dL=function(i){i===void 0&&(i=[]);for(var t=this.sizerChildren,s,x=0,E=t.length;x<E;x++)s=t[x],s&&s.isRexSizer&&i.push(s);return i},fL=function(){return this._totalColumnProportions=void 0,this._totalRowProportions=void 0,this.proportionWidthLength=void 0,this.proportionHeightLength=void 0,nr.call(this),this},vL=function(){for(var i,t,s,x=this.innerLeft,E=this.innerTop,A,l=E,T,e,u,m,d,o,h=this.space.column,n=this.space.row,r=this.space.indentLeftOdd,f=this.space.indentLeftEven,a=this.space.indentTopOdd,v=this.space.indentTopEven,p,c,g,y,S=0;S<this.rowCount;S++){c=this.getRowHeight(S),g=S%2?f:r,A=x+g;for(var P=0;P<this.columnCount;P++){if(p=this.getColumnWidth(P),i=this.getChildAt(P,S),!i||i.rexSizer.hidden){A+=p+h[P];continue}rr.call(this,i),d=this.getExpandedChildWidth(i,p),o=this.getExpandedChildHeight(i,c),i.isRexSizer?(i.runLayout(this,d,o),Tl(i,this)):Re(i,d,o),t=i.rexSizer,s=t.padding,T=A+s.left,u=p-s.left-s.right,y=P%2?v:a,e=l+y+s.top,m=c-s.top-s.bottom,ar.call(this,i,T,e,u,m,t.align),A+=p+h[P]}l+=c+n[S]}},cL=function(t){var t=ul.call(this,t);if(this.proportionWidthLength===void 0){var s=this.totalColumnProportions;if(s>0){var x=t-this.getChildrenWidth(!1);x>=0&&(this.proportionWidthLength=x/s)}else this.proportionWidthLength=0}return t},pL=function(t){var t=dl.call(this,t);if(this.proportionHeightLength===void 0){var s=this.totalRowProportions;if(s>0){var x=t-this.getChildrenHeight(!1);x>=0&&(this.proportionHeightLength=x/s)}else this.proportionHeightLength=0}return t},gL=function(i){var t,s,x;for(var E in this.sizerChildren)t=this.sizerChildren[E],t&&t.isRexSizer&&!t.ignoreLayout&&(x=this.getColumnWidth(parseInt(E)%this.columnCount),s=this.getExpandedChildWidth(t,x),s=t.resolveWidth(s),t.resolveChildrenWidth(s))},mL=function(i){var t,s,x;for(var E in this.sizerChildren)t=this.sizerChildren[E],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runWidthWrap)&&(x=this.getColumnWidth(parseInt(E)%this.columnCount),s=this.getExpandedChildWidth(t,x),t.isRexSizer&&(s=t.resolveWidth(s)),t.runWidthWrap(s));return this};const Hd=Phaser.Utils.Objects.IsPlainObject,Xi=Phaser.Utils.Objects.GetValue,$d=Phaser.Display.Align.CENTER;var Kd=function(i,t,s,x,E){if(typeof i=="number"||typeof t=="number")if(i===void 0){for(var A,l=0;l<x;l++)if(A=t*x+l,!s[A])return A}else if(t===void 0){for(var A,l=0;l<E;l++)if(A=l*x+i,!s[A])return A}else{var A=t*x+i;if(!s[A])return A}else if(t===!0){for(var A,l=0;l<x;l++)for(var T=0;T<E;T++)if(A=T*x+l,!s[A])return A}else for(var l=0,e=s.length;l<e;l++)if(!s[l])return l;return null},xL=function(i,t,s,x,E,A,l){if(er.call(this,i),Hd(t)){var e=t;t=Xi(e,"column",void 0),s=Xi(e,"row",void 0),x=Xi(e,"align",$d),E=Xi(e,"padding",0),A=Xi(e,"expand",!1),l=Xi(e,"key",void 0)}var T=Kd(t,s,this.sizerChildren,this.columnCount,this.rowCount);if(T===null){if(typeof t=="number"&&typeof s=="number")return this;s===!0||typeof s=="number"?this.addEmptyColumn():this.addEmptyRow(),T=Kd(t,s,this.sizerChildren,this.columnCount,this.rowCount)}typeof x=="string"&&(x=dn[x]),x===void 0&&(x=$d),E===void 0&&(E=0),A===void 0&&(A=!0);var e=this.getSizerConfig(i);return e.align=x,e.padding=fn(E),Hd(A)?(e.expandWidth=Xi(A,"width",!1),e.expandHeight=Xi(A,"height",!1)):(e.expandWidth=A,e.expandHeight=A),this.sizerChildren[T]=i,l!==void 0&&this.addChildrenMap(l,i),this};const yL={add:xL};var en=function(i,t,s,x){s===void 0&&(s=0),x===void 0&&(x=i.length-1);for(var E=s;E<=x;E++)i[E]=t;return i};const TL={remove(i,t){if(this.getParentSizer(i)!==this)return this;var s=this.sizerChildren.indexOf(i);return s!==-1&&(this.sizerChildren[s]=null),ir.call(this,i,t),this},removeAt(i,t,s){var x=this.getChildAt(i,t);return x&&this.remove(x,s),this},removeAll(i){for(var t=this.sizerChildren.length-1;t>=0;t--){var s=this.sizerChildren[t];s&&this.remove(s,i)}return this},clear(i){return en(this.sizerChildren,null),Da.call(this,i),this}},CL={setColumnSpace(i){if(this.space.column||(this.space.column=[]),this.space.column.length=this.columnCount-1,typeof i=="number")en(this.space.column,i);else for(var t=0,s=this.columnCount-1;t<s;t++)this.space.column[t]=i[t]||0;return this},setRowSpace(i){if(this.space.row||(this.space.row=[]),this.space.row.length=this.rowCount-1,typeof i=="number")en(this.space.row,i);else for(var t=0,s=this.rowCount-1;t<s;t++)this.space.row[t]=i[t]||0;return this},setIndentLeft(i,t){return this.space.indentLeftOdd=i,this.space.indentLeftEven=t,this},setIndentTop(i,t){return this.space.indentTopOdd=i,this.space.indentTopEven=t,this}},Zd=Phaser.Utils.Objects.GetValue;var SL=function(i,t,s,x,E){if(s===void 0&&(s=0),x===void 0&&(x=0),this.columnCount=i,this.rowCount=t,this.gridCount=i*t,this.removeAll(),this.sizerChildren.length=i*t,en(this.sizerChildren,null),this.columnProportions=[],this.columnProportions.length=i,typeof s=="number")en(this.columnProportions,s);else for(var A=0;A<i;A++)this.columnProportions[A]=s[A]||0;if(this.rowProportions=[],this.rowProportions.length=t,typeof x=="number")en(this.rowProportions,x);else for(var A=0;A<t;A++)this.rowProportions[A]=x[A]||0;this.columnWidth=[],this.columnWidth.length=i,this.rowHeight=[],this.rowHeight.length=t,this.setColumnSpace(Zd(E,"column",0)),this.setRowSpace(Zd(E,"row",0));var l=this.scene,T=this.createCellContainerCallback;if(T)for(var e=0,u=this.rowCount;e<u;e++)for(var m=0,d=this.columnCount;m<d;m++){var o={column:m,row:e},h=T(l,m,e,o);h&&this.add(h,o)}return this},sp=function(i,t,s){t===void 0&&(t=this.rowProportions[0]||0),s===void 0&&(s=this.space.row[0]||0),this.rowCount+=1,this.gridCount+=this.columnCount;for(var x=[i*this.columnCount,0],E=0;E<this.columnCount;E++)x.push(null);return this.sizerChildren.splice.apply(this.sizerChildren,x),this.rowProportions.push(t),this.rowHeight.length+=1,this.space.row.splice(i,0,s),this},EL=function(i,t){return sp.call(this,this.rowCount,i,t),this},np=function(i,t,s){t===void 0&&(t=this.columnProportions[0]||0),s===void 0&&(s=this.space.column[0]||0),this.columnCount+=1,this.gridCount+=this.rowCount;for(var x=this.rowCount-1;x>=0;x--){var E=x*this.columnCount+i;this.sizerChildren.splice(E,0,null)}return this.columnProportions.push(t),this.columnWidth.length+=1,this.space.column.splice(i,0,s),this},PL=function(i,t){return np.call(this,this.columnCount,i,t),this},rp={getChildrenWidth:hL,getChildrenHeight:oL,getExpandedChildWidth:lL,getExpandedChildHeight:uL,getChildrenSizers:dL,preLayout:fL,layoutChildren:vL,resolveWidth:cL,resolveHeight:pL,resolveChildrenWidth:gL,runWidthWrap:mL,resetGrid:SL,inseryEmptyRow:sp,addEmptyRow:EL,insertEmptyColumn:np,addEmptyColumn:PL};Object.assign(rp,yL,TL,CL);var ML=function(){for(var i=0,t,s=0;s<this.columnCount;s++)t=this.columnProportions[s],t>0&&(i+=t);return i},RL=function(){for(var i=0,t,s=0;s<this.rowCount;s++)t=this.rowProportions[s],t>0&&(i+=t);return i};const zr=Phaser.Utils.Objects.IsPlainObject,It=Phaser.Utils.Objects.GetValue;class As extends Rs{constructor(t,s,x,E,A,l,T,e,u,m){zr(s)?(m=s,s=It(m,"x",0),x=It(m,"y",0),E=It(m,"width",void 0),A=It(m,"height",void 0),l=It(m,"column",m.col||0),T=It(m,"row",0),e=It(m,"columnProportions",0),u=It(m,"rowProportions",0)):zr(E)?(m=E,E=It(m,"width",void 0),A=It(m,"height",void 0),l=It(m,"column",m.col||0),T=It(m,"row",0),e=It(m,"columnProportions",0),u=It(m,"rowProportions",0)):zr(l)?(m=l,l=It(m,"column",m.col||0),T=It(m,"row",0),e=It(m,"columnProportions",0),u=It(m,"rowProportions",0)):zr(e)&&(m=e,e=It(m,"columnProportions",0),u=It(m,"rowProportions",0)),super(t,s,x,E,A,m),this.type="rexGridSizer",this.sizerChildren=[],this.addChildrenMap("items",this.sizerChildren),this.setCreateCellContainerCallback(It(m,"createCellContainerCallback")),this.setIndentLeft(It(m,"space.indentLeftOdd",0),It(m,"space.indentLeftEven",0)),this.setIndentTop(It(m,"space.indentTopOdd",0),It(m,"space.indentTopEven",0)),this.resetGrid(l,T,e,u,It(m,"space",void 0))}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.columnProportions=void 0,this.rowProportions=void 0,this.columnWidth=void 0,this.rowHeight=void 0,this.createCellContainerCallback=void 0)}setColumnProportion(t,s){return t>=this.columnProportions.length?this:(this.columnProportions[t]=s,this)}setRowProportion(t,s){return t>=this.rowProportions.length?this:(this.rowProportions[t]=s,this)}get totalColumnProportions(){return this._totalColumnProportions===void 0&&(this._totalColumnProportions=ML.call(this)),this._totalColumnProportions}get totalRowProportions(){return this._totalRowProportions===void 0&&(this._totalRowProportions=RL.call(this)),this._totalRowProportions}getChildAt(t,s){return this.sizerChildren[s*this.columnCount+t]}childToGridIndex(t,s){if(!t)return null;var x=this.sizerChildren.indexOf(t);return x===-1?null:(s===void 0&&(s={}),s.x=x%this.columnCount,s.y=Math.floor(x/this.columnCount),s)}getColumnWidth(t){var s=this.columnProportions[t],x=s===0?this.columnWidth[t]:s*this.proportionWidthLength;return x}getRowHeight(t){var s=this.rowProportions[t],x=s===0?this.rowHeight[t]:s*this.proportionHeightLength;return x}setCreateCellContainerCallback(t){return this.createCellContainerCallback=t,this}}Object.assign(As.prototype,rp);var AL=function(){return this.rexSizer.hidden?0:this.maxChildWidth+this.space.left+this.space.right},wL=function(){return this.rexSizer.hidden?0:this.widthWrapResult.height+this.space.top+this.space.bottom},OL=function(i){i===void 0&&(i=[]);for(var t=this.sizerChildren,s,x=0,E=t.length;x<E;x++)s=t[x],s!==`
`&&s.isRexSizer&&i.push(s);return i},LL=function(){return this._maxChildWidth=void 0,this._maxChildHeight=void 0,nr.call(this),this},FL=function(){for(var i=this.innerWidth,t=this.justifyPercentage,s=this.space.item,x=this.space.line,E=this.space.indentLeftOdd,A=this.space.indentLeftEven,l=this.space.indentTopOdd,T=this.space.indentTopEven,e,u,m,d=0,o,h,n=this.innerLeft,r=this.innerTop,f,a,v,p,c=this.widthWrapResult.lines,g,y,S,P,C=r,M=0,R=c.length;M<R;M++){switch(g=c[M],y=g.children,this.rtl&&y.reverse(),o=M%2?A:E,P=n+o,S=i-g.width,this.align){case 0:break;case 1:P+=S;break;case 2:P+=S/2;break;case 3:d=Uh(i,S,t,y.length);break;case 4:d=Uh(i,S,t,y.length),d===0&&(P+=S);break;case 5:d=Uh(i,S,t,y.length),d===0&&(P+=S/2);break}for(var w=!0,O=0,F=y.length;O<F;O++)e=y[O],!e.rexSizer.hidden&&(u=e.rexSizer,m=u.padding,rr.call(this,e),f=P+m.left,w?w=!1:f+=s,h=O%2?T:l,a=C+h+m.top,v=Bt(e),p=At(e),P=f+v+m.right+d,ar.call(this,e,f,a,v,p,u.align));C+=g.height+x}},Uh=function(i,t,s,x){return t/i<=s?t/(x-1):0},DL=function(i,t){t===void 0?t={lines:[],width:0,height:0}:(t.lines.length=0,t.width=0,t.height=0);for(var s=this.sizerChildren,x=this.space.item,E=this.space.line,A=this.space.indentLeftOdd,l=this.space.indentLeftEven,T=this.space.indentTopOdd,e=this.space.indentTopEven,u,m,d,o=0,h,n=t.lines,r=void 0,f,a=0,v=s.length;a<v;a++){if(u=s[a],u===`
`)u=void 0,m=0,f=!0;else{if(u.rexSizer.hidden)continue;u.isRexSizer&&u.layout(),m=bL(u),f=o<m||r===void 0}if(f){r&&(r.width=i-(o+x),t.width=Math.max(t.width,r.width),t.height+=r.height+E),r={children:[],height:0},n.push(r);var h=n.length%2?A:l;o=i-h}o-=m+x,u&&(r.children.push(u),d=BL(u),r.height=Math.max(r.height,d))}return r&&(r.width=i-(o+x),t.width=Math.max(t.width,r.width),t.height+=r.height),t.height+=Math.max(T,e),t},bL=function(i){var t=i.rexSizer.padding;return Bt(i)+t.left+t.right},BL=function(i){var t=i.rexSizer.padding;return At(i)+t.top+t.bottom},IL=function(i){var t=i-this.space.left-this.space.right;this.widthWrapResult=DL.call(this,t,this.widthWrapResult),Sc.call(this,i)};const Jd=Phaser.Math.Distance.Between;var GL=function(i,t){var s=this.sizerChildren;if(s.length===0)return-1;for(var x=-1,E=1/0,A=0,l=s.length;A<l;A++){var T=s[A];if(!(Math.abs(T.centerY-t)>T.height/2)){var u=Jd(T.left,T.centerY,i,t);E>u&&(E=u,x=A);var e=s[A+1];if(!(e&&e.y===T.y)){var u=Jd(T.right,T.centerY,i,t);E>u&&(E=u,x=A+1)}}}return x};const NL=Phaser.Utils.Objects.IsPlainObject,Wh=Phaser.Utils.Objects.GetValue,VL=Phaser.Display.Align.CENTER;var kh=function(i,t,s,x){if(i===`
`)return this.addNewLine(),this;if(er.call(this,i),NL(t)){var E=t;t=Wh(E,"padding",0),s=Wh(E,"key",void 0),x=Wh(E,"index",void 0)}t===void 0&&(t=0);var E=this.getSizerConfig(i);return E.align=VL,E.padding=fn(t),x===void 0||x>=this.sizerChildren.length?this.sizerChildren.push(i):this.sizerChildren.splice(x,0,i),s!==void 0&&this.addChildrenMap(s,i),this};const zL={add(i,t,s){if(Li(i))for(var x=i,E=0,A=x.length;E<A;E++)kh.call(this,x[E],t);else kh.call(this,i,t,s);return this},addNewLine(){return this.sizerChildren.push(`
`),this},insert(i,t,s,x){return kh.call(this,t,s,x,i),this},insertAtPosition(i,t,s,x,E){var A=GL.call(this,i,t);return A===-1&&(A=void 0),this.insert(A,s,x,E),this}},XL=Phaser.Utils.Array.Remove,YL={remove(i,t){return this.getParentSizer(i)!==this?this:(XL(this.sizerChildren,i),ir.call(this,i,t),this)},removeAll(i){for(var t=this.sizerChildren.length-1;t>=0;t--)this.remove(this.sizerChildren[t],i);return this},clear(i){return this.sizerChildren.length=0,Da.call(this,i),this}};var ap={getChildrenWidth:AL,getChildrenHeight:wL,getChildrenSizers:OL,preLayout:LL,layoutChildren:FL,runWidthWrap:IL};Object.assign(ap,zL,YL);var UL=function(i){i===void 0&&(i=this.sizerChildren);for(var t=0,s,x,E=0,A=i.length;E<A;E++)s=i[E],s!==`
`&&(x=this.getChildWidth(s),t=Math.max(x,t));return t},WL=function(i){i===void 0&&(i=this.sizerChildren);for(var t=0,s,x,E=0,A=i.length;E<A;E++)s=i[E],s!==`
`&&(x=s.isRexSizer?Math.max(s.minHeight,s.childrenHeight):s.hasOwnProperty("minHeight")?s.minHeight:At(s),t=Math.max(x,t));return t};const Qd=Phaser.Utils.Objects.IsPlainObject,he=Phaser.Utils.Objects.GetValue;class hr extends Rs{constructor(t,s,x,E,A,l){Qd(s)?(l=s,s=he(l,"x",0),x=he(l,"y",0),E=he(l,"width",void 0),A=he(l,"height",void 0)):Qd(E)&&(l=E,E=he(l,"width",void 0),A=he(l,"height",void 0)),super(t,s,x,E,A,l),this.type="rexFixWidthSizer",this.sizerChildren=[],this.setOrientation(he(l,"orientation",0)),this.setItemSpacing(he(l,"space.item",0)),this.setLineSpacing(he(l,"space.line",0)),this.setIntentLeft(he(l,"space.indentLeftOdd",0),he(l,"space.indentLeftEven",0)),this.setIntentTop(he(l,"space.indentTopOdd",0),he(l,"space.indentTopEven",0)),this.setAlign(he(l,"align",0)),this.setJustifyPercentage(he(l,"justifyPercentage",.25)),this.setRTL(he(l,"rtl",!1)),this.addChildrenMap("items",this.sizerChildren)}setOrientation(t){return this.orientation=Ia(t),this}setItemSpacing(t){return this.space.item=t,this}setLineSpacing(t){return this.space.line=t,this}setIntentLeft(t,s){return this.space.indentLeftOdd=t,this.space.indentLeftEven=s,this}setIntentTop(t,s){return this.space.indentTopOdd=t,this.space.indentTopEven=s,this}setAlign(t){return typeof t=="string"&&(t=kL[t]),this.align=t,this}setJustifyPercentage(t){return this.justifyPercentage=t,this}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get maxChildWidth(){return this._maxChildWidth===void 0&&(this._maxChildWidth=UL.call(this)),this._maxChildWidth}get maxChildHeight(){return this._maxChildHeight===void 0&&(this._maxChildHeight=WL.call(this)),this._maxChildHeight}}const kL={left:0,top:0,right:1,bottom:1,center:2,justify:3,"justify-left":3,"justify-top":3,"justify-right":4,"justify-bottom":4,"justify-center":5};Object.assign(hr.prototype,ap);var Xr=function(i,t,s){if(i){var x=t==null,E=s==null;return x&&E||(x||(i.displayWidth=t),E||(i.displayHeight=s),x&&(i.scaleX=i.scaleY),E&&(i.scaleY=i.scaleX)),i}},HL=function(i){i===void 0?i={}:typeof i=="string"&&(i={text:i});var t=i.text||"";this.setText(t);var s=this.childrenMap.icon;if(s){i.icon?this.show(s):this.hide(s);var x=i.iconSize;x&&(this.setChildDisplaySize(s,x,x),this.iconWidth!==void 0&&this.setIconSize(x)),i.icon!==!0&&this.setIconTexture(i.icon,i.iconFrame)}var E=this.childrenMap.action;if(E){i.action?this.show(E):this.hide(E);var A=i.actionSize;A&&(this.setChildDisplaySize(E,A,A),this.actionWidth!==void 0&&this.setActionSize(A)),i.action!==!0&&this.setActionTexture(i.action,i.actionFrame)}return this},$L={appendText:fv,resetDisplayContent:HL};class hp extends bt{get text(){var t=this.childrenMap.text;return t?t.text:""}set text(t){var s=this.childrenMap.text;s&&s.setText(t)}setText(t){return this.text=t,this}setIconTexture(t,s){var x=this.childrenMap.icon;return x?(x.setTexture(t,s),this.iconWidth!==void 0&&(Xr(x,this.iconWidth,this.iconHeight),this.resetChildScaleState(x)),this):this}setTexture(t,s){return this.setIconTexture(t,s),this}setIconSize(t,s){return s===void 0&&(s=t),this.iconWidth=t,this.iconHeight=s,this}get texture(){var t=this.childrenMap.icon;if(t)return t.texture}get frame(){var t=this.childrenMap.icon;if(t)return t.frame}setActionTexture(t,s){var x=this.childrenMap.action;return x===void 0?this:(x.setTexture(t,s),this.actionWidth!==void 0&&(Xr(x,this.actionWidth,this.actionHeight),this.resetChildScaleState(x)),this)}get actionTexture(){var t=this.childrenMap.action;if(t)return t.texture}get actionFrame(){var t=this.childrenMap.action;if(t)return t.frame}setActionSize(t,s){return s===void 0&&(s=t),this.actionWidth=t,this.actionHeight=s,this}preLayout(){var t=this.childrenMap.icon;t&&this.iconWidth!==void 0&&Xr(t,this.iconWidth,this.iconHeight);var s=this.childrenMap.action;s&&this.actionWidth!==void 0&&Xr(s,this.actionWidth,this.actionHeight),super.preLayout()}runLayout(t,s,x){if(this.ignoreLayout)return this;super.runLayout(t,s,x);var E=this.childrenMap.iconMask;E&&(E.setPosition(),this.resetChildPositionState(E));var A=this.childrenMap.actionMask;return A&&(A.setPosition(),this.resetChildPositionState(A)),this}resize(t,s){super.resize(t,s);var x=this.childrenMap.iconMask;x&&x.resize();var E=this.childrenMap.actionMask;return E&&E.resize(),this}}Object.assign(hp.prototype,$L);var on=function(i,t,s,x){var E=new Io(t,s,x);if(i&&!i.isRexSizer){var A=E.createGeometryMask();i.setMask(A),this.once("destroy",function(){i.setMask(),A.destroy()})}return this.pin(E),E};const Ft=Phaser.Utils.Objects.GetValue;class Ga extends hp{constructor(t,s){super(t,s),this.type="rexLabel";var x=Ft(s,"background",void 0),E=Ft(s,"icon",void 0),A=Ft(s,"iconMask",void 0),l=Ft(s,"text",void 0),T=Ft(s,"action",void 0),e=Ft(s,"actionMask",void 0),u=Ft(s,"align",void 0);if(x&&this.addBackground(x),(u==="right"||u==="bottom"||u==="center")&&this.addSpace(),E){var m;this.orientation===0?(l||T)&&(m={right:Ft(s,"space.icon",0),top:Ft(s,"space.iconTop",0),bottom:Ft(s,"space.iconBottom",0)}):(l||T)&&(m={bottom:Ft(s,"space.icon",0),left:Ft(s,"space.iconLeft",0),right:Ft(s,"space.iconRight",0)});var d=Ft(s,"squareFitIcon",!1)?1:0;if(this.add(E,{proportion:0,padding:m,fitRatio:d}),A&&(A=on.call(this,E,E,1)),!d){var o=Ft(s,"iconSize",void 0);this.setIconSize(Ft(s,"iconWidth",o),Ft(s,"iconHeight",o))}}if(l){var h=Ft(s,"space.text",0),n=Ft(s,"expandTextWidth",!1),r=Ft(s,"expandTextHeight",!1),f,m,a;this.orientation===0?(f=n?1:0,T&&(m={right:h}),a=r):(f=r?1:0,T&&(m={bottom:h}),a=n),this.add(l,{proportion:f,expand:a,padding:m})}if(T){var m;this.orientation===0?m={top:Ft(s,"space.actionTop",0),bottom:Ft(s,"space.actionBottom",0)}:m={left:Ft(s,"space.actionLeft",0),right:Ft(s,"space.actionRight",0)};var d=Ft(s,"squareFitAction",!1)?1:0;if(this.add(T,{proportion:0,padding:m,fitRatio:d}),e&&(e=on.call(this,T,T,1)),!d){var v=Ft(s,"actionSize");this.setActionSize(Ft(s,"actionWidth",v),Ft(s,"actionHeight",v))}}u==="center"&&this.addSpace(),this.addChildrenMap("background",x),this.addChildrenMap("icon",E),this.addChildrenMap("iconMask",A),this.addChildrenMap("text",l),this.addChildrenMap("action",T),this.addChildrenMap("actionMask",e)}}var Ne=function(i,t){var s;t&&(t.hasOwnProperty("type")?s=t.type:t.hasOwnProperty("leftWidth")?s="nineSlice":t.hasOwnProperty("key")&&(s="image"));var x;switch(s){case"image":x=new El(i,t);break;case"nineSlice":t.hasOwnProperty("stretchMode")?x=new jf(i,t):x=new jc(i,t);break;default:x=new qc(i,t);break}return i.add.existing(x),x};const $s=Phaser.Utils.Objects.GetValue,KL=Phaser.GameObjects.BitmapText;var op=function(i,t){var s=$s(t,"$type");s===void 0&&$s(t,"key")&&(s="bitmaptext");var x;switch(s){case"bitmaptext":case"bitmap":var E=$s(t,"key"),A=$s(t,"size");A===void 0&&(A=$s(t,"fontSize")),x=new KL(i,0,0,E,"",A);var l=$s(t,"color");l!==void 0&&x.setTint(l);break;case"bbcodetext":case"bbcode":x=new tx(i,0,0,"",t);break;case"text":default:x=new _c(i,t);break}return i.add.existing(x),x};const ZL=Phaser.GameObjects.BitmapText;var lp=function(i){return i instanceof ZL};const JL=Phaser.GameObjects.Text;var Pl=function(i){return i instanceof JL},QL=function(i){var t=function(s){var x=i.padding,E=s-x.left-x.right,A=i.style;return Pl(i)?(A.wordWrapWidth=E,A.maxLines=0):(A.wrapMode===0&&(A.wrapMode=1),A.wrapWidth=E,A.maxLines=0),A.fixedWidth=s,A.fixedHeight=0,i.updateText(),i.minHeight=i.height,i};return t},jL=function(i){var t=function(s){return i.setFixedSize(s,0).runWordWrap(),i.minHeight=i.height,i};return t},qL=function(i){var t=function(s){return i.setMaxWidth(s),i.minHeight=i.height,i};return t},_L=function(i){return i instanceof Sa},tF=function(i,t){return t===void 0&&(t=0),i._minWidth=t,i.runWidthWrap=_L(i)?jL(i):lp(i)?qL(i):QL(i),i},jd=function(i,t){var s=new El(i,t);return i.add.existing(s),s};const Dn=Phaser.Utils.Objects.GetValue;var Ml=function(i,t,s){t=t?We(t):{};var x=Dn(s,"background",Ne),E=Dn(s,"text",op),A=Dn(s,"icon",jd),l=Dn(s,"action",jd);if(x?t.background=x(i,t.background):delete t.background,E){var T=Dn(t,"wrapText",!1);T&&(T===!0&&(T="word"),Wi(t,"text.wrap.mode",T),t.expandTextWidth=!0),t.text=E(i,t.text),T&&(t.text=tF(t.text))}else delete t.text;return A&&t.icon!==null?t.icon=A(i,t.icon):delete t.icon,l&&t.action!==null?t.action=l(i,t.action):delete t.action,t};class eF extends Ga{constructor(t,s,x){s=Ml(t,s,x),super(t,s),this.type="rexSimpleLabel"}setActiveState(t){return Hh(this.getChildren(),"setActiveState",t),this}setHoverState(t){return Hh(this.getChildren(),"setHoverState",t),this}setDisableState(t){return Hh(this.getChildren(),"setDisableState",t),this}}var Hh=function(i,t,s){for(var x=0,E=i.length;x<E;x++){var A=i[x];A&&A[t]&&A[t](s)}};Phaser.Utils.Objects.GetValue;Phaser.Utils.Objects.GetValue;Phaser.Utils.Objects.GetValue;const Dt=Phaser.Utils.Objects.GetValue,iF=Phaser.Utils.Objects.IsPlainObject;var sF=function(i,t){var s=Dt(t,"background",void 0),x=Dt(t,"icon",void 0),E=Dt(t,"iconMask",void 0),A=Dt(t,"nameText",void 0),l=Dt(t,"valueText",void 0),T=Dt(t,"bar",void 0),e=Dt(t,"action",void 0),u=Dt(t,"actionMask",void 0);iF(T)&&(T=new FP(i,T),i.add.existing(T),A&&i.children.moveBelow(T,A),l&&i.children.moveBelow(T,l));var m=A||l||T;if(s&&this.addBackground(s),x){var d=void 0;this.orientation===0?(m||e)&&(d={right:Dt(t,"space.icon",0),top:Dt(t,"space.iconTop",0),bottom:Dt(t,"space.iconBottom",0)}):(m||e)&&(d={bottom:Dt(t,"space.icon",0),left:Dt(t,"space.iconLeft",0),right:Dt(t,"space.iconRight",0)}),this.add(x,{proportion:0,padding:d}),E&&(E=on.call(this,x,x,1))}if(m){var o=new bt(i,{orientation:1}),h;if(A||l){if(h=new bt(i,{orientation:0}),A){A.text===""&&A.setText(" "),A.setOrigin(0,A.originY);var d={left:Dt(t,"space.name",0)};h.add(A,{padding:d})}if(l){l.text===""&&l.setText(" "),l.setOrigin(1,l.originY),h.addSpace();var d={right:Dt(t,"space.value",0)};h.add(l,{padding:d}),this.setValueTextFormatCallback(Dt(t,"valueTextFormatCallback",nF),Dt(t,"valueTextFormatCallbackScope",void 0))}o.add(h,{expand:!0})}if(T){var d={top:h?Dt(t,"space.bar",0):0,bottom:Dt(t,"space.barBottom",0),left:Dt(t,"space.barLeft",0),right:Dt(t,"space.barRight",0)};o.add(T,{expand:!0,padding:d})}var d=void 0;e&&(d={right:Dt(t,"space.text",0)});var n=Dt(t,"align.text","bottom");this.add(o,{proportion:1,align:n,padding:d})}if(e){var d;this.orientation===0?d={top:Dt(t,"space.actionTop",0),bottom:Dt(t,"space.actionBottom",0)}:d={left:Dt(t,"space.actionLeft",0),right:Dt(t,"space.actionRight",0)},this.add(e,{proportion:0,padding:d}),u&&(u=on.call(this,e,e,1))}this.addChildrenMap("background",s),this.addChildrenMap("icon",x),this.addChildrenMap("iconMask",E),this.addChildrenMap("name",A),this.addChildrenMap("value",l),this.addChildrenMap("bar",T),this.addChildrenMap("action",e),this.addChildrenMap("actionMask",u)},nF=function(i,t,s){return i.toString()};const rF=Phaser.Math.Clamp,aF={setValueTextFormatCallback(i,t){return this.valueTextFormatCallback=i,this.valueTextFormatCallbackScope=t,this},getFormatValueText(i,t,s){i===void 0&&(i=this.value),t===void 0&&(t=this.minValue),s===void 0&&(s=this.maxValue);var x;return this.valueTextFormatCallbackScope?x=this.valueTextFormatCallback(i,t,s):x=this.valueTextFormatCallback.call(this.valueTextFormatCallbackScope,i,t,s),x},updateValueText(i,t,s){var x=this.childrenMap.value;return x&&this.valueTextFormatCallback&&(x.setText(this.getFormatValueText(i,t,s)),x.layout&&x.layout()),this},setValue(i,t,s){return i=rF(i,t,s),this.value=i,this.minValue=t,this.maxValue=s,this.updateValueText(i,t,s),this.setBarValue(i,t,s),this}};class hF extends bt{constructor(t,s){super(t,s),this.type="rexNameValueLabel",sF.call(this,t,s)}get nameText(){var t=this.childrenMap.name;return t===void 0?"":t.text}set nameText(t){var s=this.childrenMap.name;s!==void 0&&s.setText(t)}setNameText(t){return this.nameText=t,this}get valueText(){var t=this.childrenMap.value;return t===void 0?"":t.text}set valueText(t){var s=this.childrenMap.value;s!==void 0&&s.setText(t)}setValueText(t){return this.valueText=t,this}get barValue(){var t=this.childrenMap.bar;if(t!==void 0)return t.value}set barValue(t){var s=this.childrenMap.bar;s!==void 0&&s.setValue(t)}setBarValue(t,s,x){var E=this.childrenMap.bar;return E===void 0?this:(E.setValue(t,s,x),this)}easeBarValueTo(t,s,x){var E=this.childrenMap.bar;return E===void 0?this:(E.easeValueTo(t,s,x),this)}setTexture(t,s){var x=this.childrenMap.icon;if(x!==void 0)return x.setTexture(t,s),this}get texture(){var t=this.childrenMap.icon;if(t!==void 0)return t.texture}get frame(){var t=this.childrenMap.icon;if(t!==void 0)return t.frame}runLayout(t,s,x){if(this.ignoreLayout)return this;super.runLayout(t,s,x);var E=this.childrenMap.iconMask;E&&(E.setPosition(),this.resetChildPositionState(E));var A=this.childrenMap.actionMask;return A&&(A.setPosition(),this.resetChildPositionState(A)),this}resize(t,s){super.resize(t,s);var x=this.childrenMap.iconMask;x&&x.resize();var E=this.childrenMap.actionMask;return E&&E.resize(),this}}Object.assign(hF.prototype,aF);const Yr=bt.prototype.add,qd=bt.prototype.addSpace;var $h=function(i){var t=!i.isRexSpace,s=!t||this.buttonsExpand?1:0;if(this.sizerChildren.length===0)if(t){var x=!this.buttonsExpand&&(this.buttonsAlign==="right"||this.buttonsAlign==="center"||this.buttonsAlign==="bottom");x&&qd.call(this),Yr.call(this,i,{proportion:s,expand:!0});var E=!this.buttonsExpand&&this.buttonsAlign==="center";E&&qd.call(this),this.hasTailSpace=E}else Yr.call(this,i,{proportion:s,expand:!0}),this.hasTailSpace=!1;else if(this.hasTailSpace){var A=this.sizerChildren.length-1;Yr.call(this,i,{index:A,proportion:s,expand:!0})}else Yr.call(this,i,{proportion:s,expand:!0});return t&&this.buttonGroup.add(i),this};const oF={addButton(i){if(Li(i))for(var t=i,s=0,x=t.length;s<x;s++)$h.call(this,t[s]);else $h.call(this,i);return this},addButtons(i){for(var t=0,s=i.length;t<s;t++)$h.call(this,i[t]);return this}},lF=bt.prototype.remove,uF=bt.prototype.clear;var Kh=function(i,t){return this.getParentSizer(i)!==this?this:(this.buttonGroup.remove(i),lF.call(this,i,t),this)};const dF={remove(i,t){if(Li(i))for(var s=i,x=0,E=s.length;x<E;x++)Kh.call(this,s[x],t);else Kh.call(this,i,t);return this},clear(i){var t=this.buttonGroup.buttons;return t.length=0,uF.call(this,i),this},removeButton(s,t){var s=this.getButton(s);return s?(this.remove(s,t),this):this},clearButtons(i){for(var t=this.buttonGroup.buttons,s=t.length-1;s>=0;s--)Kh.call(this,t[s],i);return this}};var fF=function(i,t,s){if(i){var x=this.setValueCallback,E=this.setValueCallbackScope;x&&(E?x.call(E,i,t,s):x(i,t,s)),this.fireEvent("button.statechange",i,t,s)}},vF=function(i){var t=this;i._selected=void 0,Object.defineProperty(i,"selected",{get:function(){return i._selected},set:function(s){if(i._selected!==s){var x=i._selected;i._selected=s,fF.call(t,i,s,x)}},enumerable:!0,configurable:!0}),i.selected=!1};const cF={add(i){return this.buttons.push(i),i._click||(i._click=new Es(i,this.clickConfig),i._click.on("click",function(t,s,x,E){this.fireEvent("button.click",s,x,E)},this).on("enable",function(t,s){this.fireEvent("button.enable",s)},this).on("disable",function(t,s){this.fireEvent("button.disable",s)},this),i.on("pointerover",function(t,s,x,E){this.fireEvent("button.over",i,t,E)},this).on("pointerout",function(t,s){this.fireEvent("button.out",i,t,s)},this).on("pointerdown",function(t,s,x,E){this.fireEvent("button.down",i,t,E)},this).on("pointerup",function(t,s){this.fireEvent("button.up",i,t,s)},this)),this.buttonsType&&(i.name===void 0&&console.error(`${this.parent.constructor.name}: Option button miss value`),vF.call(this,i)),this},addMultiple(i){for(var t=0,s=i.length;t<s;t++)this.add(i[t]);return this}},pF=Phaser.Utils.Array.Remove,gF={remove(i){return this.buttonsType&&delete i.selected,pF(this.buttons,i),this},clear(){if(this.buttonsType)for(var i=this.buttons,t=0,s=i.length;t<s;t++)delete i[t].selected;return this.buttons.length=0,this}};var mF=function(i,t,...s){var x;if(typeof t=="number"){if(x=t,t=this.buttons[x],!t)return}else if(x=this.buttons.indexOf(t),x===-1)return;this.eventEmitter!==this.parent&&this.parent.emit(i,t,x,...s),this.groupName!==void 0?this.eventEmitter.emit(i,t,this.groupName,x,...s):this.eventEmitter.emit(i,t,x,...s)};const bn=Phaser.Utils.Objects.GetValue,xF={setButtonsType(i){i===void 0&&(i={});var t=bn(i,"buttonsType",i.type);if(this.buttonsType=t,!this.buttonsType)return this;var s,x;switch(s=bn(i,"setValueCallback",void 0),x=bn(i,"setValueCallbackScope",void 0),s===void 0&&(s=bn(i,"setButtonStateCallback",void 0),x=bn(i,"setButtonStateCallbackScope",void 0)),this.setValueCallback=s,this.setValueCallbackScope=x,t){case"radio":this.setRadioType();break;case"checkboxes":this.setCheckboxesType();break}return this},setRadioType(){var i=this.parent,t=this.buttons;i._value=void 0;var s=void 0;return Object.defineProperty(i,"value",{get:function(){return i._value},set:function(x){if(i._value!==x){i._value=x;for(var E=0,A=t.length;E<A;E++){var l=t[E];l.rexSizer.hidden||(s===void 0?l.name===x?l.selected=!0:l.selected=!1:s===E?l.selected=!0:l.selected=!1)}}},enumerable:!0,configurable:!0}),i.on("button.click",function(x){s=this.buttons.indexOf(x),i.value=x.name,s=void 0},this),this},setCheckboxesType(){var i=this.parent;return i.on("button.click",function(t){t.selected=!t.selected}),this},clearAllButtonsState(){for(var i=this.buttons,t=0,s=i.length;t<s;t++){var x=i[t];x.selected=!1}return this},getAllButtonsState(){for(var i={},t=this.buttons,s=0,x=t.length;s<x;s++){var E=t[s];E.rexSizer.hidden||(i[E.name]=E.selected)}return i},setSelectedButtonName(i){return this.parent.value=i,this},getSelectedButtonName(){return this.parent.value},setButtonState(i,t){t===void 0&&(t=!0);for(var s=this.buttons,x=0,E=s.length;x<E;x++){var A=s[x];if(!A.rexSizer.hidden&&A.name===i){A.selected=t;break}}return this},getButtonState(i){for(var t=this.buttons,s=0,x=t.length;s<x;s++){var E=t[s];if(!E.rexSizer.hidden&&E.name===i)return E.selected}}};var yF=function(i,t){if(i)if(Li(i)){for(var s,x=0,E=i.length;x<E;x++)if(s=_d(i[x],t),s)return s}else{var s;for(var A in i)if(s=_d(i[A],t),s)return s}else return null},_d=function(i,t){return i?i.hasOwnProperty("name")?i.name===t?i:null:GetElementByName(i,t):null};const Na={getButton(i){var t=this.buttons,s,x=typeof i;switch(x){case"number":s=t[i];break;case"string":s=yF(t,i);break;default:s=i,t.indexOf(s)===-1&&(s=void 0);break}return s},setButtonEnable(i,t){var s=this.buttons;if(i===void 0||typeof i=="boolean"){t=i;for(var x=0,E=s.length;x<E;x++)s[x]._click.setEnable(t)}else this.getButton(i)._click.setEnable(t);return this},toggleButtonEnable(i){var t=this.buttons;if(i===void 0||typeof i=="boolean")for(var s=0,x=t.length;s<x;s++)t[s]._click.toggleEnable();else this.getButton(i)._click.toggleEnable();return this},getButtonEnable(i){return i===void 0&&(i=0),this.getButton(i)._click.enable},emitButtonClick(i){var t=this.buttonGroup?this.buttonGroup:this;return t.fireEvent("button.click",i),this},showButton(i){return cs(this.getButton(i)),this},hideButton(i){return ps(this.getButton(i)),this},isButtonShown(i){return Pc(this.getButton(i)),this},forEachButtton(i,t){for(var s=this.buttons,x=0,E=s.length;x<E;x++)t?i.call(t,s[x],x,s):i(s[x],x,s);return this}};class Va{constructor(t){this.parent=t.parent,this.eventEmitter=t.eventEmitter,this.groupName=t.groupName,this.clickConfig=t.clickConfig,this.buttonsType=void 0,this.buttons=[]}destroy(){this.parent=void 0,this.eventEmitter=void 0,this.clickConfig=void 0,this.buttons=void 0}}var TF={fireEvent:mF};Object.assign(Va.prototype,cF,gF,xF,Na,TF);const Rl={clearAllButtonsState(){return this.buttonGroup.clearAllButtonsState(),this},getAllButtonsState(){return this.buttonGroup.getAllButtonsState()},setSelectedButtonName(i){return this.buttonGroup.setSelectedButtonName(i),this},getSelectedButtonName(){return this.buttonGroup.getSelectedButtonName()},setButtonState(i,t){return this.buttonGroup.setButtonState(i,t),this},getButtonState(i){return this.buttonGroup.getButtonState(i)}},hs=Phaser.Utils.Objects.GetValue;let ce=class extends bt{constructor(t,s){s===void 0&&(s={});var x=s.space;typeof x=="number"&&(s.space={item:x}),super(t,s),this.type="rexButtons",this.buttonGroup=new Va({parent:this,eventEmitter:hs(s,"eventEmitter",this),groupName:hs(s,"groupName",void 0),clickConfig:hs(s,"click",void 0)}).setButtonsType(s);var E=hs(s,"background",void 0),A=hs(s,"buttons",void 0);this.buttonsExpand=hs(s,"expand",!1),this.buttonsAlign=hs(s,"align",void 0),E&&this.addBackground(E),A&&this.addButtons(A),this.addChildrenMap("background",E),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}};Object.assign(ce.prototype,oF,dF,Na,Rl);const CF=As.prototype.add,SF={addButton(i,t,s){return CF.call(this,i,t,s,void 0,0,this.buttonsExpand),this.buttonGroup.add(i),this},addButtons(i,t){for(var s=0,x=i;s<x;s++)this.addButton(i[s],void 0,t);return this}},EF=As.prototype.remove,PF=As.prototype.clear;var Zh=function(s,t){var s=this.getButton(s);return s?(this.buttonGroup.remove(s),EF.call(this,s,t),this):this};const MF={remove(i,t){if(Li(i))for(var s=i,x=0,E=s.length;x<E;x++)Zh.call(this,s[x],t);else Zh.call(this,i,t);return this},clear(i){var t=this.buttonGroup.buttons;return t.length=0,PF.call(this,i),this},removeButton(i,t){return this.remove(i,t),this},clearButtons(i){for(var t=this.buttonGroup.buttons,s=t.length-1;s>=0;s--)Zh.call(this,t[s],i);return this}},hi=Phaser.Utils.Objects.GetValue;class up extends As{constructor(t,s){s===void 0&&(s={});var x=hi(s,"row",0),E=hi(s,"column",s.col||0),A=hi(s,"createCellContainerCallback"),l=hi(s,"buttons",void 0),T=hi(s,"expand",!0),e=T?1:0;if(A&&(s.createCellContainerCallback=void 0),l!==void 0){x=Math.max(x,l.length);for(var u=0,m=l.length;u<m;u++)E=Math.max(E,l[u].length)}s.row=x,s.column=E,s.columnProportions=e,s.rowProportions=e,super(t,s),this.type="rexGridButtons",this.buttonGroup=new Va({parent:this,eventEmitter:hi(s,"eventEmitter",this),groupName:hi(s,"groupName",void 0),clickConfig:hi(s,"click",void 0)}).setButtonsType(s);var d=hi(s,"background",void 0);if(this.buttonsExpand=T,hi(s,"space",void 0),d&&this.addBackground(d),l)for(var o,h,n=0,r=l.length;n<r;n++){o=l[n];for(var f=0,a=o.length;f<a;f++)h=o[f],h&&this.addButton(h,f,n)}else if(A)for(var v=0;v<x;v++)for(var p=0;p<E;p++){var h=A(t,p,v);h&&this.addButton(h,p,v)}this.addChildrenMap("background",d),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}}Object.assign(up.prototype,SF,MF,Na,Rl);const dp=hr.prototype.add;var Ur=function(i){return dp.call(this,i),this.buttonGroup.add(i),this};const RF={addButton(i){if(Li(i))for(var t=i,s=0,x=t.length;s<x;s++)Ur.call(this,t[s]);else Ur.call(this,i);return this},addButtons(i){if(Li(i[0]))for(var t=i,s,x=0,E=t.length-1;x<=E;x++){s=t[x];for(var A=0,l=s.length;A<l;A++)Ur.call(this,s[A]);x>E&&dp.addNewLine(this)}else for(var A=0,l=i.length;A<l;A++)Ur.call(this,i[A]);return this}},AF=hr.prototype.remove,wF=hr.prototype.clear;var Jh=function(s,t){var s=this.getButton(s);return s?(this.buttonGroup.remove(s),AF.call(this,s,t),this):this};const OF={remove(i,t){if(Li(i))for(var s=i,x=0,E=s.length;x<E;x++)Jh.call(this,s[x],t);else Jh.call(this,i,t);return this},clear(i){var t=this.buttonGroup.buttons;return t.length=0,wF.call(this,i),this},removeButton(i,t){return this.remove(i,t),this},clearButtons(i){for(var t=this.buttonGroup.buttons,s=t.length-1;s>=0;s--)Jh.call(this,t[s],i);return this}},Ks=Phaser.Utils.Objects.GetValue;class kn extends hr{constructor(t,s){s===void 0&&(s={});var x=s.space;typeof x=="number"&&(s.space={item:x,line:x}),super(t,s),this.type="rexFixWidthButtons",this.buttonGroup=new Va({parent:this,eventEmitter:Ks(s,"eventEmitter",this),groupName:Ks(s,"groupName",void 0),clickConfig:Ks(s,"click",void 0)}).setButtonsType(s);var E=Ks(s,"background",void 0),A=Ks(s,"buttons",void 0);this.buttonsAlign=Ks(s,"align",void 0),E&&this.addBackground(E),A&&this.addButtons(A),this.addChildrenMap("background",E),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}}Object.assign(kn.prototype,RF,OF,Na,Rl);const LF={setAccept(i){return this.childrenMap.fileChooser.setAccept(i),this},setMultiple(i){return this.childrenMap.fileChooser.setMultiple(i),this},loadFile(i,t,s,x,E){return this.childrenMap.fileChooser.loadFile(i,t,s,x,E),this},loadFilePromise(i,t,s,x){return this.childrenMap.fileChooser.loadFilePromise(i,t,s,x)}},tf=Phaser.Utils.Objects.GetValue;class FF extends Ga{constructor(t,s){super(t,s),this.type="rexFileSelectorButton";var x=new Jc(t);t.add.existing(x),this.addBackground(x),this.addChildrenMap("fileChooser",x),this.setAccept(tf(s,"accept","")),this.setMultiple(tf(s,"multiple",!1)),x.on("change",function(E){var A=E.files;A.length!==0&&(A=Array.from(A),this.emit("select",A,this))},this)}get files(){return this.childrenMap.fileChooser.files}}Object.assign(FF.prototype,LF);const DF={getChoice(i){var t=this.childrenMap.choicesSizer;if(t)return t.getButton(i)},getAction(i){return this.childrenMap.actionsSizer.getButton(i)},getToolbar(i){return this.childrenMap.toolbarSizer.getButton(i)},getLeftToolbar(i){return this.childrenMap.leftToolbarSizer.getButton(i)},setChoiceEnable(i,t){var s=this.childrenMap.choicesSizer;return s&&s.setButtonEnable(i,t),this},setActionEnable(i,t){return this.childrenMap.actionsSizer.setButtonEnable(i,t),this},setToolbarEnable(i,t){return this.childrenMap.toolbarSizer.setButtonEnable(i,t),this},setLeftToolbarEnable(i,t){return this.childrenMap.leftToolbarSizer.setButtonEnable(i,t),this},toggleChoiceEnable(i){var t=this.childrenMap.choicesSizer;return t&&t.toggleButtonEnable(i),this},toggleActionEnable(i){return this.childrenMap.actionsSizer.toggleButtonEnable(i),this},toggleToolbarEnable(i){return this.childrenMap.toolbarSizer.toggleButtonEnable(i),this},toggleLeftToolbarEnable(i){return this.childrenMap.leftToolbarSizer.toggleButtonEnable(i),this},getChoiceEnable(i){var t=this.childrenMap.choicesSizer;return t?t.getButtonEnable(i):!1},getActionEnable(i){return this.childrenMap.actionsSizer.getButtonEnable(i)},getToolbarEnable(i){return this.childrenMap.toolbarSizer.getButtonEnable(i)},getLeftToolbarEnable(i){return this.childrenMap.leftToolbarSizer.getButtonEnable(i)},emitChoiceClick(i){var t=this.childrenMap.choicesSizer;return t&&t.emitButtonClick(i),this},emitActionClick(i){return this.childrenMap.actionsSizer.emitButtonClick(i),this},emitToolbarClick(i){return this.childrenMap.toolbarSizer.emitButtonClick(i),this},emitLeftToolbarClick(i){return this.childrenMap.leftToolbarSizer.emitButtonClick(i),this},showChoice(i){var t=this.childrenMap.choicesSizer;return t&&t.showButton(i),this},showAction(i){return this.childrenMap.actionsSizer.showButton(i),this},showToolbar(i){return this.childrenMap.toolbarSizer.showButton(i),this},showLeftToolbar(i){return this.childrenMap.leftToolbarSizer.showButton(i),this},hideChoice(i){var t=this.childrenMap.choicesSizer;return t&&t.hideButton(i),this},hideAction(i){return this.childrenMap.actionsSizer.hideButton(i),this},hideToolbar(i){return this.childrenMap.toolbarSizer.hideButton(i),this},hideLeftToolbar(i){return this.childrenMap.leftToolbarSizer.hideButton(i),this},addChoice(i){var t=this.childrenMap.choicesSizer;return t&&t.addButton(i),this},addAction(i){return this.childrenMap.actionsSizer.addButton(i),this},addToolbar(i){return this.childrenMap.toolbarSizer.addButton(i),this},addLeftToolbar(i){return this.childrenMap.leftToolbarSizer.addButton(i),this},removeChoice(i,t){var s=this.childrenMap.choicesSizer;return s&&s.removeButton(i,t),this},removeAction(i,t){return this.childrenMap.actionsSizer.removeButton(i,t),this},removeToolbar(i,t){return this.childrenMap.toolbarSizer.removeButton(i,t),this},removeLeftToolbar(i,t){return this.childrenMap.leftToolbarSizer.removeButton(i,t),this},clearChoices(i){var t=this.childrenMap.choicesSizer;return t&&t.clearButtons(i),this},clearActions(i){return this.childrenMap.actionsSizer.clearButtons(i),this},clearToolbar(i){return this.childrenMap.toolbarSizer.clearButtons(i),this},clearLeftToolbar(i){return this.childrenMap.leftToolbarSizer.clearButtons(i),this},forEachChoice(i,t){var s=this.childrenMap.choicesSizer;return s&&s.forEachButtton(i,t),this},forEachAction(i,t){return this.childrenMap.actionsSizer.forEachButtton(i,t),this},forEachToolbar(i,t){return this.childrenMap.toolbarSizer.forEachButtton(i,t),this},forEachLeftToolbar(i,t){return this.childrenMap.leftToolbarSizer.forEachButtton(i,t),this},setAllButtonsEnable(i){return i===void 0&&(i=!0),this.childrenMap.toolbarSizer&&this.setToolbarEnable(i),this.childrenMap.leftToolbarSizer&&this.setLeftToolbarEnable(i),this.childrenMap.actionsSizer&&this.setActionEnable(i),this.childrenMap.choicesSizer&&this.setChoiceEnable(i),this},getChoicesButtonStates(){var i=this.childrenMap.choicesSizer;return i?i.getAllButtonsState():{}},getChoicesButtonState(i){var t=this.childrenMap.choicesSizer;return i===void 0?t?t.getAllButtonsState():{}:t?t.getButtonState(i):!1},setChoicesButtonState(i,t){var s=this.childrenMap.choicesSizer;return s&&s.setButtonState(i,t),this},clearChoicesButtonStates(){var i=this.childrenMap.choicesSizer;return i&&i.clearAllButtonsState(),this},getChoicesSelectedButtonName(){var i=this.childrenMap.choicesSizer;return i?i.getSelectedButtonName():""},setChoicesSelectedButtonName(i){var t=this.childrenMap.choicesSizer;return t&&t.setSelectedButtonName(i),this}},bF={onCreateModalBehavior(i){i.on("button.click",function(t,s,x,E,A){if(s==="actions"){var l={index:x,text:t.text,button:t,dialog:i};switch(i.buttonsType){case"radio":l.value=i.getChoicesSelectedButtonName();break;case"checkboxes":l.value=i.getChoicesButtonStates();break;default:l.value=void 0}i.modalClose(l)}})},modal(i,t){return i&&i.defaultBehavior===!1?this.onCreateModalBehavior=!1:delete this.onCreateModalBehavior,gl.modal.call(this,i,t),this}};var fp={};Object.assign(fp,DF,bF);const vt=Phaser.Utils.Objects.GetValue;class vp extends bt{constructor(t,s){s===void 0&&(s={}),s.orientation=1,super(t,s),this.type="rexDialog",this.eventEmitter=vt(s,"eventEmitter",this);var x=vt(s,"background",void 0),E=vt(s,"title",void 0),A=vt(s,"toolbar",void 0),l=vt(s,"toolbarBackground",void 0),T=vt(s,"leftToolbar",void 0),e=vt(s,"leftToolbarBackground",void 0),u=vt(s,"content",void 0),m=vt(s,"description",void 0),d,o=vt(s,"choices",void 0),h=vt(s,"choicesBackground",void 0),n,r=vt(s,"actions",void 0),f=vt(s,"actionsBackground",void 0),a=vt(s,"click",void 0);x&&this.addBackground(x);var v;A&&(v=new ce(t,{groupName:"toolbar",background:l,buttons:A,orientation:0,space:{item:vt(s,"space.toolbarItem",0)},click:a,eventEmitter:this.eventEmitter}));var p;if(T&&(p=new ce(t,{groupName:"leftToolbar",background:e,buttons:T,orientation:0,space:{item:vt(s,"space.leftToolbarItem",0)},click:a,eventEmitter:this.eventEmitter})),E||A||T){var c=!!E&&vt(s,"expand.title",!0),g=vt(s,"align.title","center"),y=E&&!c&&g==="center"||!E&&(A||T),S=!y,P;S?P=new bt(t,{orientation:0}):P=new bi(t);var C=S?!0:{height:!0};if(p&&P.add(p,{align:"left",expand:C}),E){S&&!c&&g==="right"&&P.addSpace();var R={left:vt(s,"space.titleLeft",0),right:vt(s,"space.titleRight",0)},w=c?1:0;P.add(E,{align:g,proportion:w,expand:C,padding:R}),S&&!c&&g==="left"&&P.addSpace()}v&&(S&&!E&&P.addSpace(),P.add(v,{align:"right",expand:C}));var M=vt(s,"space.title",0),R;(u||m||o||r)&&(R={bottom:M});var w=vt(s,"proportion.title",0);this.add(P,{padding:R,proportion:w,expand:!0})}if(u){var O=vt(s,"align.content","center"),F=vt(s,"space.content",0),R={left:vt(s,"space.contentLeft",0),right:vt(s,"space.contentRight",0),bottom:m||o||r?F:0},w=vt(s,"proportion.content",0),L=vt(s,"expand.content",!0);this.add(u,{align:O,padding:R,proportion:w,expand:L})}if(m){var O=vt(s,"align.description","center"),b=vt(s,"space.description",0),R={left:vt(s,"space.descriptionLeft",0),right:vt(s,"space.descriptionRight",0),bottom:o||r?b:0},w=vt(s,"proportion.description",0),L=vt(s,"expand.description",!0);this.add(m,{align:O,padding:R,proportion:w,expand:L})}if(o){var B=vt(s,"choicesType","").split("-"),I=Bn(B,"wrap")?kn:Bn(B,"grid")?up:ce,z=Bn(B,"radio")?"radio":Bn(B,"checkboxes")?"checkboxes":void 0,Y={left:vt(s,"space.choicesBackgroundLeft",0),right:vt(s,"space.choicesBackgroundRight",0),top:vt(s,"space.choicesBackgroundTop",0),bottom:vt(s,"space.choicesBackgroundBottom",0)},W=vt(s,"space.choice",0);I===ce?Y.item=W:I===kn?(Y.item=W,Y.line=vt(s,"space.choiceLine",W)):(Y.column=vt(s,"space.choiceColumn",W),Y.row=vt(s,"space.choiceRow",W));var H={width:vt(s,"choicesWidth",void 0),height:vt(s,"choicesHeight",void 0),groupName:"choices",buttonsType:z,background:h,buttons:o,space:Y,click:a,eventEmitter:this.eventEmitter,setValueCallback:vt(s,"choicesSetValueCallback",void 0),setValueCallbackScope:vt(s,"choicesSetValueCallbackScope",void 0)};I===ce&&(H.orientation=Bn(B,"x")?0:1),d=new I(t,H);var N=vt(s,"space.choices",0),R={left:vt(s,"space.choicesLeft",0),right:vt(s,"space.choicesRight",0),bottom:r?N:0},O=vt(s,"align.choices","center"),w=vt(s,"proportion.choices",0),L=vt(s,"expand.choices",!0);this.add(d,{align:O,padding:R,proportion:w,expand:L}),this.buttonsType=z}if(r){n=new ce(t,{groupName:"actions",background:f,buttons:r,orientation:0,space:{item:vt(s,"space.action",0)},expand:vt(s,"expand.actions",!1),align:vt(s,"align.actions","center"),click:a,eventEmitter:this.eventEmitter});var R={left:vt(s,"space.actionsLeft",0),right:vt(s,"space.actionsRight",0)},w=vt(s,"proportion.action",0);this.add(n,{align:"center",padding:R,proportion:w,expand:!0})}In(this,"click"),In(this,"over"),In(this,"out"),In(this,"enable"),In(this,"disable"),this.addChildrenMap("background",x),this.addChildrenMap("title",E),this.addChildrenMap("toolbar",A),this.addChildrenMap("leftToolbar",T),this.addChildrenMap("content",u),this.addChildrenMap("description",m),this.addChildrenMap("choices",d?d.buttons:void 0),this.addChildrenMap("actions",n?n.buttons:void 0),this.addChildrenMap("choicesSizer",d),this.addChildrenMap("actionsSizer",n),this.addChildrenMap("toolbarSizer",v),this.addChildrenMap("leftToolbarSizer",p)}}var Bn=function(i,t){return i.indexOf(t)!==-1},ef={actions:"action",choices:"choice",toolbar:"toolbar",leftToolbar:"leftToolbar"},In=function(i,t){i.on(`button.${t}`,function(s,x,E,A,l){ef.hasOwnProperty(x)&&i.emit(`${ef[x]}.${t}`,s,E,A,l)})};Object.assign(vp.prototype,fp);var Ve=function(i,t,s){var x=new eF(i,t,s);return i.add.existing(x),x},BF=function(i){return i===void 0&&(i={}),IF.call(this,i),GF.call(this,i),NF.call(this,i),VF.call(this,i),this},IF=function(i){var t=this.childrenMap.title;t.resetDisplayContent(i.title)},GF=function(i){var t=this.childrenMap.content;if(t.resetDisplayContent)t.resetDisplayContent(i.content);else{var s=i.content||"";t.setText(s)}},NF=function(i){var t=this.childrenMap.actions;if(t){var s=i.buttons;if(s){for(var A=this.scene,l=this.defaultActionConfig,T=this.defaultActionButtonCreator,e=0,u=s.length;e<u;e++){var m=s[e],d=t[e];d||(d=Ve(A,l,T),this.addAction(d)),d.show().resetDisplayContent(m)}this.buttonMode=s.length;for(var e=s.length,u=t.length;e<u;e++)t[e].hide()}else{var x=t[0];x&&x.resetDisplayContent(i.buttonA);var E=t[1];E&&E.resetDisplayContent(i.buttonB)}}},VF=function(i){var t=this.childrenMap.choices;if(t){var s=i.choices;s||(s=[]);for(var x=this.scene,E=this.defaultChoiceConfig,A=this.defaultActionButtonCreator,l=0,T=s.length;l<T;l++){var e=s[l];typeof e=="string"&&(e={text:e});var u=t[l];u||(u=Ve(x,E,A),this.addChoice(u)),u.show().resetDisplayContent(e);var m;e.hasOwnProperty("value")?m=e.value:m=e.text,u.setName(m)}for(var l=s.length,T=t.length;l<T;l++)t[l].hide()}},zF=function(i,t){Zi(i)&&(t=i,i=void 0),i===void 0&&(i={});var s=this.buttonMode===0;return i.hasOwnProperty("anyTouchClose")||(i.anyTouchClose=s),i.hasOwnProperty("manualClose")||(i.manualClose=!s),gl.modal.call(this,i,t),this},XF={resetDisplayContent:BF,modal:zF},YF=function(i){i.setHoverState&&i.setHoverState(!0)},UF=function(i){i.setHoverState&&i.setHoverState(!1)},WF=function(i,t,s,x){i.setActiveState&&i.setActiveState(x)},kF=function(i){i.setDisableState&&i.setDisableState(!1)},HF=function(i){i.setDisableState&&i.setDisableState(!0)},$F=function(){this.on("button.over",YF).on("button.out",UF).on("button.enable",kF).on("button.disable",HF).on("button.statechange",WF)};const cp={v:0,vertical:0,y:0,h:1,horizontal:1,x:1,xy:2,vh:2};var Al=function(i,t){t===void 0&&(t="scrollMode"),i.hasOwnProperty(t)||(i[t]=KF(i));var s=i[t];return typeof s=="string"&&(s=cp[s]),s},KF=function(i){var t=!!i.sliderY||!!i.scrollerY,s=!!i.sliderX||!!i.scrollerX,x;return t&&s?x=2:t?x=0:s?x=1:x=0,x};const be=Phaser.Utils.Objects.GetValue;var ZF=function(i,t,s){var x=be(s,"child.gameObject",void 0);if(x){var E=be(s,"space.child",0);i.childMargin={};var A=i.childMargin;if(typeof E=="number")switch(i.scrollMode){case 0:case 1:A.top=0,A.bottom=0,A.left=0,A.right=0;break;default:A.top=E,A.bottom=E,A.left=E,A.right=E;break}else switch(i.scrollMode){case 0:A.top=be(E,"top",E),A.bottom=be(E,"bottom",E),A.left=0,A.right=0;break;case 1:A.top=be(E,"left",E),A.bottom=be(E,"right",E),A.left=0,A.right=0;break;default:A.top=be(E,"top",E),A.bottom=be(E,"bottom",E),A.left=be(E,"left",E),A.right=be(E,"right",E);break}t.add(x,{column:1,row:1,align:"center",expand:{width:be(s,"child.expandWidth",!0),height:be(s,"child.expandHeight",!0)}})}i.addChildrenMap("child",x)};const sf=Phaser.Math.Percent;var pp=function(i,t,s){var x;return i.y===t.y?x=sf(s.x,i.x,t.x):i.x===t.x&&(x=sf(s.y,i.y,t.y)),x},JF=function(i,t,s){if(this.enable){Qh.x=t,Qh.y=s;var x,E;this.reverseAxis?(x=this.getEndPoint(),E=this.getStartPoint()):(x=this.getStartPoint(),E=this.getEndPoint()),this.value=pp(x,E,Qh)}},Qh={},nf=function(i,t,s){if(this.enable&&i.isDown){jh.x=i.worldX,jh.y=i.worldY;var x,E;this.reverseAxis?(x=this.getEndPoint(),E=this.getStartPoint()):(x=this.getStartPoint(),E=this.getEndPoint());var A=pp(x,E,jh);this.stopEaseValue(),this.easeValueDuration===0||Math.abs(this.value-A)<.1?this.value=A:this.easeValueTo(A)}},jh={},gp=function(i,t){t===void 0&&(t=QF);var s=this.childrenMap.thumb,x=s.x,E=s.y;return tr(s,this.innerLeft,this.innerTop,this.innerWidth,this.innerHeight,i),t.x=s.x,t.y=s.y,s.x=x,s.y=E,t},QF={};const jF=Phaser.Display.Align.LEFT_CENTER,qF=Phaser.Display.Align.TOP_CENTER;var _F=function(i){if(i===void 0&&(i=t3),this.childrenMap.thumb){var t=this.orientation===0?jF:qF;gp.call(this,t,i)}else this.orientation===0?(i.x=this.innerLeft+1,i.y=this.centerY):(i.x=this.centerX,i.y=this.innerTop+1);return i},t3={};const e3=Phaser.Display.Align.RIGHT_CENTER,i3=Phaser.Display.Align.BOTTOM_CENTER;var s3=function(i){if(i===void 0&&(i=n3),this.childrenMap.thumb){var t=this.orientation===0?e3:i3;gp.call(this,t,i)}else this.orientation===0?(i.x=this.innerRight-1,i.y=this.centerY):(i.x=this.centerX,i.y=this.innerBottom-1);return i},n3={};const rf=Phaser.Math.Linear;var r3=function(i,t,s,x){return x===void 0&&(x=a3),x.x=rf(t.x,s.x,i),x.y=rf(t.y,s.y,i),x},a3={},h3=function(i){var t=this.childrenMap.thumb;if(t===void 0)return this;i===void 0&&(i=this.value);var s,x;return this.reverseAxis?(s=this.getEndPoint(),x=this.getStartPoint()):(s=this.getStartPoint(),x=this.getEndPoint()),r3(i,s,x,t),this.resetChildPositionState(t),this};const o3=Phaser.Display.Align.LEFT_CENTER,l3=Phaser.Display.Align.TOP_CENTER,u3=Phaser.Display.Align.RIGHT_CENTER,d3=Phaser.Display.Align.BOTTOM_CENTER;var f3=function(i){var t=this.childrenMap.indicator;if(t===void 0)return this;i===void 0&&(i=this.value);var s=this.reverseAxis,x,E,A=this.childrenMap.thumb;if(A)if(this.orientation===0){var l=Bt(A);if(s){var T=A.x-l*A.originX;x=this.right-T}else{var T=A.x-l*A.originX,e=T+l;x=e-this.left}}else{var u=At(A);if(s){var m=A.y-u*A.originY;E=this.bottom-m}else{var m=A.y-u*A.originY,d=m+u;E=d-this.top}}else this.orientation===0?x=this.width*i:E=this.height*i;Re(t,x,E);var o;s?o=this.orientation===0?u3:d3:o=this.orientation===0?o3:l3,Cc(t,this,o),this.resetChildPositionState(t)};const Ke=Phaser.Utils.Objects.GetValue,Wr=Phaser.Utils.Objects.IsPlainObject,v3=Phaser.Math.Clamp,c3=Phaser.Math.Snap.To;class wl extends Ps(bt){constructor(t,s){super(t,s),this.type="rexSlider",this.bootProgressBase(s),this.reverseAxis=Ke(s,"reverseAxis",!1);var x=Ke(s,"background",void 0),E=Ke(s,"track",void 0),A=Ke(s,"indicator",void 0),l=Ke(s,"thumb",void 0);x&&(Wr(x)&&(x=Ne(t,x)),this.addBackground(x)),E&&(Wr(E)&&(E=Ne(t,E)),this.add(E,{proportion:1,expand:!0,minWidth:this.orientation===0?0:void 0,minHeight:this.orientation===1?0:void 0})),A&&(Wr(A)&&(A=Ne(t,A)),this.pin(A)),l&&(Wr(l)&&(l=Ne(t,l)),this.pin(l));var T=Ke(s,"input",0);switch(typeof T=="string"&&(T=p3[T]),T){case 0:l&&(l.setInteractive(),this.scene.input.setDraggable(l),l.on("drag",JF,this).on("dragstart",function(e){this.eventEmitter.emit("inputstart",e)},this).on("dragend",function(e){this.eventEmitter.emit("inputend",e)},this));break;case 1:this.on("pointerdown",nf,this).on("pointermove",nf,this).on("pointerdown",function(e){this.eventEmitter.emit("inputstart",e)},this).on("pointerup",function(e){this.eventEmitter.emit("inputend",e)},this).on("pointerover",function(e){e.isDown&&this.eventEmitter.emit("inputstart",e)},this).on("pointerout",function(e){e.isDown&&this.eventEmitter.emit("inputend",e)},this).setInteractive();break}this.addChildrenMap("background",x),this.addChildrenMap("track",E),this.addChildrenMap("indicator",A),this.addChildrenMap("thumb",l),this.setEnable(Ke(s,"enable",void 0)),this.setGap(Ke(s,"gap",void 0)),this.setValue(Ke(s,"value",0),Ke(s,"min",void 0),Ke(s,"max",void 0))}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setGap(t,s,x){return t&&s!==void 0&&(t=t/(x-s)),this.gap=t,this}get value(){return this._value}set value(t){this.gap!==void 0&&(t=c3(t,this.gap));var s=this._value;this._value=v3(t,0,1),s!==this._value&&(this.updateThumb(this._value),this.updateIndicator(this._value),this.eventEmitter.emit("valuechange",this._value,s,this.eventEmitter))}runLayout(t,s,x){return this.ignoreLayout?this:(super.runLayout(t,s,x),this.updateThumb(),this.updateIndicator(),this)}}const p3={pan:0,drag:0,click:1,none:-1};var g3={getStartPoint:_F,getEndPoint:s3,updateThumb:h3,updateIndicator:f3};Object.assign(wl.prototype,g3);const ye=Phaser.Utils.Objects.GetValue;class m3 extends bt{constructor(t,s){super(t,s),this.type="rexScrollBar";var x=ye(s,"background",void 0),E=ye(s,"buttons",void 0),A=ye(E,"top",ye(E,"left",void 0)),l=ye(E,"bottom",ye(E,"right",void 0)),T,e=ye(s,"slider",void 0);if(x&&this.addBackground(x),A){this.add(A);var u=new va(A);u.on("intouch",function(){if(this.enable){var f=T.reverseAxis?this.scrollStep:-this.scrollStep;this.value+=f}},this)}if(e){e.orientation=this.orientation,e.eventEmitter=this,e.value=null;var m;if(this.orientation===0){var d=ye(e,"width",void 0);m=d===void 0?1:0}else{var o=ye(e,"height",void 0);m=o===void 0?1:0}T=new wl(t,e),t.add.existing(T),this.add(T,{proportion:m})}if(l){this.add(l);var u=new va(l);u.on("intouch",function(){if(this.enable){var a=T.reverseAxis?-this.scrollStep:this.scrollStep;this.value+=a}},this)}var h=[A,l];this.addChildrenMap("background",x),this.addChildrenMap("slider",T),this.addChildrenMap("buttons",h);var n=ye(s,"valuechangeCallback",null);if(n!==null){var r=ye(s,"valuechangeCallbackScope",void 0);this.on("valuechange",n,r)}this.setEnable(ye(s,"enable",void 0)),this.setValue(ye(s,"value",0)),this.setScrollStep(ye(E,"step",.01))}setScrollStep(t){return this.scrollStep=t,this}get enable(){return this.childrenMap.slider?this.childrenMap.slider.enable:!1}set enable(t){this.childrenMap.slider&&this.childrenMap.slider.setEnable(t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(t){this.childrenMap.slider&&(this.childrenMap.slider.value=t)}setValue(t,s,x){return this.childrenMap.slider&&this.childrenMap.slider.setValue(t,s,x),this}addValue(t,s,x){return this.childrenMap.slider&&this.childrenMap.slider.addValue(t,s,x),this}getValue(t,s){return this.childrenMap.slider?this.childrenMap.slider.getValue(t,s):0}easeValueTo(t,s,x){return this.childrenMap.slider&&this.childrenMap.slider.easeValueTo(t,s,x),this}stopEaseValue(){return this.childrenMap.slider&&this.childrenMap.slider.stopEaseValue(),this}setEaseValueDuration(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueDuration(t),this}setEaseValueFunction(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueFunction(t),this}}var x3=function(i,t){t===void 0&&(t={});var s=xs(t);t={slider:s},t.orientation=s.orientation,delete s.orientation,t.background=s.background,delete s.background,t.buttons=s.buttons,delete s.buttons;var x=new m3(i,t);i.add.existing(x);var E=x.childrenMap.slider;return x.addChildrenMap("track",E.childrenMap.track),x.addChildrenMap("indicator",E.childrenMap.indicator),x.addChildrenMap("thumb",E.childrenMap.thumb),x};class y3 extends Ms{constructor(t,s){super(s),this.parent=t,this.init()}init(){this.start("IDLE")}next_IDLE(){var t,s=this.parent,x=s.dragState;return x.isDown&&(t=s.dragThreshold===0?"DRAG":"DRAGBEGIN"),t}update_IDLE(t,s){this.next()}next_DRAGBEGIN(){var t,s=this.parent,x=s.dragState;return x.isDown?t=x.pointer.getDistance()>=s.dragThreshold?"DRAG":"DRAGBEGIN":t="IDLE",t}update_DRAGBEGIN(t,s){this.next()}next_DRAG(){var t,s=this.parent,x=s.dragState;return x.isUp&&(s.outOfBounds?t="BACK":s.slidingEnable?t="SLIDE":t="IDLE"),t}update_DRAG(t,s){var x=this.parent,E=x.dragState;E.justMoved&&x.dragging(),this.next()}enter_DRAG(){this.parent.onDragStart()}exit_DRAG(){this.parent.onDragEnd()}next_SLIDE(){var t,s=this.parent,x=s.dragState;return x.isDown?t="DRAG":s.isSliding||(t="IDLE"),t}enter_SLIDE(){this.parent.onSliding()}exit_SLIDE(){this.parent.stop()}update_SLIDE(t,s){this.parent.sliding(t,s),this.next()}next_BACK(){var t,s=this.parent,x=s.dragState;return x.isDown?t="DRAG":s.isPullBack||(t="IDLE"),t}enter_BACK(){this.parent.onPullBack()}exit_BACK(){this.parent.stop()}update_BACK(t,s){this.parent.pullBack(t,s),this.next()}}const kr=Phaser.Utils.Objects.GetValue,T3=Phaser.Math.Distance.Between;class C3 extends ie{constructor(t,s){super(t,s),this._enable=void 0,t.setInteractive(kr(s,"inputConfig",void 0)),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.isInTouched=!1,this.holdStartTime=void 0,this.x=void 0,this.y=void 0,this.preX=void 0,this.preY=void 0,this.localX=void 0,this.localY=void 0,this.justMoved=!1,this.setEnable(kr(t,"enable",!0)),this.holdThreshold=kr(t,"holdThreshold",50),this.pointerOutReleaseEnable=kr(t,"pointerOutRelease",!0),this}boot(){this.parent.on("pointerdown",this.onPointIn,this),this.parent.on("pointerup",this.onPointOut,this),this.pointerOutReleaseEnable&&this.parent.on("pointerout",this.onPointOut,this),this.parent.on("pointermove",this.onPointerMove,this),this.scene.sys.events.on("preupdate",this.preupdate,this)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this.preupdate,this),this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){this._enable!==t&&(t||(this.isInTouched=!1,this.pointer=void 0),this._enable=t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setPointerOutReleaseEnable(t){return t===void 0&&(t=!0),this.pointerOutReleaseEnable=t,this}get isDown(){return this.pointer&&this.pointer.isDown}get isUp(){return!this.isDown}get dx(){return this.x-this.preX}get dy(){return this.y-this.preY}get dt(){var t=ac(this.scene);return t}get speed(){if(this.x===this.preX&&this.y===this.preY)return 0;var t=T3(this.preX,this.preY,this.x,this.y),s=t/(this.dt*.001);return s}get speedX(){return this.dx/(this.dt*.001)}get speedY(){return this.dy/(this.dt*.001)}onPointIn(t,s,x){!this.enable||!t.isDown||this.pointer!==void 0||(this.pointer=t,this.localX=s,this.localY=x)}onPointOut(t){!this.enable||this.pointer!==t||(this.pointer=void 0)}onPointerMove(t,s,x){!this.enable||!t.isDown||this.pointer!==t||(this.localX=s,this.localY=x)}preupdate(t,s){if(this.enable){var x=this.pointer;this.justMoved=!1,x&&!this.isInTouched?(this.x=x.worldX,this.y=x.worldY,this.preX=x.worldX,this.preY=x.worldY,this.isInTouched=!0,this.holdStartTime=void 0,this.emit("touchstart",x,this.localX,this.localY)):x&&this.isInTouched?this.x===x.x&&this.y===x.y?this.holdStartTime===void 0?this.holdStartTime=t:t-this.holdStartTime>this.holdThreshold&&(this.preX=this.x,this.preY=this.y):(this.preX=this.x,this.preY=this.y,this.x=x.worldX,this.y=x.worldY,this.holdStartTime=void 0,this.justMoved=!0,this.emit("touchmove",x,this.localX,this.localY)):!x&&this.isInTouched&&(this.isInTouched=!1,this.holdStartTime=void 0,this.emit("touchend",x))}}}const qh=Phaser.Utils.Objects.GetValue;class S3{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){return this.setValue(qh(t,"value",0)),this.setSpeed(qh(t,"speed",0)),this.setAcceleration(qh(t,"acceleration",0)),this}reset(){this.setValue(0),this.setSpeed(0),this.setAcceleration(0)}setValue(t){return this.value=t,this}setSpeed(t){return this.speed=t,this}setAcceleration(t){return this.acceleration=t,this}updateSpeed(t){return this.acceleration!==0&&(this.speed+=this.acceleration*t,this.speed<0&&(this.speed=0)),this}getDeltaValue(t){return this.updateSpeed(t),this.speed<=0?0:this.speed*t}update(t){return this.updateSpeed(t),this.speed>0&&(this.value+=this.getDeltaValue(t)),this}get isMoving(){return this.speed>0}}class E3{constructor(){this.value,this.dir,this.movement=new S3}init(t,s,x,E,A){return this.value=t,this.end=A,A!==void 0?this.dir=t<A:this.dir=s,this.movement.setSpeed(x).setAcceleration(-E),this}stop(){this.movement.reset()}update(t){var s=this.movement.getDeltaValue(t);return this.dir||(s=-s),this.end===void 0?this.value+=s:s===0?this.value=this.end:(this.value+=s,this.dir?this.value>this.end&&(this.value=this.end):this.value<this.end&&(this.value=this.end)),this}get isMoving(){return this.movement.isMoving}}const $t=Phaser.Utils.Objects.GetValue,P3=Phaser.Math.Clamp;class M3 extends ie{constructor(t,s){super(t,s);var x=$t(s,"enable",!0);this._state=new y3(this,{enable:x,eventEmitter:!1});var E={inputConfig:$t(s,"inputConfig",void 0),enable:x,pointerOutRelease:$t(s,"pointerOutRelease",!0),eventEmitter:!1};this.dragState=new C3(t,E),this._enable=void 0,this._value=void 0,this._slowDown=new E3;var A=$t(s,"valuechangeCallback",null);if(A!==null){var l=$t(s,"valuechangeCallbackScope",void 0);this.on("valuechange",A,l)}if(A=$t(s,"overmaxCallback",null),A!==null){var l=$t(s,"overmaxCallbackScope",void 0);this.on("overmax",A,l)}if(A=$t(s,"overminCallback",null),A!==null){var l=$t(s,"overminCallbackScope",void 0);this.on("overmin",A,l)}this.resetFromJSON(s),this.boot()}resetFromJSON(t){this.setOrientationMode($t(t,"orientation",0)),this.setDragThreshold($t(t,"threshold",10)),this.setSlidingDeceleration($t(t,"slidingDeceleration",5e3)),this.setBackDeceleration($t(t,"backDeceleration",2e3));var s=$t(t,"dragRate",1);s=s*($t(t,"dragReverse",!1)?-1:1),this.setDragRate(s);var x=$t(t,"bounds",void 0);return x?this.setBounds(x):this.setBounds($t(t,"max",0),$t(t,"min",0)),this.setValue($t(t,"value",this.maxValue||0)),this.setEnable($t(t,"enable",!0)),this}boot(){this.scene.sys.events.on("preupdate",this._state.update,this._state)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this._state.update,this._state),this._state.destroy(t),this.dragState.destroy(t),this._state=void 0,this.dragState=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return this._enable=t,this._state.setEnable(t),this.dragState.setEnable(t),this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setOrientationMode(t){return typeof t=="string"&&(t=R3[t]),this.orientationMode=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setSlidingDeceleration(t){return this.slidingDeceleration=t,this}setBackDeceleration(t){return this.backDeceleration=t,this}setDragRate(t){return this.dragRate=t,this}setBounds(t,s){if(Array.isArray(t)){var x=t;t=x[0],s=x[1]}return t<s?(this.minValue=t,this.maxValue=s):(this.minValue=s,this.maxValue=t),this}get value(){return this._value}set value(t){if(t!==this._value){var s=this._value,x=this.overMax(t),E=this.overMin(t);x&&this.emit("overmax",t,s),E&&this.emit("overmin",t,s),this.backEnable||(x&&(t=this.maxValue),E&&(t=this.minValue)),this._value=t,this.emit("valuechange",t,s)}}setValue(t,s){return s===void 0&&(s=!1),s&&(t=P3(t,this.minValue,this.maxValue)),this.value=t,this}addValue(t,s){return this.setValue(this.value+t,s),this}get state(){return this._state.state}get isDragging(){return this.dragState.isInTouched}get outOfMaxBound(){return this.overMax(this.value)}get outOfMinBound(){return this.overMin(this.value)}get outOfBounds(){return this.outOfMinBound||this.outOfMaxBound}overMax(t){return this.maxValue!=null&&t>this.maxValue}overMin(t){return this.minValue!=null&&t<this.minValue}get backEnable(){return typeof this.backDeceleration=="number"}get isPullBack(){return this._slowDown.isMoving}get slidingEnable(){return typeof this.slidingDeceleration=="number"}get isSliding(){return this._slowDown.isMoving}get dragDelta(){var t;return this.orientationMode===0?t=this.dragState.dy:this.orientationMode===1?t=this.dragState.dx:t=0,t*=this.dragRate,t}get dragSpeed(){var t;return this.orientationMode===0?t=this.dragState.speedY:this.orientationMode===1?t=this.dragState.speedX:t=0,t*=this.dragRate,t}onDragStart(){this.emit("dragstart")}onDragEnd(){this.emit("dragend")}dragging(){this.value+=this.dragDelta}onSliding(){var t=this.value,s=this.dragSpeed;if(s===0){this._slowDown.stop(),this._state.next();return}var x=this.slidingDeceleration;this._slowDown.init(t,s>0,Math.abs(s),x)}sliding(t,s){s*=.001;var x=this._slowDown.update(s).value;this.overMax(x)?(this.value=this.maxValue,this._slowDown.stop()):this.overMin(x)?(this.value=this.minValue,this._slowDown.stop()):this.value=x}onPullBack(){var t=this.value,s=this.outOfMinBound?this.minValue:this.maxValue,x=Math.abs(s-t),E=this.backDeceleration,A=Math.sqrt(2*E*x);this._slowDown.init(t,void 0,A,E,s)}pullBack(t,s){s*=.001,this.value=this._slowDown.update(s).value,this._slowDown.isMoving||this._state.next()}stop(){this._slowDown.stop()}}const R3={y:0,v:0,vertical:0,x:1,h:1,horizontal:1},Hr=Phaser.Utils.Objects.GetValue;class A3 extends ie{constructor(t,s){if(super(t,s),this.parent!==this.scene?this.focusMode=Hr(s,"focus",!1):this.focusMode=!1,this.setSpeed(Hr(s,"speed",.1)),this.setEnable(Hr(s,"enable",!0)),!this.focusMode)this.scene.input.on("wheel",this.onSceneScroll,this);else{var t=this.parent;t.setInteractive(Hr(s,"inputConfig",void 0)).on("wheel",function(E,A,l,T,e){this.enable&&this.scroll(l)},this)}}destroy(){this.focusMode||this.scene.input.off("wheel",this.onSceneScroll,this)}onSceneScroll(t,s,x,E,A,l){this.enable&&this.scroll(E)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setSpeed(t){return this.speed=t,this}scroll(t){t*=this.speed,this.emit("scroll",t,this.parent,this)}}const Te=Phaser.Utils.Objects.GetValue;var $r=function(i,t,s,x){s=s.toUpperCase();var E=s==="Y",A=i.scrollMode===2,l=i.childrenMap.child,T,e,u=`slider${s}`;if(A||x.hasOwnProperty(u)?T=Te(x,u,void 0):T=Te(x,"slider",void 0),T){T===!0&&(T={}),T.orientation=E?1:0,e=x3(i.scene,T);var m,d,o,h=Te(T,"position",0);typeof h=="string"&&(h=w3[h]);var n=Te(x,`space.slider${s}`,void 0);n===void 0&&(n=Te(x,"space.slider",void 0),n===void 0&&(A?n=0:(n=Te(x,"space.child",0),typeof n=="number"&&(E?n=h===0?{left:n}:{right:n}:n=h===0?{top:n}:{bottom:n}))));var r=typeof n=="number";E?h===0?(m=2,d=1,o=r?{left:n}:n):(m=0,d=1,o=r?{right:n}:n):h===0?(m=1,d=2,o=r?{top:n}:n):(m=1,d=0,o=r?{bottom:n}:n),t.add(e,{column:m,row:d,align:"center",padding:o,expand:!0}),i[`hideUnscrollableSlider${s}`]=Te(T,"hideUnscrollableSlider",!1),i[`adaptThumb${s}SizeMode`]=Te(T,"adaptThumbSize",!1),i[`minThumb${s}Size`]=Te(T,"minThumbSize",void 0)}else i[`hideUnscrollableSlider${s}`]=!1,i[`adaptThumb${s}SizeMode`]=!1,i[`minThumb${s}Size`]=void 0;var f,a,v=`scroller${s}`;A||x.hasOwnProperty(v)?f=Te(x,v,!0):f=Te(x,"scroller",!0),f&&l&&(f===!0&&(f={}),f.orientation=E?0:1,a=new M3(l,f));var p=Te(x,A?`mouseWheelScroller${s}`:"mouseWheelScroller",!1),c;if(p&&l&&(c=new A3(l,p)),i.addChildrenMap(`slider${s}`,e),i.addChildrenMap(`scroller${s}`,a),i.addChildrenMap(`mouseWheelScroller${s}`,c),(!A||E)&&(i.hideUnscrollableSlider=i[`hideUnscrollableSlider${s}`],i.adaptThumbSizeMode=i[`adaptThumb${s}SizeMode`],i.minThumbSize=i[`minThumb${s}Size`],i.addChildrenMap("slider",e),i.addChildrenMap("scroller",a),i.addChildrenMap("mouseWheelScroller",c)),e){var g,y;A?(g=E?"t":"s",y=`scroll${s}`):(g="t",y="scroll"),e.on("valuechange",function(C){i[g]=C,i.emit(y,i)})}if(a){var S,y;A?(S=`childO${s}`,y=`scroll${s}`):(S="childOY",y="scroll"),a.on("valuechange",function(M){i[S]=M,i.emit(y,i)})}if(c){var P=`addChildO${s}`;c.on("scroll",function(C){i[P](-C,!0)})}};const w3={right:0,left:1,bottom:0,top:1},af=Phaser.Utils.Objects.GetValue;var O3=function(i,t){var s=i.scene,x=i.scrollMode===2,E=af(t,"child.expandWidth",!0),A=af(t,"child.expandHeight",!0),l=x||E?1:0,T=x||A?1:0,e=new As(s,{column:3,row:3,columnProportions:[0,l,0],rowProportions:[0,T,0]});switch(ZF(i,e,t),i.scrollMode){case 0:$r(i,e,"y",t);break;case 1:$r(i,e,"x",t);break;default:$r(i,e,"y",t),$r(i,e,"x",t);break}return e},L3=function(){switch(this.scrollMode){case 0:case 1:_h.call(this),this.updateController(),to.call(this),eo.call(this);break;default:_h.call(this,"y"),_h.call(this,"x"),this.updateController(),to.call(this,"y"),to.call(this,"x"),eo.call(this,"y"),eo.call(this,"x");break}return this},_h=function(i){var t,s,x,E;switch(this.scrollMode){case 0:case 1:t=this.topChildOY,s=this.bottomChildOY,x=this.childrenMap.scroller,E=this.childrenMap.slider;break;default:i=i.toUpperCase(),i==="Y"?(t=this.topChildOY,s=this.bottomChildOY):(t=this.leftChildOX,s=this.rightChildOX),x=this.childrenMap[`scroller${i}`],E=this.childrenMap[`slider${i}`]}x&&x.setBounds(t,s),E&&E.setEnable(t!==s)},to=function(i){switch(this.scrollMode){case 0:case 1:var t=this.childrenMap.slider;t&&this.hideUnscrollableSlider&&this.setChildVisible(t,this.isOverflow);break;default:i=i.toUpperCase();var t=this.childrenMap[`slider${i}`],s=this[`hideUnscrollableSlider${i}`],x=this[`isOverflow${i}`];t&&s&&this.setChildVisible(t,x);break}},eo=function(i){switch(this.scrollMode){case 0:case 1:if(!this.adaptThumbSizeMode)return;var A=this.childrenMap.slider;if(!A)return;var t=Math.min(this.childVisibleHeight/this.childHeight,1),l=A.childrenMap.track,T=A.childrenMap.thumb,e=this.minThumbSize;if(this.scrollMode===0){var s=l.displayHeight*t;e!==void 0&&s<e&&(s=e),Re(T,void 0,s)}else{var x=l.displayWidth*t;e!==void 0&&x<e&&(x=e),Re(T,x,void 0)}hf(A);break;default:i=i.toUpperCase();var E=this[`adaptThumb${i}SizeMode`];if(!E)return;var A=this.childrenMap[`slider${i}`];if(!A)return;var l=A.childrenMap.track,T=A.childrenMap.thumb,e=this[`minThumb${i}Size`];if(i==="Y"){var t=Math.min(this.childVisibleHeight/this.childHeight,1),s=l.displayHeight*t;e!==void 0&&s<e&&(s=e),Re(T,void 0,s)}else{var t=Math.min(this.childVisibleWidth/this.childWidth,1),x=l.displayWidth*t;e!==void 0&&x<e&&(x=e),Re(T,x,void 0)}hf(A);break}},hf=function(i){var t=i.minWidth,s=i.minHeight;i.minWidth=i.width,i.minHeight=i.height,i.layout(),i.minWidth=t,i.minHeight=s},F3=function(){switch(this.scrollMode){case 0:case 1:var i=this.childrenMap.scroller,t=this.childrenMap.slider;i&&i.setValue(this.childOY),t&&t.setValue(this.t);break;default:var s=this.childrenMap.scrollerY,x=this.childrenMap.sliderY,E=this.childrenMap.scrollerX,A=this.childrenMap.sliderX;s&&s.setValue(this.childOY),x&&x.setValue(this.t),E&&E.setValue(this.childOX),A&&A.setValue(this.s);break}};const oi=Phaser.Utils.Objects.GetValue,Kr=Phaser.Math.Clamp;class za extends bt{constructor(t,s){s===void 0&&(s={});var x=Al(s),E=x===1;s.orientation=E?0:1,super(t,s),this.type=oi(s,"type","rexScrollable"),this.scrollMode=x;var A=oi(s,"background",void 0);A&&this.addBackground(A);var l=oi(s,"header",void 0);if(l){var T=oi(s,"align.header","center"),e=oi(s,"space.header",0),u;E?u={right:e}:u={bottom:e},this.add(l,{proportion:0,align:T,padding:u,expand:oi(s,"expand.header",!0)})}var m=O3(this,s);m&&this.add(m,{proportion:1,align:"center",padding:0,expand:!0});var d=oi(s,"footer",void 0);if(d){var T=oi(s,"align.footer","center"),o=oi(s,"space.footer",0),u;E?u={left:o}:u={top:o},this.add(d,{proportion:0,align:T,padding:u,expand:oi(s,"expand.footer",!0)})}this.addChildrenMap("background",A),this.addChildrenMap("header",l),this.addChildrenMap("footer",d),this.runLayoutFlag=!1}runLayout(t,s,x){return this.ignoreLayout?this:(super.runLayout(t,s,x),this.resizeController(),this.runLayoutFlag||(this.runLayoutFlag=!0,this.setT(0),this.scrollMode===2&&this.setS(0)),this)}set t(t){var s=this.childMargin;if(s.top!==0||s.bottom!==0){var x=this.childrenMap.child,E=x.topChildOY-x.bottomChildOY,A=E+s.top+s.bottom,l=A*t-s.top;t=E!==0?l/E:0}this.childrenMap.child.t=t,this.updateController()}get t(){var t=this.childrenMap.child.t,s=this.childMargin;if(s.top!==0||s.bottom!==0){var x=this.childrenMap.child,E=x.topChildOY-x.bottomChildOY,A=E+s.top+s.bottom,l=E*t+s.top;t=A!==0?l/A:0}return t}set s(t){var s=this.childMargin;if(s.left!==0||s.right!==0){var x=this.childrenMap.child,E=x.leftChildOX-x.rightChildOX,A=E+s.left+s.right,l=A*t-s.left;t=E!==0?l/E:0}this.childrenMap.child.s=t,this.updateController()}get s(){var t=this.childrenMap.child.s,s=this.childMargin;if(s.left!==0||s.right!==0){var x=this.childrenMap.child,E=x.leftChildOX-x.rightChildOX,A=E+s.left+s.right,l=E*t+s.left;t=A!==0?l/A:0}return t}set childOY(t){this.childrenMap.child.childOY=t,this.updateController()}get childOY(){return this.childrenMap.child.childOY}set childOX(t){this.childrenMap.child.childOX=t,this.updateController()}get childOX(){return this.childrenMap.child.childOX}get topChildOY(){return this.childrenMap.child.topChildOY+this.childMargin.top}get bottomChildOY(){return this.childrenMap.child.bottomChildOY-this.childMargin.bottom}get leftChildOX(){return this.childrenMap.child.leftChildOX+this.childMargin.left}get rightChildOX(){return this.childrenMap.child.rightChildOX-this.childMargin.right}get childVisibleHeight(){return this.childrenMap.child.childVisibleHeight}get childHeight(){return this.childrenMap.child.childHeight}get childVisibleWidth(){return this.childrenMap.child.childVisibleWidth}get childWidth(){return this.childrenMap.child.childWidth}get isOverflow(){var t=this.childrenMap.child;return t.topChildOY!==t.bottomChildOY}get isOverflowY(){return this.isOverflow}get isOverflowX(){var t=this.childrenMap.child;return t.leftChildOX!==t.rightChildOX}setChildOY(t,s){return s===void 0&&(s=!1),s&&(t=Kr(t,this.bottomChildOY,this.topChildOY)),this.childOY=t,this}addChildOY(t,s){return this.setChildOY(this.childOY+t,s),this}setT(t,s){return s===void 0&&(s=!1),s&&(t=Kr(t,0,1)),this.t=t,this}addT(t,s){return this.setT(this.t+t,s),this}scrollToTop(){return this.t=0,this}scrollToBottom(){if(this.t=1,this.t===0)return this;do this.t=1;while(this.t!==1);return this}setChildOX(t,s){return s===void 0&&(s=!1),s&&(t=Kr(t,this.leftChildOX,this.rightChildOX)),this.childOX=t,this}addChildOX(t,s){return this.setChildOX(this.childOX+t,s),this}setS(t,s){return s===void 0&&(s=!1),s&&(t=Kr(t,0,1)),this.s=t,this}addS(t,s){return this.setS(this.s+t,s),this}scrollToLeft(){return this.s=0,this}scrollToRight(){if(this.s=1,this.s===0)return this;do this.s=1;while(this.s!==1);return this}get sliderEnable(){var t=this.childrenMap.slider;return t?t.enable:!1}set sliderEnable(t){var s=this.childrenMap.slider;s&&s.setEnable(t)}setSliderEnable(t){return t===void 0&&(t=!0),this.sliderEnable=t,this}get sliderYEnable(){return this.sliderEnable}set sliderYEnable(t){this.sliderEnable=t}setSliderYEnable(t){return this.setSliderEnable(t),this}get sliderXEnable(){var t=this.childrenMap.sliderX;return t?t.enable:!1}set sliderXEnable(t){var s=this.childrenMap.sliderX;s&&s.setEnable(t)}setSliderXEnable(t){return t===void 0&&(t=!0),this.sliderXEnable=t,this}get scrollerEnable(){var t=this.childrenMap.scroller;return t?t.enable:!1}set scrollerEnable(t){var s=this.childrenMap.scroller;s&&s.setEnable(t)}setScrollerEnable(t){return t===void 0&&(t=!0),this.scrollerEnable=t,this}get scrollerYEnable(){return this.scrollerEnable}set scrollerYEnable(t){this.scrollerEnable=t}setScrollerYEnable(t){return this.setScrollerEnable(t),this}get scrollerXEnable(){var t=this.childrenMap.scrollerX;return t?t.enable:!1}set scrollerXEnable(t){var s=this.childrenMap.scrollerX;s&&s.setEnable(t)}setScrollerXEnable(t){return t===void 0&&(t=!0),this.scrollerXEnable=t,this}get scrollerXEnable(){var t=this.childrenMap.scrollerX;return t?t.enable:!1}set scrollerXEnable(t){var s=this.childrenMap.scrollerX;s&&s.setEnable(t)}setScrollerXEnable(t){return t===void 0&&(t=!0),this.scrollerXEnable=t,this}get mouseWheelScrollerEnable(){var t=this.childrenMap.mouseWheelScroller;return t?t.enable:!1}set mouseWheelScrollerEnable(t){var s=this.childrenMap.mouseWheelScroller;s&&s.setEnable(t)}setMouseWheelScrollerEnable(t){return t===void 0&&(t=!0),this.mouseWheelScrollerEnable=t,this}get mouseWheelScrollerYEnable(){return this.mouseWheelScrollerEnable}set mouseWheelScrollerYEnable(t){this.mouseWheelScrollerEnable=t}setMouseWheelScrollerYEnable(t){return this.setMouseWheelScrollerEnable(t),this}get mouseWheelScrollerXEnable(){var t=this.childrenMap.mouseWheelScrollerX;return t?t.enable:!1}set mouseWheelScrollerXEnable(t){var s=this.childrenMap.mouseWheelScrollerX;s&&s.setEnable(t)}setMouseWheelScrollerXEnable(t){return t===void 0&&(t=!0),this.mouseWheelScrollerXEnable=t,this}setDropZoneEnable(t){t===void 0&&(t=!0);var s=this.childrenMap.child;return s.setInteractive(),s.input.dropZone=t,this}}var D3={resizeController:L3,updateController:F3};Object.assign(za.prototype,D3);const Ae=0,Ye=1,Ue=2;var or=function(i){var t;return lp(i)?t=Ue:Pl(i)?t=Ae:t=Ye,t},Ol=function(i,t,s){var x=or(i);switch(x){case Ae:s=i.getWrappedText(t);break;case Ye:s=i.getPenManager(t,s);break;case Ue:i.maxWidth>0?s=i.setText(t).getTextBounds().wrappedText.split(`
`):s=t.split(`
`);break}return s},b3=function(i){return i!==void 0&&(this.text=i),this.lines=Ol(this.textObject,this.text,this.lines),this.linesCount=this.lines.length,this._textHeight=void 0,this._textVisibleHeight=void 0,this.updateTextObject(),this},mp=function(i){return(i-this.textLineSpacing)/(this.textLineHeight+this.textLineSpacing)},xp=function(i){return i*(this.textLineHeight+this.textLineSpacing)-this.textLineSpacing},B3=function(i){var t=i+this.visibleLinesCount+1,s;switch(this.textObjectType){case Ae:s=this.lines.slice(i,t).join(`
`);break;case Ye:var x=this.lines.getLineStartIndex(i),E=this.lines.getLineEndIndex(t-1);s=this.lines.getSliceTagText(x,E,!0);break;case Ue:s=this.lines.slice(i,t).join(`
`);break}return s},yp=function(i,t){var s=or(i);switch(s){case Ae:var A=i.style,x=A.wordWrapWidth,E=A.wordWrapCallback;A.wordWrapWidth=0,A.wordWrapCallback=void 0,i.setText(t),A.wordWrapWidth=x,A.wordWrapCallback=E;break;case Ye:var A=i.style,l=A.wrapMode;A.wrapMode=0,i.setText(t),A.wrapMode=l;break;case Ue:var T=i._maxWidth;i._maxWidth=0,i.setText(t),i._maxWidth=T;break}},Tp=function(){var i=this.textObject.rexSizer;this.textObject.y+=i.offsetY-i.preOffsetY,i.preOffsetY=i.offsetY,this.resetChildPositionState(this.textObject),this.textCropEnable&&I3.call(this)},I3=function(){if(this.textObject.setCrop){var i=this.textObject.rexSizer.offsetY,t,s;i<=0?(t=-i,s=this.height):(t=0,s=this.height-i),this.textObject.setCrop(0,t,this.width,s)}},G3=function(){var i=Math.max(Math.floor(mp.call(this,-this.textOY)),0),t=xp.call(this,i)+this.textOY,s=B3.call(this,i);return yp(this.textObject,s),this.textObject.rexSizer.offsetY=t,Tp.call(this),this},N3=function(){return this._textLineHeight=void 0,this._textLineSpacing=void 0,this._visibleLinesCount=void 0,this._textHeight=void 0,this._textVisibleHeight=void 0,nr.call(this),this},V3=function(i,t,s){if(s+=this.textLineHeight+this.textLineSpacing,!(this.textObjectWidth===t&&this._textObjectRealHeight===s)){switch(this.textObjectWidth=t,this._textObjectRealHeight=s,this.textObjectType){case Ae:case Ye:i.setFixedSize(t,s);var x=i.style,E=Math.max(t,0);this.textObjectType===Ae?x.wordWrapWidth=E:(x.wrapMode===0&&(x.wrapMode=1),x.wrapWidth=E);break;case Ue:i.setMaxWidth(t);break}this.setText()}},z3=function(){var i,t,s,x=this.left,E=this.top,A,l,T,e;i=this.textObject,i.rexSizer.hidden||(t=i.rexSizer,s=t.padding,A=x+s.left,l=E+s.top,T=this.width-s.left-s.right,e=this.height-s.top-s.bottom,V3.call(this,i,T,e),tr(i,A,l,T,e,t.align),t.preOffsetY=0,Tp.call(this),this.textMask&&(this.textMask.setPosition().resize(),this.resetChildPositionState(this.textMask)))};const X3={setText:b3,updateTextObject:G3,preLayout:N3,layoutChildren:z3},of=Phaser.Utils.Objects.IsPlainObject,Me=Phaser.Utils.Objects.GetValue,Y3=Phaser.Display.Align.TOP_LEFT;class Cp extends Rs{constructor(t,s,x,E,A,l){of(s)?(l=s,s=Me(l,"x",0),x=Me(l,"y",0),E=Me(l,"width",void 0),A=Me(l,"height",void 0)):of(E)&&(l=E,E=Me(l,"width",void 0),A=Me(l,"height",void 0)),super(t,s,x,E,A,l),this.type="rexTextBlock",this.textObject=void 0,this.linesCount=0,this.textMask=void 0,this.textObjectType=void 0,this._textLineHeight=void 0,this._textLineSpacing=void 0,this._visibleLinesCount=void 0,this._textHeight=void 0,this._textVisibleHeight=void 0,this._textObjectRealHeight=0,this.lines=void 0,this.text=Me(l,"content",""),this._textOY=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.setClampMode(Me(l,"clamplTextOY",!0)),this.alwaysScrollable=Me(l,"alwaysScrollable",!1);var T=Me(l,"background",void 0),e=Me(l,"text",void 0);e===void 0&&(e=U3(t)),this.textCropEnable=Me(l,"textCrop",!!e.setCrop);var u=Me(l,"textMask",!this.textCropEnable);T&&this.addBackground(T),this.add(e),this.sizerChildren=[e];var m=this.getSizerConfig(e);m.align=Y3,m.padding=fn(0),m.expand=!0,this.textObject=e,this.textObjectType=or(e),m.preOffsetY=0,m.offsetY=0,u&&(this.textMask=on.call(this,this.textObject,this)),this.addChildrenMap("background",T),this.addChildrenMap("text",e)}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(this.textObject=void 0,this.textMask=void 0,this.lines){switch(this.textObjectType){case Ae:this.lines.length=0;break;case Ye:this.lines.destroy();break;case Ue:this.lines.length=0;break}this.lines=void 0}super.destroy(t)}}setClampMode(t){return t===void 0&&(t=!0),this.clampTextOY=t,this}get textLineHeight(){if(this._textLineHeight===void 0){var t;switch(this.textObjectType){case Ae:case Ye:var s=this.textObject.style;t=s.metrics.fontSize+s.strokeThickness;break;case Ue:var x=this.textObject.fontSize/this.textObject.fontData.size;t=this.textObject.fontData.lineHeight*x;break}this._textLineHeight=t}return this._textLineHeight}get textLineSpacing(){if(this._textLineSpacing===void 0){var t;switch(this.textObjectType){case Ae:case Ye:t=this.textObject.lineSpacing;break;case Ue:t=0;break}this._textLineSpacing=t}return this._textLineSpacing}get visibleLinesCount(){return this._visibleLinesCount===void 0&&(this._visibleLinesCount=Math.floor(mp.call(this,this._textObjectRealHeight))),this._visibleLinesCount}get topTextOY(){return 0}get bottomTextOY(){return-this.textVisibleHeight}get textHeight(){return this._textHeight===void 0&&(this._textHeight=xp.call(this,this.linesCount)),this._textHeight}get textObjectHeight(){return this._textObjectRealHeight-(this.textLineHeight+this.textLineSpacing)}get textVisibleHeight(){if(this._textVisibleHeight===void 0){var t=this.textHeight-this.textObjectHeight;!this.alwaysScrollable&&t<0&&(t=0),this._textVisibleHeight=t}return this._textVisibleHeight}textOYExceedTop(t){return t===void 0&&(t=this.textOY),t>this.topTextOY}textOYExeceedBottom(t){return t===void 0&&(t=this.textOY),t<this.bottomTextOY}get textOY(){return this._textOY}set textOY(t){var s=this.topTextOY,x=this.bottomTextOY,E=this.textOYExceedTop(t),A=this.textOYExeceedBottom(t);this.clampTextOY&&(this.visibleLinesCount>this.linesCount?t=0:E?t=s:A&&(t=x)),this._textOY!==t&&(this._textOY=t,this.updateTextObject()),E&&(this.execeedTopState||this.emit("execeedtop",this,t,s)),this.execeedTopState=E,A&&(this.execeedBottomState||this.emit("execeedbottom",this,t,x)),this.execeedBottomState=A}setTextOY(t){return this.textOY=t,this}set t(t){this.textOY=-this.textVisibleHeight*t}get t(){var t=this.textVisibleHeight;return t===0?0:this.textOY/-t}setTextOYByPercentage(t){return this.t=t,this}}var U3=function(i){return i.add.text(0,0,"")};Object.assign(Cp.prototype,X3);var W3=function(i){Object.defineProperty(i,"childOY",{configurable:!0,get:function(){return i.textOY},set:function(t){i.textOY=t}}),Object.defineProperty(i,"topChildOY",{get:function(){return i.topTextOY}}),Object.defineProperty(i,"bottomChildOY",{get:function(){return i.bottomTextOY}}),Object.defineProperty(i,"childVisibleHeight",{get:function(){return i.textObjectHeight}}),Object.defineProperty(i,"childHeight",{get:function(){return i.textHeight}})};const k3={setText(i){var t=this.childrenMap.child;return t.setText(i),this.resizeController(),this},appendText(i){return this.setText(this.text+i),this}};Phaser.Math.Clamp;const H3={scrollToLine(i){return this.setChildOY(-this.lineHeight*i),this},scrollToNextLine(i){i===void 0&&(i=1);var t=this.lineIndex+i;return this.scrollToLine(t),this}},li=Phaser.Utils.Objects.GetValue;class Ll extends za{constructor(t,s){s===void 0&&(s={}),s.scrollMode=0;var x=li(s,"text",void 0),E=li(s,"textWidth",void 0),A=li(s,"textHeight",void 0),l=li(s,"textCrop",!!x.setCrop),T=li(s,"textMask",!l),e=li(s,"content",""),u=new Cp(t,{width:E,height:A,text:x,textMask:T,textCrop:l&&!T,content:e,clamplTextOY:li(s,"clamplChildOY",!1),alwaysScrollable:li(s,"alwaysScrollable",!1)});t.add.existing(u),W3(u),s.scrollMode=0,s.type="rexTextArea",s.child={gameObject:u,expandWidth:E===void 0,expandHeight:A===void 0};var m=li(s,"space",void 0);m&&(m.child=li(m,"text",0)),super(t,s),this.addChildrenMap("text",x)}get text(){return this.childrenMap.child.text}get lineHeight(){var t=this.childrenMap.child;return t.textLineHeight+t.textLineSpacing}get lineIndex(){return Math.floor(-this.childOY/this.lineHeight)}get linesCount(){return this.childrenMap.child.linesCount}get contentHeight(){return this.childrenMap.child.textHeight}}Object.assign(Ll.prototype,k3,H3);const Zr=Phaser.Utils.Objects.GetValue;var $3=function(i,t,s){t=t?We(t):{};var x=Zr(s,"background",Ne),E=Zr(s,"text",op),A=Zr(s,"track",Ne),l=Zr(s,"thumb",Ne);x?t.background=x(i,t.background):delete t.background,E?t.text=E(i,t.text):delete t.text;var T=t.slider;T!==!1&&(T===void 0&&(T={}),A?T.track=A(i,T.track):delete T.track,l?T.thumb=l(i,T.thumb):delete T.thumb,t.slider=T);var e=new Ll(i,t);return i.add.existing(e),e};const K3=Phaser.Utils.Objects.GetValue;var Z3=function(i,t,s){var x=K3(t,"$type");x===void 0&&t&&(t.hasOwnProperty("slider")||t.hasOwnProperty("scroller"))&&(x="textarea");var E;switch(x){case"textarea":E=new $3(i,t,s);break;default:E=new Ve(i,t,s);break}return i.add.existing(E),E};const J3=Phaser.Utils.Objects.GetValue;class Q3 extends vp{constructor(t,s,x){s=s?We(s):{},x===void 0&&(x={});var E=J3(x,"background",Ne);E?s.background=E(t,s.background):delete s.background,s.title=Ve(t,s.title,x.title),s.content=Z3(t,s.content,x.content),s.content instanceof Ll&&vi(s,"height")&&!vi(s,"proportion.content")&&Wi(s,"proportion.content",1);var A=s.button,l=s.buttonA||A,T=s.buttonB||A,e=s.buttonMode;e===void 0&&(e=l&&T?2:l?1:0);var u=x.button,m=x.buttonA||u,d=x.buttonB||u;switch(e){case 2:s.actions=[Ve(t,l,m),Ve(t,T,d)];break;case 1:s.actions=[Ve(t,l,m)];break;case 0:break;default:s.actions=[];break}var o=s.choice;o&&(s.choices=[]),super(t,s),this.type="rexConfirmDialog",this.buttonMode=e,this.defaultActionConfig=A,this.defaultActionButtonCreator=u,this.defaultChoiceConfig=o,this.defaultChoiceCreator=x.choice;var h=this.childrenMap.actions;this.addChildrenMap("buttonA",h?h[0]:null),this.addChildrenMap("buttonB",h?h[1]:null),$F.call(this)}}Object.assign(Q3.prototype,XF);const Jr=Phaser.Utils.Objects.GetValue;var lr=function(i,t,s){var x=Jr(i,`proportion.${t}`,s.proportion),E=Jr(i,`align.${t}`,"center"),A=Jr(i,`space.${t}`,void 0);if(typeof A=="number"&&s.paddingKey){var l=A;A={},A[s.paddingKey]=l}var T=Jr(i,`expand.${t}`,!0);return{proportion:x,align:E,padding:A,expand:T}},Xa=function(i){return lr(i,"header",{proportion:0,paddingKey:"bottom"})},Ya=function(i){return lr(i,"leftSide",{proportion:0,paddingKey:"right"})},Ua=function(i){return lr(i,"content",{proportion:1})},Wa=function(i){return lr(i,"rightSide",{proportion:0,paddingKey:"left"})},ka=function(i){return lr(i,"footer",{proportion:0,paddingKey:"top"})},Ai=function(i){return{proportion:1,align:"center",padding:0,expand:!0}},wi=function(i,t){var s=new bt(i,{orientation:t});return i.add.existing(s),s},j3=function(i){var t=this.scene,s=i.header;s&&this.add(s,Xa(i));var x=wi(t,0);this.add(x,Ai());var E=i.leftSide;E&&x.add(E,Ya(i));var A=i.content;A&&x.add(A,Ua(i));var l=i.rightSide;l&&x.add(l,Wa(i));var T=i.footer;T&&this.add(T,ka(i))},q3=function(i){var t=this.scene,s=i.header;s&&this.add(s,Xa(i));var x=wi(t,0);this.add(x,Ai());var E=i.leftSide;E&&x.add(E,Ya(i));var A=wi(t,1);x.add(A,Ai());var l=wi(t,0);A.add(l,Ai());var T=i.content;T&&l.add(T,Ua(i));var e=i.rightSide;e&&l.add(e,Wa(i));var u=i.footer;u&&A.add(u,ka(i))},_3=function(i){var t=this.scene,s=i.header;s&&this.add(s,Xa(i));var x=wi(t,0);this.add(x,Ai());var E=wi(t,1);x.add(E,Ai());var A=wi(t,0);E.add(A,Ai());var l=i.leftSide;l&&A.add(l,Ya(i));var T=i.content;T&&A.add(T,Ua(i));var e=i.footer;e&&E.add(e,ka(i));var u=i.rightSide;u&&x.add(u,Wa(i))},t5=function(i){var t=this.scene,s=i.header;s&&this.add(s,Xa(i));var x=wi(t,0);this.add(x,Ai());var E=i.leftSide;E&&x.add(E,Ya(i));var A=wi(t,1);x.add(A,Ai());var l=i.content;l&&A.add(l,Ua(i));var T=i.footer;T&&A.add(T,ka(i));var e=i.rightSide;e&&x.add(e,Wa(i))};const lf=Phaser.Utils.Objects.GetValue,uf=[j3,q3,_3,t5];var e5=function(i){this.clear(!0);var t=lf(i,"background",void 0);t&&this.addBackground(t);var s=lf(i,"layoutMode",0);typeof s=="string"&&(s=i5[s.toUpperCase()]);var x=uf[s]||uf[0];x.call(this,i),this.addChildrenMap("background",i.background),this.addChildrenMap("header",i.header),this.addChildrenMap("leftSide",i.leftSide),this.addChildrenMap("content",i.content),this.addChildrenMap("rightSide",i.rightSide),this.addChildrenMap("footer",i.footer)};const i5={FFF:0,LFF:1,FFR:2,LFR:3};class s5 extends bt{constructor(t,s){s===void 0&&(s={}),s.orientation=1,super(t,s),this.type="rexHolyGrail",this.build(s)}}var n5={build:e5};Object.assign(s5.prototype,n5);const r5={getButtonsSizer(i){return this.childrenMap[`${i}ButtonsSizer`]},getButton(i,t){var s=this.getButtonsSizer(i);return s?s.getButton(t):void 0},setButtonEnable(i,t,s){return this.getButtonsSizer(i).setButtonEnable(t,s),this},setLeftButtonEnable(i,t){return this.childrenMap.leftButtonsSizer.setButtonEnable(i,t),this},setRightButtonEnable(i,t){return this.childrenMap.rightButtonsSizer.setButtonEnable(i,t),this},setTopButtonEnable(i,t){return this.childrenMap.topButtonsSizer.setButtonEnable(i,t),this},setBottomButtonEnable(i,t){return this.childrenMap.bottomButtonsSizer.setButtonEnable(i,t),this},toggleButtonEnable(i,t){return this.getButtonsSizer(i).toggleButtonEnable(t),this},toggleLeftButtonEnable(i){return this.childrenMap.leftButtonsSizer.toggleButtonEnable(i),this},toggleRightButtonEnable(i){return this.childrenMap.rightButtonsSizer.toggleButtonEnable(i),this},toggleTopButtonEnable(i){return this.childrenMap.topButtonsSizer.toggleButtonEnable(i),this},toggleBottomButtonEnable(i){return this.childrenMap.bottomButtonsSizer.toggleButtonEnable(i),this},getButtonEnable(i,t){return this.getButtonsSizer(i).getButtonEnable(t)},getLeftButtonEnable(i){return this.childrenMap.leftButtonsSizer.getButtonEnable(i)},getRightButtonEnable(i){return this.childrenMap.rightButtonsSizer.getButtonEnable(i)},getTopButtonEnable(i){return this.childrenMap.topButtonsSizer.getButtonEnable(i)},getBottomButtonEnable(i){return this.childrenMap.bottomButtonsSizer.getButtonEnable(i)},emitButtonClick(i,t){var s=this.getButtonsSizer(i);return s?(s.emitButtonClick(t),this):this},emitLeftButtonClick(i){return this.childrenMap.leftButtonsSizer.emitButtonClick(i),this},emitRightButtonClick(i){return this.childrenMap.rightButtonsSizer.emitButtonClick(i),this},emitTopButtonClick(i){return this.childrenMap.topButtonsSizer.emitButtonClick(i),this},emitBottomButtonClick(i){return this.childrenMap.bottomButtonsSizer.emitButtonClick(i),this},getLeftButton(i){return this.childrenMap.leftButtonsSizer.getButton(i)},getRightButton(i){return this.childrenMap.rightButtonsSizer.getButton(i)},getTopButton(i){return this.childrenMap.topButtonsSizer.getButton(i)},getBottomButton(i){return this.childrenMap.bottomButtonsSizer.getButton(i)},showButton(i,t){return cs(this.getButton(i,t)),this},showLeftButton(i){return cs(this.getLeftButton(i)),this},showRightButton(i){return cs(this.getRightButton(i)),this},showTopButton(i){return cs(this.getTopButton(i)),this},showBottomButton(i){return cs(this.getBottomButton(i)),this},hideButton(i,t){return ps(this.getButton(i,t)),this},hideLeftButton(i){return ps(this.getLeftButton(i)),this},hideRightButton(i){return ps(this.getRightButton(i)),this},hideTopButton(i){return ps(this.getTopButton(i)),this},hideBottomButton(i){return ps(this.getBottomButton(i)),this},addButton(i,t){return this.getButtonsSizer(i).addButton(t),this},addLeftButton(i){return this.addButton("left",i),this},addRightButton(i){return this.addButton("right",i),this},addTopButton(i){return this.addButton("top",i),this},removeButton(i,t,s){return this.getButtonsSizer(i).removeButton(t,s),this},removeLeftButton(i,t){return this.removeButton("left",i,t),this},removeRightButton(i,t){return this.removeButton("right",i,t),this},removeTopButton(i,t){return this.removeButton("top",i,t),this},removeBottomButton(i,t){return this.removeButton("bottom",i,t),this},clearButtons(i,t){return this.getButtonsSizer(i).clearButtons(t),this},clearLeftButtons(i){return this.clearButtons("left",i),this},clearRightButtons(i){return this.clearButtons("right",i),this},clearTopButtons(i){return this.clearButtons("top",i),this},clearBottomButtonss(i){return this.clearButtons("bottom",i),this},forEachButton(i,t,s){return this.getButtonsSizer(i).forEachButtton(t,s),this},forEachLeftButton(i,t){return this.childrenMap.leftButtonsSizer.forEachButtton(i,t),this},forEachRightButton(i,t){return this.childrenMap.rightButtonsSizer.forEachButtton(i,t),this},forEachTopButton(i,t){return this.childrenMap.topButtonsSizer.forEachButtton(i,t),this},forEachBottomButton(i,t){return this.childrenMap.bottomButtonsSizer.forEachButtton(i,t),this}},Nt=Phaser.Utils.Objects.GetValue;class a5 extends As{constructor(t,s){s===void 0&&(s={}),s.column=3,s.row=3,super(t,s),this.type="rexTabs",this.eventEmitter=Nt(s,"eventEmitter",this);var x=Nt(s,"background",void 0),E=Nt(s,"panel",void 0),A=Nt(s,"leftButtons",void 0),l=Nt(s,"leftButtonsBackground",void 0),T,e=Nt(s,"rightButtons",void 0),u=Nt(s,"rightButtonsBackground",void 0),m,d=Nt(s,"topButtons",void 0),o=Nt(s,"topButtonsBackground",void 0),h,n=Nt(s,"bottomButtons",void 0),r=Nt(s,"bottomButtonsBackground",void 0),f,a=Nt(s,"click",void 0);if(x&&this.addBackground(x),E&&this.add(E,1,1,"center",0,!0),A){var v=Nt(s,"space.leftButtonsOffset",0),p=Nt(s,"space.leftButton",0);T=new ce(t,{groupName:"left",background:l,buttons:A,orientation:1,space:{item:p},align:Nt(s,"align.leftButtons",void 0),click:a,eventEmitter:this.eventEmitter});var c={top:v};this.add(T,0,1,"top",c,!1)}if(e){var g=Nt(s,"space.rightButtonsOffset",0),y=Nt(s,"space.rightButton",0);m=new ce(t,{groupName:"right",background:u,buttons:e,orientation:1,space:{item:y},align:Nt(s,"align.rightButtons",void 0),click:a,eventEmitter:this.eventEmitter});var c={top:g};this.add(m,2,1,"top",c,!1)}if(d){var S=Nt(s,"space.topButtonsOffset",0),P=Nt(s,"space.topButton",0);h=new ce(t,{groupName:"top",background:o,buttons:d,orientation:0,space:{item:P},align:Nt(s,"align.topButtons",void 0),click:a,eventEmitter:this.eventEmitter});var c={left:S};this.add(h,1,0,"left",c,!1)}if(n){var C=Nt(s,"space.bottomButtonsOffset",0),M=Nt(s,"space.bottomButton",0);f=new ce(t,{groupName:"bottom",background:r,buttons:n,orientation:0,space:{item:M},align:Nt(s,"align.bottomButtons",void 0),click:a,eventEmitter:this.eventEmitter});var c={left:C};this.add(f,1,2,"left",c,!1)}this.addChildrenMap("background",x),this.addChildrenMap("panel",E),this.addChildrenMap("leftButtons",A),this.addChildrenMap("rightButtons",e),this.addChildrenMap("topButtons",d),this.addChildrenMap("bottomButtons",n),this.addChildrenMap("leftButtonsSizer",T),this.addChildrenMap("rightButtonsSizer",m),this.addChildrenMap("topButtonsSizer",h),this.addChildrenMap("bottomButtonsSizer",f)}}Object.assign(a5.prototype,r5);class Sp{constructor(t,s){this.container=null,this._deltaHeight=0,this.setParent(t)}setParent(t){this.parent=t,this.parentContainer=t.getParentContainer()}destroy(t){t===void 0&&(t=!1),t||this.destroyContainer(),this.deltaHeight=0,this.data=void 0,this.container=null,this.parent=void 0,this.parentContainer=void 0}get table(){return this.parent}get scrollMode(){return this.parentContainer.scrollMode}get colIndx(){return this.parent.cellIndxeToColIndex(this.index)}get rowIndx(){return this.parent.cellIndxeToRowIndex(this.index)}getContainer(){return this.container}setContainer(t){return t?(this.container&&this.container.destroy(),this.container=t,this.parentContainer.add(t),this):(this.destroyContainer(),this)}destroyContainer(){return this.container&&(this.container.destroy(),this.container=null),this}popContainer(){if(this.container){var t=this.container;return this.container=null,this.parentContainer.remove(t),t}else return null}setXY(t,s){return this.container&&this.parentContainer.setChildLocalPosition(this.container,t,s),this}setCellContainerAlign(t){return typeof t=="string"&&(t=dn[t]),this.cellContainerAlign=t,this}get deltaHeight(){return this._deltaHeight}set deltaHeight(t){t==null&&(t=0);var s=this.parent;this._deltaHeight===0&&t!==0?s.nonZeroDeltaHeightCount++:this._deltaHeight!==0&&t===0&&s.nonZeroDeltaHeightCount--;var x=this._deltaHeight!==t;if(this._deltaHeight=t,x){s.resetTotalRowsHeight();var E=this.scrollMode===0?"cellheightchange":"cellwidthchange";this.parentContainer.emit(E,this,this.container,this.parentContainer)}}get deltaWidth(){return this.deltaHeight}set deltaWidth(t){this.deltaHeight=t}setDeltaHeight(t){return this.deltaHeight=t,this}setDeltaWidth(t){return this.deltaHeight=t,this}get height(){return this.scrollMode===0?this.deltaHeight+this.parent.defaultCellHeight:this.parent.defaultCellWidth}set height(t){this.scrollMode!==1&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setHeight(t){return this.height=t,this}get width(){return this.scrollMode===0?this.parent.defaultCellWidth:this.deltaHeight+this.parent.defaultCellHeight}set width(t){this.scrollMode!==0&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setWidth(t){return this.width=t,this}get scene(){return this.parentContainer.scene}}Object.assign(Sp.prototype,ya);const df=Phaser.Utils.Objects.GetValue,h5=Phaser.Utils.Array.SpliceOne;class o5{constructor(t,s){this.parent=t,this.cells=[],this.cellPool=new ci,this.resetFromJSON(s)}resetFromJSON(t){t===void 0&&(t={}),this.colCount=void 0,this.nonZeroDeltaHeightCount=0,this.resetTotalRowsHeight();var s=t.cellHeight;s===void 0&&(s=30);var x=t.cellWidth;return x===void 0&&(x=30),this.setDefaultCellHeight(s),this.setDefaultCellWidth(x),this.initCells(df(t,"cellsCount",0)),this.setColumnCount(df(t,"columns",1)),this}destroy(t){this.cellPool.destroy(),this.cells=void 0,this.parent=void 0}get defaultCellHeightMode(){return this.nonZeroDeltaHeightCount===0}setDefaultCellHeight(t){return this.defaultCellHeight=t,this}setDefaultCellWidth(t){return this.defaultCellWidth=t,this}initCells(t){var s=this.cells;s.length=t;for(var x=0;x<t;x++)s[x]=null;return this}insertNewCells(t,s){var x=this.cells;if(t===x.length){var E=t+s;x.legth=E;for(var A=t;A<E;A++)x[A]=null}else{var l=[];l.length=s;for(var A=0;A<s;A++)l[A]=null;this.cells.splice(t,0,...l)}return this.resetTotalRowsHeight(),this}removeCells(t,s){for(var x=t+s,E=t;E<x;E++)this.freeCell(E);return x===this.cells.length?this.cells.length=t:(s===1?h5(this.cells,t):this.cells.splice(t,s),this.buildCellIndex(t)),this.resetTotalRowsHeight(),this}setColumnCount(t){return this.colCount=t,this.resetTotalRowsHeight(),this}get rowCount(){return Math.ceil(this.cells.length/this.colCount)}get cellsCount(){return this.cells.length}isValidCellIdx(t){return t>=0&&t<this.cells.length}heightToRowIndex(t,s){if(s===void 0&&(s=0),t===0)return 0;if(this.defaultCellHeightMode){var T=t/this.defaultCellHeight;switch(s){case 0:T=Math.floor(T);break;case 1:T=Math.ceil(T);break;default:Number.isInteger(T)?T+=1:T=Math.floor(T);break}return T}for(var x=this.rowCount,E=t,A,l,T=0;;)if(l=this.getRowHeight(T),E-=l,A=T>=0&&T<x,E>0&&A)T+=1;else{if(E===0)return s===2&&(T+=1),T;if(s===1){var e=T;T+=1,A=T>=0&&T<x,A||(T=e)}return T}}widthToColIndex(t,s){if(t===0)return 0;var x=t/this.defaultCellWidth;return s?x=Math.ceil(x):x=Math.floor(x),x}colRowToCellIndex(t,s){return t>=this.colCount?null:s*this.colCount+t}rowIndexToHeight(t,s){if(this.defaultCellHeightMode)return(s-t+1)*this.defaultCellHeight;for(var x,E=0,A=t;A<=s;A++)x=this.getRowHeight(A),E+=x;return E}colIndexToWidth(t,s){return(s-t+1)*this.defaultCellWidth}getRowHeight(t){var s=this.colCount;if(s<=1)return this.getCellHeight(this.colRowToCellIndex(0,t));for(var x=0,E,A=0;A<s;A++)E=this.getCellHeight(this.colRowToCellIndex(A,t)),x<E&&(x=E);return x}getColWidth(t){return this.defaultCellWidth}getCellHeight(t){if(!this.isValidCellIdx(t))return 0;var s;if(this.defaultCellHeightMode)s=this.defaultCellHeight;else{var x=this.getCell(t,!1),E=x?x.deltaHeight:0;s=this.defaultCellHeight+E}return s}resetTotalRowsHeight(){this._totalRowsHeight=null}get totalRowsHeight(){return this._totalRowsHeight===null&&(this._totalRowsHeight=this.rowIndexToHeight(0,this.rowCount-1)),this._totalRowsHeight}get totalColumnWidth(){return this.colCount*this.defaultCellWidth}cellIndxeToColIndex(t){return t%this.colCount}cellIndxeToRowIndex(t){return Math.floor(t/this.colCount)}getCell(t,s){if(!this.isValidCellIdx(t))return null;if(s===void 0&&(s=!0),this.cells[t]===null&&s){var x=this.newCell(t);this.cells[t]=x}return this.cells[t]}newCell(t){var s=this.cellPool.pop();return s===null?s=new Sp(this):s.setParent(this),s.index=t,s}buildCellIndex(t){t===void 0&&(t=0);for(var s=this.cells,x,E=t,A=s.length;E<A;E++)x=s[E],x&&(x.index=E);return this}getParentContainer(){return this.parent}freeCell(t){return typeof t=="number"&&(t=this.cells[t]),t?(t.destroy(),this.cellPool.push(t),this):this}}var l5=function(i){var t=this.table,s=this.topTableOY,x=this.bottomTableOY,E=i>this.topTableOY,A=i<this.bottomTableOY;if(this.clampTableOXY){var l=t.rowCount,T=t.heightToRowIndex(this.instHeight,1);l<T?i=0:E?i=s:A&&(i=x)}return this._tableOY!==i&&(this._tableOY=i),E&&(this.execeedTopState||this.emit("execeedtop",this,i,s)),this.execeedTopState=E,A&&(this.execeedBottomState||this.emit("execeedbottom",this,i,x)),this.execeedBottomState=A,this},u5=function(i){var t=this.table,s=this.leftTableOX,x=this.rightTableOX,E=i>this.leftTableOX,A=i<this.rightTableOX;if(this.clampTableOXY){var l=t.colCount,T=t.widthToColIndex(this.instWidth,!0);l<T?i=0:E?i=s:A&&(i=x)}return this._tableOX!==i&&(this._tableOX=i),E&&(this.execeedLeftState||this.emit("execeedleft",this,i,s)),this.execeedLeftState=E,A&&(this.execeedRightState||this.emit("execeedright",this,i,x)),this.execeedRightState=A,this},Fl=function(i){return i.hasOwnProperty("geometryMask")?i.geometryMask:i.bitmapMask};const d5=Phaser.Geom.Intersects.RectangleToRectangle,f5=Phaser.Geom.Rectangle.Overlaps;var v5=function(i,t,s){if(t){s===void 0&&(s=i.getAllChildren());for(var x=i.getBounds(),E=Fl(t),A,l,T,e=0,u=s.length;e<u;e++)if(A=s[e],!A.hasOwnProperty("isRexContainerLite")&&A!==E&&c5(A))if(A.getBounds)switch(l=A.getBounds(l),T=p5(x,l),T){case 4:g5(i,A);break;case 0:d5(x,l)||f5(x,l)?io(i,A,t):m5(i,A);break;default:io(i,A,t);break}else io(i,A,t)}},c5=function(i){if(!i.displayList)return!1;for(;;){var t=i.rexContainer;if(t)if(t.visible){var s=t.parent;if(s){i=s;continue}else return!0}else return!1;else return i.visible}},p5=function(i,t){var s=0,x=t.top,E=t.bottom,A=t.left,l=t.right;return s+=i.contains(A,x)?1:0,s+=i.contains(A,E)?1:0,s+=i.contains(l,x)?1:0,s+=i.contains(l,E)?1:0,s},g5=function(i,t,s){i.setChildMaskVisible(t,!0),t.clearMask&&t.clearMask()},io=function(i,t,s){i.setChildMaskVisible(t,!0),t.setMask&&t.setMask(s)},m5=function(i,t,s){i.setChildMaskVisible(t,!1),t.clearMask&&t.clearMask()};const so=Phaser.Utils.Objects.GetValue,x5={update:0,everyTick:1},Ep={setupChildrenMask(i){return i===!1?this:(this.setMaskUpdateMode(so(i,"updateMode",0)),this.enableChildrenMask(so(i,"padding",0)),this.setMaskLayer(so(i,"layer",void 0)),this.startMaskUpdate(),this)},destroyChildrenMask(){return this.childrenMask?(this.stopMaskUpdate(),this.childrenMask.destroy(),this.childrenMask=void 0,this):this},setMaskUpdateMode(i){return typeof i=="string"&&(i=x5[i]),this.maskUpdateMode=i,this},startMaskUpdate(){this.scene.game.events.on("poststep",this.maskChildren,this)},stopMaskUpdate(){this.scene.game.events.off("poststep",this.maskChildren,this)},enableChildrenMask(i){var t=on.call(this,null,this,0,i);return this.childrenMask=t.createGeometryMask(),this},setMaskChildrenFlag(i){return i===void 0&&(i=!0),this.maskChildrenFlag=i,this},setMaskLayer(i){return this.maskLayer=i,this},maskChildren(){return!this.childrenMask||!this.maskChildrenFlag||this.alpha===0||!this.visible?this:(this.privateRenderLayer?this.privateRenderLayer.setMask(this.childrenMask):this.maskLayer?(this.addToLayer(this.maskLayer),this.maskLayer.setMask(this.childrenMask)):v5(this,this.childrenMask),this.maskUpdateMode===0&&(this.maskChildrenFlag=!1),this)},layoutChildrenMask(){if(!this.childrenMask)return this;var i=Fl(this.childrenMask);return i.setPosition().resize(),this.resetChildPositionState(i),this}};var y5=function(){if(this.cellsCount!==0){var i=this.table;this.startRowIndex=Math.max(i.heightToRowIndex(-this.tableOY,2),0);for(var t=this.startRowIndex,s=Math.max(i.widthToColIndex(-this.tableOX),0),x=s,E=i.colRowToCellIndex(x,t),A=this.bottomBound,l=this.rightBound,T=i.cellsCount-1,e=i.colCount-1,u=this.getCellTLX(x),m=u,d=this.getCellTLY(t);d<A&&E<=T;){if(this.table.isValidCellIdx(E)){var o=i.getCell(E,!0);this.visibleCells.set(o),this.preVisibleCells.contains(o)||this.showCell(o);var h,n;if(this.scrollMode===0?(h=m,n=d):(h=d,n=m),o.cellContainerAlign==null)o.setXY(h,n);else{var r=o.getContainer();tr(r,h,n,o.width,o.height,o.cellContainerAlign),o.setXY(r.x,r.y)}}m<l&&x<e?(m+=i.getColWidth(x),x+=1):(m=u,d+=i.getRowHeight(t),x=s,t+=1),E=i.colRowToCellIndex(x,t)}}},Pp=function(i){var t=null,s=i.getContainer();if(s?(t=s,i.popContainer()):this.cellContainersPool&&(t=this.cellContainersPool.getFirstDead(),t!==null&&t.setActive(!0).setVisible(!0)),this.emit("cellvisible",i,t,this),this.cellContainersPool){var s=i.getContainer();s?t===null?this.cellContainersPool.add(s):t!==s&&(this.cellContainersPool.add(s),this.cellContainersPool.killAndHide(t)):t!==null&&this.cellContainersPool.killAndHide(t)}},T5=function(i){var t=this.scrollMode===0?this.topLeftX:this.topLeftY,s=this.tableOX+this.table.colIndexToWidth(0,i-1)+t;return s},C5=function(i){var t=this.scrollMode===0?this.topLeftY:this.topLeftX,s=this.tableOY+this.table.rowIndexToHeight(0,i-1)+t;return s},S5=function(){var i=this.preVisibleCells,t=this.visibleCells;i.iterate(function(s){t.contains(s)||this.hideCell(s)},this)},Mp=function(i){if(this.emit("cellinvisible",i),this.cellContainersPool){var t=i.popContainer();t&&this.cellContainersPool.killAndHide(t)}i.destroyContainer()},E5=function(i){return i===void 0&&(i=!1),i&&(ff.call(this),this.hideCells()),ff.call(this),this.showCells(),this.hideCells(),this.setMaskChildrenFlag(),this},ff=function(){var i=this.preVisibleCells;this.preVisibleCells=this.visibleCells,this.visibleCells=i,this.visibleCells.clear()},P5=function(i){var t=this.table.getCell(i,!1);return t&&this.visibleCells.contains(t)},Rp=function(i,t){t-=this.y+this.topLeftY,i-=this.x+this.topLeftX;var s=this.tableOY-(this.scrollMode===0?t:i),x=this.tableOX-(this.scrollMode===0?i:t),E=this.table,A=E.heightToRowIndex(-s,0),l=E.widthToColIndex(-x),T=E.colRowToCellIndex(l,A);return T===null||!this.isCellVisible(T)?null:T},M5=function(i,t){var s=Rp.call(this,i,t);if(s!==null)return this.getCellContainer(s)},R5=function(i,t){return this.visibleCells.each(i,t),this},A5=function(i,t){return this.visibleCells.iterate(i,t),this},w5=function(i,t){return this.table.cells.slice().forEach(i,t),this},O5=function(i,t){return this.table.cells.forEach(i,t),this},L5=function(i){var t=this.cellsCount;return t===i?this:(t>i?this.removeCells(i,t-i):this.insertNewCells(t,i-t),this)};const F5=Phaser.Math.Clamp;var D5=function(i,t){return typeof i=="object"&&(i=i.index),t===void 0&&(t=1),t<=0?this:(i=F5(i,0,this.cellsCount),this.table.insertNewCells(i,t),this)},b5=function(i,t){if(typeof i=="object"&&(i=i.index),t===void 0&&(t=1),i<0&&(t+=i,i=0),t<=0)return this;if(i>this.cellsCount)return this;for(var s,x=i,E=i+t;x<E;x++)s=this.getCell(x,!1),s&&(this.visibleCells.contains(s)&&(Mp.call(this,s),this.visibleCells.delete(s)),this.preVisibleCells.delete(s));return this.table.removeCells(i,t),this},B5=function(i){return this.table.colCount===i?this:(this.table.setColumnCount(i),this)},I5=function(i,t){return this.setCellsCount(i*t),this.table.setColumnCount(i),this},G5=function(i){var t=this.table.getCell(i,!1);return!t||!t.container?this:(Pp.call(this,t),this)},Ap={setTableOY:l5,setTableOX:u5,showCells:y5,showCell:Pp,getCellTLX:T5,getCellTLY:C5,hideCells:S5,hideCell:Mp,updateTable:E5,isCellVisible:P5,pointToCellIndex:Rp,pointToCellContainer:M5,eachVisibleCell:R5,iterateVisibleCell:A5,eachCell:w5,iterateCell:O5,setCellsCount:L5,insertNewCells:D5,removeCells:b5,setColumnCount:B5,setGridSize:I5,updateVisibleCell:G5};Object.assign(Ap,Ep);const N5=Phaser.GameObjects.Group,vf=Phaser.Structs.Set,ui=Phaser.Utils.Objects.GetValue;let wp=class extends _e{constructor(t,s,x,E,A,l){l===void 0&&(l={}),super(t,s,x,E,A),this.type="rexGridTable",this._tableOX=0,this._tableOY=0,this.visibleCells=new vf,this.preVisibleCells=new vf,this.execeedTopState=!1,this.execeedBottomState=!1,this.execeedLeftState=!1,this.execeedRightState=!1;var T=ui(l,"reuseCellContainer",!1);T&&(this.cellContainersPool=new N5(t));var e=ui(l,"cellVisibleCallback",null);if(e!==null){var u=ui(l,"cellVisibleCallbackScope",void 0);this.on("cellvisible",e,u)}if(e=ui(l,"cellInvisibleCallback",null),e!==null){var u=ui(l,"cellInvisibleCallbackScope",void 0);this.on("cellinvisible",e,u)}ui(l,"enableLayer",!1)&&this.enableLayer(),this.setupChildrenMask(ui(l,"mask",void 0)),this.setScrollMode(ui(l,"scrollMode",0)),this.setClampMode(ui(l,"clamplTableOXY",!0));var m,d,o,h=this.scrollMode===0;if(h?(m=l.cellWidth,d=l.cellHeight,o=l.columns):(m=l.cellHeight,d=l.cellWidth,o=ui(l,"rows",l.columns)),o||(o=1),this.expandCellSize=m===void 0,this.expandCellSize){var E=h?this.width:this.height;m=E/o}l.cellWidth=m,l.cellHeight=d,l.columns=o,this.table=new o5(this,l),this.updateTable()}destroy(t){!this.scene||this.ignoreDestroy||(this.destroyChildrenMask(),this.table.destroy(t),this.table=void 0,this.cellContainersPool&&(this.cellContainersPool.destroy(!0),this.cellContainersPool=void 0),super.destroy(t))}setScrollMode(t){return typeof t=="string"&&(t=V5[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t){return t===void 0&&(t=!0),this.clampTableOXY=t,this}get tableOY(){return this._tableOY}get tableOX(){return this._tableOX}set tableOY(t){this.setTableOY(t).updateTable()}set tableOX(t){this.setTableOX(t).updateTable()}setTableOXY(t,s){return this.setTableOY(s).setTableOX(t),this}addTableOY(t){return this.setTableOY(this.tableOY+t),this}addTableOX(t){return this.setTableOX(this.tableOX+t),this}addTableOXY(t,s){return this.addTableOY(s).addTableOX(t),this}setTableOYByPercentage(t){return this.setTableOY(-this.tableVisibleHeight*t),this}getTableOYPercentage(){var t=this.tableVisibleHeight;return t===0?0:this.tableOY/-t}setTableOXByPercentage(t){return this.setTableOX(-this.tableVisibleWidth*t),this}getTableOXPercentage(){var t=this.tableVisibleWidth;return t===0?0:this.tableOX/-t}set t(t){this.setTableOYByPercentage(t).updateTable()}get t(){return this.getTableOYPercentage()}set s(t){this.setTableOXByPercentage(t).updateTable()}get s(){return this.getTableOXPercentage()}scrollToBottom(){if(this.t=1,this.t===0)return this;do this.t=1;while(this.t!==1);return this}scrollToRow(t){this.scrollToBottom();var s=this.table.rowIndexToHeight(0,t-1);return this.setTableOY(-s).updateTable(),this}scrollToNextRow(t){return t===void 0&&(t=1),this.scrollToRow(this.startRowIndex+t),this}getCell(t){return this.table.getCell(t,!0)}getCellContainer(t){var s=this.table.getCell(t,!1),x;return s&&(x=s.getContainer()),x}get cellsCount(){return this.table.cellsCount}get columnCount(){return this.table.colCount}setCellHeight(t,s){var x;return typeof t=="number"?x=this.table.getCell(t,!0):x=t,x.height=s,this}setCellWidth(t,s){var x;return typeof t=="number"?x=this.table.getCell(t,!0):x=t,x.width=s,this}get instHeight(){return this.scrollMode===0?this.height:this.width}get instWidth(){return this.scrollMode===0?this.width:this.height}get tableHeight(){return this.table.totalRowsHeight}get tableWidth(){return this.table.totalColumnWidth}get topTableOY(){return 0}get bottomTableOY(){return-this.tableVisibleHeight}get leftTableOX(){return 0}get rightTableOX(){return-this.tableVisibleWidth}get tableVisibleHeight(){var t=this.tableHeight-this.instHeight;return t<0&&(t=0),t}get tableVisibleWidth(){var t=this.tableWidth-this.instWidth;return t<0&&(t=0),t}get bottomLeftY(){return-(this.displayHeight*this.originY)+this.displayHeight}get topRightX(){return-(this.displayWidth*this.originX)+this.displayWidth}get topLeftX(){return-(this.displayWidth*this.originX)}get topLeftY(){return-(this.displayHeight*this.originY)}get bottomBound(){return this.scrollMode===0?this.bottomLeftY:this.topRightX}get rightBound(){return this.scrollMode===0?this.topRightX:this.bottomLeftY}resize(t,s){return this.width===t&&this.height===s?this:(super.resize(t,s),this.expandCellSize&&this.table.setDefaultCellWidth(this.instWidth/this.table.colCount),this.updateTable(!0),this.layoutChildrenMask(),this.maskChildren(),this)}};Object.assign(wp.prototype,Ap);const V5={v:0,vertical:0,h:1,horizontal:1};var z5=function(i){Object.defineProperty(i,"childOY",{configurable:!0,get:function(){return i.tableOY},set:function(t){i.tableOY=t}}),Object.defineProperty(i,"childOX",{configurable:!0,get:function(){return i.tableOX},set:function(t){i.tableOX=t}}),Object.defineProperty(i,"topChildOY",{get:function(){return i.topTableOY}}),Object.defineProperty(i,"bottomChildOY",{get:function(){return i.bottomTableOY}}),Object.defineProperty(i,"leftChildOX",{get:function(){return i.leftTableOX}}),Object.defineProperty(i,"rightChildOX",{get:function(){return i.rightTableOX}}),Object.defineProperty(i,"childVisibleHeight",{get:function(){return i.instHeight}}),Object.defineProperty(i,"childHeight",{get:function(){return i.tableHeight}}),Object.defineProperty(i,"childVisibleWidth",{get:function(){return i.instWidth}}),Object.defineProperty(i,"childWidth",{get:function(){return i.tableWidth}})},X5=function(i){i.on("cellvisible",function(t,l,x){var E=this.createCellContainerCallback,A=this.createCellContainerCallbackScope;t.item=this.items[t.index],t.items=this.items;var l;A?l=E.call(A,t,l,x):l=E(t,l,x),l&&(t.cellContainerAlign==null&&l.setOrigin&&l.setOrigin(0),l.isRexSizer&&l.layout()),t.item=void 0,t.items=void 0,t.setContainer(l)},this)},mi=function(i,t,s,x,E,A,l){var T;if(E===void 0?T=x:T=s.pointToCellIndex(x,E),T!=null){var e=s.getCellContainer(T);e&&i.emit(t,e,T,A,l)}},Y5=function(i,t){i.on("pointerdown",function(s,x,E,A){mi(this.eventEmitter,"cell.down",i,s.worldX,s.worldY,s,A)},this).on("pointerup",function(s,x,E,A){mi(this.eventEmitter,"cell.up",i,s.worldX,s.worldY,s,A)},this)},U5=function(i,t){i.on("pointermove",cf,this).on("pointerover",cf,this).on("pointerout",W5,this)},cf=function(i,t,s,x){var E=this.childrenMap.child,A=E.pointToCellIndex(i.worldX,i.worldY);if(A!==E.input.lastOverCellIndex){var l=E.input.lastOverCellIndex;E.input.lastOverCellIndex=A,mi(this.eventEmitter,"cell.out",E,l,void 0,i,x),mi(this.eventEmitter,"cell.over",E,A,void 0,i,x)}},W5=function(i,t){var s=this.childrenMap.child,x=s.input.lastOverCellIndex;s.input.lastOverCellIndex=void 0,mi(this.eventEmitter,"cell.out",s,x,void 0,i,t)};const k5=Phaser.Utils.Objects.GetValue;var H5=function(i,t){var s=k5(t,"click",void 0);s!==!1&&(s===void 0&&(s={}),s.threshold=10,i._click=new Es(i,s),i._click.on("click",function(x,E,A,l){mi(this.eventEmitter,"cell.click",E,A.worldX,A.worldY,A,l)},this))};const $5=Phaser.Utils.Objects.GetValue;var K5=function(i,t){var s=$5(t,"tap",void 0);s!==!1&&(i._tap=new Fc(i,s),i._tap.on("tap",function(x,E,A){var l=`cell.${x.tapsCount}tap`;mi(this.eventEmitter,l,x.gameObject,x.worldX,x.worldY,A)},this))};const Z5=Phaser.Utils.Objects.GetValue;var J5=function(i,t){var s=Z5(t,"press",void 0);s!==!1&&(i._press=new Dc(i,s),i._press.on("pressstart",function(x,E,A){mi(this.eventEmitter,"cell.pressstart",i,x.worldX,x.worldY,A)},this).on("pressend",function(x,E,A){mi(this.eventEmitter,"cell.pressend",i,x.worldX,x.worldY,A)},this))};const Q5=Phaser.Utils.Objects.GetValue;var j5=function(i,t){var s=Q5(t,"swipe",void 0);s!==!1&&(s===void 0&&(s={}),s.dir="4dir",i._swipe=new yl(i,s),i._swipe.on("swipe",function(x,E,A){var l=x.left?"left":x.right?"right":x.up?"up":"down";mi(this.eventEmitter,`cell.swipe${l}`,i,x.worldX,x.worldY,A)},this))},q5=function(i,t){i.setInteractive(),Y5.call(this,i,t),U5.call(this,i,t),H5.call(this,i,t),K5.call(this,i,t),J5.call(this,i,t),j5.call(this,i,t)},_5=function(i){i===void 0?this.items=[]:this.items=i;var t=this.childrenMap.child;return t.setCellsCount(this.items.length),t.updateTable(!0),this.resizeController(),this};const t6={scrollToRow(i){var t=this.childrenMap.child;return t.scrollToRow(i),this},scrollToNextRow(i){var t=this.childrenMap.child;return t.scrollToNextRow(i),this}},Ze=Phaser.Utils.Objects.GetValue;class e6 extends za{constructor(t,s){s===void 0&&(s={});var x=Al(s),E=Ze(s,"table",void 0);E===void 0&&(E={}),E.scrollMode=x===2?0:x,E.clamplTableOXY=Ze(s,"clamplChildOY",!1);var A=Ze(E,"width",void 0),l=Ze(E,"height",void 0),T=new wp(t,0,0,A,l,E);t.add.existing(T);var e,u;E.scrollMode===0?(e=A===void 0,u=l===void 0):(e=l===void 0,u=A===void 0),z5(T),T._minWidth=A===void 0?0:void 0,T._minHeight=l===void 0?0:void 0,s.type="rexGridTable",s.child={gameObject:T,expandWidth:e,expandHeight:u};var m=Ze(s,"space",void 0);m&&(m.child=Ze(m,"table",0)),super(t,s),this.addChildrenMap("table",T),this.addChildrenMap("tableLayer",T.maskLayer),this.eventEmitter=Ze(s,"eventEmitter",this);var d=Ze(s,"createCellContainerCallback",Ge),o=Ze(s,"createCellContainerCallbackScope",void 0);this.setCreateCellContainerCallback(d,o),X5.call(this,T),this.resizeControllerFlag=!1;var h=x===0?"cellheightchange":"cellwidthchange";T.on(h,function(){this.resizeControllerFlag=!0},this),Ze(E,"interactive",!0)&&q5.call(this,T,E),this.setItems(Ze(s,"items",[])),t.game.events.on("poststep",this.onPostStep,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.scene.game.events.off("poststep",this.onPostStep,this),super.destroy(t))}setCreateCellContainerCallback(t,s){return this.createCellContainerCallback=t,this.createCellContainerCallbackScope=s,this}refresh(){return this.setItems(this.items),this}getCell(t){var s=this.childrenMap.child;return s.getCell(t)}getCellContainer(t){var s=this.childrenMap.child;return s.getCellContainer(t)}updateVisibleCell(t){var s=this.childrenMap.child;return s.updateVisibleCell(t)}onPostStep(){this.resizeControllerFlag&&(this.resizeController(),this.resizeControllerFlag=!1)}get startRowIndex(){var t=this.childrenMap.child;return t.startRowIndex}}var i6={setItems:_5};Object.assign(e6.prototype,t6,i6);var Dl=function(i,t){return i.sameOrientation?i.orientation=t.orientation:i.orientation=t.orientation===0?1:0,i},s6=function(i,t){i.popUp(Dl(i.root.easeIn,i))},n6=function(i,t){i.scaleDown(Dl(i.root.easeOut,i))};const r6={setTransitInCallback(i){return i===void 0&&(i=s6),this.transitInCallback=i,this},setTransitOutCallback(i){return i===void 0&&(i=n6),this.transitOutCallback=i,this}};var a6=function(i,t,s,x,E){var A=Hn(i),l=A.time.delayedCall(t,function(){A.sys.events.once("postupdate",function(){s.call(x,E)})});return l};const h6={delayCall(i,t,s){return this.timer=a6(this,i,t,s),this},removeDelayCall(){return this.timer&&(this.timer.remove(!1),this.timer=void 0),this}};var o6=function(i,t){var x=this.childrenMap.subMenu;if(x&&x.parentButton===i)return this;this.collapseSubMenu();var s;this.root.toggleOrientation?s=this.orientation===0?1:0:s=this.orientation;var x=new this.constructor(this.scene,{items:t,orientation:s,space:this.space,createBackgroundCallback:this.root.createBackgroundCallback,createBackgroundCallbackScope:this.root.createBackgroundCallbackScope,createButtonCallback:this.root.createButtonCallback,createButtonCallbackScope:this.root.createButtonCallbackScope,easeIn:this.root.easeIn,easeOut:this.root.easeOut,_rootMenu:this.root,_parentMenu:this,_parentButton:i});return this.pin(x),this.childrenMap.subMenu=x,this.root.emit("expand",x,i,this),this},l6=function(){var i=this.root;i.emit("collapse",this,this.parentButton,i);var t=i.easeOut.duration;return i.transitOutCallback(this,t),this.collapseSubMenu(),this.delayCall(t,this.destroy,this),this},u6=function(){var i=this.childrenMap.subMenu;return i===void 0?this:(this.childrenMap.subMenu=void 0,this.remove(i),i.collapse(),this)},Op={expandSubMenu:o6,collapse:l6,collapseSubMenu:u6};Object.assign(Op,r6,h6);var d6=function(i,t,s,x){var E;return s&&(t.scene=i,x?E=s.call(x,t):E=s(t),t.scene=void 0),E},f6=function(i,t,s,x){var E,A=[],l;if(t&&s)for(var T=0,e=t.length;T<e;T++)E=t[T],E.scene=i,x?l=s.call(x,E,T,t):l=s(E,T,t),E.scene=void 0,A.push(l);return A},v6=function(i){i.on(i.root.expandEventName,function(t,s){if(!this._isPassedEvent){var x=this.root.childrenKey,E=this.items[s][x];E&&this.expandSubMenu(t,E)}},i).on("button.click",function(t,s,x,E){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.click",t,s,x,E),this.root._isPassedEvent=!1)},i).on("button.over",function(t,s,x,E){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.over",t,s,x,E),this.root._isPassedEvent=!1)},i).on("button.out",function(t,s,x,E){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.out",t,s,x,E),this.root._isPassedEvent=!1)},i)},pf=function(i,t){return typeof t=="number"&&(t={duration:t}),t.hasOwnProperty("orientation")&&t.orientation!==void 0?t.sameOrientation=Ia(t.orientation)===i.orientation:t.sameOrientation=!0,t.destroy=!1,t},c6=function(){var i=this.root,t=i.easeIn.duration;i.transitInCallback(this,t),this!==this.root&&this.delayCall(t,function(){this.root.emit("popup.complete",this)},this)};const ve=Phaser.Utils.Objects.GetValue;class p6 extends ce{constructor(t,s){s===void 0&&(s={}),s.hasOwnProperty("orientation")||(s.orientation=1);var x=s._rootMenu,E=s._parentMenu,A=s._parentButton,l=ve(s,"popup",!0),T=ve(s,"items",void 0),e=ve(s,"createBackgroundCallback",void 0),u=ve(s,"createBackgroundCallbackScope",void 0);s.background=d6(t,T,e,u);var m=ve(s,"createButtonCallback",void 0),d=ve(s,"createButtonCallbackScope",void 0);if(s.buttons=f6(t,T,m,d),super(t,s),this.type="rexMenu",this.items=T,this.root=x===void 0?this:x,this.isRoot=this.root===this,this.parentMenu=E,this.parentButton=A,this.timer=void 0,this.isRoot){this.isPopUpMode=l;var o=s.bounds;o===void 0&&(o=jn(t)),this.bounds=o,this.subMenuSide=[this.y<o.centerY?No:ra,this.x<o.centerX?Go:na];var h=ve(s,"subMenuSide",void 0);h!==void 0&&(typeof h=="string"&&(h=g6[h]),this.subMenuSide[this.orientation]=h),this.toggleOrientation=ve(s,"toggleOrientation",!1),this.expandEventName=ve(s,"expandEvent","button.click"),this.easeIn=pf(this,ve(s,"easeIn",0)),this.easeOut=pf(this,ve(s,"easeOut",0)),this.setTransitInCallback(ve(s,"transitIn")),this.setTransitOutCallback(ve(s,"transitOut")),this.createBackgroundCallback=e,this.createBackgroundCallbackScope=u,this.createButtonCallback=m,this.createButtonCallbackScope=d,this.childrenKey=ve(s,"childrenKey","children"),this._isPassedEvent=!1,this.pointerDownOutsideCollapsing=ve(s,"pointerDownOutsideCollapsing",!0),this.pointerDownOutsideCollapsing&&t.input.on("pointerdown",this.onPointerDownOutside,this)}var n=0,r=0;if(!this.root.easeIn.sameOrientation){var f=Dl(this.root.easeIn,this).orientation,a=E?E.orientation:this.orientation,h=this.root.subMenuSide[a];f===0&&h===na&&(n=1),f===1&&h===ra&&(r=1)}if(l&&this.setOrigin(n,r).layout(),!this.isRoot){this.setScale(this.root.scaleX,this.root.scaleY);var h=this.root.subMenuSide[E.orientation];switch(h){case na:this.alignTop(A.top).alignRight(A.left);break;case Go:this.alignTop(A.top).alignLeft(A.right);break;case ra:this.alignLeft(A.left).alignBottom(A.top);break;case No:this.alignLeft(A.left).alignTop(A.bottom);break}}v6(this),l&&(this.pushIntoBounds(this.root.bounds),c6.call(this))}destroy(t){!this.scene||this.ignoreDestroy||(this.isRoot&&this.pointerDownOutsideCollapsing&&this.scene.input.off("pointerdown",this.onPointerDownOutside,this),super.destroy(t),this.removeDelayCall())}isInTouching(t){return super.isInTouching(t)?!0:this.childrenMap.subMenu?this.childrenMap.subMenu.isInTouching(t):!1}onPointerDownOutside(t){this.isInTouching(t)||(this.isPopUpMode?this.collapse():this.collapseSubMenu())}}const na=2,Go=0,ra=3,No=1,g6={up:ra,down:No,left:na,right:Go};Object.assign(p6.prototype,Op);var m6={setWrapEnable(i){return i===void 0&&(i=!0),this.listWrapEnable=i,this},setCreateButtonCallback(i){return this.listCreateButtonCallback=i,this},setCreateListBackgroundCallback(i){return this.listCreateBackgroundCallback=i,this},setButtonClickCallback(i){return this.listOnButtonClick=i,this},setButtonOverCallback(i){return this.listOnButtonOver=i,this},setButtonOutCallback(i){return this.listOnButtonOut=i,this},setListExpandDirection(i){return typeof i=="string"&&(i=x6[i]),this.listExpandDirection=i,this},setListEaseInDuration(i){return i===void 0&&(i=0),this.listEaseInDuration=i,this},setListEaseOutDuration(i){return i===void 0&&(i=0),this.listEaseOutDuration=i,this},setListTransitInCallback(i){return this.listTransitInCallback=i,this},settListTransitOutCallback(i){return this.listTransitOutCallback=i,this},setListBounds(i){return this.listBounds=i,this},setListWidth(i){return this.listWidth=i,this},setListHeight(i){return this.listHeight=i,this},setListSize(i,t){return this.setListWidth(i).setListHeight(t),this},setListAlignmentMode(i){return this.listAlignMode=i,this},setListAlignmentSide(i){return i===void 0&&(i=""),this.listAlignSide=i,this},setListSpace(i){return i===void 0&&(i={}),this.listSpace=i,this},setListDraggable(i){return i===void 0&&(i=!0),this.listDraggable=i,this}};const x6={down:0,up:1};var y6=function(){var i=this.scene,t,s=this.listCreateBackgroundCallback;s&&(t=s.call(this,i),i.add.existing(t));var x=[],E=this.listCreateButtonCallback;if(E)for(var A=this.options,l=0,T=A.length;l<T;l++){var e=E.call(this,i,A[l],l,A);i.add.existing(e),x.push(e)}var u=this.listWidth;u===void 0&&(this.listAlignMode==="text"?u=this.getElement("text").width:u=this.width);var m=this.listHeight,d;return this.listWrapEnable?d=new kn(i,{width:u,height:m,background:t,buttons:x,space:this.listSpace,draggable:this.listDraggable}):d=new ce(i,{width:u,height:m,orientation:"y",background:t,buttons:x,space:this.listSpace,draggable:this.listDraggable}),i.add.existing(d),d},T6=function(i,t,s,x,E){x===void 0&&(x="Linear");var A={};switch(A.mode=0,s){case 0:case"x":A.end={x:0};break;case 1:case"y":A.end={y:0};break;default:A.end=0;break}return A.duration=t,A.ease=x,E===void 0?E=new Un(i,A):E.resetFromJSON(A),E.restart(),E},C6=function(i,t,s,x,E){return vi(i,t)?Vt(i,t):s&&vi(i,s)?Vt(i,s):x&&vi(i,x)?Vt(i,x):E};const Zs=Phaser.Utils.Objects.GetValue;var S6=function(i,t){var s=Zs(t,"expandDirection",void 0);typeof s=="string"&&(s=E6[s]);var x=C6(t,"alignTarget","alignTargetX"),E=Zs(t,"alignTargetY",x),A=Zs(t,"alignOffsetX",0),l=Zs(t,"alignOffsetY",0),T=Zs(t,"alignSide",""),e=T.includes("right"),u=Zs(t,"bounds"),m=s===0,d=s===1,o=!m&&!d,h=e?1:0,n=m||o?0:1;i.setOrigin(h,n);var r,f;e?r=x.getTopRight().x:r=x.getTopLeft().x,f=E.getBottomLeft().y,i.setPosition(r+A,f+l);var a=u;a||(a=jn(i.scene)),o&&i.getBottomLeft().y>a.bottom&&(f=E.getTopLeft().y,i.setOrigin(0,1).setPosition(r+A,f+l))};const E6={down:0,up:1},gf=Phaser.Utils.Objects.GetValue;class Lp extends Fa{constructor(t,s){s===void 0&&(s={}),s.transitIn==null&&(s.transitIn=function(A,l){fl(A,l,"y","Cubic")}),s.transitOut==null&&(s.transitOut=function(A,l){T6(A,l,"y","Linear")}),s.manualClose=!0,s.clickOutsideClose=!0,s.destroy=!0,super(t,s),S6(t,s),t.isRexSizer&&t.layout();var x=gf(s,"touchOutsideClose",!1),E=gf(s,"anyTouchClose",!1);E&&(x=!1),E?this.once("open",this.anyTouchClose,this):x&&this.once("open",this.touchOutsideClose,this),this.requestOpen()}shutdown(t){this.isShutdown||(this.scene.input.off("pointerup",this.touchCloseCallback,this),super.shutdown(t))}touchOutsideClose(){return this.scene.input.on("pointerup",this.touchCloseCallback,this),this.clickOutsideTest=!0,this}anyTouchClose(){return this.scene.input.once("pointerup",this.touchCloseCallback,this),this}touchCloseCallback(t){this.clickOutsideTest&&Wn(this.parent,t.worldX,t.worldY)||this.requestClose()}onOpen(){this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.parent,this),super.onClose()}}var P6=function(){if(this.listPanel)return this;var i=y6.call(this);i.on("button.over",function(x,E,A,l){this.listOnButtonOver&&this.listOnButtonOver.call(this,x,E,A,l),this.emit("button.over",this,i,x,E,A,l)},this).on("button.out",function(x,E,A,l){this.listOnButtonOut&&this.listOnButtonOut.call(this,x,E,A,l),this.emit("button.out",this,i,x,E,A,l)},this);var t;!this.listAlignMode||this.listAlignMode==="label"?t=this:t=this.getElement(this.listAlignMode);var s=new Lp(i,{duration:{in:this.listEaseInDuration,out:this.listEaseOutDuration},transitIn:this.listTransitInCallback,transitOut:this.listTransitOutCallback,expandDirection:this.listExpandDirection,alignTargetX:t,alignTargetY:this,alignSide:this.listAlignSide,bounds:this.listBounds,anyTouchClose:!0}).on("open",function(){i.on("button.click",function(x,E,A,l){this.listOnButtonClick&&this.listOnButtonClick.call(this,x,E,A,l),this.emit("button.click",this,i,x,E,A,l)},this),this.emit("list.open",this,i)},this).on("close",function(){this.listPanel=void 0,this.dropDownBehavior=void 0},this);return this.listPanel=i,this.dropDownBehavior=s,this.pin(i),this},M6=function(){return this.dropDownBehavior?(this.dropDownBehavior.requestClose(),this):this},R6=function(){return this.listPanel?this.closeListPanel():this.openListPanel(),this},Fp={openListPanel:P6,closeListPanel:M6,toggleListPanel:R6};Object.assign(Fp,m6);const Xt=Phaser.Utils.Objects.GetValue;class Dp extends Ga{constructor(t,s){super(t,s),this.type="rexDropDownList",this.timer=void 0,this.setOptions(Xt(s,"options"));var x=Xt(s,"list");this.setWrapEnable(Xt(x,"wrap",!1)),this.setCreateButtonCallback(Xt(x,"createButtonCallback")),this.setCreateListBackgroundCallback(Xt(x,"createBackgroundCallback")),this.setButtonClickCallback(Xt(x,"onButtonClick")),this.setButtonOverCallback(Xt(x,"onButtonOver")),this.setButtonOutCallback(Xt(x,"onButtonOut")),this.setListExpandDirection(Xt(x,"expandDirection")),this.setListEaseInDuration(Xt(x,"easeIn",500)),this.setListEaseOutDuration(Xt(x,"easeOut",100)),this.setListTransitInCallback(Xt(x,"transitIn")),this.settListTransitOutCallback(Xt(x,"transitOut")),this.setListSize(Xt(x,"width"),Xt(x,"height")),this.setListAlignmentMode(Xt(x,"alignParent","text")),this.setListAlignmentSide(Xt(x,"alignSide","")),this.setListBounds(Xt(x,"bounds")),this.setListSpace(Xt(x,"space")),this.setListDraggable(Xt(x,"draggable",!1)),this.setValueChangeCallback(Xt(s,"setValueCallback"),Xt(s,"setValueCallbackScope")),this.setValue(Xt(s,"value")),this.onClick(this.toggleListPanel,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.listPanel&&(this.listPanel.destroy(t),this.listPanel=void 0),super.destroy(t))}setOptions(t){return t===void 0&&(t=[]),this.options=t,this}setValueChangeCallback(t,s){return this.valueChangeCallback=t,this.valueChangeCallbackScope=s,this}setValue(t){return this.value=t,this}get value(){return this._value}set value(t){if(this._value!==t){var s=this._value;this._value=t;var x=this.valueChangeCallback,E=this.valueChangeCallbackScope;x&&(E?x.call(E,this,t,s):x(this,t,s)),this.emit("valuechange",this,t,s)}}emitButtonClick(t){var s=this.options[t];return s?(this.emit("button.click",this,void 0,s,t),this):this}}Object.assign(Dp.prototype,Fp);var A6=function(i,t,s){t=t?We(t):{},s===void 0&&(s={});var x=t.label||t.button,E=t.button||t.label;delete t.label,delete t.button;var A=s.label||s.button||s,l=s.button||s.label||s,T=Ml(i,x,A);return T.list=t.list||{},T.list.createButtonCallback=function(e,u){var m=Ve(e,E,l).resetDisplayContent({text:u.text});return u.hasOwnProperty("value")&&(m.value=u.value),m},T.list.onButtonOver=function(e,u,m,d){e.setHoverState&&e.setHoverState(!0)},T.list.onButtonOut=function(e,u,m,d){e.setHoverState&&e.setHoverState(!1)},T},w6=function(i){var t=or(i),s,x,E;switch(t){case Ae:case Ye:s=i.height-i.padding.top-i.padding.bottom,x=i.lineSpacing,E=i.style.metrics.fontSize+i.style.strokeThickness;break;case Ue:s=i.height,x=0;var A=i.fontSize/i.fontData.size;E=i.fontData.lineHeight*A;break}return(s-x)/(E+x)},O6=function(i,t){i===void 0&&(i=this.startLineIndex),t===void 0&&(t=i+this.pageLinesCount);var s;switch(this.textObjectType){case Ae:case Ue:s=this.lines.slice(i,t).join(`
`);break;case Ye:var x=this.lines.getLineStartIndex(i),E=this.lines.getLineEndIndex(t-1);s=this.lines.getSliceTagText(x,E,!0);break}return s},no=function(i){return Array.isArray(i)?i=i.join(`
`):typeof i=="number"&&(i=i.toString()),i};const L6={clearText(){return this.sections.length=0,this.pageStartIndexes.length=0,this.lines.length=0,this},appendPage(s){var t=this.totalLinesCount;this.sections.push(no(s));var s=this.sections.join(`
`);this.lines=Ol(this.parent,s,this.lines);for(var x=this.totalLinesCount-t,E=Math.ceil(x/this.pageLinesCount),A=0;A<E;A++)this.pageStartIndexes.push(t+A*this.pageLinesCount);return this},setText(i,t){t===void 0&&(t=!0),t&&this.resetPageIdx(),this.clearText();for(var s=no(i).split(this.pageBreak),x=0,E=s.length;x<E;x++)this.appendPage(s[x]);return this},appendText(i){var t=this.content+no(i);return this.setText(t,!1),this}},F6=Phaser.Math.Clamp,D6={getPage(i){return i===void 0&&(i=this.pageIndex),this.setPageIndex(i).getLines(this.startLineIndex,this.endLineIndex)},getNextPage(){return this.getPage(this.pageIndex+1)},getPreviousPage(){return this.getPage(this.pageIndex-1)},getFirstPage(){return this.getPage(0)},getLastPage(){return this.getPage(this.lastPageIndex)},resetPageIdx(){return this.pageIndex=-1,this},setPageIndex(i){return i=F6(i,0,this.lastPageIndex),this.pageIndex=i,this.startLineIndex=this.pageStartIndexes[i],this.endLineIndex=this.pageStartIndexes[i+1],this}},b6={showPage(i){return this.displayText(this.getPage(i)),this},showNextPage(){return this.displayText(this.getNextPage()),this},showPreviousPage(){return this.displayText(this.getPreviousPage()),this},showFirstPage(){return this.displayText(this.getFirstPage()),this},showLastPage(){return this.displayText(this.getLastPage()),this},show(){return this.displayText(this.getLines()),this},showNextLine(){return this.displayText(this.setStartLineIndex(this.startLineIndex+1).getLines()),this},showPreviousLine(){return this.displayText(this.setStartLineIndex(this.startLineIndex-1).getLines()),this},displayText(i){yp(this.parent,i)}};var bp={getLines:O6};Object.assign(bp,L6,D6,b6);const Gn=Phaser.Utils.Objects.GetValue,B6=Phaser.Math.Clamp;class I6 extends ie{constructor(t,s){super(t,{eventEmitter:!1}),this.textObjectType=or(this.parent),this.pageStartIndexes=[],this.lines=Ol(this.parent,""),this.sections=[],this.resetFromJSON(s)}resetFromJSON(t){return this.setMaxLines(Gn(t,"maxLines",void 0)),this.setPageBreak(Gn(t,"pageBreak",`\f
`)),this.setText(Gn(t,"text","")),this.setStartLineIndex(Gn(t,"start",0)),this.setPageIndex(Gn(t,"page",-1)),this}toJSON(){return{maxLines:this.maxLines,text:this.content,start:this.startLineIndex,page:this.pageIndex,pageBreak:this.pageBreak}}shutdown(t){if(!this.isShutdown){switch(this.textObjectType){case Ae:this.lines.length=0;break;case Ye:this.lines.destroy();break;case Ue:this.lines.length=0;break}this.pageStartIndexes.length=0,this.sections.length=0,this.lines=void 0,this.pageStartIndexes=void 0,this.sections=void 0,super.shutdown(t)}}setMaxLines(t){return this.maxLines=t,this}setPageBreak(t){return this.pageBreak=t,this}get pageCount(){return this.pageStartIndexes.length}get lastPageIndex(){return this.pageCount-1}get isFirstPage(){return this.pageIndex<=0}get isLastPage(){return this.pageIndex>=this.pageCount-1}get totalLinesCount(){return this.lines?this.lines.length:0}get startLineIndex(){return this._startLineIndex}set startLineIndex(t){t=B6(t,0,this.totalLinesCount-1),this._startLineIndex=t}setStartLineIndex(t){return this.startLineIndex=t,this}get pageLinesCount(){if(this.maxLines!==void 0)return this.maxLines;var t;switch(this.textObjectType){case Ae:case Ye:var s=this.parent.style.maxLines;s>0?t=s:t=Math.floor(w6(this.parent));break;case Ue:t=this.totalLinesCount;break}return t}get content(){return this.sections.join(this.pageBreak)}}Object.assign(I6.prototype,bp);Phaser.Utils.Objects.GetFastValue;Phaser.Utils.Objects.GetValue;Phaser.Utils.Objects.GetValue;Phaser.Utils.Objects.GetValue;Phaser.Utils.Objects.GetValue;const G6=bi.prototype.add;var mf=function(i,t,s,x,E,A,l,T,e){return i.setVisible(!1),G6.call(this,i,t,s,x,E,A,l,T,e),this};const N6={add:mf,addPage:mf};var V6=function(i){return i===void 0?null:this.sizerChildren.hasOwnProperty(i)?this.sizerChildren[i]:null};const xf=_e.prototype.setChildVisible;var z6=function(i,t){this._previousKey=this._currentKey;var s=this.previousPage;s&&(this.swapMode===0?(xf.call(this,s,!1),this.emit("pageinvisible",s,this._previousKey,this)):s.destroy()),i&&!this.sizerChildren.hasOwnProperty(i)&&this.emit("createpage",i,this),this._currentKey=i;var x=this.currentPage;return x&&(xf.call(this,x,!0),this.emit("pagevisible",x,this._currentKey,this),t===void 0&&(t=this.fadeInDuration),t>0&&x.setAlpha(0).fadeIn(t,1)),this},X6=function(i){return this.sizerChildren.hasOwnProperty(i)},Bp={getPage:V6,swapPage:z6,hasPage:X6};Object.assign(Bp,N6);const yf=Phaser.Utils.Objects.GetValue;class Ip extends bi{constructor(t,s){super(t,s),this.type="rexPages",this.childrenMap=this.sizerChildren,this._previousKey=void 0,this._currentKey=void 0,this.setSwapMode(yf(s,"swapMode",0)),this.setFadeInDuration(yf(s,"fadeIn",0))}setSwapMode(t){return typeof t=="string"&&(t=Y6[t]),this.swapMode=t,this}setFadeInDuration(t){return this.fadeInDuration=t,this}get previousKey(){return this._previousKey}get currentKey(){return this._currentKey}set currentKey(t){this.swapPage(t)}get currentPage(){return this.getPage(this.currentKey)}get previousPage(){return this.getPage(this.previousKey)}get keys(){return Object.keys(this.sizerChildren)}}Object.assign(Ip.prototype,Bp);const Y6={invisible:0,destroy:1},Gp=Phaser.Math.Vector3,U6=Phaser.Math.Matrix4;var Tf=new Gp,Cf=new Gp,Sf=new U6,W6=function(i,t,s,x,E,A,l){t===void 0&&(t=0),s===void 0&&(s=0),x===void 0&&(x=0),E===void 0&&(E=0),A===void 0&&(A=0),l===void 0&&(l=0),Tf.set(t,s,x),Cf.set(E,A,l),Sf.fromRotationXYTranslation(Cf,Tf,!0);for(var T=0,e=i.vertices.length;T<e;T++)i.vertices[T].transformMat4(Sf)};const k6=Phaser.GameObjects.Mesh,H6=Phaser.Utils.Objects.IsPlainObject,os=Phaser.Utils.Objects.GetValue,$6=Phaser.Geom.Mesh.GenerateGridVerts,ro=Phaser.Math.RadToDeg,aa=Phaser.Math.DegToRad,Np=45,K6=1+1/Math.sin(aa(Np));let Vp=class extends k6{constructor(t,s,x,E,A,l){H6(s)&&(l=s,s=os(l,"x",0),x=os(l,"y",0),E=os(l,"key",null),A=os(l,"frame",null)),super(t,s,x,E,A),this.type="rexPerspectiveImage",this.setSizeToFrame(),this.resetPerspective(),this.panZ(K6),this.hideCCW=os(l,"hideCCW",!0);var T=os(l,"gridWidth",0),e=os(l,"gridHeight",T);this.resetVerts(T,e)}get originX(){return .5}get originY(){return .5}resetPerspective(){return this.setPerspective(this.width,this.height,Np),this}resetVerts(A,l){if(A!==void 0&&(this.gridWidth=A),l!==void 0&&(this.gridHeight=l),this.clear(),this.dirtyCache[9]=-1,this.width===0||this.height===0)return this;var x=this.frame.cutWidth,E=this.frame.cutHeight,A,l;this.gridWidth===0?A=Math.max(x/8,32):l=this.gridWidth,this.gridHeight===0?l=Math.max(E/8,32):l=this.gridHeight,$6({mesh:this,width:x/this.height,height:E/this.height,widthSegments:Math.ceil(x/A),heightSegments:Math.ceil(E/l)});var T=this.transformInfo;return T&&this.transformVerts(T.x,T.y,T.z,T.rotateX,T.rotateY,T.rotateZ),this}syncSize(){return this.setSizeToFrame(),this.resetPerspective(),this.resetVerts(),this}get rotationX(){return this.modelRotation.x}set rotationX(t){this.modelRotation.x=t}get angleX(){return ro(this.rotationX)}set angleX(t){this.rotationX=aa(t)}get rotationY(){return this.modelRotation.y}set rotationY(t){this.modelRotation.y=t}get angleY(){return ro(this.rotationY)}set angleY(t){this.rotationY=aa(t)}get rotationZ(){return this.modelRotation.z}set rotationZ(t){this.modelRotation.z=t}get angleZ(){return ro(this.rotationZ)}set angleZ(t){this.rotationZ=aa(t)}transformVerts(t,s,x,E,A,l){return t===void 0&&(t=0),s===void 0&&(s=0),x===void 0&&(x=0),E===void 0&&(E=0),A===void 0&&(A=0),l===void 0&&(l=0),this.transformInfo||(this.transformInfo={}),this.transformInfo.x=t,this.transformInfo.y=s,this.transformInfo.rotateX=E,this.transformInfo.rotateY=A,this.transformInfo.rotateZ=l,W6(this,t,s,x,E,A,l),this}forceUpdate(){return this.dirtyCache[10]=1,this}get tint(){return this.vertices.length===0?16777215:this.vertices[0].color}};const Z6=Phaser.Textures.DynamicTexture;var J6=function(i,t,s){t===void 0&&(t=2),s===void 0&&(s=2);var x=new Z6(i.sys.textures,null,t,s);return x};const Q6=Phaser.Utils.Objects.IsPlainObject,Qr=Phaser.Utils.Objects.GetValue;class j6 extends Vp{constructor(t,s,x,E,A,l){Q6(s)&&(l=s,s=Qr(l,"x",0),x=Qr(l,"y",0),E=Qr(l,"width",32),A=Qr(l,"height",32));var T=J6(t,E,A);super(t,s,x,T,null,l),this.type="rexPerspectiveRenderTexture",this.rt=this.texture}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.rt.destroy(),this.rt=null)}snapshot(t,s){return s===void 0&&(s={}),s.gameObjects=t,s.renderTexture=this.rt,yc(s),(this.width!==this.frame.realWidth||this.height!==this.frame.realHeight)&&this.syncSize(),this}}Phaser.Animations.AnimationState;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;var je=function(i,t,s,x){if(Array.isArray(i))for(var E=!1,A=0,l=i.length;A<l;A++){var T=i[A];if(!(x&&!T)&&(s?E=t.call(s,T,A,i):E=t(T,A,i),E))return}else{var E=!1;for(var e in i){var T=i[e];if(!(x&&!T)&&(s?E=t.call(s,T,e,i):E=t(T,e,i),E))return}}};const ao=Phaser.Math.RadToDeg,ho=Phaser.Math.DegToRad;class q6 extends _e{constructor(t,s,x,E,A,l){super(t,s,x,E,A),this.faces=l,je(l,function(T){T.setPosition(s,x),this.add(T)},this,!0)}get rotationX(){return 0}set rotationX(t){}get angleX(){return ao(this.rotationX)}set angleX(t){this.rotationX=ho(t)}get rotationY(){return 0}set rotationY(t){}get angleY(){return ao(this.rotationY)}set angleY(t){this.rotationY=ho(t)}get rotationZ(){return 0}set rotationZ(t){}get angleZ(){return ao(this.rotationZ)}set angleZ(t){this.rotationZ=ho(t)}setDebug(t,s){return je(this.faces,function(x){x.setDebug(t,s)},null,!0),this}panX(t){return je(this.faces,function(s){s.panX(t)},null,!0),this}panY(t){return je(this.faces,function(s){s.panY(t)},null,!0),this}panZ(t){return je(this.faces,function(s){s.panZ(t)},null,!0),this}transformVerts(t,s,x,E,A,l){return je(this.faces,function(T){T.transformVerts(t,s,x,E,A,l)},null,!0),this}forEachFace(t,s,x){return je(this.faces,t,s,x),this}}const _6=Phaser.Utils.Objects.IsPlainObject,tD={key:"__WHITE"},eD={image:Vp,rendertexture:j6};var Ef=function(i,t){t===void 0&&(t=tD);var s;return _6(t)?(t.hasOwnProperty("type")||(t.hasOwnProperty("key")?t.type="image":t.hasOwnProperty("width")&&(t.type="rendertexture")),s=new eD[t.type](i,t),i.add.existing(s)):s=t,s},iD=function(i,t,s){var x;if(s===void 0){x=[];for(var E,A,l=0,T=t.length;l<T;l++)A=t[l],A?E=Ef(i,A):E=null,x.push(E)}else{x={};for(var E,e,l=0,T=s.length;l<T;l++)e=s[l],t.hasOwnProperty(e)?E=Ef(i,t[e]):E=null,x[e]=E}return x};const sD=Phaser.Math.DegToRad,Pf=sD(180);var nD=function(i,t){var s=t.back;s&&(i.orientation===0?s.transformVerts(0,0,0,0,Pf,0):s.transformVerts(0,0,0,Pf,0,0))};const oo=Phaser.Utils.Objects.GetValue,rD=Phaser.Math.Linear;class aD extends ln{constructor(t,s){super(t,s),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setEase(oo(t,"ease","Cubic")),this.setFrontToBackDirection(oo(t,"frontToBack",0)),this.setBackToFrontDirection(oo(t,"backToFront",1)),this}setFrontToBackDirection(t){return typeof t=="string"&&(t=Mf[t]),this.endAngleFB=t===0?180:-180,this}setBackToFrontDirection(t){return typeof t=="string"&&(t=Mf[t]),this.endAngleBF=t===0?-180:180,this}start(t,s){if(this.timer.isRunning)return this;this.timer.setDelay(this.delay).setDuration(t);var x=s+1,E=this.parent;return E.face===0?(this.startAngle=0,this.endAngle=this.endAngleFB*x):(this.startAngle=this.endAngleBF,this.endAngle=this.startAngle-this.endAngleBF*x),super.start(),this}flip(t,s){return this.isRunning?this:(t===void 0&&(t=this.duration),s===void 0&&(s=0),this.start(t,s),this.emit("start",this.parent,this),this.parent.currentFaceIndex=(this.parent.currentFaceIndex+s+1)%2,this)}flipRight(t,s){return this.parent.currentFaceIndex===0?this.setFrontToBackDirection(0):this.setBackToFrontDirection(0),this.flip(t,s),this}flipLeft(t,s){return this.parent.currentFaceIndex===0?this.setFrontToBackDirection(1):this.setBackToFrontDirection(1),this.flip(t,s),this}updateGameObject(t,s){var x=this.easeFn(s.t),E=rD(this.startAngle,this.endAngle,x);t.orientation===0?t.angleY=E:t.angleX=E}}const Mf={right:0,"left-to-right":0,left:1,"right-to-left":1},hD=Phaser.Utils.Objects.IsPlainObject,ls=Phaser.Utils.Objects.GetValue,oD=["back","front"];class lD extends q6{constructor(t,s,x,E){hD(s)&&(E=s,s=ls(E,"x",0),x=ls(E,"y",0));var A=iD(t,E,oD),l=A.back,T=A.front,e=ls(E,"width"),u=ls(E,"height");if(e===void 0||u===void 0){if(e===void 0){var m=T?T.width:0,d=l?l.width:0;e=Math.max(m,d)}if(u===void 0){var o=T?T.height:0,h=l?l.height:0;u=Math.max(o,h)}}super(t,s,x,e,u,A),this.type="rexPerspectiveCard",this.frontFaceRotationX=0,this.frontFaceRotationY=0,this.frontFaceRotationZ=0,je(A,function(r,f){this[`${f}Face`]=r},this);var n=ls(E,"flip",void 0);n!==!1&&(this.flip=new aD(this,n)),this.setOrientation(ls(E,"orientation",0)),nD(this,A),this.setFace(ls(E,"face",0))}get rotationX(){return this.frontFaceRotationX}set rotationX(t){this.frontFaceRotationX!==t&&(this.frontFaceRotationX=t,je(this.faces,function(s){s.rotationX=t},null,!0))}get rotationY(){return this.frontFaceRotationY}set rotationY(t){this.frontFaceRotationY!==t&&(this.frontFaceRotationY=t,je(this.faces,function(s){s.rotationY=t},null,!0))}get rotationZ(){return this.frontFaceRotationZ}set rotationZ(t){this.frontFaceRotationZ!==t&&(this.frontFaceRotationZ=t,je(this.faces,function(s){s.rotationZ=t},null,!0))}setOrientation(t){return typeof t=="string"&&(t=uD[t]),this.orientation=t,this}get face(){return this.currentFaceIndex}set face(t){typeof t=="string"&&(t=dD[t]),this.currentFaceIndex=t;var s=t===1,x=s?180:0;this.orientation===0?this.angleY=x:this.angleX=x}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}}const uD={x:0,horizontal:0,h:0,y:1,vertical:1,v:1},dD={front:0,back:1};Phaser.Utils.Objects.GetValue;Phaser.Math.RadToDeg;Phaser.Math.DegToRad;Phaser.Math.Angle.WrapDegrees;Phaser.Math.Angle.ShortestBetween;Phaser.Math.Wrap;Phaser.Math.Linear;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;Phaser.Math.DegToRad;Phaser.Math.RadToDeg;Phaser.Math.Angle.WrapDegrees;Phaser.Math.Linear;Phaser.Math.Wrap;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;Phaser.Math.Wrap;Phaser.Utils.Objects.GetValue;const fD=Phaser.Utils.Objects.GetValue;var vD=function(i){var t=this.scene;this.setSnapshotPadding(fD(i,"snapshotPadding",0)),i=xs(i),delete i.width,delete i.height,i.front={width:1,height:1},i.back={width:1,height:1};var s=new lD(t,i);t.add.existing(s);var x=s.flip;if(x){var E=this;x.on("start",function(){E.enterPerspectiveMode()}).on("complete",function(){E.exitPerspectiveMode()})}return s};const cD=["front","back"],pD={enterPerspectiveMode(){return this.isInPerspectiveMode?this:(this.setChildVisible(this.perspectiveCard,!0),this.snapshotFace(0),this.snapshotFace(1),this.setChildVisible(this.childrenMap.front,!1),this.setChildVisible(this.childrenMap.back,!1),this.perspectiveCard.setSize(this.width,this.height),this)},exitPerspectiveMode(){if(!this.isInPerspectiveMode)return this;this.setChildVisible(this.perspectiveCard,!1);var i=this.perspectiveCard.face===0;return this.setChildVisible(this.childrenMap.front,i),this.setChildVisible(this.childrenMap.back,!i),this},setSnapshotPadding(i){return this.snapshotPadding=i,this},snapshotFace(i){typeof i=="number"&&(i=cD[i]);var t=this.perspectiveCard.faces[i],s=this.childrenMap[i];t.rt.clear();var x=s.visible;s.visible=!0;var E=s.isRexContainerLite?s.getAllVisibleChildren():s;return t.snapshot(E,{padding:this.snapshotPadding}),s.visible=x,this}},Rf=Phaser.Utils.Objects.GetValue;class gD extends bi{constructor(t,s){super(t,s),this.type="rexPerspectiveCard";var x=s.back,E=Rf(s,"expand.back",!0);this.add(x,{key:"back",expand:E});var A=s.front,l=Rf(s,"expand.front",!0);this.add(A,{key:"front",expand:l}),this.perspectiveCard=vD.call(this,s),this.pin(this.perspectiveCard),this.exitPerspectiveMode(!1)}get flip(){return this.perspectiveCard.flip}get face(){return this.perspectiveCard.face}set face(t){if(!(this.flip&&this.flip.isRunning)){this.perspectiveCard.face=t;var s=t===0,x=this.childrenMap.front,E=this.childrenMap.back;this.setChildVisible(x,s),this.setChildVisible(E,!s)}}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}get isInPerspectiveMode(){return this.perspectiveCard.visible}get rotationX(){return this.perspectiveCard.rotationX}set rotationX(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationX=t}get angleX(){return this.perspectiveCard.angleX}set angleX(t){this.enterPerspectiveMode(),this.perspectiveCard.angleX=t}get rotationY(){return this.perspectiveCard.rotationY}set rotationY(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationY=t}get angleY(){return this.perspectiveCard.angleY}set angleY(t){this.enterPerspectiveMode(),this.perspectiveCard.angleY=t}get rotationZ(){return this.perspectiveCard.rotationZ}set rotationZ(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationZ=t}get angleZ(){return this.perspectiveCard.angleZ}set angleZ(t){this.enterPerspectiveMode(),this.perspectiveCard.angleZ=t}panX(t){return this.enterPerspectiveMode(),this.perspectiveCard.panX(t),this}panY(t){return this.enterPerspectiveMode(),this.perspectiveCard.panY(t),this}panZ(t){return this.enterPerspectiveMode(),this.perspectiveCard.panZ(t),this}transformVerts(t,s,x,E,A,l){return this.enterPerspectiveMode(),this.perspectiveCard.transformVerts(t,s,x,E,A,l),this}forEachFace(t,s,x){return this.enterPerspectiveMode(),this.perspectiveCard.forEachFace(t,s,x),this}}Object.assign(gD.prototype,pD);var mD=function(i){var t=this.getElement("tabs.buttons");if(!(i>=t.length))return t[i].name},xD=function(i){for(var t=this.getElement("tabs.buttons"),s=0,x=t.length;s<x;s++)if(t[s].name===i)return s};const yD=Phaser.Utils.Objects.IsPlainObject,lo=Phaser.Utils.Objects.GetValue,TD=Phaser.Utils.String.UUID;var CD=function(i,t,s){if(yD(i)){var x=i;i=lo(x,"key"),t=lo(x,"tab"),s=lo(x,"page")}return i||(i=TD()),t.name=i,this.childrenMap.tabs.addButton(t),this.childrenMap.pages.addPage(s,{key:i}),this},SD=function(i,t){var s;if(typeof i=="number"?s=i:s=this.getPageIndex(i),s!=null){var x;t!==void 0&&(x=this.childrenMap.pages.fadeInDuration,this.childrenMap.pages.fadeInDuration=t),this.childrenMap.tabs.emitButtonClick(s),x!==void 0&&(this.childrenMap.pages.fadeInDuration=x)}return this},ED=function(i){return this.swapPage(0,i),this},PD=function(i){var t=this.getElement("tabs.buttons").length-1;return this.swapPage(t,i),this};const MD={swapPage:SD,swapFirstPage:ED,swapLastPage:PD};var RD=function(i,t){typeof i=="number"&&(i=this.getPageKey(i));var s=this.childrenMap.tabs,x=s.getByName(i),E=this.childrenMap.pages,A=E.getElement(i);return!x||!A?this:(E.removeChildrenMap(i),s.removeButton(x,t),E.remove(A,t),this)};const AD={removePage:RD};var wD=function(i){return typeof i=="number"&&(i=this.getPageKey(i)),this.childrenMap.pages.getPage(i)},OD=function(i){var t;return typeof i=="number"?t=i:t=this.getPageIndex(i),this.getElement("tabs.buttons")[t]},zp={getPageKey:mD,getPageIndex:xD,addPage:CD,getPage:wD,getTab:OD};Object.assign(zp,MD,AD);const us=Phaser.Utils.Objects.GetValue,jr=bt.prototype.add;let Xp=class extends bt{constructor(t,s){s===void 0&&(s={});var x=us(s,"tabPosition","top"),E=x==="left"||x==="right"?"x":"y";s.orientation=E,super(t,s),this.type="rexTabPages";var A=us(s,"background",void 0);A&&this.addBackground(A);var l=us(s,"pages"),T=new Ip(t,l);t.add.existing(T);var e=E==="y",u=e?us(s,"wrapTabs",!1):!1,m=us(s,"tabs",void 0);m===void 0&&(m={});var d=u?kn:ce;m.orientation=e?"x":"y",m.buttonsType="radio";var o=new d(t,m);t.add.existing(o);var h=u?!0:us(s,"expand.tabs",!1),n=us(s,"align.tabs","left");switch(x){case"top":case"left":jr.call(this,o,{proportion:0,expand:h,align:n}),jr.call(this,T,{proportion:1,expand:!0});break;case"bottom":case"right":jr.call(this,T,{proportion:1,expand:!0}),jr.call(this,o,{proportion:0,expand:h,align:n});break}this.addChildrenMap("background",A),this.addChildrenMap("tabs",o),this.addChildrenMap("pages",T),o.on("button.click",function(r){var f=r.name;T.hasPage(f)&&T.swapPage(f)}),o.on("button.statechange",function(r,f,a,v){var p=a?"tab.focus":"tab.blur";this.emit(p,r,r.name)},this),T.on("pagevisible",function(r,f,a){this.emit("page.focus",r,f)}),T.on("pageinvisible",function(r,f,a){this.emit("page.blur",r,f)})}get currentKey(){return this.getElement("pages").currentKey}set currentKey(t){this.showPage(t)}get keys(){return this.getElement("pages").keys}get currentPage(){return this.getElement("pages").currentPage}get previousPage(){return this.getElement("pages").previousPage}};Object.assign(Xp.prototype,zp);class LD extends Fa{constructor(t,s){s===void 0&&(s={}),s.destroy=!1,super(t,s)}onOpen(){this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.parent,this),super.onClose()}}const FD={expand(i){if(this.expanded===!0)return this;i===void 0&&(i=this.transitionDuration),this.expanded=!0;var t=this.childrenMap.title,s=this.childrenMap.child;this.show(s);var x=this.reLayoutTarget?this.reLayoutTarget:this.getTopmostSizer();return x.layout(),t.emit("folder.expand",i,this),s.emit("folder.expand",i,this),this.emit("expand.start",this),this.childTransition.once("open",function(){this.emit("expand.complete",this)},this).requestOpen(null,i),this},collapse(i){if(this.expanded===!1)return this;i===void 0&&(i=this.transitionDuration),this.expanded=!1;var t=this.childrenMap.title,s=this.childrenMap.child;return t.emit("folder.collapse",i,this),s.emit("folder.collapse",i,this),this.emit("collapse.start",this),this.childTransition.once("close",function(){this.setChildScale(s,1,1).hide(s);var x=this.reLayoutTarget?this.reLayoutTarget:this.getTopmostSizer();x.layout(),this.emit("collapse.complete",this)},this).requestClose(null,i),this},toggle(i){return this.expanded?this.collapse(i):this.expand(i),this}};var DD=function(i,t){vl.popUp.call(i,t,this.expandDirection)},bD=function(i,t){vl.scaleDown.call(i,t,this.expandDirection)};const BD={setTransitionDuration(i){return this.transitionDuration=i,this.childTransition.setTransitInTime(i).setTransitOutTime(i),this},setExpandCallback(i){return i===void 0&&(i=DD.bind(this)),this.childTransition.setTransitInCallback(i),this},setCollapseCallback(i){return i===void 0&&(i=bD.bind(this)),this.childTransition.setTransitOutCallback(i),this}},Je=Phaser.Utils.Objects.GetValue;let Yp=class extends bt{constructor(t,s){s===void 0&&(s={}),s.hasOwnProperty("orientation")||(s.orientation=1),super(t,s),this.type="rexFolder",this.expanded=void 0,this.expandDirection=this.orientation===1?"y":"x";var x=s.background,E=s.title,A=s.child;x&&this.addBackground(x);var l=this.orientation===1?"left":"top",d=Je(s,"align.title",l),o=Je(s,"expand.title",!0);this.add(E,{proportion:0,align:d,expand:o});var T=Je(s,"toggleByTarget",void 0),e=Je(s,"toggleClickConfig");T===void 0&&(T=E),T&&Oc.onClick.call(T,function(){this.toggle()},this,e),this.childTransition=new LD(A);var u=Je(s,"customChildOrigin",!1);if(!u){var m=this.rtl?1:0;A.setOrigin(m)}var d=Je(s,"align.child","left"),o=Je(s,"expand.child",!0),h=o?1:0;this.add(A,{proportion:h,align:d,expand:o}),this.addChildrenMap("title",E),this.addChildrenMap("child",A),this.addChildrenMap("background",x);var n=s.transition;this.setTransitionDuration(Je(n,"duration",200)),this.setExpandCallback(Je(n,"expandCallback",void 0)),this.setCollapseCallback(Je(n,"collapseCallback",void 0)),this.reLayoutTarget=Je(s,"reLayoutTarget",void 0);var r=s.onExpandStart;r&&this.on("expand.start",r);var f=s.onExpandComplete;f&&this.on("expand.complete",f);var a=s.onCollapseStart;a&&this.on("collapse.start",a);var v=s.onCollapseComplete;v&&this.on("collapse.complete",v)}};Object.assign(Yp.prototype,FD,BD);var ID=function(){if(this.rexSizer.hidden)return 0;var i,t=this.child,s=t.rexSizer;if(s.hidden)i=0;else switch(this.scrollMode){case 0:i=this.getChildWidth(t);break;case 1:i=0;break;default:i=0;break}return i},GD=function(){if(this.rexSizer.hidden)return 0;var i,t=this.child,s=t.rexSizer;if(s.hidden)i=0;else switch(this.scrollMode){case 0:i=0;break;case 1:i=this.getChildHeight(t);break;default:i=0;break}return i},ND=function(i){return i===void 0&&(i=[]),this.child&&this.child.isRexSizer&&i.push(this.child),i},VD=function(){var i=this.left,t=this.top;switch(this.scrollMode){case 0:t+=this.childOY;break;case 1:i+=this.childOY;break;default:t+=this.childOY,i+=this.childOX;break}this.child.setPosition(i,t),this.resetChildPositionState(this.child),this.setMaskChildrenFlag()},zD=function(){var i=this.child,t,s;if(!i.rexSizer.hidden){switch(this.scrollMode){case 0:t=this.width;break;case 1:s=this.height;break}i.isRexSizer?i.runLayout(this,t,s):Re(i,t,s),this.resetChildPosition(),this.layoutChildrenMask(),this.maskChildren()}},Up={getChildrenWidth:ID,getChildrenHeight:GD,getChildrenSizers:ND,resetChildPosition:VD,layoutChildren:zD};Object.assign(Up,Ep);const Af=Phaser.Utils.Objects.IsPlainObject,Be=Phaser.Utils.Objects.GetValue,XD=Phaser.Display.Align.TOP_LEFT;class Wp extends Rs{constructor(t,s,x,E,A,l){Af(s)?(l=s,s=Be(l,"x",0),x=Be(l,"y",0),E=Be(l,"width",void 0),A=Be(l,"height",void 0)):Af(E)&&(l=E,E=Be(l,"width",void 0),A=Be(l,"height",void 0)),super(t,s,x,E,A,l),this.type="rexScrollableBlock",this.child=void 0,this.childrenMask=void 0,this._childOY=0,this._childOX=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.execeedLeftState=!1,this.execeedRightState=!1,this.setScrollMode(Be(l,"scrollMode",0));var T=Be(l,"clamplChildOY",!0),e=Be(l,"clamplChildOX",T);this.setClampMode(T,e);var u=Be(l,"child",void 0),m=Be(l,"expand",!0);u.setOrigin&&u.setOrigin(0),this.add(u),this.sizerChildren=[u];var d=this.getSizerConfig(u);d.align=XD,d.expand=m,this.child=u,this.setupChildrenMask(Be(l,"mask",void 0)),this.maskGameObject=Fl(this.childrenMask)}destroy(t){!this.scene||this.ignoreDestroy||(this.destroyChildrenMask(),this.child=void 0,super.destroy(t))}setScrollMode(t){return typeof t=="string"&&(t=cp[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t,s){return this.clampChildOY=t,this.clampChildOX=s,this}get instHeight(){return this.scrollMode===0||this.scrollMode===2?this.height:this.width}get instWidth(){return this.scrollMode===0||this.scrollMode===2?this.width:this.height}get childHeight(){return this.scrollMode===0||this.scrollMode===2?At(this.child):Bt(this.child)}get childWidth(){return this.scrollMode===0||this.scrollMode===2?Bt(this.child):At(this.child)}get topChildOY(){return 0}get bottomChildOY(){return-this.visibleHeight}get leftChildOX(){return 0}get rightChildOX(){return-this.visibleWidth}get childVisibleHeight(){return this.instHeight}get childVisibleWidth(){return this.instWidth}get visibleHeight(){var t=this.childHeight-this.childVisibleHeight;return t<0&&(t=0),t}get visibleWidth(){var t=this.childWidth-this.childVisibleWidth;return t<0&&(t=0),t}childOYExceedTop(t){return t===void 0&&(t=this.childOY),t>this.topChildOY}childOYExeceedBottom(t){return t===void 0&&(t=this.childOY),t<this.bottomChildOY}childOXExceedLeft(t){return t===void 0&&(t=this.childOX),t>this.leftChildOX}childOXExeceedRight(t){return t===void 0&&(t=this.childOX),t<this.rightChildOX}get childOY(){return this._childOY}set childOY(t){var s=this.topChildOY,x=this.bottomChildOY,E=this.childOYExceedTop(t),A=this.childOYExeceedBottom(t);this.clampChildOY&&(this.childVisibleHeight>this.childHeight?t=0:E?t=s:A&&(t=x)),this._childOY!==t&&(this._childOY=t,this.resetChildPosition()),E&&(this.execeedTopState||this.emit("execeedtop",this,t,s)),this.execeedTopState=E,A&&(this.execeedBottomState||this.emit("execeedbottom",this,t,x)),this.execeedBottomState=A}get childOX(){return this._childOX}set childOX(t){var s=this.leftChildOX,x=this.rightChildOX,E=this.childOXExceedLeft(t),A=this.childOXExeceedRight(t);this.clampChildOX&&(this.childVisibleWidth>this.childWidth?t=0:E?t=s:A&&(t=x)),this._childOX!==t&&(this._childOX=t,this.resetChildPosition()),E&&(this.execeedLeftState||this.emit("execeedleft",this,t,s)),this.execeedLeftState=E,A&&(this.execeedRightState||this.emit("execeedright",this,t,x)),this.execeedRightState=A}setChildOY(t){return this.childOY=t,this}setChildOX(t){return this.childOX=t,this}set t(t){this.childOY=-this.visibleHeight*t}get t(){var t=this.visibleHeight;return t===0?0:this.childOY/-t}set s(t){this.childOX=-this.visibleWidth*t}get s(){var t=this.visibleWidth;return t===0?0:this.childOX/-t}setChildOYByPercentage(t){return this.t=t,this}setChildOXByPercentage(t){return this.s=t,this}}Object.assign(Wp.prototype,Up);var YD=function(i,t){if(!this.hasChild(i))return this;switch(this.scrollMode){case 0:qr.call(this,i,"y",t);break;case 1:qr.call(this,i,"x",t);break;default:qr.call(this,i,"y",t),qr.call(this,i,"x",t);break}return this};const wf=["top","bottom","centerY","center"],Of=["left","right","centerX","center"];var qr=function(i,t,s){t=t.toUpperCase();var x=t==="Y",E=this.childrenMap.child,A;if(x){if(s)for(var l=0,T=wf.length;l<T;l++){var e=wf[l];if(s.indexOf(e)!==-1){s=e;break}}switch(s){case"top":A=E.top-i.getTopLeft().y;break;case"bottom":A=E.bottom-i.getBottomLeft().y;break;case"centerY":case"center":A=E.centerY-i.getCenter().y;break;default:var u=E.top-i.getTopLeft().y,m=E.bottom-i.getBottomLeft().y;u<=0&&m>=0?A=0:A=Math.abs(u)<=Math.abs(m)?u:m;break}}else{if(s)for(var l=0,T=Of.length;l<T;l++){var e=Of[l];if(s.indexOf(e)!==-1){s=e;break}}switch(s){case"left":A=E.left-i.getTopLeft().x;break;case"right":A=E.right-i.getTopRight().x;break;case"centerX":case"center":A=E.centerX-i.getCenter().x;break;default:var d=E.left-i.getTopLeft().x,o=E.right-i.getTopRight().x;d<=0&&o>=0?A=0:A=Math.abs(d)<=Math.abs(o)?d:o;break}}switch(this.scrollMode){case 0:case 1:this.childOY+=A;break;default:this[`childO${t}`]+=A;break}};const ds=Phaser.Utils.Objects.GetValue;class UD extends za{constructor(t,s){s===void 0&&(s={});var x=Al(s),E=ds(s,"panel",void 0);E===void 0&&(E={}),E.scrollMode=x,E.clamplChildOY=ds(s,"clamplChildOY",!1),E.clamplChildOX=ds(s,"clamplChildOX",!1);var A=new Wp(t,E);t.add.existing(A);var l=ds(E,"width",void 0),T=ds(E,"height",void 0),e,u;switch(x){case 0:e=l===void 0?1:0,u=T===void 0;break;case 1:e=T===void 0?1:0,u=l===void 0;break;default:e=l===void 0?1:0,u=T===void 0;break}s.type="rexScrollablePanel",s.child={gameObject:A,proportion:e,expand:u};var m=ds(s,"space",void 0);m&&(m.child=ds(m,"panel",0)),super(t,s),this.addChildrenMap("panel",A.child),this.addChildrenMap("panelLayer",A.maskLayer),this.addChildrenMap("mask",A.maskGameObject)}setChildrenInteractive(t){return t===void 0&&(t={}),t.hasOwnProperty("eventEmitter")||(t.eventEmitter=this),t.hasOwnProperty("targets")||(t.targets=[this.childrenMap.panel]),Bc(this.childrenMap.child,t),this}}var WD={scrollToChild:YD};Object.assign(UD.prototype,WD);Phaser.Utils.Objects.GetValue;Phaser.Utils.Objects.GetValue;var ur=function(i,t,s){s===void 0&&(s=!0),s?t=t?We(t):{}:t||(t={});var x=new e2(i,t);return i.add.existing(x),x};const di=Phaser.Utils.Objects.GetValue,kD=Phaser.Display.Color,HD=Phaser.Display.Color.ColorToRGBA,$D=Phaser.Display.Color.HSVToRGB,fs=Phaser.Math.Clamp;class KD extends bt{constructor(t,s){s===void 0&&(s={}),s.orientation=0,super(t,s),this.type="rexColorComponents",this.colorObject=new kD;var x=di(s,"background",void 0),E=di(s,"formatLabel",void 0);Oa(E)||(E=Ve(t,E).resetDisplayContent());var A=[];if(s.inputText0&&s.inputText1&&s.inputText2)A.push(s.inputText0),A.push(s.inputText1),A.push(s.inputText2);else for(var l=di(s,"inputText"),T=0;T<3;T++){var e=ur(t,l).setMaxLength(3).setNumberInput();A.push(e)}x&&this.addBackground(x);var m=di(s,"proportion.formatLabel",0),u=!!E.isRexContainerLite,d=di(s,"expand.formatLabel",u);this.add(E,{proportion:m,expand:d});for(var m=di(l,"width")===void 0?1:0,d=di(l,"height")===void 0,T=0,o=A.length;T<o;T++)this.add(A[T],{proportion:m,expand:d});this.addChildrenMap("background",x),this.addChildrenMap("formatLabel",E),this.addChildrenMap("components",A),this.onClick(E,this.toggleColorFormat,this);for(var T=0,o=A.length;T<o;T++)A[T].on("close",function(){this.updateColorObject(),this.setValue(this.colorObject.color)},this);var h=di(s,"valuechangeCallback",null);if(h!==null){var n=di(s,"valuechangeCallbackScope",void 0);this.on("valuechange",h,n)}E.setText("RGB"),this.setValue(di(s,"value",16777215))}get value(){return this._value}set value(t){t=fs(Math.floor(t),0,16777215),this._value!==t&&(this._value=t,this.colorObject.setFromRGB(HD(t)),this.updateComponents(),this.emit("valuechange",this._value))}setValue(t){return this.value=t,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}get colorFormat(){return this.childrenMap.formatLabel.text}set colorFormat(t){this.colorFormat!==t&&(this.childrenMap.formatLabel.setText(t),this.updateComponents())}setColorFormat(t){return this.colorFormat=t,this}toggleColorFormat(){return this.colorFormat=this.colorFormat==="RGB"?"HSV":"RGB",this}updateComponents(){var t=this.childrenMap.components,s,x,E;return this.colorFormat==="RGB"?(s=this.colorObject.red,x=this.colorObject.green,E=this.colorObject.blue):(s=Math.floor(this.colorObject.h*360),x=Math.floor(this.colorObject.s*100),E=Math.floor(this.colorObject.v*100)),t[0].setValue(s),t[1].setValue(x),t[2].setValue(E),this}updateColorObject(){var t=this.childrenMap.components;if(this.colorFormat==="RGB"){var s=fs(t[0].value,0,255),x=fs(t[1].value,0,255),E=fs(t[2].value,0,255);this.colorObject.setTo(s,x,E)}else{var A=fs(t[0].value,0,359)/360,l=fs(t[1].value,0,100)/100,T=fs(t[2].value,0,100)/100;this.colorObject.setFromRGB($D(A,l,T))}return this}}var ZD=function(i,t){if(t===!1)return null;if(Oa(t))return t;var s=new un(i,t);return i.add.existing(s),s};const Lf=["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","RebeccaPurple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"],JD=[15792383,16444375,65535,8388564,15794175,16119260,16770244,0,16772045,255,9055202,10824234,14596231,6266528,8388352,13789470,16744272,6591981,16775388,14423100,65535,139,35723,12092939,11119017,11119017,25600,12433259,9109643,5597999,16747520,10040012,9109504,15308410,9419919,4734347,3100495,3100495,52945,9699539,16716947,49151,6908265,6908265,2003199,11674146,16775920,2263842,16711935,14474460,16316671,16766720,14329120,8421504,8421504,32768,11403055,15794160,16738740,13458524,4915330,16777200,15787660,15132410,16773365,8190976,16775885,11393254,15761536,14745599,16448210,13882323,13882323,9498256,16758465,16752762,2142890,8900346,7833753,7833753,11584734,16777184,65280,3329330,16445670,16711935,8388608,6737322,205,12211667,9662683,3978097,8087790,64154,4772300,13047173,1644912,16121850,16770273,16770229,16768685,128,16643558,8421376,7048739,16753920,16729344,14315734,15657130,10025880,11529966,14381203,16773077,16767673,13468991,16761035,14524637,11591910,8388736,6697881,16711680,12357519,4286945,9127187,16416882,16032864,3050327,16774638,10506797,12632256,8900331,6970061,7372944,7372944,16775930,65407,4620980,13808780,32896,14204888,16737095,4251856,15631086,16113331,16777215,16119285,16776960,10145074];var Vo={},Ff;for(var _r=0,QD=Lf.length;_r<QD;_r++)Ff=Lf[_r].toLowerCase(),Vo[Ff]=JD[_r];var jD=function(i){return i=i.toLowerCase(),Vo.hasOwnProperty(i)?Vo[i]:null},qD=function(i){return typeof i!="string"||(i.startsWith("#")?i=parseInt(i.substring(1),16):i.startsWith("0x")?i=parseInt(i.substring(2),16):i=jD(i)),i};const _D=Phaser.Utils.String.Pad;var Df=function(i,t){t===void 0&&(t="0x");var s=i.toString(16).toUpperCase();return s=_D(s,6,0,1),s=t+s,s},tb=function(i,t){i&&(i.setTint?i.setTint(t):i.setFillStyle&&i.setFillStyle(t))};const Ie=Phaser.Utils.Objects.GetValue,eb=Phaser.Utils.Objects.IsPlainObject,ib=Phaser.Math.Clamp;let sb=class extends bt{constructor(t,s){s===void 0&&(s={}),s.orientation=0,super(t,s),this.type="rexColorInputLite";var x=Ie(s,"background",void 0),E=Ie(s,"swatch"),A;eb(E)&&(A=Ie(E,"size"));var l=ZD(t,Ie(s,"swatch")),T=Ie(s,"inputText",!0),e;if(T&&(e=ur(t,T)),x&&this.addBackground(x),l){A=Ie(s,"swatchSize",A);var u;A!==void 0?(Re(l,A,A),u=!1):u=Ie(s,"squareExpandSwatch",!0);var m=u?1:0;this.add(l,{proportion:0,expand:!1,fitRatio:m})}if(e){var d=Ie(T,"width")===void 0?1:0,o=Ie(T,"height")===void 0;this.add(e,{proportion:d,expand:o})}this.addChildrenMap("background",x),this.addChildrenMap("swatch",l),this.addChildrenMap("inputText",e),e&&e.on("close",function(){this.setValue(e.value)},this);var h=Ie(s,"valuechangeCallback",null);if(h!==null){var n=Ie(s,"valuechangeCallbackScope",void 0);this.on("valuechange",h,n)}this.setValue(Ie(s,"value",0))}get value(){return this._value}set value(t){if(typeof t=="string"){if(t=qD(t),t==null){var x=this.childrenMap.inputText;x&&x.setText(Df(this._value));return}}else t=ib(Math.floor(t),0,16777215);if(this._value!==t){this._value=t;var s=this.childrenMap.swatch;s&&tb(s,t);var x=this.childrenMap.inputText;x&&x.setText(Df(t)),this.emit("valuechange",this._value)}}setValue(t){return this.value=t,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}};var nb={setCreateColorPickerBackgroundCallback(i){return this.colorPickerCreateBackgroundCallback=i,this},setColorPickerHPalettePosition(i){return this.colorPickerHPalettePosition=i,this},setColorPickerExpandDirection(i){return typeof i=="string"&&(i=rb[i]),this.colorPickerExpandDirection=i,this},setColorPickerEaseInDuration(i){return i===void 0&&(i=0),this.colorPickerEaseInDuration=i,this},setColorPickerEaseOutDuration(i){return i===void 0&&(i=0),this.colorPickerEaseOutDuration=i,this},setColorPickerTransitInCallback(i){return this.colorPickerTransitInCallback=i,this},setColorPickerTransitOutCallback(i){return this.colorPickerTransitOutCallback=i,this},setColorPickerBounds(i){return this.colorPickerBounds=i,this},setColorPickerWidth(i){return this.colorPickerWidth=i,this},setColorPickerHeight(i){return this.colorPickerHeight=i,this},setColorPickerSize(i,t){return this.setColorPickerWidth(i).setColorPickerHeight(t),this},setColorPickerSpace(i){return i===void 0&&(i={}),this.colorPickerSpace=i,this},setColorComponentsHeight(i){return this.colorComponentsHeight=i,this},setColorComponentsFormatLabelConfig(i){return this.colorComponentsFormatLabelConfig=i,this},setColorComponentsInputTextConfig(i){return this.colorComponentsInputTextConfig=i,this},setColorComponentsSpace(i){return i===void 0&&(i={}),this.colorComponentsSpace=i,this}};const rb={down:0,up:1},kp=Phaser.Display.Color,pa=Phaser.Math.Percent;var ab=function(i,t,s){s===void 0&&(s=!1);var x=i.width,E=i.height,A=new kp;if(s)for(var l=0;l<E;l++){var T=pa(l,0,E);A.setFromHSV(T,1,1),t.fillStyle=A.rgba,t.fillRect(0,l,x,1)}else for(var e=0;e<x;e++){var T=pa(e,0,x);A.setFromHSV(T,1,1),t.fillStyle=A.rgba,t.fillRect(e,0,1,E)}},hb=function(i,t,s){for(var x=i.width,E=i.height,A=t.getImageData(0,0,x,E),l=A.data,T=new kp,e=0;e<E;e++)for(var u=0;u<x;u++){var m=pa(u,0,x),d=1-pa(e,0,E);T.setFromHSV(s,m,d);var o=(e*x+u)*4;l[o]=T.red,l[o+1]=T.green,l[o+2]=T.blue,l[o+3]=255}t.putImageData(A,0,0)};const ob=Phaser.Display.Color,bf=Phaser.Math.Percent,lb=Phaser.Display.Color.ColorToRGBA,ub=Phaser.Display.Color.HSVToRGB;class db extends wa{constructor(t,s,x,E,A,l){s===void 0&&(s=0),x===void 0&&(x=0),E===void 0&&(E=2),A===void 0&&(A=2),super(t,s,x,E,A),this.type="rexColorPicker.HPaletteCanvas",this.colorObject=new ob,this.setOrientation(l),this.setSize(E,A)}setOrientation(t){return this.orientation=Ia(t),this}updateTexture(){return ab(this.canvas,this.context,this.orientation),super.updateTexture(),this}get color(){return this.colorObject.color}get hue(){return this._hue}set hue(t){this._hue=t}getHue(t,s){return t===void 0?this.hue:(this.orientation===0?this.hue=bf(t,0,this.width):this.hue=bf(s,0,this.height),this.hue)}getColor(t,s){if(t===void 0)return this.color;var x=this.getHue(t,s);return this.colorObject.setFromRGB(ub(x,1,1)),this.colorObject.color}setColor(t){return this.color===t?this:this}colorToLocalPosition(t,s){return s===void 0?s={}:s===!0&&(uo===void 0&&(uo={}),s=uo),this.colorObject.setFromRGB(lb(t)),this.orientation===0?(s.x=this.width*this.colorObject.h,s.y=this.height/2):(s.x=this.width/2,s.y=this.height*this.colorObject.h),s}}var uo=void 0,fb=Phaser.Math.RotateAround,Hp=function(i,t,s,x){x===void 0?x={}:x===!0&&(fo===void 0&&(fo={}),x=fo),t-=i.width*i.originX,s-=i.height*i.originY;var E={x:t*i.scaleX,y:s*i.scaleY};return fb(E,0,0,-i.rotation),x.x=i.x+t,x.y=i.y+s,x},fo;class vb extends bi{constructor(t,s){s===void 0&&(s={}),super(t,s);var x=s.width!=null?1:0,E=new db(t).setOrientation(x);t.add.existing(E),this.type="rexColorPicker.HPalette",E.setInteractive().on("pointerdown",this.onPaletteCanvasPointerDown,this).on("pointermove",this.onPaletteCanvasPointerDown,this);var A=new un(t,{strokeColor:16777215,strokeWidth:2});t.add.existing(A),this.add(E,{key:"paletteCanvas",expand:!0}).add(A,{key:"marker",expand:!1})}resize(t,s){if(this.width===t&&this.height===s)return this;super.resize(t,s);var x=Math.min(t,s);return this.childrenMap.marker.setSize(x,x),this}onPaletteCanvasPointerDown(t,s,x,E){if(t.isDown){var A=this.childrenMap.paletteCanvas,l=A.getColor(s,x);this.setMarkerPosition(l),this.emit("input",l)}}get color(){return this.childrenMap.paletteCanvas.color}setColor(t){if(this.color===t)return this;var s=this.childrenMap.paletteCanvas;return s.setColor(t),this.setMarkerPosition(t),this}setMarkerPosition(t){var s=this.childrenMap.paletteCanvas,x=this.childrenMap.marker,E=s.colorToLocalPosition(t,!0);return Hp(s,E.x,E.y,x),this.resetChildPositionState(x),this}getHue(t,s){var x=this.childrenMap.paletteCanvas;return x.getHue(t,s)}}const cb=Phaser.Display.Color,Bf=Phaser.Math.Percent,If=Phaser.Display.Color.ColorToRGBA,pb=Phaser.Display.Color.HSVToRGB;class gb extends wa{constructor(t,s,x,E,A,l){s===void 0&&(s=0),x===void 0&&(x=0),E===void 0&&(E=2),A===void 0&&(A=2),super(t,s,x,E,A),this.type="rexColorPicker.SVPaletteCanvas",l===void 0&&(l=1),this.colorObject=new cb,this.setHue(l),this.setSize(E,A)}get color(){return this.colorObject.color}get hue(){return this._hue}set hue(t){this._hue!==t&&(this._hue=t,this.colorObject.h=t,this.dirty=!0)}setHue(t){return this.hue=t,this}updateTexture(){return hb(this.canvas,this.context,this.hue),super.updateTexture(),this}getColor(t,s){if(t===void 0)return this.colorObject.color;var x=Bf(t,0,this.width),E=1-Bf(s,0,this.height);return this.colorObject.setFromRGB(pb(this.hue,x,E)),this.colorObject.color}setColor(t){return this.color===t?this:(this.colorObject.setFromRGB(If(t)),this.setHue(this.colorObject.h),this)}colorToLocalPosition(t,s){return s===void 0?s={}:s===!0&&(vo===void 0&&(vo={}),s=vo),this.colorObject.setFromRGB(If(t)),s.x=this.width*this.colorObject.s,s.y=this.height*(1-this.colorObject.v),s}}var vo=void 0;class mb extends bi{constructor(t,s){super(t,s);var x=new gb(t);t.add.existing(x),this.type="rexColorPicker.SVPalette",x.setInteractive().on("pointerdown",this.onPaletteCanvasPointerDown,this).on("pointermove",this.onPaletteCanvasPointerDown,this);var E=new un(t,{radius:5,strokeColor:16777215,strokeWidth:2});t.add.existing(E),this.add(x,{key:"paletteCanvas",expand:!0}).add(E,{key:"marker",expand:!1})}onPaletteCanvasPointerDown(t,s,x,E){if(t.isDown){var A=this.childrenMap.paletteCanvas,l=A.getColor(s,x);this.setMarkerPosition(l),this.emit("input",l)}}get color(){return this.childrenMap.paletteCanvas.color}setHue(t){var s=this.childrenMap.paletteCanvas;return s.setHue(t),this}setColor(t){if(this.color===t)return this;var s=this.childrenMap.paletteCanvas;return s.setColor(t),this.setMarkerPosition(t),this}setMarkerPosition(t){var s=this.childrenMap.paletteCanvas,x=this.childrenMap.marker,E=s.colorToLocalPosition(t,!0);return Hp(s,E.x,E.y,x),this.resetChildPositionState(x),this}}const Qe=Phaser.Utils.Objects.GetValue;class xb extends bt{constructor(t,s){super(t,s),this.type="rexColorPicker",this.freezePalettes=!1;var x=Qe(s,"hPalette.position",0);typeof x=="string"&&(x=yb[x]);var E=x===0||x===2?1:0;this.setOrientation(E);var A=Qe(s,"background",void 0),l,T;if(this.orientation===0){var l=Qe(s,"hPalette.width",void 0);l===void 0&&(l=Qe(s,"hPalette.size",10))}else T=Qe(s,"hPalette.height",void 0),T===void 0&&(T=Qe(s,"hPalette.size",10));var e=new vb(t,{width:l,height:T});t.add.existing(e);var u=Qe(s,"svPalette.width",void 0),m=Qe(s,"svPalette.height",void 0),d=new mb(t,{width:u,height:m});t.add.existing(d),A&&this.addBackground(A);var o={proportion:0,expand:!0},h,n;this.orientation===0?(h=u===void 0?1:0,n=m===void 0):(h=m===void 0?1:0,n=u===void 0);var r={proportion:h,expand:n};x===0||x===3?this.add(d,r).add(e,o):this.add(e,o).add(d,r),e.on("input",function(){d.setHue(e.getHue()),this.setValue(d.color,!0)},this),d.on("input",function(){this.setValue(d.color,!0)},this),this.addChildrenMap("background",A),this.addChildrenMap("hPalette",e),this.addChildrenMap("svPalette",d);var f=Qe(s,"valuechangeCallback",null);if(f!==null){var a=Qe(s,"valuechangeCallbackScope",void 0);this.on("valuechange",f,a)}this.setValue(Qe(s,"value",16777215))}get value(){return this._value}set value(t){if(this._value!==t){var s=this._value;this._value=t,this.freezePalettes||this.updatePalettes(),this.emit("valuechange",t,s,this)}}setValue(t,s){return this.freezePalettes=!!s,this.value=t,this.freezePalettes=!1,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}updatePalettes(){return this.childrenMap.hPalette.setColor(this.color),this.childrenMap.svPalette.setColor(this.color),this}runLayout(t,s,x){return this.ignoreLayout?this:(super.runLayout(t,s,x),this.childrenMap.hPalette.setMarkerPosition(this.value),this.childrenMap.svPalette.setMarkerPosition(this.value),this)}}var yb={bottom:0,left:1,top:2,right:3};const co=Phaser.Utils.Objects.GetValue;class Tb extends bt{constructor(t,s){s===void 0&&(s={}),s.orientation=1,super(t,s),this.type="rexColorInput.ColorPickerPanel";var x=co(s,"background",void 0),E=new xb(t,{hPalette:s.hPalette||{},svPalette:s.svPalette||{},space:{item:co(s,"space.hPalette",8)}});t.add.existing(E);var A;s.colorComponents&&(A=new KD(t,s.colorComponents),t.add.existing(A)),x&&(this.addBackground(x),new wc(x,{stopAllLevels:!1})),this.add(E,{proportion:1,expand:!0}),A&&this.add(A,{proportion:0,expand:!0}),this.addChildrenMap("background",x),this.addChildrenMap("colorPicker",E),this.addChildrenMap("colorComponents",A),E.on("valuechange",function(l){this.setValue(l)},this),A&&A.on("valuechange",function(l){this.setValue(l)},this),this.setValue(co(s,"value",16777215))}get value(){return this._value}set value(t){if(this._value!==t){this._value=t;var s=this.childrenMap.colorPicker;s.setValue(t);var x=this.childrenMap.colorComponents;x&&x.setValue(t),this.emit("valuechange",t)}}setValue(t){return this.value=t,this}}Phaser.Utils.Objects.GetValue;var Cb=function(t){var t=this.scene,s,x=this.colorPickerCreateBackgroundCallback;x&&(s=x.call(this,t),t.add.existing(s));var E=this.colorPickerWidth;E===void 0&&(E=this.width);var A=this.colorPickerHeight;A===void 0&&(A=E);var l;this.colorComponentsHeight>0?l={height:this.colorComponentsHeight,formatLabel:this.colorComponentsFormatLabelConfig,inputText:this.colorComponentsInputTextConfig,space:this.colorComponentsSpace}:l=!1;var T=new Tb(t,{width:E,height:A,background:s,space:this.colorPickerSpace,hPalette:{position:this.colorPickerHPalettePosition},colorComponents:l,value:this.value});return t.add.existing(T),T},Sb=function(){if(!this.colorPicker){var i=Cb.call(this).layout(),t=new Lp(i,{duration:{in:this.colorPickerEaseInDuration,out:this.colorPickerEaseOutDuration},transitIn:this.colorPickerTransitInCallback,transitOut:this.colorPickerTransitOutCallback,expandDirection:this.colorPickerExpandDirection,alignTargetX:this,alignTargetY:this,bounds:this.colorPickerBounds,touchOutsideClose:!0}).on("open",function(){i.on("valuechange",function(s){this.setValue(s)},this)},this).on("close",function(){this.colorPicker=void 0,this.dropDownBehavior=void 0},this);return this.colorPicker=i,this.dropDownBehavior=t,this.pin(i),this}},$p={openColorPicker:Sb};Object.assign($p,nb);const ne=Phaser.Utils.Objects.GetValue;let Kp=class extends sb{constructor(t,s){s===void 0&&(s={}),super(t,s),this.type="rexColorInput",s.hasOwnProperty("colorPicker")||(s.colorPicker={background:{color:0}});var x=s.colorPicker,E=x!==!1&&x!==null;if(E){this.setColorPickerSize(ne(x,"width",160),ne(x,"height",170));var A,l=ne(x,"background");l?A=function(h){return Ne(h,l)}:A=ne(x,"createBackgroundCallback"),this.setCreateColorPickerBackgroundCallback(A),this.setColorPickerHPalettePosition(ne(x,"hPalettePosition",0)),this.setColorPickerExpandDirection(ne(x,"expandDirection")),this.setColorPickerEaseInDuration(ne(x,"easeIn",200)),this.setColorPickerEaseOutDuration(ne(x,"easeOut",200)),this.setColorPickerTransitInCallback(ne(x,"transitIn")),this.setColorPickerTransitOutCallback(ne(x,"transitOut")),this.setColorPickerBounds(ne(x,"bounds"));var T=ne(x,"space");T===void 0&&(T={left:10,right:10,top:10,bottom:10,item:8}),this.setColorPickerSpace(T)}var e=s.colorComponents,u=e!==!1&&e!==null;if(E&&u){this.setColorComponentsHeight(ne(e,"height",30)),this.setColorComponentsFormatLabelConfig(ne(e,"formatLabel"));var m=ne(e,"inputText");m||(m=ne(s,"inputText")),this.setColorComponentsInputTextConfig(m);var d=ne(e,"space");d===void 0&&(d={item:8}),this.setColorComponentsSpace(d)}var o=this.childrenMap.swatch;o&&E&&this.onClick(o,this.openColorPicker,this)}};Object.assign(Kp.prototype,$p);class Zp extends Ga{constructor(t,s){s=Ml(t,s),super(t,s),this.type="rexTweaker.Title"}setTitle(t){return t=t?We(t):{},t.hasOwnProperty("text")||(t.hasOwnProperty("title")?t.text=t.title:t.text=""),this.resetDisplayContent(t),this}}class Eb extends Zp{constructor(t,s){s===void 0&&(s={}),super(t,s),this.type="rexTweaker.FolderTitle";var x=new pc(t,s.expandedIcon);t.add.existing(x),this.addSpace().add(x,{proportion:0,expand:!1,padding:1,fitRatio:1}),this.addChildrenMap("expandedIcon",x)}setExpandedState(t){t===void 0&&(t=!0);var s=t?"down":"right",x=this.childrenMap.expandedIcon;return x.setDirection(s),this}}var Jp=function(i,t){var s=new rg(i,t);return i.add.existing(s),s},bl=function(i,t,s){return Ne(i,s)};const Pb={setBindingTarget(i){var t=this.childrenMap.child;return t.setBindingTarget(i),this}},Mb={getMaxInputRowTitleWidth(){var i=this.childrenMap.child,t=i.getMaxInputRowTitleWidth();return t+this.getInnerPadding("left")},setInputRowTitleWidth(i){i-=this.getInnerPadding("left");var t=this.childrenMap.child;return t.setInputRowTitleWidth(i),this}};class Qp extends Yp{constructor(t,s){super(t,s),this.type="rexTweaker.Folder"}setTitle(t){var s=this.childrenMap.title;return s.setTitle(t),this}}Object.assign(Qp.prototype,Pb,Mb);const Js=Phaser.Utils.Objects.GetValue;var Rb=function(i,t,s){var x=Js(s,"title")||{},E=new Eb(i,x);i.add.existing(E),E.on("folder.expand",function(){E.setExpandedState(!0)}).on("folder.collapse",function(){E.setExpandedState(!1)});var A={root:Js(s,"root"),styles:Js(s,"tweaker"),space:Js(s,"space")||{}},l=Jp(i,A),T=Js(s,"background"),e=bl(i,t,T),u=new Qp(i,{orientation:1,title:E,child:l,background:e,transition:{duration:Js(s,"transition.duration",200)}});return i.add.existing(u),u};const Gf=Phaser.Utils.Objects.GetValue;var Ab=function(i){var t=this.scene,s=Gf(this.styles,"folder")||{};s.tweaker=this.styles,s.root=this.root;var x=Rb(t,i,s);delete s.tweaker,delete s.root,this.add(x,{expand:!0}),x.setTitle(i);var E=Gf(i,"expanded",!0);E?x.expand(0):x.collapse(0);var A=x.getElement("child");return i.key&&this.root.addChildrenMap(i.key,A),A};const wb={setBindingTarget(i){for(var t=this.childrenMap.pages.children,s=0,x=t.length;s<x;s++)t[s].setBindingTarget(i);return this}},Ob={getMaxInputRowTitleWidth(){for(var i=0,t=this.childrenMap.pages.children,s=0,x=t.length;s<x;s++)i=Math.max(i,t[s].getMaxInputRowTitleWidth());return i+this.getInnerPadding("left")},setInputRowTitleWidth(i){i-=this.getInnerPadding("left");for(var t=this.childrenMap.pages.children,s=0,x=t.length;s<x;s++)t[s].setInputRowTitleWidth(i);return this}};class jp extends Xp{constructor(t,s){super(t,s),this.type="rexTweaker.TabPages"}}Object.assign(jp.prototype,wb,Ob);const ta=Phaser.Utils.Objects.GetValue;var Lb=function(i,t,s){var x=new jp(i,s);i.add.existing(x);for(var E=ta(s,"tab"),A={root:ta(s,"root"),styles:ta(s,"tweaker")},l=ta(t,"pages")||[],T=0,e=l.length;T<e;T++){var u=l[T];x.addPage({key:u.title,tab:Ve(i,E).setActiveState(!1).resetDisplayContent({text:u.title}),page:Jp(i,A)})}return x.on("tab.focus",function(m,d){m.setActiveState(!0)}).on("tab.blur",function(m,d){m.setActiveState(!1)}),x};const Nf=Phaser.Utils.Objects.GetValue;var Fb=function(i){var t=this.scene,s=Nf(this.styles,"tab")||{};s.tweaker=this.styles,s.root=this.root;var x=Lb(t,i,s);delete s.tweaker,delete s.root,this.add(x,{expand:!0});for(var E=Nf(i,"pages")||[],A=[],l=0,T=0,e=E.length;T<e;T++){var u=x.getPage(T),m=E[T].show;m&&(l=T);var d=E[T].key;d&&this.root.addChildrenMap(d,u),A.push(u)}return x.swapPage(l,0),A};const ha="string",qp="number",_p="range",tg="list",Db="buttons",eg="boolean",bb="toggleSwitch",Bb="color";var Ib=function(i,t,s){if(s.view)return s.view;if(s.options)return tg;if(!i)return ha;var x=i[t];switch(typeof x){case"number":return Gb(s,"min","max")?_p:qp;case"string":return ha;case"boolean":return eg;default:return ha}},Gb=function(i,...t){for(var s=0,x=t.length;s<x;s++)if(i[t[s]]===void 0)return!1;return!0};const Nb={setupBinding(){var i=this.childrenMap.inputField;return i.on("valuechange",function(t){!this.bindingTarget||!this.autoUpdateEnable||(this.bindingTarget[this.bindTargetKey]=t)},this),this},setAutoUpdateEnable(i){return i===void 0&&(i=!0),this.autoUpdateEnable=i,this},setBindingTarget(i,t){return this.bindingTarget=i,t!==void 0&&this.setBindingTargetKey(t),this.syncTargetValue(),this},setBindingTargetKey(i){return this.bindTargetKey=i,this},syncTargetValue(){if(!this.bindingTarget||!this.bindTargetKey)return this;var i=this.childrenMap.inputField;return i.syncValue(this.bindingTarget[this.bindTargetKey]),this}},Vb={startMonitorTarget(){return this.isMonitoring?this:(this.isMonitoring=!0,this.scene.events.on("postupdate",this.onMonitorTarget,this),this)},stopMonitorTarget(){return this.isMonitoring?(this.isMonitoring=!1,this.scene.events.off("postupdate",this.onMonitorTarget,this),this):this},onMonitorTarget(){if(this.bindingTarget){var i=this.bindingTarget[this.bindTargetKey],t=this.childrenMap.inputField;t.value!==i&&t.syncValue(i)}}},zb={getMinTitleWidth(){var i=this.childrenMap.title;if(!i)return 0;var t=i.rexSizer.padding,s=this.getChildWidth(this.childrenMap.title)+t.left+t.right;return s+this.getInnerPadding("left")},setMinTitleWidth(i){var t=this.childrenMap.title;if(!t)return this;var s=t.rexSizer.padding;return i-=s.left+s.right,t.minWidth=i,this}},po=Phaser.Utils.Objects.GetValue;class Bl extends bt{constructor(t,s){super(t,s),this.type="rexTweaker.InputRow",this.bindingTarget=void 0,this.bindTargetKey=void 0,this.autoUpdateEnable=!0;var x=s.inputTitle,E=s.inputField,A=s.background,u=po(s,"proportion.title",0),l=po(s,"space.title",0),T;this.orientation===0?T={right:l}:T={bottom:l},this.add(x,{proportion:u,expand:!0,padding:T});var e=s.parentOrientation===1?1:0,u=po(s,"proportion.inputField",e);this.add(E,{proportion:u,expand:!0}),A&&this.addBackground(A),this.addChildrenMap("title",x),this.addChildrenMap("inputField",E),this.addChildrenMap("background",A),this.setupBinding()}destroy(t){!this.scene||this.ignoreDestroy||(this.stopMonitorTarget(),super.destroy(t))}setTitle(t){var s=this.childrenMap.title;return s.setTitle(t),this}preLayout(){var t=this.childrenMap.title;t&&(t.minWidth=0),super.preLayout()}}Object.assign(Bl.prototype,Nb,Vb,zb);var ig=function(i,t,s){var x=new Zp(i,s);return i.add.existing(x),x};class Qi extends bt{get bindingTarget(){return this.getParentSizer().bindingTarget}get bindingKey(){return this.getParentSizer().bindTargetKey}get value(){return this._value}validate(t){return this.syncValueFlag||!this.validateCallback?!0:this.validateCallback(t,this._value,this.bindingTarget,this.bindingKey)}set value(t){if(this._value!==t){var s=this._value;this._value=t,this.syncValueFlag||this.emit("valuechange",t,s,this.bindingTarget,this.bindingKey)}}getValue(){return this.value}setValue(t){return this.value=t,this}syncValue(t){return this.syncValueFlag=!0,this.value=t,this.syncValueFlag=!1,this}get readOnly(){return this._readOnly}set readOnly(t){this._readOnly=t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,!0}setTextFormatCallback(t){return this.textFormatCallback=t,this}setValidateCallback(t){return this.validateCallback=t,this}}class Xb extends Qi{constructor(t,s){s===void 0&&(s={}),super(t),this.type="rexTweaker.TextInput";var x=s.inputText,E=ur(t,x);this.add(E,{proportion:1,expand:!0}),this.addChildrenMap("inputText",E),E.on("close",function(){this.setValue(E.value)},this)}get value(){return this._value}set value(t){if(this._value!==t){this.validate(t)||(t=this._value);var s=this.textFormatCallback?this.textFormatCallback(t):t;this.childrenMap.inputText.setText(s),super.value=t}}setInputTextReadOnly(t){return t===void 0&&(t=!0),this.childrenMap.inputText.setReadOnly(t),this}}var Vf=function(i,t,s){var x=new Xb(i,s);return i.add.existing(x),x.setInputTextReadOnly(!!t.inputTextReadOnly),x};class Yb extends Qi{constructor(t,s){s===void 0&&(s={}),super(t),this.type="rexTweaker.NumberInput";var x=s.inputNumber||s.inputText,E=ur(t,x).setNumberInput();this.add(E,{proportion:1,expand:!0}),this.addChildrenMap("inputText",E),E.on("close",function(){this.setValue(E.value)},this)}get value(){return this._value}set value(t){if(this._value!==t){this.validate(t)||(t=this._value);var s=this.textFormatCallback?this.textFormatCallback(t):t;this.childrenMap.inputText.setText(s),super.value=t}}setInputTextReadOnly(t){return t===void 0&&(t=!0),this.childrenMap.inputText.setReadOnly(t),this}}var Ub=function(i,t,s){var x=new Yb(i,s);return i.add.existing(x),x.setInputTextReadOnly(!!t.inputTextReadOnly),x},Wb=function(i,t){var s=new wl(i,t);return i.add.existing(s),s};const go=Phaser.Utils.Objects.GetValue,kb=Phaser.Math.Linear,Hb=Phaser.Math.Snap.Floor;class $b extends Qi{constructor(t,s){s===void 0&&(s={}),super(t),this.type="rexTweaker.RangeInput";var x=s.slider,E=this.orientation===0?"track.height":"track.width",A=go(x,E),l=Wb(t,x),m=s.parentOrientation===1?2:0,d=go(s,"proportion.range.slider",m),T=A===void 0;this.add(l,{proportion:d,expand:T});var e=s.inputNumber||s.inputText,u=ur(t,e).setNumberInput(),m=s.parentOrientation===1?1:0,d=go(s,"proportion.range.inputText",m);this.add(u,{proportion:d,expand:!0}),this.addChildrenMap("slider",l),this.addChildrenMap("inputText",u),u.on("close",function(){this.setValue(u.value)},this),l.on("valuechange",function(){var o=kb(this.minValue,this.maxValue,l.value);this.step&&(o=Hb(o,this.step,this.minValue)),this.setValue(o)},this)}get value(){return this._value}set value(t){if(this._value!==t){this.validate(t)||(t=this._value);var s=this.textFormatCallback?this.textFormatCallback(t):t;this.childrenMap.inputText.setText("").setText(s),this.childrenMap.slider.setValue(t,this.minValue,this.maxValue),super.value=t}}setRange(t,s,x){return this.minValue=t,this.maxValue=s,this.step=x,this.childrenMap.slider.setGap(x,t,s),this}setInputTextReadOnly(t){return t===void 0&&(t=!0),this.childrenMap.inputText.setReadOnly(t),this}}var Kb=function(i,t,s){var x=new $b(i,s);return i.add.existing(x),x.setRange(t.min,t.max,t.step),x.setInputTextReadOnly(!!t.inputTextReadOnly),x},Zb=function(i,t){t=A6(i,t);var s=new Dp(i,t);return i.add.existing(s),s},sg=function(i,t){for(var s=0,x=i.length;s<x;s++){var E=i[s];if(E.value===t)return s}},Jb=function(i,t){var s=sg(i,t);if(s!=null)return i[s].text};class Qb extends Qi{constructor(t,s){s===void 0&&(s={}),super(t),this.type="rexTweaker.ListInput";var x=Zb(t,s.list);this.add(x,{proportion:1,expand:!0}),this.addChildrenMap("list",x),x.on("button.click",function(E,A,l,T,e,u){this.setValue(l.value)},this)}get value(){return this._value}set value(t){if(this._value!==t){this.validate(t)||(t=this._value);var s=this.childrenMap.list,x=Jb(s.options,t);s.resetDisplayContent({text:x}),super.value=t}}setOptions(t){return this.childrenMap.list.setOptions(t),this}}var jb=function(i,t,s){var x=new Qb(i,s);return i.add.existing(x),x.setOptions(t.options),x},ng=function(i,t){var s=new ce(i,t);return i.add.existing(s),s},qb=function(i,t){for(var s=0,x=i.length;s<x;s++){var E=i[s];E&&E.setActiveState(s===t)}};const _b=Phaser.Utils.Objects.GetValue;class t4 extends Qi{constructor(t,s){s===void 0&&(s={}),super(t),this.type="rexTweaker.ButtonsInput";var x=s.button?We(s.button):{},E=_b(x,"expand",!0);E&&(x.align="center"),delete x.expand;var A=ng(t,{expand:E});A.buttonConfig=x,this.add(A,{proportion:1,expand:!0}),this.addChildrenMap("list",A),A.on("button.click",function(l,T,e,u){var m=A.options[T];m&&(this._selectedIndex=T,this.setValue(m.value),this._selectedIndex=void 0)},this)}get value(){return this._value}set value(t){if(this._value!==t){this.validate(t)||(t=this._value);var s=this.childrenMap.list,x=this._selectedIndex;x===void 0&&(x=sg(s.options,t)),qb(s.childrenMap.buttons,x),super.value=t}}setOptions(t){var s=this.childrenMap.list;s.options=t;var x=this.scene,E=s.buttonConfig;s.clearButtons(!0);for(var A=0,l=t.length;A<l;A++){var T=t[A],e=Ve(x,E).setActiveState(!1).resetDisplayContent({text:T.text});s.addButton(e)}return this}}var e4=function(i,t,s){var x=new t4(i,s);return i.add.existing(x),x.setOptions(t.options),x},i4=function(i,t){var s=new Z2(i,t);return i.add.existing(s),s};const s4=Phaser.Utils.Objects.GetValue;class n4 extends Qi{constructor(t,s){s===void 0&&(s={}),super(t),this.type="rexTweaker.CheckboxInput";var x=s.checkbox,E=i4(t,x),A=s4(x,"size");A!==void 0&&E.setSize(A,A);var l=A!==void 0?0:1;this.add(E,{proportion:0,expand:!1,fitRatio:l}),this.addChildrenMap("checkbox",E),E.on("valuechange",function(T){this.setValue(T)},this)}get value(){return this._value}set value(t){this._value!==t&&(this.validate(t)||(t=this._value),this.childrenMap.checkbox.setValue(t),super.value=t)}}var r4=function(i,t,s){var x=new n4(i,s);return i.add.existing(x),x},a4=function(i,t){var s=new sP(i,t);return i.add.existing(s),s};const h4=Phaser.Utils.Objects.GetValue;class o4 extends Qi{constructor(t,s){s===void 0&&(s={}),super(t),this.type="rexTweaker.ToggleSwitchInput";var x=s.toggleSwitch,E=a4(t,x),A=h4(x,"size");A!==void 0&&E.setSize(A,A);var l=A!==void 0?0:1;this.addSpace().add(E,{proportion:0,expand:!1,fitRatio:l}),this.addChildrenMap("toggleSwitch",E),E.on("valuechange",function(T){this.setValue(T)},this)}get value(){return this._value}set value(t){this._value!==t&&(this.validate(t)||(t=this._value),this.childrenMap.toggleSwitch.setValue(t),super.value=t)}}var l4=function(i,t,s){var x=new o4(i,s);return i.add.existing(x),x},u4=function(i,t,s){s===void 0&&(s=!0),s?t=t?We(t):{}:t||(t={});var x=new Kp(i,t);return i.add.existing(x),x};class d4 extends Qi{constructor(t,s){s===void 0&&(s={}),super(t),this.type="rexTweaker.ColorInput";var x=s.colorInput,E=u4(t,x);this.add(E,{proportion:1,expand:!0}),this.addChildrenMap("colorInput",E),E.on("valuechange",function(A){this.setValue(A)},this)}get value(){return this._value}set value(t){this._value!==t&&(this.validate(t)||(t=this._value),this.childrenMap.colorInput.setValue(t),super.value=t)}}var f4=function(i,t,s){var x=new d4(i,s);return i.add.existing(x),x},v4=function(i,t,s){var x=t.view,E;switch(x){case ha:E=Vf;break;case qp:E=Ub;break;case _p:E=Kb;break;case tg:E=jb;break;case Db:E=e4;break;case eg:E=r4;break;case bb:E=l4;break;case Bb:E=f4;break;default:E=Zi(x)?x:Vf;break}var A=E(i,t,s,A);return A.setTextFormatCallback(t.format),A};const zf=Phaser.Utils.Objects.GetValue;var c4=function(i,t,s){var x=zf(s,"title")||{},E=ig(i,t,x),A=v4(i,t,s),l=zf(s,"background")||{},T=Ne(i,l),e=new Bl(i,{...t,...s,inputTitle:E,inputField:A,background:T});return i.add.existing(e),e.setTitle(t),e};Phaser.Utils.Objects.GetValue;var p4=function(i,t,s){arguments.length===1?(s=i,i=s.bindingTarget,t=s.bindingKey):s===void 0&&(s={}),s.title||(s.title=t),s.view||(s.view=Ib(i,t,s));var x=this.styles.inputRow||{};x.parentOrientation=this.styles.orientation;var E=c4(this.scene,s,x),A=E.childrenMap.inputField,l;return this.orientation===1?l=0:(l=this.itemWidth>0?0:1,E.setMinWidth(this.itemWidth)),this.add(E,{proportion:l,expand:!0}),s.onValueChange&&A.on("valuechange",s.onValueChange),s.onValidate&&A.setValidateCallback(s.onValidate),E.setAutoUpdateEnable(s.autoUpdate),E.setBindingTarget(i,t),s.monitor&&E.startMonitorTarget(),s.key&&this.root.addChildrenMap(s.key,E),this},g4=function(i,t){var s=new un(i,t);return i.add.existing(s),s};const mo=Phaser.Utils.Objects.GetValue;var m4=function(i,t,s){for(var x=mo(s,"title")||{},E=ig(i,t,x),A=t.buttons,l=mo(s,"button")||{},T=[],e=0,u=A.length;e<u;e++){var m=Ve(i,l);T.push(m);var d=A[e];m.resetDisplayContent({text:d.label}),m.callback=d.callback}var o=ng(i,{buttons:T,expand:T.length===1}),h=mo(s,"background")||{},n=g4(i,h),r=new Bl(i,{...s,inputTitle:E,inputField:o,background:n});return i.add.existing(r),r.setTitle(t),o.on("button.click",function(f){f.callback(r.bindingTarget)}),r};const x4=Phaser.Utils.Objects.GetValue;var Xf=function(i){var t=this.scene;i===void 0&&(i={}),i.hasOwnProperty("label")&&(i.buttons=[{label:i.label,callback:i.callback}],delete i.label,delete i.callback);var s=i.bindingTarget;delete i.bindingTarget;var x=x4(this.styles,"inputRow")||{},E=m4(t,i,x);return this.add(E,{expand:!0}),s&&E.setBindingTarget(s),i.key&&this.root.addChildrenMap(i.key,E),this};const y4=Phaser.Utils.Objects.GetValue;var T4=function(i){var t=this.scene,s=y4(this.styles,"separator"),x=bl(t,i,s);return this.add(x,{expand:!0}),this},C4=function(i){for(var t=this.sizerChildren,s=0,x=t.length;s<x;s++){var E=t[s];E.setBindingTarget&&E.setBindingTarget(i)}return this},S4=function(){for(var i=0,t=this.sizerChildren,s=0,x=t.length;s<x;s++){var E=t[s];E.rexSizer.hidden||(E.getMinTitleWidth?i=Math.max(i,E.getMinTitleWidth()):E.getMaxInputRowTitleWidth&&(i=Math.max(i,E.getMaxInputRowTitleWidth())))}return i+this.getInnerPadding("left")},E4=function(i){i-=this.getInnerPadding("left");for(var t=this.sizerChildren,s=0,x=t.length;s<x;s++){var E=t[s];E.rexSizer.hidden||(E.setMinTitleWidth?E.setMinTitleWidth(i):E.setInputRowTitleWidth&&E.setInputRowTitleWidth(i))}return this},P4={addFolder:Ab,addTab:Fb,addInput:p4,addButton:Xf,addButtons:Xf,addSeparator:T4,setBindingTarget:C4,getMaxInputRowTitleWidth:S4,setInputRowTitleWidth:E4};const ea=Phaser.Utils.Objects.GetValue;class rg extends bt{constructor(t,s){if(s===void 0&&(s={}),s.orientation===void 0&&(s.orientation=1),super(t,s),this.type="rexTweakerShell",this.root=s.root||this,this.styles=ea(s,"styles")||{},this.styles.orientation=this.orientation,this.itemWidth=ea(this.styles,"itemWidth",0),this.root===this&&this.orientation===1){var x=ea(s,"inputRow.alignTitle");if(x===void 0){var E=ea(this.styles,"inputRow.proportion.title");x=!E}else x&&Wi(this.styles,"inputRow.proportion.title",0);this.alignInputRowTitle=x}else this.alignInputRowTitle=!1;var A=bl(t,void 0,s.background);A&&this.addBackground(A)}preLayout(){super.preLayout(),this.alignInputRowTitle&&this.setInputRowTitleWidth(this.getMaxInputRowTitleWidth())}}Object.assign(rg.prototype,P4);var M4=function(){return function(i,t,s,x){t!=="panel"&&s.setChildVisible(i,!0)}},R4=function(){return function(i,t,s,x){t!=="panel"&&s.setChildVisible(i,!1)}};const A4={show:M4,hide:R4};var w4=function(i,t){return t===void 0&&(t=1),function(s,x,E,A){x!=="panel"&&E.fadeChild(s,A?0:i,t)}},O4=function(i,t){return t===void 0&&(t=0),function(s,x,E,A){x!=="panel"&&E.fadeChild(s,A?0:i,t)}};const L4={show:w4,hide:O4};var Yf=function(i,t){return function(s,x,E,A){x!=="panel"&&E.moveChild(s,A?0:i,t)}};const F4={show:Yf,hide:Yf};var Uf=function(i,t){return function(s,x,E,A){x==="panel"&&E.moveChild(s,A?0:i,t)}};const D4={show:Uf,hide:Uf},xo={visible:A4,fade:L4,move:F4,"move-panel":D4};var b4=function(i){var t,s;[t,...s]=typeof i=="string"?[i]:i;var x,E;return xo.hasOwnProperty(t)?(x=xo[t].show.apply(null,s),E=xo[t].hide.apply(null,s)):(x=Ge,E=Ge),{show:x,hide:E}};const B4={showChild(i,t){var s=this.sizerChildren[i];return s&&(this.emit("showchild",s,i,this,t),this.resetChildState(s)),this},hideChild(i,t){var s=this.sizerChildren[i];return s&&(this.emit("hidechild",s,i,this,t),this.resetChildState(s)),this},swapChild(i,t){return this.currentChildKey===i||(this.currentChildKey==="panel"||i==="panel"?(this.previousChildKey=this.currentChildKey,this.currentChildKey=i,this.hideChild(this.previousChildKey,t),this.showChild(this.currentChildKey,t)):(this.swapChild("panel",t),this.swapChild(i,t))),this},showPanel(i){return this.swapChild("panel",i),this},showLeftSide(){return this.swapChild("leftSide"),this},showRightSide(){return this.swapChild("rightSide"),this},showTopSide(){return this.swapChild("topSide"),this},showBottomSide(){return this.swapChild("bottomSide"),this},hideLeftSide(){return this.currentChildKey=="leftSide"&&this.showPanel(),this},hideRightSide(){return this.currentChildKey=="rightSide"&&this.showPanel(),this},hideTopSide(){return this.currentChildKey=="topSide"&&this.showPanel(),this},hideBottomSide(){return this.currentChildKey=="bottomSide"&&this.showPanel(),this},toggleLeftSide(){var i=this.currentChildKey!=="panel"?"panel":"leftSide";return this.swapChild(i),this},toggleRightSide(){var i=this.currentChildKey!=="panel"?"panel":"rightSide";return this.swapChild(i),this},toggleTopSide(){var i=this.currentChildKey!=="panel"?"panel":"topSide";return this.swapChild(i),this},toggleBottomSide(){var i=this.currentChildKey!=="panel"?"panel":"bottomSide";return this.swapChild(i),this}},I4=_e.prototype.setChildVisible,G4={setChildVisible(i,t){var s;if(typeof i=="string"){var s=i;i=this.sizerChildren[s]}else s=ba(this.sizerChildren,i);return t===void 0&&(t=this.currentChildKey===s),I4.call(this,i,t),this}},N4={fadeChild(i,t,s){var x;return typeof i=="string"?(x=i,i=this.sizerChildren[x]):x=ba(this.sizerChildren,i),t===void 0&&(t=500),s===void 0&&(s=this.currentChildKey===x?1:0),i.fadeIn(t,{start:i.alpha,end:s}),this},fadeChildPromise(i,t,s){return typeof i=="string"&&(i=this.sizerChildren[key]),this.fadeChild(i,t,s),i._fade?le(i._fade):Promise.resolve()}},V4={moveChild(i,t,s,x){var E;typeof i=="string"?(E=i,i=this.sizerChildren[E]):E=ba(this.sizerChildren,i),t===void 0&&(t=500);var A=this.currentChildKey===E;if(x===void 0)switch(E){case"leftSide":case"rightSide":x=Bt(i);break;case"topSide":case"bottomSide":x=At(i);break;default:if(A)switch(this.previousChildKey){case"leftSide":case"rightSide":x=Bt(this.sizerChildren[this.previousChildKey]);break;case"topSide":case"bottomSide":x=At(this.sizerChildren[this.previousChildKey]);break;default:x=0;break}else switch(this.currentChildKey){case"leftSide":case"rightSide":x=Bt(this.sizerChildren[this.currentChildKey]);break;case"topSide":case"bottomSide":x=At(this.sizerChildren[this.currentChildKey]);break;default:x=0;break}break}var l,T,e,u;if(A)switch(E){case"panel":switch(this.previousChildKey){case"leftSide":l=!0;break;case"rightSide":T=!0;break;case"topSide":e=!0;break;case"bottomSide":u=!0;break}break;case"leftSide":T=!0;break;case"rightSide":l=!0;break;case"topSide":u=!0;break;case"bottomSide":e=!0;break}else switch(E){case"panel":switch(this.currentChildKey){case"leftSide":T=!0;break;case"rightSide":l=!0;break;case"topSide":u=!0;break;case"bottomSide":e=!0;break}break;case"leftSide":l=!0;break;case"rightSide":T=!0;break;case"topSide":e=!0;break;case"bottomSide":u=!0;break}return l?i.moveTo(t,`-=${x}`,void 0,s):T?i.moveTo(t,`+=${x}`,void 0,s):e?i.moveTo(t,void 0,`-=${x}`,s):u?i.moveTo(t,void 0,`+=${x}`,s):i.moveTo(0),this},moveChildPromise(i,t,s,x){return typeof i=="string"&&(i=this.sizerChildren[key]),this.moveChild(i,t,s,x),i._easeMove?le(i._easeMove):Promise.resolve()}};var ag={};Object.assign(ag,G4,N4,V4);const Ce=Phaser.Utils.Objects.GetValue;class z4 extends bi{constructor(t,s){super(t,s),this.type="rexSides",this.childrenMap=this.sizerChildren,this.previousChildKey=void 0,this.currentChildKey=void 0;var x=Ce(s,"showChildCallback",void 0);if(x)if(Zi(x)){var E=Ce(s,"showChildCallbackScope",void 0);this.on("showchild",x,E);var A=Ce(s,"hideChildCallback",void 0),l=Ce(s,"hideChildCallbackScope",void 0);this.on("hidechild",A,l)}else{var T=b4(x);this.on("showchild",T.show),this.on("hidechild",T.hide)}var e=Ce(s,"background",void 0),u=Ce(s,"panel",void 0),m=Ce(s,"leftSide",void 0),d=Ce(s,"rightSide",void 0),o=Ce(s,"topSide",void 0),h=Ce(s,"bottomSide",void 0);if(e&&this.addBackground(e),u&&this.add(u,"panel","center",0,!0),m){var n=Ce(s,"expand.left",!0);this.add(m,"leftSide","left-top",0,{height:n})}if(d){var n=Ce(s,"expand.right",!0);this.add(d,"rightSide","right-top",0,{height:n})}if(o){var n=Ce(s,"expand.top",!0);this.add(o,"topSide","left-top",0,{width:n})}if(h){var n=Ce(s,"expand.bottom",!0);this.add(h,"bottomSide","left-bottom",0,{width:n})}}reset(){return this.previousChildKey=void 0,this.currentChildKey="panel",this.showChild("panel",!0),this.hideChild("leftSide",!0),this.hideChild("rightSide",!0),this.hideChild("topSide",!0),this.hideChild("bottomSide",!0),this}}Object.assign(z4.prototype,B4,ag);Phaser.Utils.Objects.GetValue;Phaser.Math.Distance.Between;Phaser.Math.RotateAroundDistance;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;Phaser.Utils.Objects.GetValue;Phaser.Utils.Objects.GetAdvancedValue;Phaser.Math.Linear;Phaser.Math.RotateAround;Phaser.Geom.Mesh.Vertex;Phaser.Geom.Mesh.Face;Phaser.GameObjects.Mesh;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;Phaser.Math.DegToRad;Phaser.Math.RadToDeg;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;var qs=void 0,X4=function(i){i!==qs&&(qs!==void 0&&qs.close(),qs=i)},Y4=function(i){i===qs&&(qs=void 0)};const Pi=Phaser.Utils.Objects.GetValue,U4=Phaser.Utils.Objects.Clone;var W4=function(i,t){t===void 0&&(t={}),t=U4(t);var s=i.scene,x=i.style,E=Pi(t,"backgroundColor",x.backgroundColor);E===null&&(E="transparent"),t.text=Pi(t,"text",i.text),t.fontFamily=Pi(t,"fontFamily",x.fontFamily),t.fontSize=Pi(t,"fontSize",x.fontSize),t.color=Pi(t,"color",x.color),t.backgroundColor=E,t.direction=Pi(t,"rtl",x.rtl)?"rtl":"ltr",t.align=Pi(t,"align",k4(x)),t.direction==="rtl"&&Pl(i)&&(t.align="right");var A=new Hc(s,i.x,i.y,Pi(t,"width",i.width),Pi(t,"height",i.height),t);A.setOrigin(i.originX,i.originY).setScrollFactor(i.scrollFactorX,i.scrollFactorY);var l=i.parentContainer;return l?l.add(A):s.add.existing(A),A},k4=function(i){return i.hasOwnProperty("align")?i.align:i.hasOwnProperty("halign")?i.halign:"left"},H4=function(i,t,s){return i.time.delayedCall(0,t,[],s)};const Qs=Phaser.Utils.Objects.GetValue,$4=Phaser.Utils.Objects.Merge;var K4=function(i,t){i===void 0&&(i={}),i=$4(i,this.openConfig),X4(this),Zi(i)&&(t=i,i=void 0);var s=Qs(i,"inputType",void 0);s===void 0&&(s=Qs(i,"type","text")),t===void 0&&(t=Qs(i,"onClose",void 0));var x=Qs(i,"onOpen",void 0),E=Qs(i,"onTextChanged",void 0);return this.inputText=W4(this.parent,i).on("textchange",function(A){var l=A.text;E?E(this.parent,l):this.parent.text=l},this).setFocus(),this.parent.setVisible(!1),this.onClose=t,Qs(i,"enterClose",s!=="textarea")&&this.scene.input.keyboard.once("keydown-ENTER",this.close,this),this.delayCall=H4(this.scene,function(){this.scene.input.once("pointerdown",this.close,this),x&&x(this.parent),this.emit("open",this.parent)},this),this},Z4=function(){return Y4(this),this.parent.setVisible(!0),this.inputText&&(this.inputText.destroy(),this.inputText=void 0),this.delayCall&&(this.delayCall.remove(),this.delayCall=void 0),this.scene.input.keyboard.off("keydown-ENTER",this.close,this),this.scene.input.off("pointerdown",this.close,this),this.onClose&&this.onClose(this.parent),this.emit("close",this.parent),this},J4={open:K4,close:Z4};const Q4=Phaser.Utils.Objects.GetValue;class j4 extends ie{constructor(t,s){super(t),this.inputText=void 0,this.onClose=void 0,this.delayCall=void 0,this.setOpenConfig(s);var x=Q4(s,"clickEnable",!0);x&&t.on("pointerdown",function(){this.open()},this).setInteractive()}shutdown(t){this.isShutdown||(this.close(),super.shutdown(t))}setOpenConfig(t){return t===void 0&&(t={}),this.openConfig=t,this}get isOpened(){return this.inputText!==void 0}get text(){return this.isOpened?this.inputText.text:this.parent.text}}Object.assign(j4.prototype,J4);Phaser.Utils.Objects.GetValue;const ia={White:16777215,DarkGray:5921370,Gray:8421504,ChromeGray:5460819,ChromeLightGray:7697781,LightGray:12105912,LighterGray:14737632,Black:0,Green:372018,Red:16711680,DebugBlue:1255396,DebugGreen:2678297,DebugPink:14697178};class q4 extends Phaser.Scene{constructor(){super({key:"HUD"});Lt(this,"sceneHead");Lt(this,"scoreboard");Lt(this,"flashAnimation");Lt(this,"pauseScore",!1)}init(s){this.sceneHead=s.sceneHead,this.sceneHead.sceneMain.HUD=this,this.setDefaultData()}setDefaultData(){this.pauseScore=!1}create(){this.scoreboard={score:new Phaser.GameObjects.Text(this,0,0,"",{fontFamily:'"Press Start 2P"',fontSize:"24px",color:oe.hex.toString(ia.ChromeGray),rtl:!0}).setOrigin(1,0).addToDisplayList().setVisible(!1),highScore:{text:new Phaser.GameObjects.Text(this,0,0,"HI",{fontFamily:'"Press Start 2P"',fontSize:"24px",color:oe.hex.toString(ia.ChromeLightGray),rtl:!0}).setOrigin(1,0).addToDisplayList().setVisible(!1),score:new Phaser.GameObjects.Text(this,0,0,"",{fontFamily:'"Press Start 2P"',fontSize:"24px",color:oe.hex.toString(ia.ChromeLightGray),rtl:!0}).setOrigin(1,0).addToDisplayList().setVisible(!1)},sizer:new bt(this,{x:this.scale.gameSize.width-this.scale.gameSize.width/50,y:0,orientation:"horizontal",space:{item:15}})},this.scoreboard.sizer.add(this.scoreboard.highScore.text).add(this.scoreboard.highScore.score).add(this.scoreboard.score,{padding:10}).setOrigin(1,0).layout(),this.sceneHead.sceneMain.events.once("initGameLoop",this.start,this),this.sceneHead.sceneMain.events.once("gameOver",this.gameOver,this),this.events.once("shutdown",this.shutdown,this)}start(){this.scoreboard.score.setVisible(!0),this.scoreboard.sizer.layout(),fi.get("score.highScore.value")&&(this.setHighScore(fi.get("score.highScore.value")),this.scoreboard.highScore.score.setVisible(!0),this.scoreboard.highScore.text.setVisible(!0),this.scoreboard.sizer.layout())}gameOver(){var s;(s=this.flashAnimation)!=null&&s.isActive&&(this.flashAnimation.stop(),this.setScore(this.sceneHead.sceneMain.score)),fi.get("score.highScore.value")?fi.get("score.highScore.value")<this.sceneHead.sceneMain.score&&fi.set("score.highScore.value",this.sceneHead.sceneMain.score):fi.set("score.highScore.value",this.sceneHead.sceneMain.score),new Phaser.GameObjects.Text(this,this.scale.gameSize.width/2,this.scale.gameSize.height/3,"G A M E  O V E R",{fontFamily:'"Press Start 2P"',fontSize:"40px",color:oe.hex.toString(ia.ChromeGray)}).setOrigin(.5,.5).addToDisplayList(),new Es(this.add.image(this.scale.gameSize.width/2,this.scale.gameSize.height/2,"restart").setOrigin(.5,.5),{enable:!0,mode:1}).on("click",()=>this.sceneHead.restart()),this.input.keyboard.once("keydown-SPACE",()=>this.sceneHead.restart(),this)}levelUp(s){this.sceneHead.play.sound("reach"),this.setScore(s),this.pauseScore=!0,this.flashAnimation=this.add.tween({targets:this.scoreboard.score,loop:6,loopDelay:250,onLoop:()=>{this.scoreboard.score.visible?this.scoreboard.score.setVisible(!1):this.scoreboard.score.setVisible(!0)},onComplete:()=>{this.pauseScore=!1},onStop:()=>{this.pauseScore=!1,this.scoreboard.score.setVisible(!0)},callbackScope:this})}setScore(s){this.pauseScore||(this.scoreboard.score.setText(String(s).padStart(5,"0")),this.scoreboard.sizer.layout())}setHighScore(s){this.scoreboard.highScore.score.setText(String(s).padStart(5,"0")),this.scoreboard.sizer.layout()}shutdown(){var s;(s=this.input.keyboard)==null||s.off("keydown-SPACE")}}class _4 extends Phaser.Scene{constructor(){super({key:"Debug"});Lt(this,"sceneHead");Lt(this,"debugText")}init(s){this.sceneHead=s.sceneHead}preload(){}create(){this.debugText=this.add.text(0,0,"",{color:"000",fontSize:"24px",fontFamily:'"Press Start 2P"'}).setScrollFactor(0),this.enableDebug(),this.events.once("shutdown",this.shutdown,this)}enableDebug(){this.sceneHead.sceneMain.physics.world.drawDebug=!0}update(){let s=this.sceneHead.sceneMain.input.activePointer;this.debugText.setText(["FPS: "+this.game.loop.actualFps.toFixed(2),"Mouse Pos: ("+s.worldX.toFixed(2)+", "+s.worldY.toFixed(2)+")","Level: "+this.sceneHead.sceneMain.level])}shutdown(){this.debugText.destroy()}}const hg=[pg,xg,yg,Vg,q4,_4];let ga=Math.min(window.innerWidth,window.innerHeight)<640,sn;const t9=()=>{Math.min(window.innerWidth,window.innerHeight)>640?og():lg()},og=()=>{console.log("normal game"),ga=!1,sn&&sn.destroy(!0),setTimeout(()=>{let i=Oi;i.scale.mode=ze.Scale.FIT,sn=new ze.Game(Object.assign(Oi,{scene:hg}))},1)},lg=()=>{console.log("mobile game"),ga=!0,sn&&sn.destroy(!0),setTimeout(()=>{let i=Oi;i.scale.mode=ze.Scale.RESIZE,sn=new ze.Game(Object.assign(Oi,{scene:hg}))},1)};window.addEventListener("resize",()=>{Math.min(window.innerWidth,window.innerHeight)>640?ga&&og():ga||lg()});t9();console.log("%c"+Oi.title+" ["+Oi.version+"]","background-color:white; color:black; font-size:16px; font-weight: bold;");
